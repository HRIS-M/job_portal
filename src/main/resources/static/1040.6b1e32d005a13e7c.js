"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[1040],{1040:(de,k,r)=>{r.r(k),r.d(k,{ProDashboardModule:()=>pe});var d=r(177),u=r(3331),x=r(8215),I=r(467),l=r(9417),t=r(4438),P=r(3878),A=r(17),v=r(7296),E=r(2617),g=r(1294),D=r(9183),M=r(7319),$=r(7586),f=r(487),O=r(1574);function G(n,a){if(1&n&&(t.j41(0,"div")(1,"div",1),t.nrm(2,"canvas",2),t.k0s()()),2&n){const e=t.XpG();t.R7$(2),t.Y8G("data",e.lineChartData)("type",e.lineChartType)("options",e.lineChartOptions)}}function T(n,a){1&n&&(t.j41(0,"p"),t.EFF(1,"No viewers data available for the chart."),t.k0s())}let w=(()=>{class n{constructor(e){this.themeService=e,this.jobData=[],this.lineChartOptions={responsive:!0,scales:{x:{},y:{beginAtZero:!0}},plugins:{legend:{position:"top"}}},this.lineChartType="line",this.lineChartData={labels:[],datasets:[]}}ngOnInit(){this.populateChartData(),this.applyTheme()}populateChartData(){if(!this.jobData||0===this.jobData.length)return;const e={};this.jobData.forEach(s=>{s.applicants.forEach(c=>{const p=c.date?$(c.date).format("MM-DD"):"Unknown";e[p]?e[p]++:e[p]=1})});const i=Object.keys(e).sort(),o=i.map(s=>e[s]);this.lineChartData.labels=i,this.lineChartData.datasets=[{label:"Job Applicants Over Time",data:o,borderColor:"#3e95cd",fill:!1}]}applyTheme(){const e=this.themeService.isDarkMode()?"#fff":"#222",i=this.themeService.isDarkMode()?"#444444":"#e0e0e0",o=this.themeService.isDarkMode()?"#333333":"#ffffff",s=this.themeService.isDarkMode()?"#fff":"#222";this.lineChartOptions={responsive:!0,plugins:{legend:{position:"top",labels:{color:e}},tooltip:{backgroundColor:o,titleColor:s,bodyColor:s}},scales:{x:{ticks:{color:e},grid:{color:i}},y:{ticks:{color:e},grid:{color:i}}}}}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(f.F))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-applicants-over-time-line-chart"]],inputs:{jobData:"jobData"},decls:2,vars:2,consts:[[4,"ngIf"],[2,"display","block"],["baseChart","",3,"data","type","options"]],template:function(i,o){1&i&&t.DNE(0,G,3,3,"div",0)(1,T,2,0,"p",0),2&i&&(t.Y8G("ngIf",o.jobData&&o.jobData.length>0),t.R7$(),t.Y8G("ngIf",0===(null==o.jobData?null:o.jobData.length)))},dependencies:[O.j9,d.bT]})}}return n})();var b=r(4783),_=r(1505),j=r(9531),C=r(6107),R=r(2643);function J(n,a){1&n&&(t.j41(0,"h2",51),t.EFF(1,"Post your First Job ad! You are"),t.j41(2,"span"),t.EFF(3," 2 steps "),t.k0s(),t.EFF(4,"away!"),t.k0s())}function Y(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",52)(1,"div",53)(2,"i",54),t.EFF(3,"check"),t.k0s(),t.j41(4,"div",55),t.EFF(5,"Account Creation"),t.k0s()(),t.nrm(6,"div",56),t.j41(7,"div",57)(8,"i",54),t.EFF(9,"check"),t.k0s(),t.j41(10,"div",55),t.EFF(11,"Company Details"),t.k0s(),t.j41(12,"button",58),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.open_form())}),t.EFF(13,"Quick Add"),t.k0s()(),t.nrm(14,"div",56),t.j41(15,"div",59)(16,"i",54),t.EFF(17),t.k0s(),t.j41(18,"div",55),t.EFF(19,"Post Your Job"),t.k0s(),t.j41(20,"button",60),t.EFF(21,"Post Job"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("ngClass","active"),t.R7$(6),t.Y8G("ngClass",e.cname&&e.cemail&&e.cphone&&e.chq?"active":""),t.R7$(8),t.Y8G("ngClass",e.formLocked?"":"active"),t.R7$(2),t.JRh(e.formLocked?"lock_outline":"lock_open"),t.R7$(3),t.Y8G("disabled",e.formLocked)}}function S(n,a){if(1&n&&(t.j41(0,"div",33)(1,"div",14)(2,"div",17),t.EFF(3,"Job Viewers Over Time"),t.k0s(),t.nrm(4,"app-job-viewers-over-time-line-chart",65),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function X(n,a){if(1&n&&(t.j41(0,"div",33)(1,"div",14)(2,"div",17),t.EFF(3,"Job Applicants Over Time"),t.k0s(),t.nrm(4,"app-applicants-over-time-line-chart",65),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function V(n,a){if(1&n&&(t.j41(0,"div",61)(1,"div",62)(2,"div",14)(3,"div",63)(4,"i",54),t.EFF(5,"remove_red_eye"),t.k0s()(),t.j41(6,"p",31),t.EFF(7,"Number of Views"),t.k0s(),t.j41(8,"div",17),t.EFF(9),t.k0s()()(),t.j41(10,"div",62)(11,"div",14)(12,"div",63)(13,"i",54),t.EFF(14,"people_alt"),t.k0s()(),t.j41(15,"p",31),t.EFF(16,"Number of Applicants"),t.k0s(),t.j41(17,"div",17),t.EFF(18),t.k0s()()(),t.j41(19,"div",62)(20,"div",14)(21,"div",63)(22,"i",54),t.EFF(23,"check_circle_outline"),t.k0s()(),t.j41(24,"p",31),t.EFF(25,"Conversion Rate"),t.k0s(),t.j41(26,"div",17),t.EFF(27),t.k0s()()(),t.DNE(28,S,5,1,"div",64)(29,X,5,1,"div",64),t.k0s()),2&n){const e=t.XpG();t.R7$(9),t.JRh((null==e.jobApplicants[0]||null==e.jobApplicants[0].viewers?null:e.jobApplicants[0].viewers.length)||0),t.R7$(9),t.JRh((null==e.jobApplicants[0]||null==e.jobApplicants[0].applicants?null:e.jobApplicants[0].applicants.length)||0),t.R7$(9),t.SpI("",e.conversionRate(null==e.jobApplicants[0]||null==e.jobApplicants[0].viewers?null:e.jobApplicants[0].viewers.length,null==e.jobApplicants[0]||null==e.jobApplicants[0].applicants?null:e.jobApplicants[0].applicants.length),"%"),t.R7$(),t.Y8G("ngIf",e.jobApplicants&&e.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",e.jobApplicants&&e.jobApplicants.length>0)}}function N(n,a){if(1&n&&(t.j41(0,"div",1)(1,"div",66)(2,"div",14)(3,"div",67),t.EFF(4),t.k0s(),t.j41(5,"div",68)(6,"div")(7,"p",18),t.EFF(8),t.nI1(9,"timeAgo"),t.k0s(),t.j41(10,"p",18),t.EFF(11),t.nI1(12,"date"),t.k0s()(),t.j41(13,"div")(14,"p",18),t.EFF(15),t.k0s(),t.j41(16,"p",18),t.EFF(17),t.k0s()()()()()()),2&n){const e=a.$implicit,i=t.XpG();t.R7$(3),t.Mz_("routerLink","/job-details/",e.id,""),t.R7$(),t.JRh(e.title),t.R7$(4),t.SpI("Posted: ",t.bMT(9,7,e.datePosted),""),t.R7$(3),t.SpI("Expired: ",t.bMT(12,9,e.expiryDate),""),t.R7$(4),t.SpI("",i.getViews(e.id)," Views"),t.R7$(2),t.SpI("",i.getApplicants(e.id)," Applicants")}}function L(n,a){1&n&&(t.j41(0,"p"),t.EFF(1,"Currently you do not have any shared ads"),t.k0s())}function B(n,a){1&n&&(t.j41(0,"div"),t.nrm(1,"app-failed-to-load-data"),t.k0s())}function U(n,a){1&n&&(t.j41(0,"div"),t.nrm(1,"app-result-not-found"),t.k0s())}function z(n,a){1&n&&(t.j41(0,"div"),t.nrm(1,"app-network-error"),t.k0s())}function H(n,a){1&n&&(t.j41(0,"div"),t.nrm(1,"app-forbidden"),t.k0s())}let Q=(()=>{class n{constructor(e,i,o,s,c){this.employeeService=e,this.companyService=i,this.jobApplyService=o,this.alertService=s,this.cookieService=c,this.progressValue=50,this.progressMode="determinate",this.personalProgressValue=8,this.personalProgressMode="determinate",this.applicants=[],this.views=[],this.applicantsMap={},this.viewsMap={},this.jobPosts=[],this.loading=!1,this.serverError=!1,this.notFound=!1,this.forbidden=!1,this.corsError=!1,this.unexpectedError=!1,this.cname="",this.cemail="",this.cphone="",this.chq="",this.formLocked=!0,this.jobApplicants=[],this.profileCompletionForm=new l.gE({cname:new l.MJ("",[l.k0.required]),cemail:new l.MJ("",[l.k0.required,l.k0.email]),cphone:new l.MJ("",[l.k0.required]),chq:new l.MJ("",[l.k0.required]),uname:new l.MJ("",[l.k0.required]),udesignation:new l.MJ("",[l.k0.required])})}ngOnInit(){var e=this;return(0,I.A)(function*(){e.employeeId=e.cookieService.userID(),e.companyId=e.cookieService.organization(),e.getEmployee(e.employeeId),e.getCompany(e.companyId)})()}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(i=>{i.setAttribute("translate","no")}),this.fetchApplicants(),this.fetchJobPostData()}getEmployee(e){this.loading=!0,this.employeeService.fetchFullEmployee(e).subscribe(i=>{this.employee=i,this.calculateProfileProgress(this.employee?.employee,"employer")},i=>{404===i.status?this.notFound=!0:500===i.status?this.serverError=!0:0===i.status?this.corsError=!0:403===i.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}getCompany(e){this.loading=!0,this.companyService.fetchFullCompany(e).subscribe(i=>{this.company=i,this.jobPosts=i?.postedJobs[0]?.postedJobs,this.calculateProfileProgress(i?.company,"company"),this.cname=this.company?.company?.name,this.cemail=this.company?.company?.contactEmail,this.cphone=this.company?.company?.contactNumber,this.chq=this.company?.company?.location,this.cname&&this.cemail&&this.cphone&&this.chq&&(this.formLocked=!1),this.loading=!1},i=>{if(404===i.status)return this.notFound=!0,void location.reload();500===i.status?this.serverError=!0:0===i.status?this.corsError=!0:403===i.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}calculateProfileProgress(e,i){if(this.loading=!1,!e||!e.profileCompleted)return this.progressValue=0,void(this.personalProgressValue=0);const o=e.profileCompleted;if("object"!=typeof o||null===o)return this.progressValue=0,void(this.personalProgressValue=0);const s=Object.values(o),c=s.length,p=s.filter(F=>!0===F).length;"employer"===i?this.personalProgressValue=Math.round(p/c*100):"company"===i&&(this.progressValue=Math.round(p/c*100))}fetchJobPostData(){this.jobApplyService.fetchJobApply().subscribe(e=>{e?.forEach(i=>{this.applicantsMap[i.jobId]=i.applicants?.length||0,this.viewsMap[i.jobId]=i.viewers?.length||0})},e=>{console.log(e)})}getApplicants(e){return this.applicantsMap[e]||0}getViews(e){return this.viewsMap[e]||0}open_form(){setTimeout(()=>{document.getElementById("quick_details_model_open")?.click()},100)}completeActivation(){this.profileCompletionForm.valid?this.companyService.updateCompany({id:this.companyId,...this.company.company,name:this.profileCompletionForm.get("cname")?.value,contactEmail:this.profileCompletionForm.get("cemail")?.value,contactNumber:this.profileCompletionForm.get("cphone")?.value,location:this.profileCompletionForm.get("chq")?.value}).subscribe(e=>{this.employeeService.updateEmployee({id:this.employeeId,...this.employee.employee,username:this.profileCompletionForm.get("uname")?.value,occupation:this.profileCompletionForm.get("udesignation")?.value}).subscribe(i=>{document.getElementById("quick_details_model_close")?.click(),this.formLocked=!1,this.alertService.successMessage("Profile updated successfully! REFRESH to see changes","Success")},i=>{this.alertService.errorMessage("Company details updated but personal details could not be updated","Error")})},e=>{this.alertService.errorMessage("Something went wrong","Error")}):this.profileCompletionForm.markAllAsTouched()}fetchApplicants(){this.loading=!0,this.jobApplyService.fetchJobApplyByCompanyId(this.companyId).subscribe(e=>{this.jobApplicants=e?.map(i=>({...i,showAllApplicants:!1})),this.loading=!1},e=>{404===e.status?this.notFound=!0:500===e.status?this.serverError=!0:0===e.status?this.corsError=!0:403===e.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}conversionRate(e=0,i=0){return parseFloat(String((i/e*100).toFixed(2)))}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(P.O),t.rXU(A.B),t.rXU(v.B),t.rXU(E.n),t.rXU(g.u))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-pro-main-db"]],decls:109,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-8"],[1,"h2-1","mt-5"],[1,"h2-2"],["class","h2-3",4,"ngIf"],["class","d-flex align-items-center justify-content-center w-100 my-5 c-j-progress",4,"ngIf"],["class","row w-100",4,"ngIf"],[1,"notification-area"],[1,"not-title-1"],[1,"not-title-2"],[1,"col-12","col-md-4"],[1,"w-100","d-flex","align-items-center","justify-content-end"],[1,"col","col-lg-10"],[1,"card-1"],[1,"d-flex","align-items-center","justify-content-around","justify-content-md-between"],[1,"progress-spinner",3,"mode","value"],[1,"title-1"],[1,"m-0"],[1,"col","col-lg-12"],["class","row",4,"ngFor","ngForOf"],[4,"ngIf"],["type","button","id","quick_details_model_open","data-bs-toggle","modal","data-bs-target","#quick_details",1,"d-none"],["id","quick_details","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","quick_detailsLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","quick_detailsLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"d-flex","flex-column","gap-2"],[1,"mb-0"],[1,"w-100",3,"formGroup"],[1,"col-12","col-md-6"],[1,"form-group"],["for","cname"],["type","text","id","cname","formControlName","cname",1,"form-control"],["for","cemail"],["type","email","id","cemail","formControlName","cemail",1,"form-control"],["for","cphone"],["type","text","id","cphone","formControlName","cphone",1,"form-control"],["for","chq"],["type","text","id","chq","formControlName","chq",1,"form-control"],[1,"mt-2"],["for","uname"],["type","text","id","uname","formControlName","uname",1,"form-control"],["for","udesignation"],["type","text","id","udesignation","formControlName","udesignation",1,"form-control"],[1,"modal-footer"],["type","button","id","quick_details_model_close","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn-1",3,"click","disabled"],[1,"h2-3"],[1,"d-flex","align-items-center","justify-content-center","w-100","my-5","c-j-progress"],["title","Account Creation",1,"check-ball",3,"ngClass"],[1,"material-icons"],[1,"tag"],[1,"check-line"],["title","Company Details",1,"check-ball",3,"ngClass"],[1,"btn-1",3,"click"],["title","Post Your Job",1,"check-ball","ready",3,"ngClass"],["routerLink","/pro/post-job",1,"btn-1",3,"disabled"],[1,"row","w-100"],[1,"col-6","col-md-4"],[1,"icon-lg"],["class","col-12 col-md-6",4,"ngIf"],[3,"jobData"],[1,"col-12"],[1,"title-2",3,"routerLink"],[1,"d-flex","align-items-center","justify-content-between"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t.EFF(4,"Hi,"),t.k0s(),t.j41(5,"h2",4),t.EFF(6),t.k0s(),t.DNE(7,J,5,0,"h2",5)(8,Y,22,5,"div",6)(9,V,30,5,"div",7),t.j41(10,"div",8)(11,"div")(12,"p",9),t.EFF(13,"See what's new!"),t.k0s(),t.j41(14,"p"),t.EFF(15,"Currently you do not have any new notifications"),t.k0s()(),t.j41(16,"div")(17,"p",10),t.EFF(18,"Older notifications"),t.k0s(),t.j41(19,"p"),t.EFF(20,"Currently you do not have any new notifications"),t.k0s()()()(),t.j41(21,"div",11)(22,"div",12)(23,"div",13)(24,"div",14)(25,"div",15)(26,"div"),t.nrm(27,"mat-progress-spinner",16),t.k0s(),t.j41(28,"div")(29,"div",17),t.EFF(30,"Business Profile Completion"),t.k0s(),t.j41(31,"p",18),t.EFF(32),t.k0s()()()(),t.j41(33,"div",14)(34,"div",15)(35,"div"),t.nrm(36,"mat-progress-spinner",16),t.k0s(),t.j41(37,"div")(38,"div",17),t.EFF(39,"Personal Profile Completion"),t.k0s(),t.j41(40,"p",18),t.EFF(41),t.k0s()()()()()(),t.j41(42,"div",12)(43,"div",19)(44,"div",14)(45,"div",17),t.EFF(46,"Latest Ads Posted"),t.k0s(),t.DNE(47,N,18,11,"div",20)(48,L,2,0,"p",21),t.k0s()()()()()(),t.DNE(49,B,2,0,"div",21)(50,U,2,0,"div",21)(51,z,2,0,"div",21)(52,H,2,0,"div",21),t.nrm(53,"button",22),t.j41(54,"div",23)(55,"div",24)(56,"div",25)(57,"div",26)(58,"h1",27),t.EFF(59,"Quick Profile Unlocking"),t.k0s(),t.nrm(60,"button",28),t.k0s(),t.j41(61,"div",29)(62,"div",30)(63,"p",31),t.EFF(64,"These fields are required to unlock your profile!"),t.k0s(),t.j41(65,"form",32)(66,"h6"),t.EFF(67,"Required Company Details:"),t.k0s(),t.j41(68,"div",1)(69,"div",33)(70,"div",34)(71,"label",35),t.EFF(72,"Company Name *"),t.k0s(),t.nrm(73,"input",36),t.k0s()(),t.j41(74,"div",33)(75,"div",34)(76,"label",37),t.EFF(77,"Company Email *"),t.k0s(),t.nrm(78,"input",38),t.k0s()(),t.j41(79,"div",33)(80,"div",34)(81,"label",39),t.EFF(82,"Company Phone *"),t.k0s(),t.nrm(83,"input",40),t.k0s()(),t.j41(84,"div",33)(85,"div",34)(86,"label",41),t.EFF(87,"Company HQ *"),t.k0s(),t.nrm(88,"input",42),t.k0s()()(),t.j41(89,"h6",43),t.EFF(90,"Required Employer Details:"),t.k0s(),t.j41(91,"div",1)(92,"div",33)(93,"div",34)(94,"label",44),t.EFF(95,"Your Name *"),t.k0s(),t.nrm(96,"input",45),t.k0s()(),t.j41(97,"div",33)(98,"div",34)(99,"label",46),t.EFF(100,"Your Designation *"),t.k0s(),t.nrm(101,"input",47),t.k0s()()()(),t.j41(102,"p",31),t.EFF(103,"These are the minimum details required to unlock your profile. Don't forget to complete your profile through the business settings Page!"),t.k0s()()(),t.j41(104,"div",48)(105,"button",49),t.EFF(106,"Cancel "),t.k0s(),t.j41(107,"button",50),t.bIt("click",function(){return o.completeActivation()}),t.EFF(108),t.k0s()()()()()),2&i&&(t.R7$(6),t.SpI("",null!=o.employee&&null!=o.employee.employee&&o.employee.employee.firstname?null==o.employee||null==o.employee.employee?null:o.employee.employee.firstname:"User",","),t.R7$(),t.Y8G("ngIf",o.formLocked),t.R7$(),t.Y8G("ngIf",o.formLocked),t.R7$(),t.Y8G("ngIf",!o.formLocked),t.R7$(18),t.Y8G("mode",o.progressMode)("value",o.progressValue),t.R7$(5),t.SpI("",o.progressValue,"%"),t.R7$(4),t.Y8G("mode",o.personalProgressMode)("value",o.personalProgressValue),t.R7$(5),t.SpI("",o.personalProgressValue,"%"),t.R7$(6),t.Y8G("ngForOf",o.jobPosts),t.R7$(),t.Y8G("ngIf",0==(null==o.jobPosts?null:o.jobPosts.length)),t.R7$(),t.Y8G("ngIf",!o.loading&&o.serverError),t.R7$(),t.Y8G("ngIf",o.notFound&&0==o.company.length),t.R7$(),t.Y8G("ngIf",o.corsError),t.R7$(),t.Y8G("ngIf",o.forbidden&&0==o.company.length||o.unexpectedError),t.R7$(13),t.Y8G("formGroup",o.profileCompletionForm),t.R7$(42),t.Y8G("disabled",o.loading),t.R7$(),t.JRh(o.loading?"Saving...":"Save"))},dependencies:[d.YU,d.Sq,d.bT,u.Wk,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,D.LG,M.D,w,b.y,_.u,j.y,C.B,d.vh,R.n],styles:[".h2-1[_ngcontent-%COMP%]{color:var(--color-text-300)}.h2-2[_ngcontent-%COMP%]{color:var(--color-text-100);font-weight:700}.h2-3[_ngcontent-%COMP%]{font-size:22px;color:var(--color-text-300)}.h2-3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:tomato}.notification-area[_ngcontent-%COMP%]{padding:max(20px,3vw) 0}.notification-area[_ngcontent-%COMP%]   .not-title-1[_ngcontent-%COMP%], .notification-area[_ngcontent-%COMP%]   .not-title-2[_ngcontent-%COMP%]{font-weight:450;margin-bottom:10px;font-size:18px}.notification-area[_ngcontent-%COMP%]   .not-title-1[_ngcontent-%COMP%]{color:var(--color-primary-100)}.notification-area[_ngcontent-%COMP%]   .not-title-2[_ngcontent-%COMP%]{margin-top:20px;color:var(--color-text-100)}.card-1[_ngcontent-%COMP%]{margin:10px 0;padding:20px}.card-1[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{width:70px!important;height:70px!important;display:flex;align-items:center;justify-content:center}.card-1[_ngcontent-%COMP%]   .title-2[_ngcontent-%COMP%]{color:var(--color-text-100);font-weight:450;transition:all .3s ease}.card-1[_ngcontent-%COMP%]   .title-2[_ngcontent-%COMP%]:hover{color:var(--color-primary-100);cursor:pointer}.c-j-progress[_ngcontent-%COMP%]{padding:0 30px}.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]{min-width:30px;min-height:30px;border-radius:50%;background-color:var(--color-surface-mixed-100);margin:0 5px;border:2px solid var(--color-primary-200);position:relative;padding:5px;cursor:pointer}.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none;color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:20px}.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{position:absolute;bottom:-40px;transform:translate(-50%);white-space:nowrap;color:var(--color-text-200);font-weight:450}@media screen and (max-width: 660px){.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{display:none}}.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:-70px;transform:translate(-50%);white-space:nowrap;font-size:12px}@media screen and (max-width: 660px){.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{bottom:-40px}}.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:var(--color-text-200);cursor:not-allowed}.c-j-progress[_ngcontent-%COMP%]   .check-ball.active[_ngcontent-%COMP%]{background-color:var(--color-primary-200)}.c-j-progress[_ngcontent-%COMP%]   .check-ball.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block}.c-j-progress[_ngcontent-%COMP%]   .check-ball.ready[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;color:var(--color-text-200)}.c-j-progress[_ngcontent-%COMP%]   .check-ball.active.ready[_ngcontent-%COMP%]{background-color:var(--color-primary-200);border:2px solid var(--color-primary-200)}.c-j-progress[_ngcontent-%COMP%]   .check-ball.active.ready[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.c-j-progress[_ngcontent-%COMP%]   .check-line[_ngcontent-%COMP%]{width:100%;height:2px;background-color:var(--color-primary-200)}@media screen and (max-width: 660px){.c-j-progress[_ngcontent-%COMP%]{padding:0}}"]})}}return n})();var W=r(8814),Z=r(8450),K=r(8866),q=r(2954),tt=r(5834),m=r(859),h=r(1620),y=r(9153),et=r(3069);function ot(n,a){if(1&n&&(t.j41(0,"li")(1,"a",41),t.EFF(2,"View"),t.k0s()()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.Mz_("routerLink","/job-details/",e.id,"")}}function nt(n,a){if(1&n){const e=t.RV6();t.j41(0,"li")(1,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2).$implicit,s=t.XpG();return t.Njj(s.edit(o.id))}),t.EFF(2,"Edit and Update"),t.k0s()()}}function it(n,a){1&n&&(t.j41(0,"div",42)(1,"i",6),t.EFF(2,"verified"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Verified"),t.k0s()())}function st(n,a){1&n&&(t.j41(0,"div",43)(1,"p"),t.EFF(2,"Expired! This Ad is no longer available!"),t.k0s()())}function at(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22),t.nrm(5,"img",23),t.k0s()(),t.j41(6,"div",24)(7,"div",25),t.EFF(8),t.k0s(),t.j41(9,"div",26),t.EFF(10),t.nI1(11,"timeAgo"),t.k0s()()(),t.j41(12,"div",27)(13,"div",7)(14,"div",28)(15,"i",6),t.EFF(16,"more_horiz"),t.k0s()(),t.j41(17,"ul",9)(18,"li")(19,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.analyzeJob(o.id,o.title))}),t.EFF(20,"Analyze Applicants"),t.k0s()(),t.DNE(21,ot,3,2,"li",15)(22,nt,3,0,"li",15),t.j41(23,"li")(24,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.isExpired(o.expiryDate)?s.reopen(o.id):s.close(o.id,o))}),t.EFF(25),t.k0s()(),t.j41(26,"li"),t.nrm(27,"hr",29),t.k0s(),t.j41(28,"li")(29,"a",30),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.deleteJobPost(o.id))}),t.EFF(30,"Delete"),t.k0s()()()()()(),t.nrm(31,"hr"),t.j41(32,"div",31),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.analyzeJob(o.id,o.title))}),t.j41(33,"div",32)(34,"div",33)(35,"div",34),t.EFF(36),t.k0s(),t.j41(37,"div",35),t.EFF(38),t.k0s()()()(),t.nrm(39,"hr"),t.j41(40,"div",36),t.DNE(41,it,5,0,"div",37),t.j41(42,"div",38),t.nrm(43,"i",39),t.j41(44,"span"),t.EFF(45),t.k0s()()(),t.DNE(46,st,3,0,"div",40),t.k0s()}if(2&n){const e=t.XpG().$implicit,i=t.XpG();t.R7$(5),t.Y8G("src",null!=i.postedJobs&&i.postedJobs.companyLogo?null==i.postedJobs?null:i.postedJobs.companyLogo:"./assets/imgs/shared/default_org_logo.svg",t.B4B),t.R7$(3),t.JRh(null!=i.postedJobs&&i.postedJobs.companyName?null==i.postedJobs?null:i.postedJobs.companyName:"N/A"),t.R7$(2),t.JRh(t.bMT(11,11,e.datePosted)),t.R7$(11),t.Y8G("ngIf",!i.isExpired(e.expiryDate)),t.R7$(),t.Y8G("ngIf",!i.isExpired(e.expiryDate)),t.R7$(3),t.SpI("",i.isExpired(e.expiryDate)?"Reopen":"Close"," the Job"),t.R7$(11),t.JRh(e.title?e.title:"N/A"),t.R7$(2),t.SpI("Total Openings: ",e.totalOpenings?e.totalOpenings:"N/A",""),t.R7$(3),t.Y8G("ngIf",i.postedJobs.companyLevel>=3),t.R7$(4),t.JRh(e.location?e.location:"N/A"),t.R7$(),t.Y8G("ngIf",i.isExpired(e.expiryDate))}}function rt(n,a){if(1&n&&(t.j41(0,"div",16),t.DNE(1,at,47,13,"div",17),t.k0s()),2&n){const e=t.XpG();t.Y8G("ngClass",e.gridView?"col-12 col-md-4 mb-3":"col-12"),t.R7$(),t.Y8G("ngIf",e.gridView)}}function lt(n,a){if(1&n){const e=t.RV6();t.j41(0,"tr",48),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.analyzeJob(o.id,o.title))}),t.j41(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.nI1(11,"dateFormat"),t.k0s()()}if(2&n){const e=a.$implicit,i=a.index,o=t.XpG(2);t.R7$(2),t.JRh(i+1),t.R7$(2),t.JRh(e.title?e.title:"N/A"),t.R7$(2),t.JRh(e.totalOpenings?e.totalOpenings:"N/A"),t.R7$(2),t.JRh(o.getApplicants(e.id)),t.R7$(2),t.JRh(t.bMT(11,5,e.datePosted))}}function ct(n,a){if(1&n&&(t.j41(0,"div",44)(1,"div",45)(2,"thead",46)(3,"tr")(4,"th"),t.EFF(5,"Index"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Designation"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Open positions"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Applicants"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Date Posted"),t.k0s()()(),t.j41(14,"tbody",46),t.DNE(15,lt,12,7,"tr",47),t.k0s()()()),2&n){const e=t.XpG();t.R7$(15),t.Y8G("ngForOf",e.ongoingPostedJobs)}}function pt(n,a){1&n&&(t.j41(0,"div",49)(1,"p"),t.EFF(2,"No results found"),t.k0s()())}function dt(n,a){if(1&n&&(t.j41(0,"li")(1,"a",41),t.EFF(2,"View"),t.k0s()()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.Mz_("routerLink","/job-details/",e.id,"")}}function mt(n,a){if(1&n){const e=t.RV6();t.j41(0,"li")(1,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2).$implicit,s=t.XpG();return t.Njj(s.edit(o.id))}),t.EFF(2,"Edit and Update"),t.k0s()()}}function ht(n,a){1&n&&(t.j41(0,"div",42)(1,"i",6),t.EFF(2,"verified"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Verified"),t.k0s()())}function ut(n,a){1&n&&(t.j41(0,"div",43)(1,"p"),t.EFF(2,"Expired! This Ad is no longer available!"),t.k0s()())}function vt(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22),t.nrm(5,"img",23),t.k0s()(),t.j41(6,"div",24)(7,"div",25),t.EFF(8),t.k0s(),t.j41(9,"div",26),t.EFF(10),t.nI1(11,"timeAgo"),t.k0s()()(),t.j41(12,"div",27)(13,"div",7)(14,"div",28)(15,"i",6),t.EFF(16,"more_horiz"),t.k0s()(),t.j41(17,"ul",9)(18,"li")(19,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.analyzeJob(o.id,o.title))}),t.EFF(20,"Analyze Applicants"),t.k0s()(),t.DNE(21,dt,3,2,"li",15)(22,mt,3,0,"li",15),t.j41(23,"li")(24,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.isExpired(o.expiryDate)?s.reopen(o.id):s.close(o.id,o))}),t.EFF(25),t.k0s()(),t.j41(26,"li"),t.nrm(27,"hr",29),t.k0s(),t.j41(28,"li")(29,"a",30),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.deleteJobPost(o.id))}),t.EFF(30,"Delete"),t.k0s()()()()()(),t.nrm(31,"hr"),t.j41(32,"div",31),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.analyzeJob(o.id,o.title))}),t.j41(33,"div",32)(34,"div",33)(35,"div",34),t.EFF(36),t.k0s(),t.j41(37,"div",35),t.EFF(38),t.k0s()()()(),t.nrm(39,"hr"),t.j41(40,"div",36),t.DNE(41,ht,5,0,"div",37),t.j41(42,"div",38),t.nrm(43,"i",39),t.j41(44,"span"),t.EFF(45),t.k0s()()(),t.DNE(46,ut,3,0,"div",40),t.k0s()}if(2&n){const e=t.XpG().$implicit,i=t.XpG();t.R7$(5),t.Y8G("src",null!=i.postedJobs&&i.postedJobs.companyLogo?null==i.postedJobs?null:i.postedJobs.companyLogo:"./assets/imgs/shared/default_org_logo.svg",t.B4B),t.R7$(3),t.JRh(null!=i.postedJobs&&i.postedJobs.companyName?null==i.postedJobs?null:i.postedJobs.companyName:"N/A"),t.R7$(2),t.JRh(t.bMT(11,11,e.datePosted)),t.R7$(11),t.Y8G("ngIf",!i.isExpired(e.expiryDate)),t.R7$(),t.Y8G("ngIf",!i.isExpired(e.expiryDate)),t.R7$(3),t.SpI("",i.isExpired(e.expiryDate)?"Reopen":"Close"," the Job"),t.R7$(11),t.JRh(e.title?e.title:"N/A"),t.R7$(2),t.SpI("Total Openings: ",e.totalOpenings?e.totalOpenings:"N/A",""),t.R7$(3),t.Y8G("ngIf",i.postedJobs.companyLevel>=3),t.R7$(4),t.JRh(e.location?e.location:"N/A"),t.R7$(),t.Y8G("ngIf",i.isExpired(e.expiryDate))}}function gt(n,a){if(1&n&&(t.j41(0,"div",16),t.DNE(1,vt,47,13,"div",17),t.k0s()),2&n){const e=t.XpG();t.Y8G("ngClass",e.gridView?"col-12 col-md-4 mb-3":"col-12"),t.R7$(),t.Y8G("ngIf",e.gridView)}}function ft(n,a){if(1&n){const e=t.RV6();t.j41(0,"tr",48),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.analyzeJob(o.id,o.title))}),t.j41(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.nI1(11,"dateFormat"),t.k0s()()}if(2&n){const e=a.$implicit,i=a.index,o=t.XpG(2);t.R7$(2),t.JRh(i+1),t.R7$(2),t.JRh(e.title?e.title:"N/A"),t.R7$(2),t.JRh(e.totalOpenings?e.totalOpenings:"N/A"),t.R7$(2),t.JRh(o.getApplicants(e.id)),t.R7$(2),t.JRh(t.bMT(11,5,e.datePosted))}}function bt(n,a){if(1&n&&(t.j41(0,"div",44)(1,"div",45)(2,"thead",46)(3,"tr")(4,"th"),t.EFF(5,"Index"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Designation"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Open positions"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Applicants"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Date Posted"),t.k0s()()(),t.j41(14,"tbody",46),t.DNE(15,ft,12,7,"tr",47),t.k0s()()()),2&n){const e=t.XpG();t.R7$(15),t.Y8G("ngForOf",e.closedPostedJobs)}}function _t(n,a){1&n&&(t.j41(0,"div",49)(1,"p"),t.EFF(2,"No results found"),t.k0s()())}function jt(n,a){1&n&&(t.j41(0,"div"),t.nrm(1,"app-failed-to-load-data"),t.k0s())}function Ct(n,a){1&n&&(t.j41(0,"div"),t.nrm(1,"app-result-not-found"),t.k0s())}function yt(n,a){1&n&&(t.j41(0,"div"),t.nrm(1,"app-result-not-found"),t.k0s())}function Ft(n,a){1&n&&(t.j41(0,"div"),t.nrm(1,"app-network-error"),t.k0s())}function kt(n,a){1&n&&(t.j41(0,"div"),t.nrm(1,"app-forbidden"),t.k0s())}let Pt=(()=>{class n{constructor(e,i,o,s,c,p,F){this.jobApplyService=e,this.employeeService=i,this.companyService=o,this.router=s,this.route=c,this.alertService=p,this.cookieService=F,this.jobApplicants=[],this.loading=!1,this.serverError=!1,this.notFound=!1,this.forbidden=!1,this.corsError=!1,this.unexpectedError=!1,this.gridView=!0}ngOnInit(){this.companyId=this.cookieService.organization(),this.companyLevel=this.cookieService.level(),this.getCompany(this.companyId)}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(o=>{o.setAttribute("translate","no")}),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(o){return new bootstrap.Tooltip(o)})}fetchApplicants(){this.loading=!0,this.jobApplyService.fetchJobApplyByCompanyId(this.companyId).subscribe(e=>{this.jobApplicants=e?.map(i=>({...i,showAllApplicants:!1})),this.loading=!1},e=>{404===e.status?this.notFound=!0:500===e.status?this.serverError=!0:0===e.status?this.corsError=!0:403===e.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}viewCandidateProfile(e){e&&(this.router.navigate(["/candidate-profile"],{queryParams:{id:e}}),setTimeout(()=>{window.location.reload()},500))}toggleApplicants(e){e.showAllApplicants=!e.showAllApplicants}analyzeJob(e,i){if(e&&i){const o=this.router.serializeUrl(this.router.createUrlTree(["/job-analysis",e,i]));window.open(o,"_blank")}}exportToCsv(e,i){if(!i||!i.length)return void this.alertService.warningMessage("No data to export","Warning");const o=this.datasetToCsv(i);this.downloadCsv(o,`${e}-data.csv`)}datasetToCsv(e){return[Object.keys(e[0]).join(","),...e.map(s=>Object.values(s).map(c=>`"${c}"`).join(","))].join("\n")}downloadCsv(e,i){const o=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(o),c=document.createElement("a");c.setAttribute("href",s),c.setAttribute("download",i),c.click(),window.URL.revokeObjectURL(s)}getCompany(e){this.loading=!0,this.companyService.fetchFullCompany(e).subscribe(i=>{this.company=i,this.postedJobs=i?.postedJobs[0],this.ongoingPostedJobs=this.postedJobs.postedJobs.filter(o=>!this.isExpired(o.expiryDate)),this.closedPostedJobs=this.postedJobs.postedJobs.filter(o=>this.isExpired(o.expiryDate)),this.loading=!1},i=>{404===i.status?this.notFound=!0:500===i.status?this.serverError=!0:0===i.status?this.corsError=!0:403===i.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}isExpired(e){return new Date(e)<new Date}edit(e){e&&3==this.companyLevel&&this.router.navigate(["/pro/post-job"],{relativeTo:this.route,queryParams:{id:e}})}reopen(e){parseInt(this.companyLevel)<=2?this.alertService.warningMessage("This feature is only available for verified companies","Warning"):e&&this.router.navigate(["/pro/post-job"],{relativeTo:this.route,queryParams:{id:e}})}close(e,i){e&&this.companyService.updatePostedJob(this.companyId,e,{...i,expiryDate:new Date}).subscribe(o=>{this.alertService.successMessage("Job closed successfully","Success"),this.getCompany(this.companyId),location.reload()},o=>{this.alertService.errorMessage("Job closing failed","Error")})}deleteJobPost(e){e&&this.companyService.deletePostedJob(this.companyId,e).subscribe(i=>{this.alertService.successMessage("Job deleted successfully","Success"),this.getCompany(this.companyId),location.reload()},i=>{this.alertService.errorMessage("Job deletion failed","Error")})}changeView(){this.gridView=!this.gridView}getApplicants(e){let i=0;return this.jobApplicants.forEach(o=>{o.jobId==e&&(i=o.applicants.length)}),i}sortJobs(e){this.postedJobs.postedJobs.sort((i,o)=>"asc"===e?new Date(i.datePosted).getTime()-new Date(o.datePosted).getTime():"desc"===e?new Date(o.datePosted).getTime()-new Date(i.datePosted).getTime():i.title.localeCompare(o.title))}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(v.B),t.rXU(P.O),t.rXU(A.B),t.rXU(u.Ix),t.rXU(u.nX),t.rXU(E.n),t.rXU(g.u))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-pro-applicants-db"]],decls:41,vars:13,consts:[[1,"container"],[1,"popular-jobs"],[1,"row"],[1,"col-12","heading-tag"],[1,"options"],[3,"click","ngClass"],[1,"material-icons"],[1,"dropdown"],["data-bs-toggle","dropdown","aria-expanded","false",2,"border-left","none","border-radius","0 5px 5px 0"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"btn-1",3,"click"],[3,"ngClass",4,"ngFor","ngForOf"],["class","list-view",4,"ngIf"],["class","not-found-posts",4,"ngIf"],[4,"ngIf"],[3,"ngClass"],["class","card-1",4,"ngIf"],[1,"card-1"],[1,"card-top"],[1,"card-top-left","d-flex","align-items-center"],[1,"logo-icon-wrapper"],[1,"logo-icon"],["alt","logo",3,"src"],[1,"d-flex","flex-column","align-items-start","justify-content-between"],[1,"company-name"],[1,"opens-ago"],[1,"card-top-right"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"visit-link-circle"],[1,"dropdown-divider"],[1,"dropdown-item","danger",3,"click"],[1,"card-content",3,"click"],[1,"card-content-left"],[1,"d-flex","flex-column","align-items-start"],[1,"job-title"],[1,"open-positions"],[1,"card-bottom"],["class","card-bottom-left",4,"ngIf"],[1,"card-bottom-right"],["aria-hidden","true",1,"fa","fa-map-marker"],["class","expired",4,"ngIf"],[1,"dropdown-item",3,"routerLink"],[1,"card-bottom-left"],[1,"expired"],[1,"list-view"],[1,"table","table-hover","table-borderless","w-100"],[1,"w-100"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"not-found-posts"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t.EFF(5,"Ongoing Recruitments"),t.k0s(),t.j41(6,"div",4)(7,"button",5),t.bIt("click",function(){return o.changeView()}),t.j41(8,"i",6),t.EFF(9,"grid_view"),t.k0s()(),t.j41(10,"button",5),t.bIt("click",function(){return o.changeView()}),t.j41(11,"i",6),t.EFF(12,"view_list"),t.k0s()(),t.j41(13,"div",7)(14,"button",8)(15,"i",6),t.EFF(16,"sort"),t.k0s()(),t.j41(17,"ul",9)(18,"li",10),t.bIt("click",function(){return o.sortJobs("desc")}),t.EFF(19,"Newest"),t.k0s(),t.j41(20,"li",10),t.bIt("click",function(){return o.sortJobs("asc")}),t.EFF(21,"Oldest"),t.k0s(),t.j41(22,"li",10),t.bIt("click",function(){return o.sortJobs("alpha")}),t.EFF(23,"Alphabetical"),t.k0s()()(),t.j41(24,"button",11),t.bIt("click",function(){return o.exportToCsv("posted jobs",null==o.postedJobs?null:o.postedJobs.postedJobs)}),t.EFF(25,"Export"),t.k0s()()(),t.DNE(26,rt,2,2,"div",12)(27,ct,16,1,"div",13)(28,pt,3,0,"div",14),t.k0s(),t.j41(29,"div",2)(30,"div",3)(31,"h1"),t.EFF(32,"Completed Recruitments"),t.k0s()(),t.DNE(33,gt,2,2,"div",12)(34,bt,16,1,"div",13)(35,_t,3,0,"div",14),t.k0s()()(),t.DNE(36,jt,2,0,"div",15)(37,Ct,2,0,"div",15)(38,yt,2,0,"div",15)(39,Ft,2,0,"div",15)(40,kt,2,0,"div",15)),2&i&&(t.R7$(7),t.Y8G("ngClass",o.gridView?"active":""),t.R7$(3),t.Y8G("ngClass",o.gridView?"":"active"),t.R7$(16),t.Y8G("ngForOf",o.ongoingPostedJobs),t.R7$(),t.Y8G("ngIf",!o.gridView&&o.ongoingPostedJobs.length>0),t.R7$(),t.Y8G("ngIf",0==(null==o.ongoingPostedJobs?null:o.ongoingPostedJobs.length)||!o.ongoingPostedJobs),t.R7$(5),t.Y8G("ngForOf",o.closedPostedJobs),t.R7$(),t.Y8G("ngIf",!o.gridView&&o.closedPostedJobs.length>0),t.R7$(),t.Y8G("ngIf",0==(null==o.closedPostedJobs?null:o.closedPostedJobs.length)||!o.closedPostedJobs),t.R7$(),t.Y8G("ngIf",!o.loading&&o.serverError),t.R7$(),t.Y8G("ngIf",o.notFound&&!(null!=o.company&&o.company.company)),t.R7$(),t.Y8G("ngIf",!(null!=o.postedJobs&&o.postedJobs.postedJobs)),t.R7$(),t.Y8G("ngIf",o.corsError),t.R7$(),t.Y8G("ngIf",o.forbidden&&!(null!=o.company&&o.company.company)||o.unexpectedError))},dependencies:[d.YU,d.Sq,d.bT,u.Wk,b.y,_.u,j.y,C.B,et.a,R.n],styles:[".card-1[_ngcontent-%COMP%]{width:100%;overflow-x:auto;margin:12px 0;position:relative}.card-1[_ngcontent-%COMP%]   .expired[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;min-height:16px;background-color:var(--color-danger-100);z-index:1;display:flex;align-items:center;justify-content:center;font-size:16px;padding:10px}.card-1[_ngcontent-%COMP%]   .expired[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin:0}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.danger[_ngcontent-%COMP%]{color:var(--color-danger-100)}.btn-1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:18px}.applicants-list-row[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-secondary-600)}.see-more-btn[_ngcontent-%COMP%]{cursor:pointer;border:1px solid var(--color-secondary-600);border-radius:5px;background-color:var(--color-surface-mixed-200);color:var(--color-text-200);padding:2px 8px}.see-more-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;padding:0;font-size:16px}.see-more-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-surface-mixed-300)}.danger[_ngcontent-%COMP%]{color:var(--color-danger-200)}.danger[_ngcontent-%COMP%]:hover{color:var(--color-danger-100)}.heading-tag[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;padding:22px 0}.heading-tag[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:max(20px,1.2vw)}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--color-surface-mixed-200);color:var(--color-text-200);padding:5px 10px;font-size:18px;cursor:pointer;border:1px solid var(--color-secondary-600)}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;padding:0;font-size:16px}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){border-right:none;border-radius:5px 0 0 5px}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(4){margin:0 5px}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-surface-mixed-300)}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--color-primary-200);color:#fff}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .btn-1[_ngcontent-%COMP%]{margin:0 5px;background-color:var(--color-primary-200);color:#fff;font-size:14px}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .btn-1[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-300)}.list-view[_ngcontent-%COMP%]{width:100%;max-height:400px;overflow:auto}.not-found-posts[_ngcontent-%COMP%]{min-height:50vh;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:20px 0;text-align:center}.not-found-posts[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-300);font-size:16px}"]})}}return n})();var At=r(7360),Et=r(1543),Dt=r(9679),Mt=r(8531);function Ot(n,a){if(1&n&&(t.j41(0,"div")(1,"div",1),t.nrm(2,"canvas",2),t.k0s()()),2&n){const e=t.XpG();t.R7$(2),t.Y8G("data",e.polarAreaChartData)("type",e.polarAreaChartType)("options",e.polarAreaChartOptions)}}function Rt(n,a){1&n&&(t.j41(0,"p"),t.EFF(1,"No viewers status data available for the chart."),t.k0s())}let xt=(()=>{class n{constructor(e){this.themeService=e,this.jobData=[],this.polarAreaChartOptions={responsive:!0,plugins:{legend:{position:"top"}}},this.polarAreaChartType="polarArea",this.polarAreaChartData={labels:[],datasets:[{data:[]}]}}ngOnInit(){this.populateChartData(),this.applyTheme()}populateChartData(){if(!this.jobData||0===this.jobData.length)return;const e={};this.jobData.forEach(s=>{s.viewers.forEach(c=>{const p=c.status||"Unknown";e[p]?e[p]++:e[p]=1})});const i=Object.keys(e),o=Object.values(e);this.polarAreaChartData.labels=i,this.polarAreaChartData.datasets[0].data=o}applyTheme(){const e=this.themeService.isDarkMode()?"#fff":"#222",i=this.themeService.isDarkMode()?"#444444":"#e0e0e0",o=this.themeService.isDarkMode()?"#333333":"#ffffff",s=this.themeService.isDarkMode()?"#fff":"#222";this.polarAreaChartOptions={responsive:!0,scales:{r:{angleLines:{color:i},grid:{color:i},pointLabels:{color:e},ticks:{color:e,backdropColor:this.themeService.isDarkMode()?"#222222":"#f9f9f9"}}},plugins:{legend:{labels:{color:e}},tooltip:{backgroundColor:o,titleColor:s,bodyColor:s}}}}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(f.F))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-viewers-status-polar-area-chart"]],inputs:{jobData:"jobData"},decls:2,vars:2,consts:[[4,"ngIf"],[2,"display","block"],["baseChart","",3,"data","type","options"]],template:function(i,o){1&i&&t.DNE(0,Ot,3,3,"div",0)(1,Rt,2,0,"p",0),2&i&&(t.Y8G("ngIf",o.jobData&&o.jobData.length>0),t.R7$(),t.Y8G("ngIf",0===(null==o.jobData?null:o.jobData.length)))},dependencies:[O.j9,d.bT]})}}return n})();var It=r(3359),$t=r(4939),Gt=r(229),Tt=r(2501);function wt(n,a){if(1&n&&(t.j41(0,"div",5)(1,"div",6)(2,"div",7),t.EFF(3,"Applicants per Job"),t.k0s(),t.nrm(4,"app-applicants-per-job-bar-chart",8),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function Jt(n,a){if(1&n&&(t.j41(0,"div",9)(1,"div",6)(2,"div",7),t.EFF(3,"Applicant by Location"),t.k0s(),t.nrm(4,"app-applicant-location-pie-chart",8),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function Yt(n,a){if(1&n&&(t.j41(0,"div",9)(1,"div",6)(2,"div",7),t.EFF(3,"Applicants by Status"),t.k0s(),t.nrm(4,"app-applicants-status-doughnut-chart",8),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function St(n,a){if(1&n&&(t.j41(0,"div",5)(1,"div",6)(2,"div",7),t.EFF(3,"Applicants applied Dates"),t.k0s(),t.nrm(4,"app-applicant-submission-dates-chart",8),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function Xt(n,a){if(1&n&&(t.j41(0,"div",5)(1,"div",6)(2,"div",7),t.EFF(3,"Job Viewers Over Time"),t.k0s(),t.nrm(4,"app-job-viewers-over-time-line-chart",8),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function Vt(n,a){if(1&n&&(t.j41(0,"div",5)(1,"div",6)(2,"div",7),t.EFF(3,"Resume Download Rates"),t.k0s(),t.nrm(4,"app-resume-download-rates-chart",8),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function Nt(n,a){if(1&n&&(t.j41(0,"div",9)(1,"div",6)(2,"div",7),t.EFF(3,"Job Views by Viewer Type"),t.k0s(),t.nrm(4,"app-viewer-types-pie-chart",8),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function Lt(n,a){if(1&n&&(t.j41(0,"div",9)(1,"div",6)(2,"div",7),t.EFF(3,"Job Viewers Status"),t.k0s(),t.nrm(4,"app-viewers-status-polar-area-chart",8),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function Bt(n,a){if(1&n&&(t.j41(0,"div",5)(1,"div",6)(2,"div",7),t.EFF(3,"Applicants Email Domains"),t.k0s(),t.nrm(4,"app-applicants-email-domains-chart",8),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function Ut(n,a){1&n&&(t.j41(0,"div"),t.nrm(1,"app-failed-to-load-data"),t.k0s())}function zt(n,a){1&n&&(t.j41(0,"div"),t.nrm(1,"app-result-not-found"),t.k0s())}function Ht(n,a){1&n&&(t.j41(0,"div"),t.nrm(1,"app-network-error"),t.k0s())}function Qt(n,a){1&n&&(t.j41(0,"div"),t.nrm(1,"app-forbidden"),t.k0s())}let Wt=(()=>{class n{constructor(e,i,o,s){this.jobApplyService=e,this.router=i,this.themeService=o,this.cookieService=s,this.jobApplicants=[],this.loading=!1,this.serverError=!1,this.notFound=!1,this.forbidden=!1,this.corsError=!1,this.unexpectedError=!1}ngOnInit(){this.companyId=this.cookieService.organization(),this.fetchApplicants()}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(o=>{o.setAttribute("translate","no")}),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(o){return new bootstrap.Tooltip(o)})}fetchApplicants(){this.loading=!0,this.jobApplyService.fetchJobApplyByCompanyId(this.companyId).subscribe(e=>{this.jobApplicants=e?.map(i=>({...i,showAllApplicants:!1})),this.loading=!1},e=>{404===e.status?this.notFound=!0:500===e.status?this.serverError=!0:0===e.status?this.corsError=!0:403===e.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(v.B),t.rXU(u.Ix),t.rXU(f.F),t.rXU(g.u))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-pro-company-analysis"]],decls:17,vars:13,consts:[[1,"container"],[1,"row"],["class","col-12 col-md-6",4,"ngIf"],["class","col-12 col-md-6 col-lg-3",4,"ngIf"],[4,"ngIf"],[1,"col-12","col-md-6"],[1,"card-1"],[1,"title-1"],[3,"jobData"],[1,"col-12","col-md-6","col-lg-3"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"h3"),t.EFF(2,"Analytical Dashboard base on your company posted jobs"),t.k0s(),t.j41(3,"div",1),t.DNE(4,wt,5,1,"div",2)(5,Jt,5,1,"div",3)(6,Yt,5,1,"div",3)(7,St,5,1,"div",2)(8,Xt,5,1,"div",2)(9,Vt,5,1,"div",2)(10,Nt,5,1,"div",3)(11,Lt,5,1,"div",3)(12,Bt,5,1,"div",2),t.k0s()(),t.DNE(13,Ut,2,0,"div",4)(14,zt,2,0,"div",4)(15,Ht,2,0,"div",4)(16,Qt,2,0,"div",4)),2&i&&(t.R7$(4),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",!o.loading&&o.serverError),t.R7$(),t.Y8G("ngIf",o.notFound&&!o.jobApplicants),t.R7$(),t.Y8G("ngIf",o.corsError),t.R7$(),t.Y8G("ngIf",o.forbidden&&!o.jobApplicants||o.unexpectedError))},dependencies:[d.bT,Et.A,Dt.r,M.D,Mt.F,xt,It.$,$t.N,Gt.Q,Tt.E,b.y,_.u,j.y,C.B],styles:["h3[_ngcontent-%COMP%]{margin:max(20px,3vw) 0;text-align:center}"]})}}return n})();var Zt=r(7986);const Kt=[{path:"",component:x.j,children:[{path:"",redirectTo:"/pro/overview",pathMatch:"full"},{path:"overview",component:Q,canActivate:[m.O,h.q]},{path:"personal-profile",component:W.d,canActivate:[m.O,h.q]},{path:"personal-profile-settings",component:Z.a,canActivate:[m.O,h.q]},{path:"business-profile-my",component:K.Z,canActivate:[m.O,h.q]},{path:"business-profile-settings",component:q.S,canActivate:[m.O,h.q]},{path:"post-job",component:At.h,canActivate:[m.O,h.q]},{path:"company-jobs",component:tt.R,canActivate:[m.O,h.q]},{path:"applicants",component:Pt,canActivate:[m.O,y.f]},{path:"company-analysis",component:Wt,canActivate:[m.O,y.f]},{path:"billing",component:Zt.X,canActivate:[m.O,y.f]}],canActivate:[m.O,h.q]}];let qt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(Kt),u.iI]})}}return n})();var te=r(7865),ee=r(2995),oe=r(9213),ne=r(9115),ie=r(8834),se=r(882),ae=r(1492),re=r(4823),le=r(9845),ce=r(4847);let pe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[d.MD,qt,oe.m_,ne.Cn,ie.Hl,l.X1,se.vg,ae.MY,re.uc,D.D6,l.YN,te.T,ee._,le.k,ce.p]})}}return n})()}}]);