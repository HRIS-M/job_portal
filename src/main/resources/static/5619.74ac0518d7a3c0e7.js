"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5619],{5619:(M,m,n)=>{n.r(m),n.d(m,{ResetPasswordFormModule:()=>F});var l=n(177),d=n(3331),p=n(467),s=n(4438),u=n(8443),w=n(3539),a=n(9417);function f(o,v){if(1&o&&(s.j41(0,"div",5)(1,"p",12),s.EFF(2),s.k0s()()),2&o){const e=s.XpG();s.R7$(2),s.JRh(e.errorMessage)}}function g(o,v){if(1&o&&(s.j41(0,"div",5)(1,"p",13),s.EFF(2),s.k0s()()),2&o){const e=s.XpG();s.R7$(2),s.JRh(e.successMessage)}}const h=[{path:"",component:(()=>{class o{constructor(e,t,r,c){this.route=e,this.credentialService=t,this.router=r,this.encryptionService=c,this.token="",this.password="",this.confirmPassword="",this.loading=!1,this.errorMessage="",this.successMessage=""}ngOnInit(){this.token=this.route.snapshot.queryParams.token}onSubmit(){var e=this;return(0,p.A)(function*(){if(e.password!==e.confirmPassword)return void(e.errorMessage="Passwords do not match.");e.loading=!0,e.errorMessage="",e.successMessage="";const t=yield e.encryptionService.encryptPassword(e.password);e.credentialService.resetPassword(e.token,t).subscribe(r=>{e.loading=!1,e.password="",e.confirmPassword="",e.successMessage="Password has been reset successfully",setTimeout(()=>{e.router.navigate(["/login"])},1e3)},r=>{e.loading=!1,e.errorMessage="Failed to reset password. Please try again."})})()}static{this.\u0275fac=function(t){return new(t||o)(s.rXU(d.nX),s.rXU(u.f),s.rXU(d.Ix),s.rXU(w.L))}}static{this.\u0275cmp=s.VBU({type:o,selectors:[["app-reset-password-form"]],decls:19,vars:5,consts:[[1,"container"],[1,"form-card-1"],[1,"title"],[3,"ngSubmit"],[1,"row","form-wrapper"],[1,"col-12"],["for","password"],["type","password","id","password","name","password","placeholder","Enter new password","required","",3,"ngModelChange","ngModel"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirm new password","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn-1","w-100",3,"disabled"],["class","col-12",4,"ngIf"],[1,"error-message"],[1,"success-message"]],template:function(t,r){1&t&&(s.j41(0,"div",0)(1,"div",1)(2,"h5",2),s.EFF(3,"Set New Password"),s.k0s(),s.j41(4,"form",3),s.bIt("ngSubmit",function(){return r.onSubmit()}),s.j41(5,"div",4)(6,"div",5)(7,"label",6),s.EFF(8,"New Password:"),s.k0s(),s.j41(9,"input",7),s.mxI("ngModelChange",function(i){return s.DH7(r.password,i)||(r.password=i),i}),s.k0s()(),s.j41(10,"div",5)(11,"label",8),s.EFF(12,"Confirm Password:"),s.k0s(),s.j41(13,"input",9),s.mxI("ngModelChange",function(i){return s.DH7(r.confirmPassword,i)||(r.confirmPassword=i),i}),s.k0s()(),s.j41(14,"div",5)(15,"button",10),s.EFF(16,"Reset Password"),s.k0s()(),s.DNE(17,f,3,1,"div",11)(18,g,3,1,"div",11),s.k0s()()()()),2&t&&(s.R7$(9),s.R50("ngModel",r.password),s.R7$(4),s.R50("ngModel",r.confirmPassword),s.R7$(2),s.Y8G("disabled",r.loading),s.R7$(2),s.Y8G("ngIf",r.errorMessage),s.R7$(),s.Y8G("ngIf",r.successMessage))},dependencies:[l.bT,a.qT,a.me,a.BC,a.cb,a.YS,a.vS,a.cV]})}}return o})()}];let P=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=s.$C({type:o})}static{this.\u0275inj=s.G2t({imports:[d.iI.forChild(h),d.iI]})}}return o})(),F=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=s.$C({type:o})}static{this.\u0275inj=s.G2t({imports:[l.MD,P,a.YN]})}}return o})()}}]);