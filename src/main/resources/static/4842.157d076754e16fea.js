"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4842],{4842:(g,m,n)=>{n.r(m),n.d(m,{CardCheckoutModule:()=>b});var h=n(177),d=n(3331),t=n(9417),e=n(4438),c=n(2617),v=n(1294),o=n(9920);function u(r,M){1&r&&(e.j41(0,"div",29),e.EFF(1," Invalid phone number format. "),e.k0s())}const f=[{path:"",component:(()=>{class r{constructor(i,a,l,s,y){this.alertService=i,this.cookieService=a,this.billingService=l,this.router=s,this.route=y,this.billingForm=new t.gE({fname:new t.MJ("",[t.k0.required]),lname:new t.MJ("",[t.k0.required]),country:new t.MJ("",[t.k0.required]),address:new t.MJ("",[t.k0.required]),phone:new t.MJ("",[t.k0.required,t.k0.pattern(/^(?:\+?\d{1,3})?(?:0\d{1,3})?\d{7,14}$/)])}),this.billingForm.get("phone")?.valueChanges.subscribe(p=>{if(p){const k=p.replace(/\s+/g,"");this.billingForm.get("phone")?.setValue(k,{emitEvent:!1})}})}ngOnInit(){this.companyId=this.cookieService.organization(),this.route.queryParams.subscribe(i=>{"true"!==i.verified&&(this.alertService.errorMessage("We detected some suspicious activity. If you face this trouble again and again please contact support!","Error"),setInterval(()=>{this.router.navigate(["/cart"])},5e3))})}cancel(){this.router.navigate(["/cart"])}pay(){this.billingForm.valid?this.billingService.savePrePaymentData({companyId:this.companyId,firstname:this.billingForm.get("fname")?.value,lastname:this.billingForm.get("lname")?.value,country:this.billingForm.get("country")?.value,address:this.billingForm.get("address")?.value,phone:this.billingForm.get("phone")?.value,payType:"card",status:"pending"}).subscribe(i=>{i?(this.router.navigate(["/pay"]),sessionStorage.setItem("in_payment_progress","true")):this.alertService.errorMessage("Something went wrong. Please try again.","error")},i=>{this.alertService.errorMessage("Something went wrong. Please try again.","error")}):this.alertService.errorMessage("All Fields are required or Phone number is not valid","error")}static{this.\u0275fac=function(a){return new(a||r)(e.rXU(c.n),e.rXU(v.u),e.rXU(o.D),e.rXU(d.Ix),e.rXU(d.nX))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-card-checkout"]],decls:51,vars:2,consts:[[1,"top-banner"],[1,"curved-div"],[1,"overlay"],[1,"d-flex","align-items-center","justify-content-center","flex-column","w-100","h100","banner-cont"],[1,"container"],[1,"d-flex","align-items-center","justify-content-center","w-100"],[1,"card-checkout","form-card-1"],[1,"card-title","sm"],[1,"hr"],[1,"card-body"],[3,"formGroup"],[1,"row","form-wrapper"],[1,"col-12","col-md-6"],[1,"form-group"],["for","fname"],["type","text","id","fname","placeholder","John","formControlName","fname",1,"form-control"],["for","lname"],["type","text","id","lname","placeholder","Doe","formControlName","lname",1,"form-control"],["for","country"],["type","text","id","country","placeholder","USA","formControlName","country",1,"form-control"],[1,"col-12"],["for","address"],["type","text","id","address","placeholder","13th Street. 47 W 13th St, New York","formControlName","address",1,"form-control"],["for","phone"],["type","number","id","phone","placeholder","+1 123 456 7890","formControlName","phone",1,"form-control"],["class","error-msg",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-end","gap-3","w-100"],[1,"btn-2",3,"click"],[1,"btn-1",3,"click"],[1,"error-msg"]],template:function(a,l){if(1&a&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"div",2),e.k0s(),e.j41(3,"div",3)(4,"h1"),e.EFF(5,"Payout"),e.k0s(),e.j41(6,"p"),e.EFF(7,"Talent Boozt > "),e.j41(8,"span"),e.EFF(9,"payout"),e.k0s()()()(),e.j41(10,"div",4)(11,"div",5)(12,"div",6)(13,"div",7),e.EFF(14,"Billing Details"),e.k0s(),e.nrm(15,"div",8),e.j41(16,"div",9)(17,"form",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"label",14),e.EFF(22,"First Name *"),e.k0s(),e.nrm(23,"input",15),e.k0s()(),e.j41(24,"div",12)(25,"div",13)(26,"label",16),e.EFF(27,"Last Name *"),e.k0s(),e.nrm(28,"input",17),e.k0s()(),e.j41(29,"div",12)(30,"div",13)(31,"label",18),e.EFF(32,"Country *"),e.k0s(),e.nrm(33,"input",19),e.k0s()(),e.j41(34,"div",20)(35,"div",13)(36,"label",21),e.EFF(37,"Address *"),e.k0s(),e.nrm(38,"textarea",22),e.k0s()(),e.j41(39,"div",12)(40,"div",13)(41,"label",23),e.EFF(42,"Mobile Number *"),e.k0s(),e.nrm(43,"input",24),e.DNE(44,u,2,0,"div",25),e.k0s()(),e.j41(45,"div",20)(46,"div",26)(47,"button",27),e.bIt("click",function(){return l.cancel()}),e.EFF(48,"Cancel"),e.k0s(),e.j41(49,"button",28),e.bIt("click",function(){return l.pay()}),e.EFF(50,"Pay"),e.k0s()()()()()()()()()),2&a){let s;e.R7$(17),e.Y8G("formGroup",l.billingForm),e.R7$(27),e.Y8G("ngIf",(null==(s=l.billingForm.get("phone"))?null:s.invalid)&&(null==(s=l.billingForm.get("phone"))?null:s.touched))}},dependencies:[h.bT,t.qT,t.me,t.Q0,t.BC,t.cb,t.j4,t.JD],styles:[".card-checkout[_ngcontent-%COMP%]{border:none;border-radius:0;background-color:var(--color-surface-100);padding:0;width:100%;max-width:700px;margin-bottom:max(20px,2.5vw)}.card-checkout[_ngcontent-%COMP%]   .hr[_ngcontent-%COMP%]{width:100%;height:1px;background-color:var(--color-surface-mixed-400)}.card-checkout[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card-checkout[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .card-checkout[_ngcontent-%COMP%]   .card-bottom[_ngcontent-%COMP%]{padding:12px max(20px,2.5vw)}.card-checkout[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:var(--color-text-100)}.card-checkout[_ngcontent-%COMP%]   .card-title.sm[_ngcontent-%COMP%]{font-size:22px}.card-checkout[_ngcontent-%COMP%]   .card-bottom[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px max(20px,2.5vw)}"]})}}return r})()}];let C=(()=>{class r{static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[d.iI.forChild(f),d.iI]})}}return r})(),b=(()=>{class r{static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[h.MD,C,t.X1]})}}return r})()},9920:(g,m,n)=>{n.d(m,{D:()=>e});var h=n(1626),d=n(5312),t=n(4438);let e=(()=>{class c{constructor(o){this.http=o,this.baseUrl=d.c.apiUrl,this.headers=new h.Lr({"Content-Type":"application/json",Authorization:"Basic "+btoa("admin:password")})}savePrePaymentData(o){return this.http.post(`${this.baseUrl}/pre-payment/save`,o,{headers:this.headers})}getSubscriptionDetails(o){return this.http.get(`${this.baseUrl}/subscriptions/get/${o}`,{headers:this.headers})}getInvoices(o){return this.http.get(`${this.baseUrl}/invoices/get/${o}`,{headers:this.headers})}getUsageData(o){return this.http.get(`${this.baseUrl}/usage/get/${o}`,{headers:this.headers})}updateBillingAddress(o,u){return this.http.put(`${this.baseUrl}/billing-address/update/${o}`,u,{headers:this.headers})}static{this.\u0275fac=function(u){return new(u||c)(t.KVO(h.Qq))}}static{this.\u0275prov=t.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()}}]);