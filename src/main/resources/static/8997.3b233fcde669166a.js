"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[8997],{8997:(ne,k,a)=>{a.r(k),a.d(k,{ProDashboardModule:()=>oe});var d=a(177),u=a(3331),D=a(8215),x=a(467),l=a(9417),t=a(4438),F=a(3878),P=a(17),v=a(7296),E=a(2617),h=a(1294),A=a(9183),f=a(4783),b=a(1505),_=a(9531),y=a(6107),M=a(2643);function R(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",46)(1,"div",47)(2,"i",48),t.EFF(3,"check"),t.k0s(),t.j41(4,"div",49),t.EFF(5,"Account Creation"),t.k0s()(),t.nrm(6,"div",50),t.j41(7,"div",51)(8,"i",48),t.EFF(9,"check"),t.k0s(),t.j41(10,"div",49),t.EFF(11,"Company Details"),t.k0s(),t.j41(12,"button",52),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.open_form())}),t.EFF(13,"Quick Add"),t.k0s()(),t.nrm(14,"div",50),t.j41(15,"div",53)(16,"i",48),t.EFF(17),t.k0s(),t.j41(18,"div",49),t.EFF(19,"Post Your Job"),t.k0s(),t.j41(20,"button",54),t.EFF(21,"Post Job"),t.k0s()()()}if(2&i){const e=t.XpG();t.R7$(),t.Y8G("ngClass","active"),t.R7$(6),t.Y8G("ngClass",e.cname&&e.cemail&&e.cphone&&e.chq?"active":""),t.R7$(8),t.Y8G("ngClass",e.formLocked?"":"active"),t.R7$(2),t.JRh(e.formLocked?"lock_outline":"lock_open"),t.R7$(3),t.Y8G("disabled",e.formLocked)}}function $(i,r){if(1&i&&(t.j41(0,"div",1)(1,"div",55)(2,"div",11)(3,"div",56),t.EFF(4),t.k0s(),t.j41(5,"div",57)(6,"div")(7,"p",15),t.EFF(8),t.nI1(9,"timeAgo"),t.k0s(),t.j41(10,"p",15),t.EFF(11),t.nI1(12,"date"),t.k0s()(),t.j41(13,"div")(14,"p",15),t.EFF(15),t.k0s(),t.j41(16,"p",15),t.EFF(17),t.k0s()()()()()()),2&i){const e=r.$implicit,n=t.XpG();t.R7$(3),t.Mz_("routerLink","/job-details/",e.id,""),t.R7$(),t.JRh(e.title),t.R7$(4),t.SpI("Posted: ",t.bMT(9,7,e.datePosted),""),t.R7$(3),t.SpI("Expired: ",t.bMT(12,9,e.expiryDate),""),t.R7$(4),t.SpI("",n.getViews(e.id)," Views"),t.R7$(2),t.SpI("",n.getApplicants(e.id)," Applicants")}}function I(i,r){1&i&&(t.j41(0,"p"),t.EFF(1,"Currently you do not have any shared ads"),t.k0s())}function G(i,r){1&i&&(t.j41(0,"div"),t.nrm(1,"app-failed-to-load-data"),t.k0s())}function T(i,r){1&i&&(t.j41(0,"div"),t.nrm(1,"app-result-not-found"),t.k0s())}function w(i,r){1&i&&(t.j41(0,"div"),t.nrm(1,"app-network-error"),t.k0s())}function J(i,r){1&i&&(t.j41(0,"div"),t.nrm(1,"app-forbidden"),t.k0s())}let Y=(()=>{class i{constructor(e,n,o,s,c){this.employeeService=e,this.companyService=n,this.jobApplyService=o,this.alertService=s,this.cookieService=c,this.progressValue=50,this.progressMode="determinate",this.personalProgressValue=8,this.personalProgressMode="determinate",this.applicants=[],this.filteredApplicants=[],this.views=[],this.filteredViews=[],this.applicantsMap={},this.viewsMap={},this.jobPosts=[],this.loading=!1,this.serverError=!1,this.notFound=!1,this.forbidden=!1,this.corsError=!1,this.unexpectedError=!1,this.cname="",this.cemail="",this.cphone="",this.chq="",this.formLocked=!0,this.profileCompletionForm=new l.gE({cname:new l.MJ("",[l.k0.required]),cemail:new l.MJ("",[l.k0.required,l.k0.email]),cphone:new l.MJ("",[l.k0.required]),chq:new l.MJ("",[l.k0.required]),uname:new l.MJ("",[l.k0.required]),udesignation:new l.MJ("",[l.k0.required])})}ngOnInit(){var e=this;return(0,x.A)(function*(){e.employeeId=e.cookieService.userID(),e.companyId=e.cookieService.organization(),e.getEmployee(e.employeeId),e.getCompany(e.companyId),e.fetchJobPostData()})()}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(n=>{n.setAttribute("translate","no")})}getEmployee(e){this.loading=!0,this.employeeService.fetchFullEmployee(e).subscribe(n=>{this.employee=n,this.calculateProfileProgress(this.employee?.employee,"employer")},n=>{404===n.status?this.notFound=!0:500===n.status?this.serverError=!0:0===n.status?this.corsError=!0:403===n.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}getCompany(e){this.loading=!0,this.companyService.fetchFullCompany(e).subscribe(n=>{this.company=n,this.jobPosts=n?.postedJobs[0]?.postedJobs,this.calculateProfileProgress(n?.company,"company"),this.cname=this.company?.company?.name,this.cemail=this.company?.company?.contactEmail,this.cphone=this.company?.company?.contactNumber,this.chq=this.company?.company?.location,this.cname&&this.cemail&&this.cphone&&this.chq&&(this.formLocked=!1),this.loading=!1},n=>{if(404===n.status)return this.notFound=!0,void location.reload();500===n.status?this.serverError=!0:0===n.status?this.corsError=!0:403===n.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}calculateProfileProgress(e,n){if(this.loading=!1,!e||!e.profileCompleted)return this.progressValue=0,void(this.personalProgressValue=0);const o=e.profileCompleted;if("object"!=typeof o||null===o)return this.progressValue=0,void(this.personalProgressValue=0);const s=Object.values(o),c=s.length,g=s.filter(j=>!0===j).length;"employer"===n?this.personalProgressValue=Math.round(g/c*100):"company"===n&&(this.progressValue=Math.round(g/c*100))}fetchJobPostData(){this.jobApplyService.fetchJobApply().subscribe(e=>{e?.forEach(n=>{this.applicantsMap[n.jobId]=n.applicants?.length||0,this.viewsMap[n.jobId]=n.viewers?.length||0})},e=>{console.log(e)})}getApplicants(e){return this.applicantsMap[e]||0}getViews(e){return this.viewsMap[e]||0}open_form(){setTimeout(()=>{document.getElementById("quick_details_model_open")?.click()},100)}completeActivation(){this.profileCompletionForm.valid?this.companyService.updateCompany({id:this.companyId,...this.company.company,name:this.profileCompletionForm.get("cname")?.value,contactEmail:this.profileCompletionForm.get("cemail")?.value,contactNumber:this.profileCompletionForm.get("cphone")?.value,location:this.profileCompletionForm.get("chq")?.value}).subscribe(e=>{this.employeeService.updateEmployee({id:this.employeeId,...this.employee.employee,username:this.profileCompletionForm.get("uname")?.value,occupation:this.profileCompletionForm.get("udesignation")?.value}).subscribe(n=>{document.getElementById("quick_details_model_close")?.click(),this.formLocked=!1,this.alertService.successMessage("Profile updated successfully! REFRESH to see changes","Success")},n=>{this.alertService.errorMessage("Company details updated but personal details could not be updated","Error")})},e=>{this.alertService.errorMessage("Something went wrong","Error")}):this.profileCompletionForm.markAllAsTouched()}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(F.O),t.rXU(P.B),t.rXU(v.B),t.rXU(E.n),t.rXU(h.u))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-pro-main-db"]],decls:107,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-6"],[1,"h2-1","mt-5"],[1,"h2-2"],["class","d-flex align-items-center justify-content-center w-100 my-5 c-j-progress",4,"ngIf"],[1,"notification-area"],[1,"not-title-1"],[1,"not-title-2"],[1,"w-100","d-flex","align-items-center","justify-content-end"],[1,"col","col-lg-8"],[1,"card-1"],[1,"d-flex","align-items-center","justify-content-around","justify-content-md-between"],[1,"progress-spinner",3,"mode","value"],[1,"title-1"],[1,"m-0"],["class","row",4,"ngFor","ngForOf"],[4,"ngIf"],["type","button","id","quick_details_model_open","data-bs-toggle","modal","data-bs-target","#quick_details",1,"d-none"],["id","quick_details","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","quick_detailsLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","quick_detailsLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"d-flex","flex-column","gap-2"],[1,"mb-0"],[1,"w-100",3,"formGroup"],[1,"form-group"],["for","cname"],["type","text","id","cname","formControlName","cname",1,"form-control"],["for","cemail"],["type","email","id","cemail","formControlName","cemail",1,"form-control"],["for","cphone"],["type","text","id","cphone","formControlName","cphone",1,"form-control"],["for","chq"],["type","text","id","chq","formControlName","chq",1,"form-control"],[1,"mt-2"],["for","uname"],["type","text","id","uname","formControlName","uname",1,"form-control"],["for","udesignation"],["type","text","id","udesignation","formControlName","udesignation",1,"form-control"],[1,"modal-footer"],["type","button","id","quick_details_model_close","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn-1",3,"click","disabled"],[1,"d-flex","align-items-center","justify-content-center","w-100","my-5","c-j-progress"],["title","Account Creation",1,"check-ball",3,"ngClass"],[1,"material-icons"],[1,"tag"],[1,"check-line"],["title","Company Details",1,"check-ball",3,"ngClass"],[1,"btn-1",3,"click"],["title","Post Your Job",1,"check-ball","ready",3,"ngClass"],["routerLink","/pro/post-job",1,"btn-1",3,"disabled"],[1,"col-12"],[1,"title-2",3,"routerLink"],[1,"d-flex","align-items-center","justify-content-between"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t.EFF(4,"Hi,"),t.k0s(),t.j41(5,"h2",4),t.EFF(6),t.k0s(),t.DNE(7,R,22,5,"div",5),t.j41(8,"div",6)(9,"div")(10,"p",7),t.EFF(11,"See what's new!"),t.k0s(),t.j41(12,"p"),t.EFF(13,"Currently you do not have any new notifications"),t.k0s()(),t.j41(14,"div")(15,"p",8),t.EFF(16,"Older notifications"),t.k0s(),t.j41(17,"p"),t.EFF(18,"Currently you do not have any new notifications"),t.k0s()()()(),t.j41(19,"div",2)(20,"div",9)(21,"div",10)(22,"div",11)(23,"div",12)(24,"div"),t.nrm(25,"mat-progress-spinner",13),t.k0s(),t.j41(26,"div")(27,"div",14),t.EFF(28,"Business Profile Completion"),t.k0s(),t.j41(29,"p",15),t.EFF(30),t.k0s()()()(),t.j41(31,"div",11)(32,"div",12)(33,"div"),t.nrm(34,"mat-progress-spinner",13),t.k0s(),t.j41(35,"div")(36,"div",14),t.EFF(37,"Personal Profile Completion"),t.k0s(),t.j41(38,"p",15),t.EFF(39),t.k0s()()()()()(),t.j41(40,"div",9)(41,"div",10)(42,"div",11)(43,"div",14),t.EFF(44,"Latest Ads Posted"),t.k0s(),t.DNE(45,$,18,11,"div",16)(46,I,2,0,"p",17),t.k0s()()()()()(),t.DNE(47,G,2,0,"div",17)(48,T,2,0,"div",17)(49,w,2,0,"div",17)(50,J,2,0,"div",17),t.nrm(51,"button",18),t.j41(52,"div",19)(53,"div",20)(54,"div",21)(55,"div",22)(56,"h1",23),t.EFF(57,"Quick Profile Unlocking"),t.k0s(),t.nrm(58,"button",24),t.k0s(),t.j41(59,"div",25)(60,"div",26)(61,"p",27),t.EFF(62,"These fields are required to unlock your profile!"),t.k0s(),t.j41(63,"form",28)(64,"h6"),t.EFF(65,"Required Company Details:"),t.k0s(),t.j41(66,"div",1)(67,"div",2)(68,"div",29)(69,"label",30),t.EFF(70,"Company Name *"),t.k0s(),t.nrm(71,"input",31),t.k0s()(),t.j41(72,"div",2)(73,"div",29)(74,"label",32),t.EFF(75,"Company Email *"),t.k0s(),t.nrm(76,"input",33),t.k0s()(),t.j41(77,"div",2)(78,"div",29)(79,"label",34),t.EFF(80,"Company Phone *"),t.k0s(),t.nrm(81,"input",35),t.k0s()(),t.j41(82,"div",2)(83,"div",29)(84,"label",36),t.EFF(85,"Company HQ *"),t.k0s(),t.nrm(86,"input",37),t.k0s()()(),t.j41(87,"h6",38),t.EFF(88,"Required Employer Details:"),t.k0s(),t.j41(89,"div",1)(90,"div",2)(91,"div",29)(92,"label",39),t.EFF(93,"Your Name *"),t.k0s(),t.nrm(94,"input",40),t.k0s()(),t.j41(95,"div",2)(96,"div",29)(97,"label",41),t.EFF(98,"Your Designation *"),t.k0s(),t.nrm(99,"input",42),t.k0s()()()(),t.j41(100,"p",27),t.EFF(101,"These are the minimalistic details required to unlock your profile. Please complete all information to better looking from business settings page :)"),t.k0s()()(),t.j41(102,"div",43)(103,"button",44),t.EFF(104,"Cancel"),t.k0s(),t.j41(105,"button",45),t.bIt("click",function(){return o.completeActivation()}),t.EFF(106),t.k0s()()()()()),2&n&&(t.R7$(6),t.JRh(null!=o.employee&&null!=o.employee.employee&&o.employee.employee.firstname?null==o.employee||null==o.employee.employee?null:o.employee.employee.firstname:"User"),t.R7$(),t.Y8G("ngIf",o.formLocked),t.R7$(18),t.Y8G("mode",o.progressMode)("value",o.progressValue),t.R7$(5),t.SpI("",o.progressValue,"%"),t.R7$(4),t.Y8G("mode",o.personalProgressMode)("value",o.personalProgressValue),t.R7$(5),t.SpI("",o.personalProgressValue,"%"),t.R7$(6),t.Y8G("ngForOf",o.jobPosts),t.R7$(),t.Y8G("ngIf",0==(null==o.jobPosts?null:o.jobPosts.length)),t.R7$(),t.Y8G("ngIf",!o.loading&&o.serverError),t.R7$(),t.Y8G("ngIf",o.notFound&&0==o.company.length),t.R7$(),t.Y8G("ngIf",o.corsError),t.R7$(),t.Y8G("ngIf",o.forbidden&&0==o.company.length||o.unexpectedError),t.R7$(13),t.Y8G("formGroup",o.profileCompletionForm),t.R7$(42),t.Y8G("disabled",o.loading),t.R7$(),t.JRh(o.loading?"Saving...":"Save"))},dependencies:[d.YU,d.Sq,d.bT,u.Wk,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,A.LG,f.y,b.u,_.y,y.B,d.vh,M.n],styles:[".h2-1[_ngcontent-%COMP%]{color:var(--color-text-300)}.h2-2[_ngcontent-%COMP%]{color:var(--color-text-100);font-weight:700}.notification-area[_ngcontent-%COMP%]{padding:max(20px,3vw) 0}.notification-area[_ngcontent-%COMP%]   .not-title-1[_ngcontent-%COMP%], .notification-area[_ngcontent-%COMP%]   .not-title-2[_ngcontent-%COMP%]{font-weight:450;margin-bottom:10px;font-size:18px}.notification-area[_ngcontent-%COMP%]   .not-title-1[_ngcontent-%COMP%]{color:var(--color-primary-100)}.notification-area[_ngcontent-%COMP%]   .not-title-2[_ngcontent-%COMP%]{margin-top:20px;color:var(--color-text-100)}.card-1[_ngcontent-%COMP%]{margin:10px 0;padding:20px}.card-1[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{width:70px!important;height:70px!important;display:flex;align-items:center;justify-content:center}.card-1[_ngcontent-%COMP%]   .title-2[_ngcontent-%COMP%]{color:var(--color-text-100);font-weight:450;transition:all .3s ease}.card-1[_ngcontent-%COMP%]   .title-2[_ngcontent-%COMP%]:hover{color:var(--color-primary-100);cursor:pointer}.c-j-progress[_ngcontent-%COMP%]{padding:0 30px}.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]{min-width:30px;min-height:30px;border-radius:50%;background-color:var(--color-surface-mixed-100);margin:0 5px;border:2px solid var(--color-primary-200);position:relative;padding:5px;cursor:pointer}.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none;color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:20px}.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{position:absolute;bottom:-40px;transform:translate(-50%);white-space:nowrap;color:var(--color-text-200);font-weight:450}@media screen and (max-width: 660px){.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{display:none}}.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:-70px;transform:translate(-50%);white-space:nowrap;font-size:12px}@media screen and (max-width: 660px){.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{bottom:-40px}}.c-j-progress[_ngcontent-%COMP%]   .check-ball[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:var(--color-text-200);cursor:not-allowed}.c-j-progress[_ngcontent-%COMP%]   .check-ball.active[_ngcontent-%COMP%]{background-color:var(--color-primary-200)}.c-j-progress[_ngcontent-%COMP%]   .check-ball.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block}.c-j-progress[_ngcontent-%COMP%]   .check-ball.ready[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;color:var(--color-text-200)}.c-j-progress[_ngcontent-%COMP%]   .check-ball.active.ready[_ngcontent-%COMP%]{background-color:var(--color-primary-200);border:2px solid var(--color-primary-200)}.c-j-progress[_ngcontent-%COMP%]   .check-ball.active.ready[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.c-j-progress[_ngcontent-%COMP%]   .check-line[_ngcontent-%COMP%]{width:100%;height:2px;background-color:var(--color-primary-200)}@media screen and (max-width: 660px){.c-j-progress[_ngcontent-%COMP%]{padding:0}}"]})}}return i})();var S=a(8814),V=a(8450),X=a(8866),N=a(2954),B=a(5834),p=a(859),m=a(1620),C=a(9153),L=a(3069);function U(i,r){if(1&i&&(t.j41(0,"li")(1,"a",41),t.EFF(2,"View"),t.k0s()()),2&i){const e=t.XpG(2).$implicit;t.R7$(),t.Mz_("routerLink","/job-details/",e.id,"")}}function z(i,r){if(1&i){const e=t.RV6();t.j41(0,"li")(1,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2).$implicit,s=t.XpG();return t.Njj(s.edit(o.id))}),t.EFF(2,"Edit and Update"),t.k0s()()}}function H(i,r){1&i&&(t.j41(0,"div",42)(1,"i",6),t.EFF(2,"verified"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Verified"),t.k0s()())}function Q(i,r){1&i&&(t.j41(0,"div",43)(1,"p"),t.EFF(2,"Expired! This Ad is no longer available!"),t.k0s()())}function W(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22),t.nrm(5,"img",23),t.k0s()(),t.j41(6,"div",24)(7,"div",25),t.EFF(8),t.k0s(),t.j41(9,"div",26),t.EFF(10),t.nI1(11,"timeAgo"),t.k0s()()(),t.j41(12,"div",27)(13,"div",7)(14,"div",28)(15,"i",6),t.EFF(16,"more_horiz"),t.k0s()(),t.j41(17,"ul",9)(18,"li")(19,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.analyzeJob(o.id))}),t.EFF(20,"Analyze"),t.k0s()(),t.DNE(21,U,3,2,"li",15)(22,z,3,0,"li",15),t.j41(23,"li")(24,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.isExpired(o.expiryDate)?s.reopen(o.id):s.close(o.id,o))}),t.EFF(25),t.k0s()(),t.j41(26,"li"),t.nrm(27,"hr",29),t.k0s(),t.j41(28,"li")(29,"a",30),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.deleteJobPost(o.id))}),t.EFF(30,"Delete"),t.k0s()()()()()(),t.nrm(31,"hr"),t.j41(32,"div",31),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.analyzeJob(o.id))}),t.j41(33,"div",32)(34,"div",33)(35,"div",34),t.EFF(36),t.k0s(),t.j41(37,"div",35),t.EFF(38),t.k0s()()()(),t.nrm(39,"hr"),t.j41(40,"div",36),t.DNE(41,H,5,0,"div",37),t.j41(42,"div",38),t.nrm(43,"i",39),t.j41(44,"span"),t.EFF(45),t.k0s()()(),t.DNE(46,Q,3,0,"div",40),t.k0s()}if(2&i){const e=t.XpG().$implicit,n=t.XpG();t.R7$(5),t.Y8G("src",null!=n.postedJobs&&n.postedJobs.companyLogo?null==n.postedJobs?null:n.postedJobs.companyLogo:"./assets/imgs/shared/default_org_logo.svg",t.B4B),t.R7$(3),t.JRh(null!=n.postedJobs&&n.postedJobs.companyName?null==n.postedJobs?null:n.postedJobs.companyName:"N/A"),t.R7$(2),t.JRh(t.bMT(11,11,e.datePosted)),t.R7$(11),t.Y8G("ngIf",!n.isExpired(e.expiryDate)),t.R7$(),t.Y8G("ngIf",!n.isExpired(e.expiryDate)),t.R7$(3),t.SpI("",n.isExpired(e.expiryDate)?"Reopen":"Close"," the Job"),t.R7$(11),t.JRh(e.title?e.title:"N/A"),t.R7$(2),t.SpI("Total Openings: ",e.totalOpenings?e.totalOpenings:"N/A",""),t.R7$(3),t.Y8G("ngIf",n.postedJobs.companyLevel>=3),t.R7$(4),t.JRh(e.location?e.location:"N/A"),t.R7$(),t.Y8G("ngIf",n.isExpired(e.expiryDate))}}function Z(i,r){if(1&i&&(t.j41(0,"div",16),t.DNE(1,W,47,13,"div",17),t.k0s()),2&i){const e=t.XpG();t.Y8G("ngClass",e.gridView?"col-12 col-md-4 mb-3":"col-12"),t.R7$(),t.Y8G("ngIf",e.gridView)}}function K(i,r){if(1&i){const e=t.RV6();t.j41(0,"tr",48),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.analyzeJob(o.id))}),t.j41(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.nI1(11,"dateFormat"),t.k0s()()}if(2&i){const e=r.$implicit,n=r.index,o=t.XpG(2);t.R7$(2),t.JRh(n+1),t.R7$(2),t.JRh(e.title?e.title:"N/A"),t.R7$(2),t.JRh(e.totalOpenings?e.totalOpenings:"N/A"),t.R7$(2),t.JRh(o.getApplicants(e.id)),t.R7$(2),t.JRh(t.bMT(11,5,e.datePosted))}}function q(i,r){if(1&i&&(t.j41(0,"div",44)(1,"div",45)(2,"thead",46)(3,"tr")(4,"th"),t.EFF(5,"Index"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Designation"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Open positions"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Applicants"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Date Posted"),t.k0s()()(),t.j41(14,"tbody",46),t.DNE(15,K,12,7,"tr",47),t.k0s()()()),2&i){const e=t.XpG();t.R7$(15),t.Y8G("ngForOf",e.ongoingPostedJobs)}}function tt(i,r){1&i&&(t.j41(0,"div",49)(1,"p"),t.EFF(2,"No results found"),t.k0s()())}function et(i,r){if(1&i&&(t.j41(0,"li")(1,"a",41),t.EFF(2,"View"),t.k0s()()),2&i){const e=t.XpG(2).$implicit;t.R7$(),t.Mz_("routerLink","/job-details/",e.id,"")}}function ot(i,r){if(1&i){const e=t.RV6();t.j41(0,"li")(1,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2).$implicit,s=t.XpG();return t.Njj(s.edit(o.id))}),t.EFF(2,"Edit and Update"),t.k0s()()}}function nt(i,r){1&i&&(t.j41(0,"div",42)(1,"i",6),t.EFF(2,"verified"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Verified"),t.k0s()())}function it(i,r){1&i&&(t.j41(0,"div",43)(1,"p"),t.EFF(2,"Expired! This Ad is no longer available!"),t.k0s()())}function st(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22),t.nrm(5,"img",23),t.k0s()(),t.j41(6,"div",24)(7,"div",25),t.EFF(8),t.k0s(),t.j41(9,"div",26),t.EFF(10),t.nI1(11,"timeAgo"),t.k0s()()(),t.j41(12,"div",27)(13,"div",7)(14,"div",28)(15,"i",6),t.EFF(16,"more_horiz"),t.k0s()(),t.j41(17,"ul",9)(18,"li")(19,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.analyzeJob(o.id))}),t.EFF(20,"Analyze"),t.k0s()(),t.DNE(21,et,3,2,"li",15)(22,ot,3,0,"li",15),t.j41(23,"li")(24,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.isExpired(o.expiryDate)?s.reopen(o.id):s.close(o.id,o))}),t.EFF(25),t.k0s()(),t.j41(26,"li"),t.nrm(27,"hr",29),t.k0s(),t.j41(28,"li")(29,"a",30),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.deleteJobPost(o.id))}),t.EFF(30,"Delete"),t.k0s()()()()()(),t.nrm(31,"hr"),t.j41(32,"div",31),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.analyzeJob(o.id))}),t.j41(33,"div",32)(34,"div",33)(35,"div",34),t.EFF(36),t.k0s(),t.j41(37,"div",35),t.EFF(38),t.k0s()()()(),t.nrm(39,"hr"),t.j41(40,"div",36),t.DNE(41,nt,5,0,"div",37),t.j41(42,"div",38),t.nrm(43,"i",39),t.j41(44,"span"),t.EFF(45),t.k0s()()(),t.DNE(46,it,3,0,"div",40),t.k0s()}if(2&i){const e=t.XpG().$implicit,n=t.XpG();t.R7$(5),t.Y8G("src",null!=n.postedJobs&&n.postedJobs.companyLogo?null==n.postedJobs?null:n.postedJobs.companyLogo:"./assets/imgs/shared/default_org_logo.svg",t.B4B),t.R7$(3),t.JRh(null!=n.postedJobs&&n.postedJobs.companyName?null==n.postedJobs?null:n.postedJobs.companyName:"N/A"),t.R7$(2),t.JRh(t.bMT(11,11,e.datePosted)),t.R7$(11),t.Y8G("ngIf",!n.isExpired(e.expiryDate)),t.R7$(),t.Y8G("ngIf",!n.isExpired(e.expiryDate)),t.R7$(3),t.SpI("",n.isExpired(e.expiryDate)?"Reopen":"Close"," the Job"),t.R7$(11),t.JRh(e.title?e.title:"N/A"),t.R7$(2),t.SpI("Total Openings: ",e.totalOpenings?e.totalOpenings:"N/A",""),t.R7$(3),t.Y8G("ngIf",n.postedJobs.companyLevel>=3),t.R7$(4),t.JRh(e.location?e.location:"N/A"),t.R7$(),t.Y8G("ngIf",n.isExpired(e.expiryDate))}}function at(i,r){if(1&i&&(t.j41(0,"div",16),t.DNE(1,st,47,13,"div",17),t.k0s()),2&i){const e=t.XpG();t.Y8G("ngClass",e.gridView?"col-12 col-md-4 mb-3":"col-12"),t.R7$(),t.Y8G("ngIf",e.gridView)}}function rt(i,r){if(1&i){const e=t.RV6();t.j41(0,"tr",48),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.analyzeJob(o.id))}),t.j41(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.nI1(11,"dateFormat"),t.k0s()()}if(2&i){const e=r.$implicit,n=r.index,o=t.XpG(2);t.R7$(2),t.JRh(n+1),t.R7$(2),t.JRh(e.title?e.title:"N/A"),t.R7$(2),t.JRh(e.totalOpenings?e.totalOpenings:"N/A"),t.R7$(2),t.JRh(o.getApplicants(e.id)),t.R7$(2),t.JRh(t.bMT(11,5,e.datePosted))}}function lt(i,r){if(1&i&&(t.j41(0,"div",44)(1,"div",45)(2,"thead",46)(3,"tr")(4,"th"),t.EFF(5,"Index"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Designation"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Open positions"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Applicants"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Date Posted"),t.k0s()()(),t.j41(14,"tbody",46),t.DNE(15,rt,12,7,"tr",47),t.k0s()()()),2&i){const e=t.XpG();t.R7$(15),t.Y8G("ngForOf",e.closedPostedJobs)}}function ct(i,r){1&i&&(t.j41(0,"div",49)(1,"p"),t.EFF(2,"No results found"),t.k0s()())}function pt(i,r){1&i&&(t.j41(0,"div"),t.nrm(1,"app-failed-to-load-data"),t.k0s())}function dt(i,r){1&i&&(t.j41(0,"div"),t.nrm(1,"app-result-not-found"),t.k0s())}function mt(i,r){1&i&&(t.j41(0,"div"),t.nrm(1,"app-result-not-found"),t.k0s())}function gt(i,r){1&i&&(t.j41(0,"div"),t.nrm(1,"app-network-error"),t.k0s())}function ut(i,r){1&i&&(t.j41(0,"div"),t.nrm(1,"app-forbidden"),t.k0s())}let vt=(()=>{class i{constructor(e,n,o,s,c,g,j){this.jobApplyService=e,this.employeeService=n,this.companyService=o,this.router=s,this.route=c,this.alertService=g,this.cookieService=j,this.jobApplicants=[],this.loading=!1,this.serverError=!1,this.notFound=!1,this.forbidden=!1,this.corsError=!1,this.unexpectedError=!1,this.gridView=!0}ngOnInit(){this.companyId=this.cookieService.organization(),this.companyLevel=this.cookieService.level(),this.getCompany(this.companyId)}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(o=>{o.setAttribute("translate","no")}),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(o){return new bootstrap.Tooltip(o)})}fetchApplicants(){this.loading=!0,this.jobApplyService.fetchJobApplyByCompanyId(this.companyId).subscribe(e=>{this.jobApplicants=e?.map(n=>({...n,showAllApplicants:!1})),this.loading=!1},e=>{404===e.status?this.notFound=!0:500===e.status?this.serverError=!0:0===e.status?this.corsError=!0:403===e.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}viewCandidateProfile(e){e&&(this.router.navigate(["/candidate-profile"],{queryParams:{id:e}}),setTimeout(()=>{window.location.reload()},500))}toggleApplicants(e){e.showAllApplicants=!e.showAllApplicants}analyzeJob(e){if(e){const n=this.router.serializeUrl(this.router.createUrlTree(["/job-analysis",e]));window.open(n,"_blank")}}exportToCsv(e,n){if(!n||!n.length)return void this.alertService.warningMessage("No data to export","Warning");const o=this.datasetToCsv(n);this.downloadCsv(o,`${e}-data.csv`)}datasetToCsv(e){return[Object.keys(e[0]).join(","),...e.map(s=>Object.values(s).map(c=>`"${c}"`).join(","))].join("\n")}downloadCsv(e,n){const o=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(o),c=document.createElement("a");c.setAttribute("href",s),c.setAttribute("download",n),c.click(),window.URL.revokeObjectURL(s)}getCompany(e){this.loading=!0,this.companyService.fetchFullCompany(e).subscribe(n=>{this.company=n,this.postedJobs=n?.postedJobs[0],this.ongoingPostedJobs=this.postedJobs.postedJobs.filter(o=>!this.isExpired(o.expiryDate)),this.closedPostedJobs=this.postedJobs.postedJobs.filter(o=>this.isExpired(o.expiryDate)),this.loading=!1},n=>{404===n.status?this.notFound=!0:500===n.status?this.serverError=!0:0===n.status?this.corsError=!0:403===n.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}isExpired(e){return new Date(e)<new Date}edit(e){e&&3==this.companyLevel&&this.router.navigate(["/pro/post-job"],{relativeTo:this.route,queryParams:{id:e}})}reopen(e){parseInt(this.companyLevel)<=2?this.alertService.warningMessage("This feature is only available for verified companies","Warning"):e&&this.router.navigate(["/pro/post-job"],{relativeTo:this.route,queryParams:{id:e}})}close(e,n){e&&this.companyService.updatePostedJob(this.companyId,e,{...n,expiryDate:new Date}).subscribe(o=>{this.alertService.successMessage("Job closed successfully","Success"),this.getCompany(this.companyId),location.reload()},o=>{this.alertService.errorMessage("Job closing failed","Error")})}deleteJobPost(e){e&&this.companyService.deletePostedJob(this.companyId,e).subscribe(n=>{this.alertService.successMessage("Job deleted successfully","Success"),this.getCompany(this.companyId),location.reload()},n=>{this.alertService.errorMessage("Job deletion failed","Error")})}changeView(){this.gridView=!this.gridView}getApplicants(e){let n=0;return this.jobApplicants.forEach(o=>{o.jobId==e&&(n=o.applicants.length)}),n}sortJobs(e){this.postedJobs.postedJobs.sort((n,o)=>"asc"===e?new Date(n.datePosted).getTime()-new Date(o.datePosted).getTime():"desc"===e?new Date(o.datePosted).getTime()-new Date(n.datePosted).getTime():n.title.localeCompare(o.title))}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(v.B),t.rXU(F.O),t.rXU(P.B),t.rXU(u.Ix),t.rXU(u.nX),t.rXU(E.n),t.rXU(h.u))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-pro-applicants-db"]],decls:41,vars:13,consts:[[1,"container"],[1,"popular-jobs"],[1,"row"],[1,"col-12","heading-tag"],[1,"options"],[3,"click","ngClass"],[1,"material-icons"],[1,"dropdown"],["data-bs-toggle","dropdown","aria-expanded","false",2,"border-left","none","border-radius","0 5px 5px 0"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"btn-1",3,"click"],[3,"ngClass",4,"ngFor","ngForOf"],["class","list-view",4,"ngIf"],["class","not-found-posts",4,"ngIf"],[4,"ngIf"],[3,"ngClass"],["class","card-1",4,"ngIf"],[1,"card-1"],[1,"card-top"],[1,"card-top-left","d-flex","align-items-center"],[1,"logo-icon-wrapper"],[1,"logo-icon"],["alt","logo",3,"src"],[1,"d-flex","flex-column","align-items-start","justify-content-between"],[1,"company-name"],[1,"opens-ago"],[1,"card-top-right"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"visit-link-circle"],[1,"dropdown-divider"],[1,"dropdown-item","danger",3,"click"],[1,"card-content",3,"click"],[1,"card-content-left"],[1,"d-flex","flex-column","align-items-start"],[1,"job-title"],[1,"open-positions"],[1,"card-bottom"],["class","card-bottom-left",4,"ngIf"],[1,"card-bottom-right"],["aria-hidden","true",1,"fa","fa-map-marker"],["class","expired",4,"ngIf"],[1,"dropdown-item",3,"routerLink"],[1,"card-bottom-left"],[1,"expired"],[1,"list-view"],[1,"table","table-hover","table-borderless","w-100"],[1,"w-100"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"not-found-posts"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t.EFF(5,"Ongoing Recruitments"),t.k0s(),t.j41(6,"div",4)(7,"button",5),t.bIt("click",function(){return o.changeView()}),t.j41(8,"i",6),t.EFF(9,"grid_view"),t.k0s()(),t.j41(10,"button",5),t.bIt("click",function(){return o.changeView()}),t.j41(11,"i",6),t.EFF(12,"view_list"),t.k0s()(),t.j41(13,"div",7)(14,"button",8)(15,"i",6),t.EFF(16,"sort"),t.k0s()(),t.j41(17,"ul",9)(18,"li",10),t.bIt("click",function(){return o.sortJobs("desc")}),t.EFF(19,"Newest"),t.k0s(),t.j41(20,"li",10),t.bIt("click",function(){return o.sortJobs("asc")}),t.EFF(21,"Oldest"),t.k0s(),t.j41(22,"li",10),t.bIt("click",function(){return o.sortJobs("alpha")}),t.EFF(23,"Alphabetical"),t.k0s()()(),t.j41(24,"button",11),t.bIt("click",function(){return o.exportToCsv("posted jobs",null==o.postedJobs?null:o.postedJobs.postedJobs)}),t.EFF(25,"Export"),t.k0s()()(),t.DNE(26,Z,2,2,"div",12)(27,q,16,1,"div",13)(28,tt,3,0,"div",14),t.k0s(),t.j41(29,"div",2)(30,"div",3)(31,"h1"),t.EFF(32,"Completed Recruitments"),t.k0s()(),t.DNE(33,at,2,2,"div",12)(34,lt,16,1,"div",13)(35,ct,3,0,"div",14),t.k0s()()(),t.DNE(36,pt,2,0,"div",15)(37,dt,2,0,"div",15)(38,mt,2,0,"div",15)(39,gt,2,0,"div",15)(40,ut,2,0,"div",15)),2&n&&(t.R7$(7),t.Y8G("ngClass",o.gridView?"active":""),t.R7$(3),t.Y8G("ngClass",o.gridView?"":"active"),t.R7$(16),t.Y8G("ngForOf",o.ongoingPostedJobs),t.R7$(),t.Y8G("ngIf",!o.gridView&&o.ongoingPostedJobs.length>0),t.R7$(),t.Y8G("ngIf",0==(null==o.ongoingPostedJobs?null:o.ongoingPostedJobs.length)||!o.ongoingPostedJobs),t.R7$(5),t.Y8G("ngForOf",o.closedPostedJobs),t.R7$(),t.Y8G("ngIf",!o.gridView&&o.closedPostedJobs.length>0),t.R7$(),t.Y8G("ngIf",0==(null==o.closedPostedJobs?null:o.closedPostedJobs.length)||!o.closedPostedJobs),t.R7$(),t.Y8G("ngIf",!o.loading&&o.serverError),t.R7$(),t.Y8G("ngIf",o.notFound&&!(null!=o.company&&o.company.company)),t.R7$(),t.Y8G("ngIf",!(null!=o.postedJobs&&o.postedJobs.postedJobs)),t.R7$(),t.Y8G("ngIf",o.corsError),t.R7$(),t.Y8G("ngIf",o.forbidden&&!(null!=o.company&&o.company.company)||o.unexpectedError))},dependencies:[d.YU,d.Sq,d.bT,u.Wk,f.y,b.u,_.y,y.B,L.a,M.n],styles:[".card-1[_ngcontent-%COMP%]{width:100%;overflow-x:auto;margin:12px 0;position:relative}.card-1[_ngcontent-%COMP%]   .expired[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;min-height:16px;background-color:var(--color-danger-100);z-index:1;display:flex;align-items:center;justify-content:center;font-size:16px;padding:10px}.card-1[_ngcontent-%COMP%]   .expired[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin:0}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.danger[_ngcontent-%COMP%]{color:var(--color-danger-100)}.btn-1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:18px}.applicants-list-row[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-secondary-600)}.see-more-btn[_ngcontent-%COMP%]{cursor:pointer;border:1px solid var(--color-secondary-600);border-radius:5px;background-color:var(--color-surface-mixed-200);color:var(--color-text-200);padding:2px 8px}.see-more-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;padding:0;font-size:16px}.see-more-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-surface-mixed-300)}.danger[_ngcontent-%COMP%]{color:var(--color-danger-200)}.danger[_ngcontent-%COMP%]:hover{color:var(--color-danger-100)}.heading-tag[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;padding:22px 0}.heading-tag[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:max(20px,1.2vw)}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--color-surface-mixed-200);color:var(--color-text-200);padding:5px 10px;font-size:18px;cursor:pointer;border:1px solid var(--color-secondary-600)}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;padding:0;font-size:16px}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){border-right:none;border-radius:5px 0 0 5px}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(4){margin:0 5px}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-surface-mixed-300)}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--color-primary-200);color:#fff}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .btn-1[_ngcontent-%COMP%]{margin:0 5px;background-color:var(--color-primary-200);color:#fff;font-size:14px}.heading-tag[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .btn-1[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-300)}.list-view[_ngcontent-%COMP%]{width:100%;max-height:400px;overflow:auto}.not-found-posts[_ngcontent-%COMP%]{min-height:50vh;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:20px 0;text-align:center}.not-found-posts[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-300);font-size:16px}"]})}}return i})();var ht=a(7360),O=a(487),ft=a(1543),bt=a(9679),_t=a(7319),yt=a(8531),Ct=a(1574);function jt(i,r){if(1&i&&(t.j41(0,"div")(1,"div",1),t.nrm(2,"canvas",2),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("data",e.polarAreaChartData)("type",e.polarAreaChartType)("options",e.polarAreaChartOptions)}}function kt(i,r){1&i&&(t.j41(0,"p"),t.EFF(1,"No viewers status data available for the chart."),t.k0s())}let Ft=(()=>{class i{constructor(e){this.themeService=e,this.jobData=[],this.polarAreaChartOptions={responsive:!0,plugins:{legend:{position:"top"}}},this.polarAreaChartType="polarArea",this.polarAreaChartData={labels:[],datasets:[{data:[]}]}}ngOnInit(){this.populateChartData(),this.applyTheme()}populateChartData(){if(!this.jobData||0===this.jobData.length)return;const e={};this.jobData.forEach(s=>{s.viewers.forEach(c=>{const g=c.status||"Unknown";e[g]?e[g]++:e[g]=1})});const n=Object.keys(e),o=Object.values(e);this.polarAreaChartData.labels=n,this.polarAreaChartData.datasets[0].data=o}applyTheme(){const e=this.themeService.isDarkMode()?"#fff":"#222",n=this.themeService.isDarkMode()?"#444444":"#e0e0e0",o=this.themeService.isDarkMode()?"#333333":"#ffffff",s=this.themeService.isDarkMode()?"#fff":"#222";this.polarAreaChartOptions={responsive:!0,scales:{r:{angleLines:{color:n},grid:{color:n},pointLabels:{color:e},ticks:{color:e,backdropColor:this.themeService.isDarkMode()?"#222222":"#f9f9f9"}}},plugins:{legend:{labels:{color:e}},tooltip:{backgroundColor:o,titleColor:s,bodyColor:s}}}}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(O.F))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-viewers-status-polar-area-chart"]],inputs:{jobData:"jobData"},decls:2,vars:2,consts:[[4,"ngIf"],[2,"display","block"],["baseChart","",3,"data","type","options"]],template:function(n,o){1&n&&t.DNE(0,jt,3,3,"div",0)(1,kt,2,0,"p",0),2&n&&(t.Y8G("ngIf",o.jobData&&o.jobData.length>0),t.R7$(),t.Y8G("ngIf",0===(null==o.jobData?null:o.jobData.length)))},dependencies:[Ct.j9,d.bT]})}}return i})();var Pt=a(3359),Et=a(4939),At=a(229),Mt=a(2501);function Ot(i,r){if(1&i&&(t.j41(0,"div",5)(1,"div",6)(2,"div",7),t.EFF(3,"Applicants per Job"),t.k0s(),t.nrm(4,"app-applicants-per-job-bar-chart",8),t.k0s()()),2&i){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function Dt(i,r){if(1&i&&(t.j41(0,"div",9)(1,"div",6)(2,"div",7),t.EFF(3,"Applicant by Location"),t.k0s(),t.nrm(4,"app-applicant-location-pie-chart",8),t.k0s()()),2&i){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function xt(i,r){if(1&i&&(t.j41(0,"div",9)(1,"div",6)(2,"div",7),t.EFF(3,"Applicants by Status"),t.k0s(),t.nrm(4,"app-applicants-status-doughnut-chart",8),t.k0s()()),2&i){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function Rt(i,r){if(1&i&&(t.j41(0,"div",5)(1,"div",6)(2,"div",7),t.EFF(3,"Applicants applied Dates"),t.k0s(),t.nrm(4,"app-applicant-submission-dates-chart",8),t.k0s()()),2&i){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function $t(i,r){if(1&i&&(t.j41(0,"div",5)(1,"div",6)(2,"div",7),t.EFF(3,"Job Viewers Over Time"),t.k0s(),t.nrm(4,"app-job-viewers-over-time-line-chart",8),t.k0s()()),2&i){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function It(i,r){if(1&i&&(t.j41(0,"div",5)(1,"div",6)(2,"div",7),t.EFF(3,"Resume Download Rates"),t.k0s(),t.nrm(4,"app-resume-download-rates-chart",8),t.k0s()()),2&i){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function Gt(i,r){if(1&i&&(t.j41(0,"div",9)(1,"div",6)(2,"div",7),t.EFF(3,"Job Views by Viewer Type"),t.k0s(),t.nrm(4,"app-viewer-types-pie-chart",8),t.k0s()()),2&i){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function Tt(i,r){if(1&i&&(t.j41(0,"div",9)(1,"div",6)(2,"div",7),t.EFF(3,"Job Viewers Status"),t.k0s(),t.nrm(4,"app-viewers-status-polar-area-chart",8),t.k0s()()),2&i){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function wt(i,r){if(1&i&&(t.j41(0,"div",5)(1,"div",6)(2,"div",7),t.EFF(3,"Applicants Email Domains"),t.k0s(),t.nrm(4,"app-applicants-email-domains-chart",8),t.k0s()()),2&i){const e=t.XpG();t.R7$(4),t.Y8G("jobData",e.jobApplicants)}}function Jt(i,r){1&i&&(t.j41(0,"div"),t.nrm(1,"app-failed-to-load-data"),t.k0s())}function Yt(i,r){1&i&&(t.j41(0,"div"),t.nrm(1,"app-result-not-found"),t.k0s())}function St(i,r){1&i&&(t.j41(0,"div"),t.nrm(1,"app-network-error"),t.k0s())}function Vt(i,r){1&i&&(t.j41(0,"div"),t.nrm(1,"app-forbidden"),t.k0s())}let Xt=(()=>{class i{constructor(e,n,o,s){this.jobApplyService=e,this.router=n,this.themeService=o,this.cookieService=s,this.jobApplicants=[],this.loading=!1,this.serverError=!1,this.notFound=!1,this.forbidden=!1,this.corsError=!1,this.unexpectedError=!1}ngOnInit(){this.companyId=this.cookieService.organization(),this.fetchApplicants()}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(o=>{o.setAttribute("translate","no")}),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(o){return new bootstrap.Tooltip(o)})}fetchApplicants(){this.loading=!0,this.jobApplyService.fetchJobApplyByCompanyId(this.companyId).subscribe(e=>{this.jobApplicants=e?.map(n=>({...n,showAllApplicants:!1})),this.loading=!1},e=>{404===e.status?this.notFound=!0:500===e.status?this.serverError=!0:0===e.status?this.corsError=!0:403===e.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(v.B),t.rXU(u.Ix),t.rXU(O.F),t.rXU(h.u))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-pro-company-analysis"]],decls:17,vars:13,consts:[[1,"container"],[1,"row"],["class","col-12 col-md-6",4,"ngIf"],["class","col-12 col-md-6 col-lg-3",4,"ngIf"],[4,"ngIf"],[1,"col-12","col-md-6"],[1,"card-1"],[1,"title-1"],[3,"jobData"],[1,"col-12","col-md-6","col-lg-3"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"h3"),t.EFF(2,"Analytical Dashboard base on your company posted jobs"),t.k0s(),t.j41(3,"div",1),t.DNE(4,Ot,5,1,"div",2)(5,Dt,5,1,"div",3)(6,xt,5,1,"div",3)(7,Rt,5,1,"div",2)(8,$t,5,1,"div",2)(9,It,5,1,"div",2)(10,Gt,5,1,"div",3)(11,Tt,5,1,"div",3)(12,wt,5,1,"div",2),t.k0s()(),t.DNE(13,Jt,2,0,"div",4)(14,Yt,2,0,"div",4)(15,St,2,0,"div",4)(16,Vt,2,0,"div",4)),2&n&&(t.R7$(4),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",o.jobApplicants&&o.jobApplicants.length>0),t.R7$(),t.Y8G("ngIf",!o.loading&&o.serverError),t.R7$(),t.Y8G("ngIf",o.notFound&&!o.jobApplicants),t.R7$(),t.Y8G("ngIf",o.corsError),t.R7$(),t.Y8G("ngIf",o.forbidden&&!o.jobApplicants||o.unexpectedError))},dependencies:[d.bT,ft.A,bt.r,_t.D,yt.F,Ft,Pt.$,Et.N,At.Q,Mt.E,f.y,b.u,_.y,y.B],styles:["h3[_ngcontent-%COMP%]{margin:max(20px,3vw) 0;text-align:center}"]})}}return i})();var Nt=a(7986);const Bt=[{path:"",component:D.j,children:[{path:"",redirectTo:"/pro/overview",pathMatch:"full"},{path:"overview",component:Y,canActivate:[p.O,m.q]},{path:"personal-profile",component:S.d,canActivate:[p.O,m.q]},{path:"personal-profile-settings",component:V.a,canActivate:[p.O,m.q]},{path:"business-profile-my",component:X.Z,canActivate:[p.O,m.q]},{path:"business-profile-settings",component:N.S,canActivate:[p.O,m.q]},{path:"post-job",component:ht.h,canActivate:[p.O,m.q]},{path:"company-jobs",component:B.R,canActivate:[p.O,m.q]},{path:"applicants",component:vt,canActivate:[p.O,C.f]},{path:"company-analysis",component:Xt,canActivate:[p.O,C.f]},{path:"billing",component:Nt.X,canActivate:[p.O,C.f]}],canActivate:[p.O,m.q]}];let Lt=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(Bt),u.iI]})}}return i})();var Ut=a(7865),zt=a(3874),Ht=a(9213),Qt=a(9115),Wt=a(8834),Zt=a(882),Kt=a(1492),qt=a(4823),te=a(9845),ee=a(4847);let oe=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[d.MD,Lt,Ht.m_,Qt.Cn,Wt.Hl,l.X1,Zt.vg,Kt.MY,qt.uc,A.D6,l.YN,Ut.T,zt._,te.k,ee.p]})}}return i})()}}]);