"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[559],{559:(h,d,a)=>{a.r(d),a.d(d,{CompaniesModule:()=>G});var n=a(177),l=a(3331),c=a(467),g=a(8141),t=a(4438),s=a(3620),u=a(17),C=a(1605),m=a(4783),v=a(1505),y=a(9531),M=a(6107),x=a(68);const _=o=>({disabled:o}),O=o=>({active:o});function w(o,p){if(1&o&&(t.j41(0,"div",29)(1,"div",30)(2,"div",31)(3,"div",32)(4,"div",33),t.nrm(5,"img",34),t.k0s()()(),t.j41(6,"div",35)(7,"div",36)(8,"div",37),t.EFF(9),t.k0s(),t.j41(10,"div",38),t.EFF(11),t.nI1(12,"truncate"),t.nI1(13,"truncate"),t.k0s()()(),t.nrm(14,"hr"),t.j41(15,"div",39)(16,"div",40),t.nrm(17,"i",12),t.j41(18,"span"),t.EFF(19),t.k0s()(),t.j41(20,"div",41)(21,"div",42),t.EFF(22),t.k0s()()()()()),2&o){const e=p.$implicit,r=t.XpG();t.R7$(5),t.FS9("alt",e.name),t.Y8G("src",e.logo?e.logo:"./assets/imgs/shared/default_org_logo.svg",t.B4B),t.R7$(3),t.Mz_("routerLink","/business-profile/",e.id,""),t.R7$(),t.JRh(e.name),t.R7$(2),t.JRh(e.shortDescription?t.i5U(12,8,e.shortDescription,50):t.i5U(13,11,e.companyStory,50)),t.R7$(8),t.JRh(e.location?e.location:"N/A"),t.R7$(3),t.SpI("",r.getJobCount(e.id)," Jobs")}}function b(o,p){1&o&&(t.j41(0,"div",43)(1,"h3"),t.EFF(2,"Sorry! No results found :("),t.k0s(),t.nrm(3,"img",44),t.k0s())}function F(o,p){1&o&&(t.j41(0,"div",45)(1,"h3"),t.EFF(2,"No search results found"),t.k0s(),t.nrm(3,"img",46),t.j41(4,"p"),t.EFF(5,"Try different keywords or location"),t.k0s()())}function j(o,p){if(1&o){const e=t.RV6();t.j41(0,"li",23)(1,"a",47),t.bIt("click",function(){const i=t.eBV(e).$implicit,f=t.XpG();return t.Njj(f.changePage(i))}),t.EFF(2),t.k0s()()}if(2&o){const e=p.$implicit,r=t.XpG();t.Y8G("ngClass",t.eq3(2,O,r.currentPage===e)),t.R7$(2),t.JRh(e)}}function k(o,p){1&o&&(t.j41(0,"div"),t.nrm(1,"app-hire-card1"),t.k0s())}function E(o,p){1&o&&(t.j41(0,"div"),t.nrm(1,"app-failed-to-load-data"),t.k0s())}function I(o,p){1&o&&(t.j41(0,"div"),t.nrm(1,"app-result-not-found"),t.k0s())}function R(o,p){1&o&&(t.j41(0,"div"),t.nrm(1,"app-network-error"),t.k0s())}function T(o,p){1&o&&(t.j41(0,"div"),t.nrm(1,"app-forbidden"),t.k0s())}const D=[{path:"",component:(()=>{class o{constructor(e,r,i){this.windowService=e,this.router=r,this.companyService=i,this.filteredCompanies=[],this.paginatedCompanies=[],this.currentPage=1,this.itemsPerPage=8,this.totalPages=0,this.pageLimit=5,this.startPage=1,this.endPage=5,this.pages=[],this.isSearchResultNotFound=!1,this.jobCounts={},this.loading=!1,this.serverError=!1,this.notFound=!1,this.forbidden=!1,this.corsError=!1,this.unexpectedError=!1}ngOnInit(){var e=this;return(0,c.A)(function*(){yield e.getAllCompanies().subscribe(r=>{e.filteredCompanies=e.companyDataStore,e.sortCompaniesByType(),e.totalPages=Math.ceil(e.companyDataStore?.length/e.itemsPerPage),e.updatePaginationRange(),e.updatePaginatedCompanies(),e.prefetchJobCounts()},r=>{404===r.status?e.notFound=!0:403===r.status?e.forbidden=!0:0===r.status?e.corsError=!0:e.unexpectedError=!0})})()}ngAfterViewInit(){this.windowService.nativeDocument&&document.querySelectorAll(".material-icons").forEach(r=>{r.setAttribute("translate","no")})}getAllCompanies(){return this.loading=!0,this.companyService.fetchCompanies().pipe((0,g.M)(e=>{this.companyDataStore=e,this.loading=!1}))}sortCompaniesByType(){this.filteredCompanies?.sort((e,r)=>{const i={4:1,3:2,2:3};return i[e.companyLevel]-i[r.companyLevel]})}filterCompanies(){this.filteredCompanies=this.companyDataStore.filter(e=>{const r=!this.targetInput1||e.name?.toLowerCase().includes(this.targetInput1.toLowerCase()),i=!this.targetInput2||e.location?.toLowerCase().includes(this.targetInput2.toLowerCase());return r&&i}),this.isSearchResultNotFound=0===this.filteredCompanies.length,this.totalPages=Math.ceil(this.filteredCompanies.length/this.itemsPerPage),this.updatePaginationRange(),this.updatePaginatedCompanies()}prefetchJobCounts(){this.filteredCompanies?.forEach(e=>{this.companyService.fetchPostedJobsById(e.id).subscribe(r=>{this.jobCounts[e.id]=r[0]?.postedJobs.length||0})})}getJobCount(e){return this.jobCounts[e]??0}handleCompanySearch(e){this.targetInput1=e.value,this.filterCompanies()}handleLocationSearch(e){this.targetInput2=e.value,this.filterCompanies()}updatePaginatedCompanies(){const e=(this.currentPage-1)*this.itemsPerPage,r=e+this.itemsPerPage;this.paginatedCompanies=this.filteredCompanies?.filter(i=>null!==i.name)?.slice(e,r)}changePage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.updatePaginationRange(),this.updatePaginatedCompanies())}updatePaginationRange(){this.currentPage<=this.pageLimit?(this.startPage=1,this.endPage=Math.min(this.pageLimit,this.totalPages)):this.currentPage+this.pageLimit-1<=this.totalPages?(this.startPage=this.currentPage,this.endPage=Math.min(this.currentPage+this.pageLimit-1,this.totalPages)):(this.startPage=this.totalPages-this.pageLimit+1,this.endPage=this.totalPages),this.pages=Array.from({length:this.endPage-this.startPage+1},(e,r)=>r+this.startPage)}moveToRegister(){this.router.navigate(["/register"],{queryParams:{from:"companies"}})}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(s.s),t.rXU(l.Ix),t.rXU(u.B))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-companies"]],decls:41,vars:15,consts:[[1,"top-banner"],[1,"curved-div"],[1,"overlay"],[1,"d-flex","align-items-center","justify-content-center","flex-column","w-100","h100","banner-cont"],[1,"d-flex","align-items-center","justify-content-center","w-100"],[1,"search-box"],[1,"d-md-flex","align-items-center","justify-content-center"],[1,"d-sm-flex","align-items-center","justify-content-center","w-100"],[1,"search-items"],["aria-hidden","true",1,"fa","fa-building"],["type","text","placeholder","Search Company",3,"keyup"],[1,"d-none","d-sm-flex","vr-line"],["aria-hidden","true",1,"fa","fa-map-marker"],["type","text","placeholder","Location",3,"keyup"],[1,"search-button"],[1,"container"],[1,"popular-companies"],[1,"row"],["class","col-12 col-sm-6 col-md-6 col-lg-3 mb-4 pt-4",4,"ngFor","ngForOf"],["class","no-results-found",4,"ngIf"],["class","search-result-not-found",4,"ngIf"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item",3,"ngClass"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[4,"ngIf"],[1,"col-12","col-sm-6","col-md-6","col-lg-3","mb-4","pt-4"],[1,"card-2"],[1,"card-top"],[1,"logo-icon-wrapper"],[1,"logo-icon"],[3,"src","alt"],[1,"card-content"],[1,"d-flex","flex-column","align-items-start"],[1,"company-name",3,"routerLink"],[1,"company-description"],[1,"card-bottom"],[1,"card-bottom-right"],[1,"card-bottom-left"],[1,"open-jobs"],[1,"no-results-found"],["src","./assets/imgs/shared/not-found.svg","alt","404"],[1,"search-result-not-found"],["src","./assets/imgs/shared/result_not_found.svg","alt","404"],[1,"page-link",3,"click"]],template:function(r,i){1&r&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"div",2),t.k0s(),t.j41(3,"div",3)(4,"h1"),t.EFF(5,"Companies for you"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),t.nrm(11,"i",9),t.j41(12,"input",10),t.bIt("keyup",function(P){return i.handleCompanySearch(P.target)}),t.k0s()(),t.nrm(13,"div",11),t.j41(14,"div",8),t.nrm(15,"i",12),t.j41(16,"input",13),t.bIt("keyup",function(P){return i.handleLocationSearch(P.target)}),t.k0s()()(),t.j41(17,"button",14),t.EFF(18,"Search"),t.k0s()()()()(),t.j41(19,"div",15)(20,"div",16)(21,"div",17),t.DNE(22,w,23,14,"div",18)(23,b,4,0,"div",19)(24,F,6,0,"div",20),t.k0s(),t.j41(25,"nav",21)(26,"ul",22)(27,"li",23)(28,"a",24),t.bIt("click",function(){return i.changePage(i.currentPage-1)}),t.j41(29,"span",25),t.EFF(30,"\xab"),t.k0s()()(),t.DNE(31,j,3,4,"li",26),t.j41(32,"li",23)(33,"a",27),t.bIt("click",function(){return i.changePage(i.currentPage+1)}),t.j41(34,"span",25),t.EFF(35,"\xbb"),t.k0s()()()()()(),t.DNE(36,k,2,0,"div",28)(37,E,2,0,"div",28)(38,I,2,0,"div",28)(39,R,2,0,"div",28)(40,T,2,0,"div",28),t.k0s()),2&r&&(t.R7$(22),t.Y8G("ngForOf",i.paginatedCompanies),t.R7$(),t.Y8G("ngIf",(null==i.companyDataStore?null:i.companyDataStore.length)<=0),t.R7$(),t.Y8G("ngIf",i.isSearchResultNotFound&&(null==i.companyDataStore?null:i.companyDataStore.length)>0),t.R7$(3),t.Y8G("ngClass",t.eq3(11,_,1===i.currentPage)),t.R7$(4),t.Y8G("ngForOf",i.pages),t.R7$(),t.Y8G("ngClass",t.eq3(13,_,i.currentPage===i.totalPages)),t.R7$(4),t.Y8G("ngIf",void 0===i.targetInput1&&void 0===i.targetInput2),t.R7$(),t.Y8G("ngIf",!i.loading&&i.serverError),t.R7$(),t.Y8G("ngIf",i.notFound&&!i.filteredCompanies),t.R7$(),t.Y8G("ngIf",i.corsError),t.R7$(),t.Y8G("ngIf",i.forbidden&&!i.filteredCompanies||i.unexpectedError))},dependencies:[n.YU,n.Sq,n.bT,l.Wk,C.V,m.y,v.u,y.y,M.B,x.H],styles:[".search-box[_ngcontent-%COMP%]{width:100%;max-width:600px;min-height:60px;background-color:var(--color-surface-mixed-100);border-radius:5px;border:2px solid var(--color-surface-mixed-300);padding:10px;position:absolute;bottom:40px;z-index:9}.search-box[_ngcontent-%COMP%]   .vr-line[_ngcontent-%COMP%]{width:2px;height:40px;background-color:var(--color-code-100)}.search-box[_ngcontent-%COMP%]   .search-items[_ngcontent-%COMP%]{width:100%;height:60px;background-color:var(--color-surface-mixed-300);display:flex;align-items:center;justify-content:space-between;padding:0 10px}.search-box[_ngcontent-%COMP%]   .search-items[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:var(--color-primary-200)}.search-box[_ngcontent-%COMP%]   .search-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;border:none;outline:none;background-color:var(--color-surface-mixed-300);color:var(--color-text-100);padding:0 10px}.search-box[_ngcontent-%COMP%]   .search-items[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--color-text-500)}@media screen and (max-width: 768px){.search-box[_ngcontent-%COMP%]   .search-items[_ngcontent-%COMP%]{margin-bottom:12px}}.search-box[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]{height:60px;padding:0 20px;background-color:var(--color-primary-100);color:#fff;font-weight:500;outline:none;border:none;transition:all .3s ease-in-out}@media screen and (max-width: 768px){.search-box[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]{border-radius:5px;width:100%}}.spec-card-1[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-highlight-100);font-weight:550;text-decoration:underline}"]})}}return o})()}];let S=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[l.iI.forChild(D),l.iI]})}}return o})();var L=a(7865),B=a(5585),$=a(4847);let G=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[n.MD,S,L.T,B.I,$.p]})}}return o})()},4783:(h,d,a)=>{a.d(d,{y:()=>t});var n=a(4438),l=a(3331),c=a(177);function g(s,u){1&s&&(n.j41(0,"div",1)(1,"div",2)(2,"div",3),n.nrm(3,"img",4),n.k0s()(),n.j41(4,"h4"),n.EFF(5,"Server Error Occurred."),n.k0s(),n.j41(6,"p"),n.EFF(7,"Please try again later."),n.k0s(),n.j41(8,"button",5),n.EFF(9,"Search for Jobs"),n.k0s()())}let t=(()=>{class s{constructor(){this.delay=1e3,this.isVisible=!1}ngOnInit(){setTimeout(()=>{this.isVisible=!0},this.delay)}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(m=>{m.setAttribute("translate","no")})}static{this.\u0275fac=function(m){return new(m||s)}}static{this.\u0275cmp=n.VBU({type:s,selectors:[["app-failed-to-load-data"]],decls:1,vars:1,consts:[["class","failed-wrapper",4,"ngIf"],[1,"failed-wrapper"],[1,"py-3","px-2","px-md-4","px-lg-6"],[1,"img-wrapper"],["src","./assets/imgs/shared/server-error.svg","alt","server error"],["routerLink","/job",1,"btn-2","mb-2"]],template:function(m,v){1&m&&n.DNE(0,g,10,0,"div",0),2&m&&n.Y8G("ngIf",v.isVisible)},dependencies:[l.Wk,c.bT],styles:[".failed-wrapper[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 60px);display:flex;align-items:center;justify-content:center;flex-direction:column;padding:15px;position:absolute;inset:0;background-color:var(--color-surface-mixed-100);z-index:99}.failed-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{width:150px;height:150px;display:flex;align-items:center;justify-content:center;margin-bottom:15px}.failed-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.failed-wrapper[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .failed-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .failed-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:15px}"]})}}return s})()},6107:(h,d,a)=>{a.d(d,{B:()=>l});var n=a(4438);let l=(()=>{class c{static{this.\u0275fac=function(s){return new(s||c)}}static{this.\u0275cmp=n.VBU({type:c,selectors:[["app-forbidden"]],decls:9,vars:0,consts:[[1,"forbidden-wrapper"],[1,"d-flex","align-items-center","justify-content-center"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"img-wrapper"],["src","./assets/imgs/shared/403.svg","alt","forbidden"],[1,"caption"],[1,"value"]],template:function(s,u){1&s&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),n.nrm(4,"img",4),n.k0s(),n.j41(5,"div",5),n.EFF(6,"Seems like you don't have permission to access this page :("),n.k0s(),n.j41(7,"div",6),n.EFF(8,"403"),n.k0s()()()())},styles:[".forbidden-wrapper[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 60px);display:flex;align-items:center;justify-content:center;flex-direction:column}.forbidden-wrapper[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--color-text-300)}.forbidden-wrapper[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:48px;font-weight:600;color:var(--color-text-100)}.forbidden-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{width:200px;height:200px}.forbidden-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}"]})}}return c})()},9531:(h,d,a)=>{a.d(d,{y:()=>l});var n=a(4438);let l=(()=>{class c{static{this.\u0275fac=function(s){return new(s||c)}}static{this.\u0275cmp=n.VBU({type:c,selectors:[["app-network-error"]],decls:9,vars:0,consts:[[1,"network-error"],[1,"d-flex","align-items-center","justify-content-center"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"img-wrapper"],["src","./assets/imgs/shared/network-error.svg","alt","network error"],[1,"caption"],[1,"value"]],template:function(s,u){1&s&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),n.nrm(4,"img",4),n.k0s(),n.j41(5,"div",5),n.EFF(6,"Network Error :("),n.k0s(),n.j41(7,"div",6),n.EFF(8,"0/503"),n.k0s()()()())},styles:[".network-error[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 60px);display:flex;align-items:center;justify-content:center;flex-direction:column}.network-error[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{width:200px;height:200px}.network-error[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.network-error[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333}.network-error[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:48px;font-weight:600;color:#333}"]})}}return c})()},1505:(h,d,a)=>{a.d(d,{u:()=>l});var n=a(4438);let l=(()=>{class c{static{this.\u0275fac=function(s){return new(s||c)}}static{this.\u0275cmp=n.VBU({type:c,selectors:[["app-result-not-found"]],decls:9,vars:0,consts:[[1,"result-not-found"],[1,"d-flex","align-items-center","justify-content-center"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"img-wrapper"],["src","./assets/imgs/shared/result-not-found.svg","alt","result not found"],[1,"caption"],[1,"value"]],template:function(s,u){1&s&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),n.nrm(4,"img",4),n.k0s(),n.j41(5,"div",5),n.EFF(6,"Result Not Found :("),n.k0s(),n.j41(7,"div",6),n.EFF(8,"404"),n.k0s()()()())},styles:[".result-not-found[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 60px);display:flex;align-items:center;justify-content:center;flex-direction:column}.result-not-found[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--color-text-300)}.result-not-found[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:48px;font-weight:600;color:var(--color-text-100)}.result-not-found[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{width:200px;height:200px}.result-not-found[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}"]})}}return c})()},5585:(h,d,a)=>{a.d(d,{I:()=>c});var n=a(7865),l=a(4438);let c=(()=>{class g{static{this.\u0275fac=function(u){return new(u||g)}}static{this.\u0275mod=l.$C({type:g})}static{this.\u0275inj=l.G2t({imports:[n.T]})}}return g})()}}]);