"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[638],{9931:(w,y,c)=>{c.d(y,{e:()=>b});var n=c(4650);let b=(()=>{class t{transform(p){const d=new Date(p).getTime(),C=Date.now()-d,u=Math.floor(C/1e3),v=Math.floor(u/60),e=Math.floor(v/60),s=Math.floor(e/24);return s>0?1===s?"1 day ago":`${s} days ago`:e>0?1===e?"1 hour ago":`${e} hours ago`:v>0?1===v?"1 minute ago":`${v} minutes ago`:"Just now"}static#t=this.\u0275fac=function(d){return new(d||t)};static#e=this.\u0275pipe=n.Yjl({name:"timeAgo",type:t,pure:!0})}return t})()},4638:(w,y,c)=>{c.r(y),c.d(y,{CompanyJobsModule:()=>I});var n=c(6895),b=c(1779),t=c(4650),l=c(6196),p=c(4416),d=c(6613),f=c(3378),C=c(9931);function u(r,J){1&r&&t._UZ(0,"div")}function v(r,J){1&r&&(t.TgZ(0,"div",37)(1,"i",38),t._uU(2,"verified"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Verified"),t.qZA()())}function e(r,J){if(1&r){const i=t.EpF();t.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19),t._UZ(5,"img",20),t.qZA()(),t.TgZ(6,"div",21)(7,"div",22),t._uU(8),t.qZA(),t.TgZ(9,"div",23),t._uU(10),t.ALo(11,"timeAgo"),t.qZA()()(),t.TgZ(12,"div",24)(13,"div",25),t.NdJ("click",function(){t.CHM(i);const h=t.oxw().$implicit,g=t.oxw();return t.KtG(g.userSavedIds.includes(h.id)?g.removeFav(h.id):g.saveFav(h.id))}),t.TgZ(14,"i",26),t._uU(15,"favorite_border"),t.qZA()()()(),t._UZ(16,"hr"),t.TgZ(17,"div",27)(18,"div",28)(19,"div",29)(20,"div",30),t._uU(21),t.qZA(),t.TgZ(22,"div",31),t._uU(23),t.qZA()()()(),t._UZ(24,"hr"),t.TgZ(25,"div",32),t.YNc(26,u,1,0,"div",33),t.YNc(27,v,5,0,"div",34),t.TgZ(28,"div",35),t._UZ(29,"i",36),t.TgZ(30,"span"),t._uU(31),t.qZA()()()()}if(2&r){const i=t.oxw().$implicit,o=t.oxw();t.xp6(5),t.s9C("alt",i.companyName),t.Q6J("src",null!=o.postedJobs&&o.postedJobs.companyLogo?null==o.postedJobs?null:o.postedJobs.companyLogo:"./assets/imgs/shared/default_org_logo.svg",t.LSH),t.xp6(3),t.Oqu(null!=o.postedJobs&&o.postedJobs.companyName?null==o.postedJobs?null:o.postedJobs.companyName:"N/A"),t.xp6(2),t.Oqu(t.lcZ(11,11,i.datePosted)),t.xp6(4),t.Q6J("ngClass",o.userSavedIds.includes(i.id)?"liked":""),t.xp6(6),t.MGl("routerLink","/job-details/",i.id,""),t.xp6(1),t.Oqu(i.title),t.xp6(2),t.hij("Total Openings: ",i.totalOpenings,""),t.xp6(3),t.Q6J("ngIf","3"!=i.companyLevel||"4"!=i.companyLevel),t.xp6(1),t.Q6J("ngIf","3"==i.companyLevel||"4"==i.companyLevel),t.xp6(4),t.Oqu(i.location)}}function s(r,J){if(1&r&&(t.TgZ(0,"div",13),t.YNc(1,e,32,13,"div",14),t.qZA()),2&r){const i=J.$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.isExpired(i.expiryDate))}}const m=[{path:"",component:(()=>{class r{constructor(i,o,h,g,M){this.router=i,this.companyService=o,this.employeeService=h,this.alertService=g,this.cookieService=M,this.userSavedIds=[],this.loading=!1,this.serverError=!1,this.notFound=!1,this.forbidden=!1,this.corsError=!1,this.unexpectedError=!1}ngOnInit(){this.employeeId=this.cookieService.userID(),this.companyId=this.router.url.split("/")[2],this.getCompany(this.companyId),this.getEmployee(this.employeeId)}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(o=>{o.setAttribute("translate","no")})}getCompany(i){this.loading=!0,this.companyService.fetchFullCompany(i).subscribe(o=>{this.company=o,this.postedJobs=o?.postedJobs[0],this.loading=!1},o=>{404===o.status?this.notFound=!0:500===o.status?this.serverError=!0:0===o.status?this.corsError=!0:403===o.status?this.forbidden=!0:this.unexpectedError=!0,this.loading=!1})}getEmployee(i){this.employeeService.fetchFullEmployee(i).subscribe(o=>{this.employee=o,this.userSavedIds=this.employee?.employee?.savedJobs?.map(h=>h.jobId)},o=>{this.alertService.warningMessage("Please Login First to Apply Jobs","Reminder")})}moveToRegister(){this.router.navigate(["/register"],{queryParams:{from:"companies"}})}saveFav(i){null!=this.employeeId?this.employeeService.saveFavJobs(this.employeeId,{jobId:i,status:"saved"}).subscribe(o=>{this.getEmployee(this.employeeId),this.getCompany(this.companyId),this.alertService.successMessage("Job Saved Successfully","Success")},o=>{this.alertService.errorMessage("Something went wrong. Please try again","Error")}):this.alertService.warningMessage("Please Login First to Save Jobs","Reminder")}removeFav(i){null!=this.employeeId?this.employeeService.removeFavJobs(this.employeeId,i).subscribe(o=>{this.getEmployee(this.employeeId),this.getCompany(this.companyId),this.alertService.successMessage("Job Removed Successfully","Success")},o=>{this.alertService.errorMessage("Something went wrong. Please try again","Error")}):this.alertService.warningMessage("Please Login First to Save Jobs","Reminder")}isExpired(i){return new Date(i)>new Date}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(b.F0),t.Y36(l.J),t.Y36(p.G),t.Y36(d.m),t.Y36(f.e))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-company-jobs"]],decls:26,vars:1,consts:[[1,"top-banner"],[1,"curved-div"],[1,"overlay"],[1,"d-flex","align-items-center","justify-content-center","flex-column","w-100","h100","banner-cont"],[1,"container"],[1,"spec-card-1"],[1,"d-md-flex","align-items-center","justify-content-between","w-100"],[1,"title"],[1,"sub-title"],[1,"btn-1",3,"click"],[1,"popular-jobs"],[1,"row"],["class","col-12 col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","mb-3"],["class","card-1",4,"ngIf"],[1,"card-1"],[1,"card-top"],[1,"card-top-left","d-flex","align-items-center"],[1,"logo-icon-wrapper"],[1,"logo-icon"],[3,"src","alt"],[1,"d-flex","flex-column","align-items-start","justify-content-between"],[1,"company-name"],[1,"opens-ago"],[1,"card-top-right"],[1,"visit-link-circle",3,"click"],[1,"material-icons",3,"ngClass"],[1,"card-content"],[1,"card-content-left"],[1,"d-flex","flex-column","align-items-start"],[1,"job-title",3,"routerLink"],[1,"open-positions"],[1,"card-bottom"],[4,"ngIf"],["class","card-bottom-left",4,"ngIf"],[1,"card-bottom-right"],["aria-hidden","true",1,"fa","fa-map-marker"],[1,"card-bottom-left"],[1,"material-icons"]],template:function(o,h){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.qZA(),t.TgZ(3,"div",3)(4,"h1"),t._uU(5,"Open Positions"),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Talent Boozt > Company > "),t.TgZ(8,"span"),t._uU(9,"Positions"),t.qZA()()()(),t.TgZ(10,"div",4)(11,"div",5)(12,"div",6)(13,"div")(14,"div",7),t._uU(15," Are you looking for employees? "),t.qZA(),t.TgZ(16,"div",8),t._uU(17," Start to post your jobs "),t.TgZ(18,"span"),t._uU(19,"FREE"),t.qZA(),t._uU(20," today! "),t.qZA()(),t.TgZ(21,"button",9),t.NdJ("click",function(){return h.moveToRegister()}),t._uU(22,"Get Started"),t.qZA()()(),t.TgZ(23,"div",10)(24,"div",11),t.YNc(25,s,2,1,"div",12),t.qZA()()()),2&o&&(t.xp6(25),t.Q6J("ngForOf",null==h.postedJobs?null:h.postedJobs.postedJobs))},dependencies:[n.mk,n.sg,n.O5,b.rH,C.e],styles:[".spec-card-1[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-highlight-100);font-weight:550;text-decoration:underline}"]})}return r})()}];let _=(()=>{class r{static#t=this.\u0275fac=function(o){return new(o||r)};static#e=this.\u0275mod=t.oAB({type:r});static#s=this.\u0275inj=t.cJS({imports:[b.Bz.forChild(m),b.Bz]})}return r})();var A=c(5829);let I=(()=>{class r{static#t=this.\u0275fac=function(o){return new(o||r)};static#e=this.\u0275mod=t.oAB({type:r});static#s=this.\u0275inj=t.cJS({imports:[n.ez,_,A.D]})}return r})()},6196:(w,y,c)=>{c.d(y,{J:()=>C});var n=c(529),b=c(2340),t=c(1135),l=c(8505),p=c(262),d=c(2843),f=c(4650);let C=(()=>{class u{constructor(e){this.http=e,this.baseUrl=b.N.apiUrl,this.companySubject=new t.X(null),this.company$=this.companySubject.asObservable(),this.companiesSubject=new t.X(null),this.companies$=this.companiesSubject.asObservable(),this.postedJobsSubject=new t.X(null),this.postedJobs$=this.postedJobsSubject.asObservable(),this.cacheInitialized=!1,this.companiesCacheInitialized=!1,this.postedJobsCacheInitialized=!1}fetchCompanies(){const e=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.companiesCacheInitialized||this.http.get(`${this.baseUrl}/company/all`,{headers:e}).subscribe(s=>{this.companiesSubject.next(s),this.companiesCacheInitialized=!0}),this.companies$}getCompany(e){const s=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.get(`${this.baseUrl}/company/get/${e}`,{headers:s})}getCompaniesByType(e){const s=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.get(`${this.baseUrl}/company/getByType/${e}`,{headers:s})}fetchFullCompany(e){const s=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.cacheInitialized?this.company$:this.http.get(`${this.baseUrl}/batch/async/getCompany/${e}`,{headers:s}).pipe((0,l.b)(a=>{this.companySubject.next(a),this.cacheInitialized=!0}))}updateCompany(e){const s=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/company/update`,e,{headers:s}).subscribe(a=>{this.clearCache(),this.fetchFullCompany(e.id)}),this.company$}updateLogoPic(e){const s=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/company/update/updateLogo`,e,{headers:s}).subscribe(a=>{this.clearCache(),this.fetchFullCompany(e.id)}),this.company$}updateCoverPic(e){const s=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/company/update/updateCover`,e,{headers:s}).subscribe(a=>{this.clearCache(),this.fetchFullCompany(e.id)}),this.company$}updateThumb1Pic(e){const s=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/company/update/updateThumb1`,e,{headers:s}).subscribe(a=>{this.clearCache(),this.fetchFullCompany(e.id)}),this.company$}updateThumb2Pic(e){const s=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/company/update/updateThumb2`,e,{headers:s}).subscribe(a=>{this.clearCache(),this.fetchFullCompany(e.id)}),this.company$}updateThumb3Pic(e){const s=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/company/update/updateThumb3`,e,{headers:s}).subscribe(a=>{this.clearCache(),this.fetchFullCompany(e.id)}),this.company$}addSocial(e){const s=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(`${this.baseUrl}/cmp_socials/add`,e,{headers:s}).pipe((0,l.b)(a=>{this.clearCache(),this.fetchFullCompany(e.companyId)}),(0,p.K)(a=>(0,d._)(a)))}editSocial(e,s){const a=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/cmp_socials/edit-single/${e}`,s,{headers:a}).pipe((0,l.b)(m=>{this.clearCache(),this.fetchFullCompany(s.companyId)}),(0,p.K)(m=>(0,d._)(m)))}updateNotifications(e){const s=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/company/update/notifications`,e,{headers:s}).subscribe(a=>{}),this.company$}deleteCompany(e){const s=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.delete(`${this.baseUrl}/company/delete/${e}`,{headers:s}).pipe((0,l.b)(a=>{this.clearCache(),this.fetchCompanies()}),(0,p.K)(a=>(0,d._)(a)))}addJobPost(e){const s=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(`${this.baseUrl}/cmp_posted_jobs/add`,e,{headers:s}).pipe((0,l.b)(a=>{this.clearCache(),this.fetchFullCompany(e.companyId)}),(0,p.K)(a=>(0,d._)(a)))}fetchPostedJobsById(e){const s=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.get(`${this.baseUrl}/cmp_posted_jobs/getByCompanyId/${e}`,{headers:s}).pipe((0,l.b)(a=>{this.clearCache(),this.fetchFullCompany(e)}),(0,p.K)(a=>(0,d._)(a)))}fetchAllPostedJobs(){const e=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.postedJobsCacheInitialized?this.postedJobs$:this.http.get(`${this.baseUrl}/cmp_posted_jobs/getAll`,{headers:e}).pipe((0,l.b)(s=>{this.postedJobsSubject.next(s),this.postedJobsCacheInitialized=!0}),(0,p.K)(s=>(0,d._)(s)))}getPostedJob(e,s){const a=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.get(`${this.baseUrl}/cmp_posted_jobs/getByCompanyId/${e}/postedJob/${s}`,{headers:a})}updatePostedJob(e,s,a){const m=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/cmp_posted_jobs/updateByCompanyId/${e}/postedJob/${s}`,a,{headers:m}).pipe((0,l.b)(_=>{this.clearPostedJobsCache(),this.fetchFullCompany(a.companyId)}),(0,p.K)(_=>(0,d._)(_)))}deletePostedJob(e,s){const a=new n.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.delete(`${this.baseUrl}/cmp_posted_jobs/deleteByCompanyId/${e}/postedJob/${s}`,{headers:a}).pipe((0,l.b)(m=>{this.clearPostedJobsCache(),this.fetchFullCompany(e)}),(0,p.K)(m=>(0,d._)(m)))}clearCache(){this.cacheInitialized=!1,this.companySubject.next(null)}clearPostedJobsCache(){this.postedJobsCacheInitialized=!1,this.postedJobsSubject.next(null)}clearCompaniesCache(){this.companiesCacheInitialized=!1,this.companiesSubject.next(null)}static#t=this.\u0275fac=function(s){return new(s||u)(f.LFG(n.eN))};static#e=this.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()}}]);