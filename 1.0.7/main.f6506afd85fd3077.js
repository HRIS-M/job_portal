(self.webpackChunkclient=self.webpackChunkclient||[]).push([[179],{2090:(wt,Ne,_)=>{"use strict";_.d(Ne,{BH:()=>Ee,G6:()=>Ce,L:()=>K,LL:()=>ve,Pz:()=>de,Rd:()=>ne,Sg:()=>je,UG:()=>ut,ZB:()=>V,ZR:()=>W,aH:()=>pe,b$:()=>lt,eu:()=>Fe,hl:()=>Oe,jU:()=>Ue,m9:()=>Nn,n2:()=>ct,ne:()=>yt,pd:()=>Qt,r3:()=>qn,ru:()=>kt,tV:()=>Y,uI:()=>Xe,vZ:()=>re,w1:()=>jt,xO:()=>It,xb:()=>Mn,z$:()=>ke,zd:()=>Mt});const O=function(Ze){const Ve=[];let Je=0;for(let Rt=0;Rt<Ze.length;Rt++){let dt=Ze.charCodeAt(Rt);dt<128?Ve[Je++]=dt:dt<2048?(Ve[Je++]=dt>>6|192,Ve[Je++]=63&dt|128):55296==(64512&dt)&&Rt+1<Ze.length&&56320==(64512&Ze.charCodeAt(Rt+1))?(dt=65536+((1023&dt)<<10)+(1023&Ze.charCodeAt(++Rt)),Ve[Je++]=dt>>18|240,Ve[Je++]=dt>>12&63|128,Ve[Je++]=dt>>6&63|128,Ve[Je++]=63&dt|128):(Ve[Je++]=dt>>12|224,Ve[Je++]=dt>>6&63|128,Ve[Je++]=63&dt|128)}return Ve},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ze,Ve){if(!Array.isArray(Ze))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Je=Ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,Rt=[];for(let dt=0;dt<Ze.length;dt+=3){const et=Ze[dt],X=dt+1<Ze.length,N=X?Ze[dt+1]:0,D=dt+2<Ze.length,z=D?Ze[dt+2]:0;let at=(15&N)<<2|z>>6,gt=63&z;D||(gt=64,X||(at=64)),Rt.push(Je[et>>2],Je[(3&et)<<4|N>>4],Je[at],Je[gt])}return Rt.join("")},encodeString(Ze,Ve){return this.HAS_NATIVE_SUPPORT&&!Ve?btoa(Ze):this.encodeByteArray(O(Ze),Ve)},decodeString(Ze,Ve){return this.HAS_NATIVE_SUPPORT&&!Ve?atob(Ze):function(Ze){const Ve=[];let Je=0,Rt=0;for(;Je<Ze.length;){const dt=Ze[Je++];if(dt<128)Ve[Rt++]=String.fromCharCode(dt);else if(dt>191&&dt<224){const et=Ze[Je++];Ve[Rt++]=String.fromCharCode((31&dt)<<6|63&et)}else if(dt>239&&dt<365){const D=((7&dt)<<18|(63&Ze[Je++])<<12|(63&Ze[Je++])<<6|63&Ze[Je++])-65536;Ve[Rt++]=String.fromCharCode(55296+(D>>10)),Ve[Rt++]=String.fromCharCode(56320+(1023&D))}else{const et=Ze[Je++],X=Ze[Je++];Ve[Rt++]=String.fromCharCode((15&dt)<<12|(63&et)<<6|63&X)}}return Ve.join("")}(this.decodeStringToByteArray(Ze,Ve))},decodeStringToByteArray(Ze,Ve){this.init_();const Je=Ve?this.charToByteMapWebSafe_:this.charToByteMap_,Rt=[];for(let dt=0;dt<Ze.length;){const et=Je[Ze.charAt(dt++)],N=dt<Ze.length?Je[Ze.charAt(dt)]:0;++dt;const z=dt<Ze.length?Je[Ze.charAt(dt)]:64;++dt;const Pe=dt<Ze.length?Je[Ze.charAt(dt)]:64;if(++dt,null==et||null==N||null==z||null==Pe)throw new ie;Rt.push(et<<2|N>>4),64!==z&&(Rt.push(N<<4&240|z>>2),64!==Pe&&Rt.push(z<<6&192|Pe))}return Rt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ze=0;Ze<this.ENCODED_VALS.length;Ze++)this.byteToCharMap_[Ze]=this.ENCODED_VALS.charAt(Ze),this.charToByteMap_[this.byteToCharMap_[Ze]]=Ze,this.byteToCharMapWebSafe_[Ze]=this.ENCODED_VALS_WEBSAFE.charAt(Ze),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ze]]=Ze,Ze>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ze)]=Ze,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ze)]=Ze)}}};class ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K=function(Ze){return function(Ze){const Ve=O(Ze);return ee.encodeByteArray(Ve,!0)}(Ze).replace(/\./g,"")},Y=function(Ze){try{return ee.decodeString(Ze,!0)}catch(Ve){console.error("base64Decode failed: ",Ve)}return null};function V(Ze,Ve){if(!(Ve instanceof Object))return Ve;switch(Ve.constructor){case Date:return new Date(Ve.getTime());case Object:void 0===Ze&&(Ze={});break;case Array:Ze=[];break;default:return Ve}for(const Je in Ve)!Ve.hasOwnProperty(Je)||!Z(Je)||(Ze[Je]=V(Ze[Je],Ve[Je]));return Ze}function Z(Ze){return"__proto__"!==Ze}function ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oe=()=>{try{return ne().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ze=process.env.__FIREBASE_DEFAULTS__;return Ze?JSON.parse(Ze):void 0})()||(()=>{if(typeof document>"u")return;let Ze;try{Ze=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ve=Ze&&Y(Ze[1]);return Ve&&JSON.parse(Ve)})()}catch(Ze){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ze}`)}},pe=()=>{var Ze;return null===(Ze=oe())||void 0===Ze?void 0:Ze.config},de=Ze=>{var Ve;return null===(Ve=oe())||void 0===Ve?void 0:Ve[`_${Ze}`]};class Ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ve,Je)=>{this.resolve=Ve,this.reject=Je})}wrapCallback(Ve){return(Je,Rt)=>{Je?this.reject(Je):this.resolve(Rt),"function"==typeof Ve&&(this.promise.catch(()=>{}),1===Ve.length?Ve(Je):Ve(Je,Rt))}}}function je(Ze,Ve){if(Ze.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Rt=Ve||"demo-project",dt=Ze.iat||0,et=Ze.sub||Ze.user_id;if(!et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const X=Object.assign({iss:`https://securetoken.google.com/${Rt}`,aud:Rt,iat:dt,exp:dt+3600,auth_time:dt,sub:et,user_id:et,firebase:{sign_in_provider:"custom",identities:{}}},Ze);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(X)),""].join(".")}function ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function ut(){var Ze;const Ve=null===(Ze=oe())||void 0===Ze?void 0:Ze.forceEnvironment;if("node"===Ve)return!0;if("browser"===Ve)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ue(){return typeof window<"u"||ct()}function ct(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function kt(){const Ze="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ze&&void 0!==Ze.id}function lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function jt(){const Ze=ke();return Ze.indexOf("MSIE ")>=0||Ze.indexOf("Trident/")>=0}function Ce(){return!ut()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function Fe(){return new Promise((Ze,Ve)=>{try{let Je=!0;const Rt="validate-browser-context-for-indexeddb-analytics-module",dt=self.indexedDB.open(Rt);dt.onsuccess=()=>{dt.result.close(),Je||self.indexedDB.deleteDatabase(Rt),Ze(!0)},dt.onupgradeneeded=()=>{Je=!1},dt.onerror=()=>{var et;Ve((null===(et=dt.error)||void 0===et?void 0:et.message)||"")}}catch(Je){Ve(Je)}})}class W extends Error{constructor(Ve,Je,Rt){super(Je),this.code=Ve,this.customData=Rt,this.name="FirebaseError",Object.setPrototypeOf(this,W.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ve.prototype.create)}}class ve{constructor(Ve,Je,Rt){this.service=Ve,this.serviceName=Je,this.errors=Rt}create(Ve,...Je){const Rt=Je[0]||{},dt=`${this.service}/${Ve}`,et=this.errors[Ve],X=et?function R(Ze,Ve){return Ze.replace(Se,(Je,Rt)=>{const dt=Ve[Rt];return null!=dt?String(dt):`<${Rt}?>`})}(et,Rt):"Error";return new W(dt,`${this.serviceName}: ${X} (${dt}).`,Rt)}}const Se=/\{\$([^}]+)}/g;function qn(Ze,Ve){return Object.prototype.hasOwnProperty.call(Ze,Ve)}function Mn(Ze){for(const Ve in Ze)if(Object.prototype.hasOwnProperty.call(Ze,Ve))return!1;return!0}function re(Ze,Ve){if(Ze===Ve)return!0;const Je=Object.keys(Ze),Rt=Object.keys(Ve);for(const dt of Je){if(!Rt.includes(dt))return!1;const et=Ze[dt],X=Ve[dt];if(ge(et)&&ge(X)){if(!re(et,X))return!1}else if(et!==X)return!1}for(const dt of Rt)if(!Je.includes(dt))return!1;return!0}function ge(Ze){return null!==Ze&&"object"==typeof Ze}function It(Ze){const Ve=[];for(const[Je,Rt]of Object.entries(Ze))Array.isArray(Rt)?Rt.forEach(dt=>{Ve.push(encodeURIComponent(Je)+"="+encodeURIComponent(dt))}):Ve.push(encodeURIComponent(Je)+"="+encodeURIComponent(Rt));return Ve.length?"&"+Ve.join("&"):""}function Mt(Ze){const Ve={};return Ze.replace(/^\?/,"").split("&").forEach(Rt=>{if(Rt){const[dt,et]=Rt.split("=");Ve[decodeURIComponent(dt)]=decodeURIComponent(et)}}),Ve}function Qt(Ze){const Ve=Ze.indexOf("?");if(!Ve)return"";const Je=Ze.indexOf("#",Ve);return Ze.substring(Ve,Je>0?Je:void 0)}function yt(Ze,Ve){const Je=new Ke(Ze,Ve);return Je.subscribe.bind(Je)}class Ke{constructor(Ve,Je){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Je,this.task.then(()=>{Ve(this)}).catch(Rt=>{this.error(Rt)})}next(Ve){this.forEachObserver(Je=>{Je.next(Ve)})}error(Ve){this.forEachObserver(Je=>{Je.error(Ve)}),this.close(Ve)}complete(){this.forEachObserver(Ve=>{Ve.complete()}),this.close()}subscribe(Ve,Je,Rt){let dt;if(void 0===Ve&&void 0===Je&&void 0===Rt)throw new Error("Missing Observer.");dt=function ot(Ze,Ve){if("object"!=typeof Ze||null===Ze)return!1;for(const Je of Ve)if(Je in Ze&&"function"==typeof Ze[Je])return!0;return!1}(Ve,["next","error","complete"])?Ve:{next:Ve,error:Je,complete:Rt},void 0===dt.next&&(dt.next=Gt),void 0===dt.error&&(dt.error=Gt),void 0===dt.complete&&(dt.complete=Gt);const et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?dt.error(this.finalError):dt.complete()}catch{}}),this.observers.push(dt),et}unsubscribeOne(Ve){void 0===this.observers||void 0===this.observers[Ve]||(delete this.observers[Ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ve){if(!this.finalized)for(let Je=0;Je<this.observers.length;Je++)this.sendOne(Je,Ve)}sendOne(Ve,Je){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ve])try{Je(this.observers[Ve])}catch(Rt){typeof console<"u"&&console.error&&console.error(Rt)}})}close(Ve){this.finalized||(this.finalized=!0,void 0!==Ve&&(this.finalError=Ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gt(){}function Nn(Ze){return Ze&&Ze._delegate?Ze._delegate:Ze}},1327:(wt,Ne,_)=>{"use strict";_.d(Ne,{j:()=>j});var l=_(4650),b=_(1779),m=_(4416),O=_(3378),he=_(7392),ee=_(3267),ie=_(9022);let j=(()=>{class K{constructor(F,V,Z,ne){this.router=F,this.route=V,this.employeeService=Z,this.cookieService=ne}ngOnInit(){this.employeeId=this.cookieService.userID(),this.getEmployee(this.employeeId)}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(V=>{V.setAttribute("translate","no")})}getEmployee(F){this.employeeService.fetchFullEmployee(F).subscribe(V=>{this.employeeEmail=V?.employee?.email,this.employeeName=V?.employee?.firstname+" "+V?.employee?.lastname,this.employeeProfile=V?.employee?.image},V=>{console.log(V)})}logout(){this.cookieService.logout(),this.router.navigate(["/login"])}static#e=this.\u0275fac=function(V){return new(V||K)(l.Y36(b.F0),l.Y36(b.gz),l.Y36(m.G),l.Y36(O.e))};static#t=this.\u0275cmp=l.Xpm({type:K,selectors:[["app-free-dashboard"]],decls:96,vars:3,consts:[[1,"heading","w-100","sticky-top"],[1,"d-flex","align-items-center","justify-content-center"],[1,"btn-1",3,"click"],["id","orgName","routerLink","/dashboard",1,"d-none","d-md-flex"],[1,"d-flex","align-items-center","justify-content-around"],[1,"main-bar-profile-tag"],[1,"d-flex","align-items-center"],[1,"ms-2","dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"profile-pic","me-md-3"],["alt","profile",3,"src"],[1,"dropdown-menu","dropdown-menu-end"],["routerLink","/",1,"dropdown-item"],[1,"material-icons"],[1,"dropdown-divider"],["routerLink","/dashboard/personal-profile",1,"dropdown-item"],["routerLink","/my-jobs",1,"dropdown-item"],["routerLink","/dashboard/personal-profile-settings",1,"dropdown-item"],["routerLink","/dashboard/business-profile-my",1,"dropdown-item"],["routerLink","/dashboard/business-profile-settings",1,"dropdown-item"],["routerLink","/locked",1,"dropdown-item"],[1,"dropdown-item",3,"click"],[1,"d-none","d-md-flex","flex-column","justify-content-between","profile-tag"],[1,"w-100"],[1,"drawer-container"],["mode","over",1,"drawer"],["drawer",""],[1,"accordian"],["routerLink","/dashboard/overview"],["routerLink","/dashboard/personal-profile"],["routerLink","/dashboard/business-profile-my"],["routerLink","/job-post"],["routerLink","/dashboard/company-jobs"],["routerLink","/dashboard/applicants"],["routerLink","/dashboard/company-analysis"],["routerLink","/dashboard/billing"],[1,"footer-tag"],[2,"overflow-y","auto","max-height","calc(100vh - 70px)"]],template:function(V,Z){if(1&V){const ne=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){l.CHM(ne);const Ae=l.MAs(68);return l.KtG(Ae.toggle())}),l.TgZ(3,"mat-icon"),l._uU(4,"reorder"),l.qZA()(),l.TgZ(5,"span",3),l._uU(6,"TALENT BOOZT DASHBOARD"),l.qZA()(),l.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),l._UZ(12,"img",9),l.qZA(),l.TgZ(13,"ul",10)(14,"li")(15,"a",11)(16,"i",12),l._uU(17,"autorenew"),l.qZA(),l._uU(18," Switch to Seeker"),l.qZA()(),l.TgZ(19,"li"),l._UZ(20,"hr",13),l.qZA(),l.TgZ(21,"li")(22,"a",14)(23,"i",12),l._uU(24,"perm_identity"),l.qZA(),l._uU(25," Personal Profile"),l.qZA()(),l.TgZ(26,"li")(27,"a",15)(28,"i",12),l._uU(29,"assignment"),l.qZA(),l._uU(30," My Jobs"),l.qZA()(),l.TgZ(31,"li")(32,"a",16)(33,"i",12),l._uU(34,"settings"),l.qZA(),l._uU(35," Personal Setting"),l.qZA()(),l.TgZ(36,"li"),l._UZ(37,"hr",13),l.qZA(),l.TgZ(38,"li")(39,"a",17)(40,"i",12),l._uU(41,"business"),l.qZA(),l._uU(42," Business Profile"),l.qZA()(),l.TgZ(43,"li")(44,"a",18)(45,"i",12),l._uU(46,"settings"),l.qZA(),l._uU(47," Business Setting"),l.qZA()(),l.TgZ(48,"li"),l._UZ(49,"hr",13),l.qZA(),l.TgZ(50,"li")(51,"a",19)(52,"i",12),l._uU(53,"lock"),l.qZA(),l._uU(54," Lock Screen"),l.qZA()(),l.TgZ(55,"li")(56,"a",20),l.NdJ("click",function(){return Z.logout()}),l.TgZ(57,"i",12),l._uU(58,"logout"),l.qZA(),l._uU(59," Logout"),l.qZA()()()(),l.TgZ(60,"div",21)(61,"h6"),l._uU(62),l.qZA(),l.TgZ(63,"span"),l._uU(64),l.qZA()()()()()(),l.TgZ(65,"div",22)(66,"mat-drawer-container",23)(67,"mat-drawer",24,25)(69,"span"),l._uU(70,"MENU"),l.qZA(),l.TgZ(71,"div",26)(72,"mat-accordion")(73,"ul")(74,"li",27),l._uU(75,"Overview"),l.qZA(),l.TgZ(76,"li",28),l._uU(77,"Personal Profile"),l.qZA(),l.TgZ(78,"li",29),l._uU(79,"Business Profile"),l.qZA(),l.TgZ(80,"li",30),l._uU(81,"Post a Job"),l.qZA(),l.TgZ(82,"li",31),l._uU(83,"Company Posted Jobs"),l.qZA(),l.TgZ(84,"li",32),l._uU(85,"Applicants"),l.qZA(),l.TgZ(86,"li",33),l._uU(87,"Company Analysis"),l.qZA(),l.TgZ(88,"li",34),l._uU(89,"Billing and Usage"),l.qZA(),l.TgZ(90,"li"),l._uU(91,"Teams"),l.qZA()()()(),l.TgZ(92,"div",35),l._uU(93," Powered By: TALENT BOOZT "),l.qZA()(),l.TgZ(94,"mat-drawer-content",36),l._UZ(95,"router-outlet"),l.qZA()()()}2&V&&(l.xp6(12),l.Q6J("src",Z.employeeProfile?Z.employeeProfile:"./assets/imgs/shared/default_emp_dp.svg",l.LSH),l.xp6(50),l.Oqu(Z.employeeName?Z.employeeName:"not available"),l.xp6(2),l.Oqu(Z.employeeEmail?Z.employeeEmail:"not available"))},dependencies:[b.lC,b.rH,he.Hw,ee.jA,ee.kh,ee.LW,ie.pp],styles:[".heading[_ngcontent-%COMP%]{background-color:var(--color-primary-200);height:70px;padding:0 50px;display:flex;align-items:center;justify-content:space-between}.heading[_ngcontent-%COMP%]   #orgName[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center;font-weight:500;font-size:22px;padding-left:20px;color:var(--color-text-200);cursor:pointer}.heading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;margin-left:15px;cursor:pointer}.heading[_ngcontent-%COMP%]   .btn-1[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:10px}.heading[_ngcontent-%COMP%]   .btn-1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding:0;margin:0}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:30%;background-color:#fff;cursor:pointer;margin-left:10px;border:2px solid var(--color-primary-500);outline:none;padding:0;overflow:hidden}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0;padding:0;color:#fff;cursor:pointer;transition:color .3s ease}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]:hover, .heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:var(--color-primary-600)}.heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;cursor:pointer;font-size:13px}.drawer-container[_ngcontent-%COMP%]{width:100%;max-height:100vh}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]{width:250px;height:100%}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]{margin-bottom:26px;overflow-y:auto}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0 0 0 24px}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 5px;cursor:pointer;color:var(--color-text-300)}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--color-surface-mixed-400);color:var(--color-text-100);cursor:pointer}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .footer-tag[_ngcontent-%COMP%]{width:100%;height:24px;text-align:center;display:flex;align-items:center;justify-content:center;color:var(--color-text-400);position:absolute;bottom:0;left:0;font-size:12px;background-color:var(--color-surface-200)}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 5px;cursor:pointer;color:var(--color-text-300)}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--color-surface-mixed-400);color:var(--color-text-100);cursor:pointer}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .list-2[_ngcontent-%COMP%]{padding-left:24px}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;margin-left:20px}.drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 70px)}.p-1[_ngcontent-%COMP%]{color:#fff}"]})}return K})()},2711:(wt,Ne,_)=>{"use strict";_.d(Ne,{H:()=>j});var l=_(4650),b=_(1779),m=_(4416),O=_(3378),he=_(7392),ee=_(3267),ie=_(9022);let j=(()=>{class K{constructor(F,V,Z,ne){this.router=F,this.route=V,this.employeeService=Z,this.cookieService=ne}ngOnInit(){this.employeeId=this.cookieService.userID(),this.getEmployee(this.employeeId)}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(V=>{V.setAttribute("translate","no")})}getEmployee(F){this.employeeService.fetchFullEmployee(F).subscribe(V=>{this.employeeEmail=V?.employee?.email,this.employeeName=V?.employee?.firstname+" "+V?.employee?.lastname,this.employeeProfile=V?.employee?.image},V=>{console.log(V)})}logout(){this.cookieService.logout(),this.router.navigate(["/login"])}static#e=this.\u0275fac=function(V){return new(V||K)(l.Y36(b.F0),l.Y36(b.gz),l.Y36(m.G),l.Y36(O.e))};static#t=this.\u0275cmp=l.Xpm({type:K,selectors:[["app-pro-dashboard"]],decls:96,vars:3,consts:[[1,"heading","w-100","sticky-top"],[1,"d-flex","align-items-center","justify-content-center"],[1,"btn-1",3,"click"],["id","orgName","routerLink","/pro",1,"d-none","d-md-flex"],[1,"d-flex","align-items-center","justify-content-around"],[1,"main-bar-profile-tag"],[1,"d-flex","align-items-center"],[1,"ms-2","dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"profile-pic","me-md-3"],["alt","profile",3,"src"],[1,"dropdown-menu","dropdown-menu-end"],["routerLink","/",1,"dropdown-item"],[1,"material-icons"],[1,"dropdown-divider"],["routerLink","/dashboard/personal-profile",1,"dropdown-item"],["routerLink","/my-jobs",1,"dropdown-item"],["routerLink","/dashboard/personal-profile-settings",1,"dropdown-item"],["routerLink","/dashboard/business-profile-my",1,"dropdown-item"],["routerLink","/dashboard/business-profile-settings",1,"dropdown-item"],["routerLink","/locked",1,"dropdown-item"],[1,"dropdown-item",3,"click"],[1,"d-none","d-md-flex","flex-column","justify-content-between","profile-tag"],[1,"w-100"],[1,"drawer-container"],["mode","over",1,"drawer"],["drawer",""],[1,"accordian"],["routerLink","/pro/overview"],["routerLink","/pro/personal-profile"],["routerLink","/pro/business-profile-my"],["routerLink","/job-post"],["routerLink","/pro/company-jobs"],["routerLink","/pro/applicants"],["routerLink","/pro/company-analysis"],[1,"footer-tag"],[2,"overflow-y","auto","max-height","calc(100vh - 70px)"]],template:function(V,Z){if(1&V){const ne=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){l.CHM(ne);const Ae=l.MAs(68);return l.KtG(Ae.toggle())}),l.TgZ(3,"mat-icon"),l._uU(4,"reorder"),l.qZA()(),l.TgZ(5,"span",3),l._uU(6,"TALENT BOOZT DASHBOARD"),l.qZA()(),l.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),l._UZ(12,"img",9),l.qZA(),l.TgZ(13,"ul",10)(14,"li")(15,"a",11)(16,"i",12),l._uU(17,"autorenew"),l.qZA(),l._uU(18," Switch to Seeker"),l.qZA()(),l.TgZ(19,"li"),l._UZ(20,"hr",13),l.qZA(),l.TgZ(21,"li")(22,"a",14)(23,"i",12),l._uU(24,"perm_identity"),l.qZA(),l._uU(25," Personal Profile"),l.qZA()(),l.TgZ(26,"li")(27,"a",15)(28,"i",12),l._uU(29,"assignment"),l.qZA(),l._uU(30," My Jobs"),l.qZA()(),l.TgZ(31,"li")(32,"a",16)(33,"i",12),l._uU(34,"settings"),l.qZA(),l._uU(35," Personal Setting"),l.qZA()(),l.TgZ(36,"li"),l._UZ(37,"hr",13),l.qZA(),l.TgZ(38,"li")(39,"a",17)(40,"i",12),l._uU(41,"business"),l.qZA(),l._uU(42," Business Profile"),l.qZA()(),l.TgZ(43,"li")(44,"a",18)(45,"i",12),l._uU(46,"settings"),l.qZA(),l._uU(47," Business Setting"),l.qZA()(),l.TgZ(48,"li"),l._UZ(49,"hr",13),l.qZA(),l.TgZ(50,"li")(51,"a",19)(52,"i",12),l._uU(53,"lock"),l.qZA(),l._uU(54," Lock Screen"),l.qZA()(),l.TgZ(55,"li")(56,"a",20),l.NdJ("click",function(){return Z.logout()}),l.TgZ(57,"i",12),l._uU(58,"logout"),l.qZA(),l._uU(59," Logout"),l.qZA()()()(),l.TgZ(60,"div",21)(61,"h6"),l._uU(62),l.qZA(),l.TgZ(63,"span"),l._uU(64),l.qZA()()()()()(),l.TgZ(65,"div",22)(66,"mat-drawer-container",23)(67,"mat-drawer",24,25)(69,"span"),l._uU(70,"MENU"),l.qZA(),l.TgZ(71,"div",26)(72,"mat-accordion")(73,"ul")(74,"li",27),l._uU(75,"Overview"),l.qZA(),l.TgZ(76,"li",28),l._uU(77,"Personal Profile"),l.qZA(),l.TgZ(78,"li",29),l._uU(79,"Business Profile"),l.qZA(),l.TgZ(80,"li",30),l._uU(81,"Post a Job"),l.qZA(),l.TgZ(82,"li",31),l._uU(83,"Company Posted Jobs"),l.qZA(),l.TgZ(84,"li",32),l._uU(85,"Applicants"),l.qZA(),l.TgZ(86,"li",33),l._uU(87,"Company Analysis"),l.qZA(),l.TgZ(88,"li"),l._uU(89,"Billing and Usage"),l.qZA(),l.TgZ(90,"li"),l._uU(91,"Teams"),l.qZA()()()(),l.TgZ(92,"div",34),l._uU(93," Powered By: TALENT BOOZT "),l.qZA()(),l.TgZ(94,"mat-drawer-content",35),l._UZ(95,"router-outlet"),l.qZA()()()}2&V&&(l.xp6(12),l.Q6J("src",Z.employeeProfile?Z.employeeProfile:"./assets/imgs/shared/default_emp_dp.svg",l.LSH),l.xp6(50),l.Oqu(Z.employeeName?Z.employeeName:"not available"),l.xp6(2),l.Oqu(Z.employeeEmail?Z.employeeEmail:"not available"))},dependencies:[b.lC,b.rH,he.Hw,ee.jA,ee.kh,ee.LW,ie.pp],styles:[".heading[_ngcontent-%COMP%]{background-color:var(--color-primary-200);height:70px;padding:0 50px;display:flex;align-items:center;justify-content:space-between}.heading[_ngcontent-%COMP%]   #orgName[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center;font-weight:500;font-size:22px;padding-left:20px;color:var(--color-text-200);cursor:pointer}.heading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;margin-left:15px;cursor:pointer}.heading[_ngcontent-%COMP%]   .btn-1[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:10px}.heading[_ngcontent-%COMP%]   .btn-1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding:0;margin:0}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:30%;background-color:#fff;cursor:pointer;margin-left:10px;border:2px solid var(--color-primary-500);outline:none;padding:0;overflow:hidden}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0;padding:0;color:#fff;cursor:pointer;transition:color .3s ease}.heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]:hover, .heading[_ngcontent-%COMP%]   .main-bar-profile-tag[_ngcontent-%COMP%]   .profile-tag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:var(--color-primary-600)}.heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;cursor:pointer;font-size:13px}.drawer-container[_ngcontent-%COMP%]{width:100%;max-height:100vh}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]{width:250px;height:100%}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]{margin-bottom:26px;overflow-y:auto}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0 0 0 24px}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 5px;cursor:pointer;color:var(--color-text-300)}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .accordian[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--color-surface-mixed-400);color:var(--color-text-100);cursor:pointer}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   .footer-tag[_ngcontent-%COMP%]{width:100%;height:24px;text-align:center;display:flex;align-items:center;justify-content:center;color:var(--color-text-400);position:absolute;bottom:0;left:0;font-size:12px;background-color:var(--color-surface-200)}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 5px;cursor:pointer;color:var(--color-text-300)}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--color-surface-mixed-400);color:var(--color-text-100);cursor:pointer}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .list-2[_ngcontent-%COMP%]{padding-left:24px}.drawer-container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;margin-left:20px}.drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 70px)}.p-1[_ngcontent-%COMP%]{color:#fff}"]})}return K})()},6511:(wt,Ne,_)=>{"use strict";_.d(Ne,{D:()=>j});var l=_(4006),b=_(4650),m=_(3378),O=_(4429),he=_(4416),ee=_(1779),ie=_(6613);let j=(()=>{class K{constructor(F,V,Z,ne,ce){this.cookieService=F,this.credentialService=V,this.employeeService=Z,this.router=ne,this.alertService=ce,this.unlockForm=new l.cw({password:new l.NI("",[l.kI.required])})}ngOnInit(){this.cookieService.lock(),this.employeeId=this.cookieService.userID(),this.getEmployee(this.employeeId)}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(V=>{V.setAttribute("translate","no")})}getEmployee(F){this.employeeService.getEmployee(F).subscribe(V=>{this.employee=V},V=>{console.log(V)})}unlockUser(){this.credentialService.fetchCredentialByEmployeeId(this.employeeId).subscribe(F=>{F&&(this.unlockForm.valid?this.unlockForm.value.password===F.password?(this.cookieService.unlock(),this.alertService.successMessage("Profile Unlocked!","Success"),this.router.navigate(["/"])):this.alertService.errorMessage("Wrong Password","Error"):this.alertService.errorMessage("Please Enter Your Password","Error"))})}static#e=this.\u0275fac=function(V){return new(V||K)(b.Y36(m.e),b.Y36(O.T),b.Y36(he.G),b.Y36(ee.F0),b.Y36(ie.m))};static#t=this.\u0275cmp=b.Xpm({type:K,selectors:[["app-lock-screen"]],decls:18,vars:3,consts:[[1,"shared-background"],[1,"overlay"],[1,"container"],[1,"content-holder"],[1,"form-card-1"],[1,"profile-wrapper"],["alt","profile",3,"src"],[3,"formGroup"],[1,"row","form-wrapper"],[1,"col-12"],["for","password"],["type","password","placeholder","Enter Password","id","password","formControlName","password"],[1,"btn-1","w-100",3,"click"]],template:function(V,Z){1&V&&(b.TgZ(0,"div",0),b._UZ(1,"div",1),b.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),b._UZ(6,"img",6),b.qZA(),b.TgZ(7,"h5"),b._uU(8),b.qZA(),b.TgZ(9,"form",7)(10,"div",8)(11,"div",9)(12,"label",10),b._uU(13,"Password:"),b.qZA(),b._UZ(14,"input",11),b.qZA(),b.TgZ(15,"div",9)(16,"button",12),b.NdJ("click",function(){return Z.unlockUser()}),b._uU(17,"unlock"),b.qZA()()()()()()()()),2&V&&(b.xp6(6),b.Q6J("src",null!=Z.employee&&Z.employee.image?Z.employee.image:"./assets/imgs/shared/default_emp_dp.svg",b.LSH),b.xp6(2),b.Oqu(null!=Z.employee&&Z.employee.firstname?(null==Z.employee?null:Z.employee.firstname)+" "+(null==Z.employee?null:Z.employee.lastname):"User Locked"),b.xp6(1),b.Q6J("formGroup",Z.unlockForm))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]})}return K})()},3199:(wt,Ne,_)=>{"use strict";_.d(Ne,{G:()=>Ae});var l=_(4006),b=_(4650),m=_(1779),O=_(4429),he=_(9819),ee=_(6843),ie=_(2340),j=_(529);let K=(()=>{class _e{constructor(fe){this.http=fe,this.baseUrl=ie.N.apiUrl}loginWithOAuth(){return this.http.get(`${this.baseUrl}/oauth2/success`)}getUserProfile(){return this.http.get(`${this.baseUrl}/user/profile`)}static#e=this.\u0275fac=function(Me){return new(Me||_e)(b.LFG(j.eN))};static#t=this.\u0275prov=b.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();var Y=_(8353),F=_(3378),V=_(8140),Z=_(6613),ne=_(6895);const ce=function(_e){return{"background-image":_e}};let Ae=(()=>{class _e{constructor(fe,Me,pe,de,Ee,je,ke,Xe,ut){this.router=fe,this.credentialService=Me,this.googleAuthService=pe,this.gitHubAuthService=de,this.socialAuthService=Ee,this.encryptionService=je,this.cookieService=ke,this.themeService=Xe,this.alertService=ut,this.attempts=4,this.disabled=!1,this.loginForm=new l.cw({email:new l.NI("",[l.kI.required,l.kI.email]),password:new l.NI("",[l.kI.required])})}ngOnInit(){this.googleAuthService.configureOAuth(),this.gitHubAuthService.handleRedirectCallback()}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(Me=>{Me.setAttribute("translate","no")})}loginUser(){if(this.attempts--,this.loginForm.valid){if(this.attempts<=0||"0"==sessionStorage.getItem("LgnAtT"))return sessionStorage.setItem("LgnAtT","0"),this.alertService.warningMessage("Too many attempts! Try again in 5 minutes","Warning"),this.loginForm.reset(),this.disabled=!0,void setTimeout(()=>{this.attempts=4,sessionStorage.removeItem("LgnAtT"),this.disabled=!1},3e5);const fe=this.loginForm.value;this.credentialService.fetchCredentialByEmail(fe.email).subscribe(Me=>{if(!Me)return void this.alertService.errorMessage("User doesn't exist or something went wrong","Error");const pe=this.encryptionService.decryptPassword(Me.password.toString());"0"!=sessionStorage.getItem("LgnAtT")?fe.password===pe?(this.cookieService.createSession(Me),"candidate"===Me.role?(this.cookieService.createUserID(Me.employeeId),this.cookieService.createLevel(Me.userLevel),this.cookieService.unlock(),this.router.navigate(["/"]),this.alertService.successMessage("Login successful","Success")):"employer"===Me.role&&("2"===Me.userLevel?(this.cookieService.createUserID(Me.employeeId),this.cookieService.createAdmin(Me.email),this.cookieService.createOrganizationID(Me.companyId),this.cookieService.createLevel(Me.userLevel),this.cookieService.unlock(),this.router.navigate(["/dashboard"])):"3"===Me.userLevel&&(this.cookieService.createUserID(Me.employeeId),this.cookieService.createProAdmin(Me.email),this.cookieService.createOrganizationID(Me.companyId),this.cookieService.createLevel(Me.userLevel),this.cookieService.unlock(),this.router.navigate(["/pro"])))):this.alertService.errorMessage("Wrong password","Error"):this.alertService.errorMessage("Too many attempts! Try again in 5 minutes","Warning")},Me=>{this.alertService.errorMessage("Something went wrong","Error")})}else this.alertService.errorMessage("Form is not valid","Error")}loginWithGoogle(){this.googleAuthService.loginWithGoogle()}loginWithGithub(){this.gitHubAuthService.loginWithGitHub()}loginWithLinkedin(){}loginWithFacebook(){}static#e=this.\u0275fac=function(Me){return new(Me||_e)(b.Y36(m.F0),b.Y36(O.T),b.Y36(he.M),b.Y36(ee.d),b.Y36(K),b.Y36(Y.C),b.Y36(F.e),b.Y36(V.f),b.Y36(Z.m))};static#t=this.\u0275cmp=b.Xpm({type:_e,selectors:[["app-login"]],decls:65,vars:5,consts:[[1,"shared-background"],[1,"overlay"],[1,"container"],[1,"content-holder"],[1,"form-card-1"],[1,"logo",3,"ngStyle"],[1,"title"],[3,"formGroup"],[1,"row","form-wrapper"],[1,"col-12"],["for","email"],["type","email","placeholder","example@example.com","id","email","formControlName","email","autocomplete","section-blue login email"],["for","password"],["type","password","placeholder","Password:","id","password","formControlName","password","autocomplete","section-blue login password"],[1,"d-sm-flex","align-items-center","justify-content-between"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input","me-2",2,"width","auto"],["for","flexCheckDefault",1,"form-check-label"],["routerLink","/reset",1,"link"],[1,"btn-1","w-100",3,"disabled","click"],[1,"d-flex","align-items-center","justify-content-center"],[1,"mx-1","my-0",2,"white-space","nowrap"],[1,"row"],[1,"col-6"],[1,"btn-2",3,"click"],[1,"icon-wrapper"],["src","https://img.icons8.com/color/48/google-logo.png","alt","google-logo"],["src","https://img.icons8.com/ios-glyphs/60/github.png","alt","github"],["src","https://img.icons8.com/color/48/linkedin.png","alt","linkedin"],["src","https://img.icons8.com/color/48/facebook-new.png","alt","facebook-new"],[1,"navigation-text","text-center"],["routerLink","/register"]],template:function(Me,pe){1&Me&&(b.TgZ(0,"div",0),b._UZ(1,"div",1),b.TgZ(2,"div",2)(3,"div",3)(4,"div",4),b._UZ(5,"div",5),b.TgZ(6,"h5",6),b._uU(7,"Login"),b.qZA(),b.TgZ(8,"form",7)(9,"div",8)(10,"div",9)(11,"label",10),b._uU(12,"Email:"),b.qZA(),b._UZ(13,"input",11),b.qZA(),b.TgZ(14,"div",9)(15,"label",12),b._uU(16,"Password:"),b.qZA(),b._UZ(17,"input",13),b.qZA(),b.TgZ(18,"div",9)(19,"div",14)(20,"div",15),b._UZ(21,"input",16),b.TgZ(22,"label",17),b._uU(23," Remember me "),b.qZA()(),b.TgZ(24,"a",18),b._uU(25,"Forgot Password?"),b.qZA()()(),b.TgZ(26,"div",9)(27,"button",19),b.NdJ("click",function(){return pe.loginUser()}),b._uU(28,"login/sign in"),b.qZA()(),b.TgZ(29,"div",20),b._UZ(30,"hr"),b.TgZ(31,"p",21),b._uU(32,"or sign in/up with"),b.qZA(),b._UZ(33,"hr"),b.qZA(),b.TgZ(34,"div",9)(35,"div",22)(36,"div",23)(37,"div",24),b.NdJ("click",function(){return pe.loginWithGoogle()}),b.TgZ(38,"div",25),b._UZ(39,"img",26),b.qZA(),b.TgZ(40,"span"),b._uU(41,"Google"),b.qZA()()(),b.TgZ(42,"div",23)(43,"div",24),b.NdJ("click",function(){return pe.loginWithGithub()}),b.TgZ(44,"div",25),b._UZ(45,"img",27),b.qZA(),b.TgZ(46,"span"),b._uU(47,"Github"),b.qZA()()(),b.TgZ(48,"div",23)(49,"div",24),b.NdJ("click",function(){return pe.loginWithLinkedin()}),b.TgZ(50,"div",25),b._UZ(51,"img",28),b.qZA(),b.TgZ(52,"span"),b._uU(53,"Linkedin"),b.qZA()()(),b.TgZ(54,"div",23)(55,"div",24),b.NdJ("click",function(){return pe.loginWithFacebook()}),b.TgZ(56,"div",25),b._UZ(57,"img",29),b.qZA(),b.TgZ(58,"span"),b._uU(59,"Facebook"),b.qZA()()()()(),b.TgZ(60,"div",9)(61,"p",30),b._uU(62,"Don't have an account? "),b.TgZ(63,"a",31),b._uU(64,"Sign Up"),b.qZA()()()()()()()()()),2&Me&&(b.xp6(5),b.Q6J("ngStyle",b.VKq(3,ce,pe.themeService.isDarkMode()?"url(./assets/imgs/logo/top-w.svg)":"url(./assets/imgs/logo/top-b.svg)")),b.xp6(3),b.Q6J("formGroup",pe.loginForm),b.xp6(19),b.Q6J("disabled",pe.disabled))},dependencies:[ne.PC,m.rH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".btn-2[_ngcontent-%COMP%]{width:100%;background-color:transparent;border:2px solid var(--color-primary-200);border-radius:0;padding:5px 10px;display:flex;align-items:center;justify-content:flex-start;margin-bottom:3px}.btn-2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;color:var(--color-text-200);font-weight:450;font-size:16px}.btn-2[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{height:30px;aspect-ratio:1/1;display:flex;align-items:center;justify-content:center}.btn-2[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.btn-2[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-600-opacity-3)}.btn-2[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--color-text-100)}"]})}return _e})()},3412:(wt,Ne,_)=>{"use strict";_.d(Ne,{y:()=>F});var l=_(4006),b=_(4650),m=_(1779),O=_(4429),he=_(6613),ee=_(8353),ie=_(8140),j=_(3378),K=_(6895);const Y=function(V){return{"background-image":V}};let F=(()=>{class V{constructor(ne,ce,Ae,_e,oe,fe,Me){this.router=ne,this.route=ce,this.credentialService=Ae,this.alertService=_e,this.encryptionService=oe,this.themeService=fe,this.cookieService=Me,this.registerForm=new l.cw({name:new l.NI("",[l.kI.required]),email:new l.NI("",[l.kI.required,l.kI.email]),password:new l.NI("",[l.kI.required]),role:new l.NI("candidate"),termsCheck:new l.NI(!1,[l.kI.requiredTrue])})}ngOnInit(){this.route.queryParams.subscribe(ne=>{this.registerForm.patchValue("companies"===ne.from?{role:"employer"}:{role:"candidate"})})}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(ce=>{ce.setAttribute("translate","no")})}registerUser(){if(this.registerForm.valid){const ne=this.registerForm.value;if(ne.password){const ce=this.encryptionService.encryptPassword(ne.password);this.credentialService.addCredential({firstname:ne.name?.split(" ")[0],lastname:ne.name?.split(" ")[1]||"",email:ne.email,password:ce,role:ne.role,userLevel:"candidate"===ne.role?"1":"2"}).subscribe(Ae=>{Ae?"candidate"===ne.role?(this.router.navigate(["/"]),this.cookieService.createUserID(Ae.employeeId),this.cookieService.createLevel(Ae.userLevel)):"employer"===ne.role&&(this.router.navigate(["/dashboard"]),this.cookieService.createUserID(Ae.employeeId),this.cookieService.createLevel(Ae.userLevel),this.cookieService.createAdmin(Ae.email),this.cookieService.createOrganizationID(Ae.companyId)):this.alertService.errorMessage("User already exists or an unexpected error has occurred","Unexpected Error")},Ae=>{this.alertService.errorMessage("User already exists or an unexpected error has occurred","Unexpected Error")})}}else this.alertService.errorMessage("Please fill in all required fields","Missing Fields")}static#e=this.\u0275fac=function(ce){return new(ce||V)(b.Y36(m.F0),b.Y36(m.gz),b.Y36(O.T),b.Y36(he.m),b.Y36(ee.C),b.Y36(ie.f),b.Y36(j.e))};static#t=this.\u0275cmp=b.Xpm({type:V,selectors:[["app-register"]],decls:50,vars:5,consts:[[1,"shared-background"],[1,"overlay"],[1,"container"],[1,"content-holder"],[1,"form-card-1"],[1,"logo",3,"ngStyle"],[1,"title"],[3,"formGroup"],[1,"row","form-wrapper"],[1,"col-12"],["for","name"],["type","text","placeholder","John","id","name","formControlName","name"],["for","email"],["type","email","placeholder","example@example.com","id","email","formControlName","email"],["for","password"],["type","password","placeholder","Password:","id","password","formControlName","password"],[2,"margin","0"],[1,"d-flex","align-items-center","justify-content-around"],[1,"form-radio","d-flex","align-items-center"],["type","radio","formControlName","role","value","candidate","id","candidateRadio",1,"form-radio-input"],["for","candidateRadio",1,"form-radio-label"],["type","radio","formControlName","role","value","employer","id","employerRadio",1,"form-radio-input"],["for","employerRadio",1,"form-radio-label"],[1,"d-sm-flex","align-items-center","justify-content-between"],[1,"form-check"],["type","checkbox","formControlName","termsCheck","id","termsCheck",1,"form-check-input","me-2"],["for","termsCheck",1,"form-check-label"],["href",""],[1,"btn-1","w-100",3,"disabled","click"],[1,"navigation-text","text-center"],["routerLink","/login"]],template:function(ce,Ae){if(1&ce&&(b.TgZ(0,"div",0),b._UZ(1,"div",1),b.TgZ(2,"div",2)(3,"div",3)(4,"div",4),b._UZ(5,"div",5),b.TgZ(6,"h5",6),b._uU(7,"Sign up"),b.qZA(),b.TgZ(8,"form",7)(9,"div",8)(10,"div",9)(11,"label",10),b._uU(12,"Name:"),b.qZA(),b._UZ(13,"input",11),b.qZA(),b.TgZ(14,"div",9)(15,"label",12),b._uU(16,"Email:"),b.qZA(),b._UZ(17,"input",13),b.qZA(),b.TgZ(18,"div",9)(19,"label",14),b._uU(20,"Password:"),b.qZA(),b._UZ(21,"input",15),b.qZA(),b.TgZ(22,"div",9)(23,"p",16),b._uU(24,"You are registered as a"),b.qZA(),b.TgZ(25,"div",17)(26,"div",18),b._UZ(27,"input",19),b.TgZ(28,"label",20),b._uU(29," Candidate "),b.qZA()(),b.TgZ(30,"div",18),b._UZ(31,"input",21),b.TgZ(32,"label",22),b._uU(33," Employer "),b.qZA()()()(),b.TgZ(34,"div",9)(35,"div",23)(36,"div",24),b._UZ(37,"input",25),b.TgZ(38,"label",26),b._uU(39," I accept "),b.TgZ(40,"a",27),b._uU(41,"Terms and Conditions"),b.qZA()()()()(),b.TgZ(42,"div",9)(43,"button",28),b.NdJ("click",function(){return Ae.registerUser()}),b._uU(44,"Register"),b.qZA()(),b.TgZ(45,"div",9)(46,"p",29),b._uU(47,"Already have an account ? "),b.TgZ(48,"a",30),b._uU(49,"Sign In"),b.qZA()()()()()()()()()),2&ce){let _e;b.xp6(5),b.Q6J("ngStyle",b.VKq(3,Y,Ae.themeService.isDarkMode()?"url(./assets/imgs/logo/top-w.svg)":"url(./assets/imgs/logo/top-b.svg)")),b.xp6(3),b.Q6J("formGroup",Ae.registerForm),b.xp6(35),b.Q6J("disabled",!(null!=(_e=Ae.registerForm.get("termsCheck"))&&_e.value))}},dependencies:[K.PC,m.rH,l._Y,l.Fj,l.Wl,l._,l.JJ,l.JL,l.sg,l.u],styles:[".form-check-input[_ngcontent-%COMP%]{width:auto!important}"]})}return V})()},5740:(wt,Ne,_)=>{"use strict";_.d(Ne,{L:()=>ee});var l=_(4650),b=_(8140),m=_(6895),O=_(1779);const he=function(ie){return{"background-image":ie}};let ee=(()=>{class ie{constructor(K){this.themeService=K}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(Y=>{Y.setAttribute("translate","no")})}static#e=this.\u0275fac=function(Y){return new(Y||ie)(l.Y36(b.f))};static#t=this.\u0275cmp=l.Xpm({type:ie,selectors:[["app-reset-password"]],decls:24,vars:3,consts:[[1,"shared-background"],[1,"overlay"],[1,"container"],[1,"content-holder"],[1,"form-card-1"],[1,"logo",3,"ngStyle"],[1,"title"],["action",""],[1,"row","form-wrapper"],[1,"col-12"],["for","email"],["type","email","placeholder","example@example.com","id","email"],[1,"btn-1","w-100"],[1,"navigation-text","text-center"],["routerLink","/login"]],template:function(Y,F){1&Y&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2)(3,"div",3)(4,"div",4),l._UZ(5,"div",5),l.TgZ(6,"h5",6),l._uU(7,"Reset Your Password"),l.qZA(),l.TgZ(8,"p"),l._uU(9,"Please enter your email address. You will receive a link to create a new password via email."),l.qZA(),l.TgZ(10,"form",7)(11,"div",8)(12,"div",9)(13,"label",10),l._uU(14,"Email:"),l.qZA(),l._UZ(15,"input",11),l.qZA(),l.TgZ(16,"div",9)(17,"button",12),l._uU(18,"Send"),l.qZA()(),l.TgZ(19,"div",9)(20,"p",13),l._uU(21,"Remember your password ? "),l.TgZ(22,"a",14),l._uU(23,"Sign In"),l.qZA()()()()()()()()()),2&Y&&(l.xp6(5),l.Q6J("ngStyle",l.VKq(1,he,F.themeService.isDarkMode()?"url(./assets/imgs/logo/top-w.svg)":"url(./assets/imgs/logo/top-b.svg)")))},dependencies:[m.PC,O.rH]})}return ie})()},6613:(wt,Ne,_)=>{"use strict";_.d(Ne,{m:()=>m});var l=_(4650),b=_(7185);let m=(()=>{class O{constructor(ee){this.toastr=ee}successMessage(ee,ie){this.toastr.success(ee,ie,{progressBar:!0,progressAnimation:"increasing",closeButton:!0})}errorMessage(ee,ie){this.toastr.error(ee,ie,{progressBar:!0,progressAnimation:"decreasing",closeButton:!0})}warningMessage(ee,ie){this.toastr.warning(ee,ie,{progressBar:!0,progressAnimation:"decreasing"})}static#e=this.\u0275fac=function(ie){return new(ie||O)(l.LFG(b._W))};static#t=this.\u0275prov=l.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},3378:(wt,Ne,_)=>{"use strict";_.d(Ne,{e:()=>O});var l=_(4650),b=_(6895);let m=(()=>{class he{constructor(ie,j){this.document=ie,this.platformId=j,this.documentIsAccessible=(0,b.NF)(this.platformId)}static getCookieRegExp(ie){const j=ie.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+j+"|;\\s*"+j+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(ie){try{return decodeURIComponent(ie)}catch{return ie}}check(ie){return!!this.documentIsAccessible&&(ie=encodeURIComponent(ie),he.getCookieRegExp(ie).test(this.document.cookie))}get(ie){if(this.documentIsAccessible&&this.check(ie)){ie=encodeURIComponent(ie);const K=he.getCookieRegExp(ie).exec(this.document.cookie);return K[1]?he.safeDecodeURIComponent(K[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const ie={},j=this.document;return j.cookie&&""!==j.cookie&&j.cookie.split(";").forEach(K=>{const[Y,F]=K.split("=");ie[he.safeDecodeURIComponent(Y.replace(/^ /,""))]=he.safeDecodeURIComponent(F)}),ie}set(ie,j,K,Y,F,V,Z){if(!this.documentIsAccessible)return;if("number"==typeof K||K instanceof Date||Y||F||V||Z)return void this.set(ie,j,{expires:K,path:Y,domain:F,secure:V,sameSite:Z||"Lax"});let ne=encodeURIComponent(ie)+"="+encodeURIComponent(j)+";";const ce=K||{};ce.expires&&(ne+="number"==typeof ce.expires?"expires="+new Date((new Date).getTime()+1e3*ce.expires*60*60*24).toUTCString()+";":"expires="+ce.expires.toUTCString()+";"),ce.path&&(ne+="path="+ce.path+";"),ce.domain&&(ne+="domain="+ce.domain+";"),!1===ce.secure&&"None"===ce.sameSite&&(ce.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${ie} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),ce.secure&&(ne+="secure;"),ce.sameSite||(ce.sameSite="Lax"),ne+="sameSite="+ce.sameSite+";",this.document.cookie=ne}delete(ie,j,K,Y,F="Lax"){this.documentIsAccessible&&this.set(ie,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:j,domain:K,secure:Y,sameSite:F})}deleteAll(ie,j,K,Y="Lax"){if(!this.documentIsAccessible)return;const F=this.getAll();for(const V in F)F.hasOwnProperty(V)&&this.delete(V,ie,j,K,Y)}}return he.\u0275fac=function(ie){return new(ie||he)(l.LFG(b.K0),l.LFG(l.Lbi))},he.\u0275prov=l.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),O=(()=>{class he{constructor(ie){this.cookieService=ie}createUserID(ie){this.cookieService.set("user-token-id",ie,{expires:604800,path:"/",sameSite:"Strict",secure:!0})}createOrganizationID(ie){this.cookieService.set("organization",ie,604800)}createLevel(ie){this.cookieService.set("level",ie,{expires:604800,path:"/",sameSite:"Strict",secure:!0})}createAdmin(ie){this.cookieService.set("admin-token",ie,604800)}createProAdmin(ie){this.cookieService.set("pro-admin-token",ie,604800)}createSession(ie){sessionStorage.setItem("access_token",ie.access_token)}logout(){this.cookieService.delete("user-token-id"),this.cookieService.delete("pro-admin-token"),this.cookieService.delete("organization"),this.cookieService.delete("admin-token"),this.cookieService.delete("level"),sessionStorage.clear()}isExists(){return 0!==this.cookieService.get("user-token-id").length}isAdmin(){return 0!==this.cookieService.get("admin-token").length}isProAdmin(){return 0!==this.cookieService.get("pro-admin-token").length}isOrganization(){return 0!==this.cookieService.get("organization").length}userID(){return this.cookieService.get("user-token-id").toString()}adminEmail(){return this.cookieService.get("admin-token").toString()}organization(){return this.cookieService.get("organization").toString()}level(){return this.cookieService.get("level").toString()}lock(){return this.cookieService.set("locked","true")}unlock(){return this.cookieService.delete("locked")}isLocked(){return 0!==this.cookieService.get("locked").length}acceptAllCookies(){this.cookieService.set("cookies-accepted","true",1728e3)}necessaryCookiesOnly(){this.cookieService.set("cookies-accepted","false",1728e3)}isCookiesAccepted(){return 0!==this.cookieService.get("cookies-accepted").length}static#e=this.\u0275fac=function(j){return new(j||he)(l.LFG(m))};static#t=this.\u0275prov=l.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})()},4429:(wt,Ne,_)=>{"use strict";_.d(Ne,{T:()=>O});var l=_(529),b=_(2340),m=_(4650);let O=(()=>{class he{constructor(ie){this.http=ie,this.baseUrl=b.N.apiUrl}fetchCredentials(){const ie=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.get(`${this.baseUrl}/portal_credentials/getAll`,{headers:ie})}fetchCredentialById(ie){const j=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.get(`${this.baseUrl}/portal_credentials/get/${ie}`,{headers:j})}fetchCredentialByEmployeeId(ie){const j=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.get(`${this.baseUrl}/portal_credentials/getByEmployeeId/${ie}`,{headers:j})}fetchCredentialByEmail(ie){const j=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.get(`${this.baseUrl}/portal_credentials/getByEmail/${ie}`,{headers:j})}addCredential(ie){const j=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(`${this.baseUrl}/portal_credentials/add`,ie,{headers:j})}updateCredential(ie,j){const K=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/portal_credentials/update/${ie}`,j,{headers:K})}deleteCredential(ie){const j=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.delete(`${this.baseUrl}/portal_credentials/delete/${ie}`,{headers:j})}static#e=this.\u0275fac=function(j){return new(j||he)(m.LFG(l.eN))};static#t=this.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})()},4416:(wt,Ne,_)=>{"use strict";_.d(Ne,{G:()=>j});var l=_(529),b=_(1135),m=_(8505),O=_(262),he=_(2843),ee=_(2340),ie=_(4650);let j=(()=>{class K{constructor(F){this.http=F,this.baseUrl=ee.N.apiUrl,this.employeeSubject=new b.X(null),this.employee$=this.employeeSubject.asObservable(),this.employeesSubject=new b.X(null),this.employees$=this.employeesSubject.asObservable(),this.cacheInitialized=!1,this.employeesCacheInitialized=!1}fetchEmployees(){const F=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.employeesCacheInitialized||this.http.get(`${this.baseUrl}/employee/all`,{headers:F}).subscribe(V=>{this.employeesSubject.next(V),this.employeesCacheInitialized=!0}),this.employees$}getEmployee(F){const V=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.get(`${this.baseUrl}/employee/get/${F}`,{headers:V})}fetchFullEmployee(F){const V=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.cacheInitialized?this.employee$:this.http.get(`${this.baseUrl}/batch/async/getEmployee/${F}`,{headers:V}).pipe((0,m.b)(Z=>{this.employeeSubject.next(Z),this.cacheInitialized=!0}),(0,O.K)(Z=>(0,he._)(Z)))}deleteEmployee(F){const V=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.delete(`${this.baseUrl}/employee/delete/${F}`,{headers:V}).subscribe(()=>{this.clearCache(),this.fetchEmployees()}),this.employees$}deleteCompany(F){const V=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.delete(`${this.baseUrl}/employee/delete/company/${F}`,{headers:V}).subscribe(()=>{this.clearCache(),this.fetchEmployees()}),this.employees$}updateEmployee(F){const V=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/update`,F,{headers:V}).subscribe(Z=>{this.clearCache(),this.fetchFullEmployee(F.id)}),this.employees$}updateSearchAppearance(F){const V=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/update/sa`,F,{headers:V}).subscribe(Z=>{this.clearCache(),this.fetchFullEmployee(F.id)}),this.employees$}updateNotifications(F){const V=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/update/notifications`,F,{headers:V}).subscribe(Z=>{}),this.employees$}updateProfilePic(F){const V=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/update/updateProfilePic`,F,{headers:V}).subscribe(Z=>{this.clearCache(),this.fetchFullEmployee(F.id)}),this.employee$}updateCoverPic(F){const V=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/update/updateCoverPic`,F,{headers:V}).subscribe(Z=>{this.clearCache(),this.fetchFullEmployee(F.id)}),this.employee$}updateResume(F){const V=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/update/updateResume`,F,{headers:V}).subscribe(Z=>{this.clearCache(),this.fetchFullEmployee(F.id)}),this.employee$}addSkills(F){const V=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(`${this.baseUrl}/emp_skills/add`,F,{headers:V}).pipe((0,m.b)(Z=>{this.clearCache(),this.fetchFullEmployee(F.employeeId)}),(0,O.K)(Z=>(0,he._)(Z)))}deleteSkill(F,V){const Z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.delete(`${this.baseUrl}/emp_skills/delete-single/${F}/${V}`,{headers:Z}).pipe((0,m.b)(ne=>{this.clearCache(),this.fetchFullEmployee(F)}),(0,O.K)(ne=>(0,he._)(ne)))}editSkill(F,V){const Z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/emp_skills/edit-single/${F}`,V,{headers:Z}).pipe((0,m.b)(ne=>{this.clearCache(),this.fetchFullEmployee(F)}),(0,O.K)(ne=>(0,he._)(ne)))}addExperience(F){const V=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(`${this.baseUrl}/emp_experiences/add`,F,{headers:V}).pipe((0,m.b)(Z=>{this.clearCache(),this.fetchFullEmployee(F.employeeId)}),(0,O.K)(Z=>(0,he._)(Z)))}deleteExperience(F,V){const Z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.delete(`${this.baseUrl}/emp_experiences/delete-single/${F}/${V}`,{headers:Z}).pipe((0,m.b)(ne=>{this.clearCache(),this.fetchFullEmployee(F)}),(0,O.K)(ne=>(0,he._)(ne)))}editExperience(F,V){const Z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/emp_experiences/edit-single/${F}`,V,{headers:Z}).pipe((0,m.b)(ne=>{this.clearCache(),this.fetchFullEmployee(F)}),(0,O.K)(ne=>(0,he._)(ne)))}addContact(F){const V=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(`${this.baseUrl}/emp_contact/add`,F,{headers:V}).pipe((0,m.b)(Z=>{this.clearCache(),this.fetchFullEmployee(F.employeeId)}),(0,O.K)(Z=>(0,he._)(Z)))}addSocial(F){const V=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(`${this.baseUrl}/emp_contact/add-social`,F,{headers:V}).pipe((0,m.b)(Z=>{this.clearCache(),this.fetchFullEmployee(F.employeeId)}),(0,O.K)(Z=>(0,he._)(Z)))}editContact(F,V){const Z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/emp_contact/update-contact/${F}`,V,{headers:Z}).pipe((0,m.b)(ne=>{this.clearCache(),this.fetchFullEmployee(V.employeeId)}),(0,O.K)(ne=>(0,he._)(ne)))}editSocial(F,V){const Z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/emp_contact/update-social/${F}`,V,{headers:Z}).pipe((0,m.b)(ne=>{this.clearCache(),this.fetchFullEmployee(V.employeeId)}),(0,O.K)(ne=>(0,he._)(ne)))}saveFavJobs(F,V){const Z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/save-job/${F}`,V,{headers:Z}).pipe((0,m.b)(ne=>{this.clearCache(),this.fetchFullEmployee(F)}),(0,O.K)(ne=>(0,he._)(ne)))}removeFavJobs(F,V){const Z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/remove-job/${F}/${V}`,[],{headers:Z}).pipe((0,m.b)(ne=>{this.clearCache(),this.fetchFullEmployee(F)}),(0,O.K)(ne=>(0,he._)(ne)))}editFavJobStatus(F,V){const Z=new l.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(`${this.baseUrl}/employee/update/saved-job/status/${F}`,V,{headers:Z}).pipe((0,m.b)(ne=>{this.clearCache(),this.fetchFullEmployee(F)}),(0,O.K)(ne=>(0,he._)(ne)))}clearCache(){this.cacheInitialized=!1,this.employeeSubject.next(null)}clearEmployeesCache(){this.employeesCacheInitialized=!1,this.employeesSubject.next(null)}static#e=this.\u0275fac=function(V){return new(V||K)(ie.LFG(l.eN))};static#t=this.\u0275prov=ie.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})()},8353:(wt,Ne,_)=>{"use strict";_.d(Ne,{C:()=>he});var l=_(7206),m=_(2340),O=_(4650);let he=(()=>{class ee{constructor(){this.secretKey=m.N.encryptionKey}getKeySpec(j){const K=l.SHA256(l.enc.Utf8.parse(j)).toString(l.enc.Hex);return l.enc.Hex.parse(K.substring(0,32))}getIvSpec(j){const K=l.MD5(l.enc.Utf8.parse(j)).toString(l.enc.Hex);return l.enc.Hex.parse(K)}encryptPassword(j){const K=this.getKeySpec(this.secretKey),Y=this.getIvSpec(this.secretKey);return l.AES.encrypt(l.enc.Utf8.parse(j),K,{iv:Y,mode:l.mode.CBC,padding:l.pad.Pkcs7}).ciphertext.toString(l.enc.Base64)}decryptPassword(j){const K=this.getKeySpec(this.secretKey),Y=this.getIvSpec(this.secretKey);return l.AES.decrypt(j,K,{iv:Y,mode:l.mode.CBC,padding:l.pad.Pkcs7}).toString(l.enc.Utf8)}static#e=this.\u0275fac=function(K){return new(K||ee)};static#t=this.\u0275prov=O.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})()},162:(wt,Ne,_)=>{"use strict";_.d(Ne,{J:()=>he});var l=_(8746),b=_(3900),m=_(4650),O=_(4081);let he=(()=>{class ee{constructor(j){this.storage=j}uploadFile(j,K){const Y=this.storage.ref(j);return this.storage.upload(j,K).snapshotChanges().pipe((0,l.x)(()=>console.log("Upload complete")),(0,b.w)(()=>Y.getDownloadURL()))}static#e=this.\u0275fac=function(K){return new(K||ee)(m.LFG(O.Q1))};static#t=this.\u0275prov=m.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})()},6843:(wt,Ne,_)=>{"use strict";_.d(Ne,{d:()=>j});var l=_(2340),b=_(529),m=_(4650),O=_(1779),he=_(4429),ee=_(3378),ie=_(6613);let j=(()=>{class K{constructor(F,V,Z,ne,ce){this.http=F,this.router=V,this.credentialService=Z,this.cookieService=ne,this.alertService=ce,this.clientId=l.N.githubAuthConfig.clientId,this.baseUrl=l.N.apiUrl}loginWithGitHub(){const F=encodeURIComponent(window.location.origin+"/oauth-callback/github");window.location.href=`https://github.com/login/oauth/authorize?client_id=${this.clientId}&redirect_uri=${F}&scope=user:email`}handleRedirectCallback(){const V=new URLSearchParams(window.location.search).get("code");V?this.exchangeCodeForToken(V):console.error("Authorization code not found")}exchangeCodeForToken(F){const V=new b.WM({Authorization:"Basic "+btoa("admin:password")});this.http.post(this.baseUrl+"/github/token",{code:F},{headers:V}).subscribe(Z=>{const ne=Z.accessToken;this.getUserEmails(ne),this.getUserInfo(ne)},Z=>{console.error("Error exchanging code for token:",Z)})}getUserInfo(F){this.http.get("https://api.github.com/user",{headers:{Authorization:`Bearer ${F}`}}).subscribe(Z=>this.processUserProfile(Z),Z=>{console.error("Error loading user profile:",Z)})}getUserEmails(F){this.http.get("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${F}`}}).subscribe(Z=>{const ne=Z.find(ce=>ce.primary);sessionStorage.setItem("primaryEmail",ne?ne.email:"")},Z=>{console.error("Error loading user emails:",Z)})}processUserProfile(F){if(setTimeout(()=>{},1e3),null!==sessionStorage.getItem("primaryEmail"))if(F){const V={email:sessionStorage.getItem("primaryEmail"),firstName:F.name?F.name.split(" ")[0]:F.login,lastName:F.name?F.name.split(" ")[1]:"",username:F.login,avatarUrl:F.avatar_url};this.credentialService.fetchCredentialByEmail(V.email).subscribe(Z=>{Z?this.processLogin(Z):this.registerGitHubUser(V)},Z=>{this.alertService.errorMessage("Error while checking user: "+Z,"Error")})}else this.alertService.errorMessage("Invalid user profile data received","Error");else this.alertService.errorMessage("Primary email not found","Error")}registerGitHubUser(F){this.credentialService.addCredential({email:F.email,firstname:F.firstName,lastname:F.lastName,role:"candidate",userLevel:"1"}).subscribe(Z=>{this.processLogin(Z)},Z=>{this.alertService.errorMessage("Error registering user: "+Z,"Error")})}processLogin(F){this.cookieService.createUserID(F.employeeId.toString()),this.cookieService.createLevel(F.userLevel.toString()),this.cookieService.unlock(),setTimeout(()=>{"candidate"===F.role?(this.router.navigate(["/"]),this.alertService.successMessage("Login successful","Success")):"employer"===F.role&&this.handleEmployerLogin(F)},500)}handleEmployerLogin(F){this.setEmployerSession(F,"2"===F.userLevel?"/dashboard":"3"===F.userLevel?"/pro":"/")}setEmployerSession(F,V){this.cookieService.createUserID(F.employeeId),this.cookieService.createAdmin(F.email),this.cookieService.createOrganizationID(F.companyId),this.cookieService.createLevel(F.userLevel),this.cookieService.unlock(),this.router.navigate([V])}static#e=this.\u0275fac=function(V){return new(V||K)(m.LFG(b.eN),m.LFG(O.F0),m.LFG(he.T),m.LFG(ee.e),m.LFG(ie.m))};static#t=this.\u0275prov=m.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})()},9819:(wt,Ne,_)=>{"use strict";_.d(Ne,{M:()=>Y});var l=_(6792),b=_(2340),m=_(7579),O=_(4650),he=_(4429),ee=_(6613),ie=_(3378),j=_(529),K=_(1779);let Y=(()=>{class F{constructor(Z,ne,ce,Ae,_e,oe){this.oauthService=Z,this.credentialService=ne,this.alertService=ce,this.cookieService=Ae,this.http=_e,this.router=oe,this.googleAuthConfig=b.N.googleAuthConfig,this.hasLoggedIn=!1,this.unsubscribe$=new m.x}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}configureOAuth(){this.oauthService.configure(this.googleAuthConfig),this.oauthService.tokenValidationHandler=new l.hG,this.loadDiscoveryDocumentAndTryLogin()}loadDiscoveryDocumentAndTryLogin(){this.oauthService.loadDiscoveryDocumentAndTryLogin().then(()=>{this.oauthService.hasValidAccessToken()?this.cookieService.isExists()?this.handleGoogleLogin():this.oauthService.logOut():this.alertService.warningMessage("No valid access token found","Warning")}).catch(Z=>{this.alertService.errorMessage("Error loading discovery document: "+Z,"Error")})}loginWithGoogle(){this.oauthService.initLoginFlow()}handleRedirectCallback(){const Z=window.location.hash.substring(1),ne=new URLSearchParams(Z),ce=ne.get("access_token"),Ae=ne.get("id_token");ce&&Ae?(sessionStorage.setItem("access_token",ce),sessionStorage.setItem("id_token",Ae),this.hasLoggedIn||(this.handleGoogleLogin(),this.hasLoggedIn=!0)):this.alertService.errorMessage("Access token or ID token not found","Error")}handleGoogleLogin(){const Z=this.oauthService.getAccessToken();this.http.get("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${Z}`}}).subscribe(ce=>this.processUserProfile(ce),ce=>{this.alertService.errorMessage("Error loading user profile: "+(ce.message||ce),"Error")})}processUserProfile(Z){if(Z){const ne={email:Z.email,firstName:Z.given_name,lastName:Z.family_name};this.credentialService.fetchCredentialByEmail(ne.email).subscribe(ce=>{ce?this.processLogin(ce):this.registerGoogleUser(ne)},ce=>{this.alertService.errorMessage("Error while checking user: "+ce,"Error")})}else this.alertService.errorMessage("Invalid user profile data received","Error")}registerGoogleUser(Z){this.credentialService.addCredential({email:Z.email,firstname:Z.firstName,lastname:Z.lastName,role:"candidate",userLevel:"1"}).subscribe(ce=>{this.processLogin(ce)},ce=>{this.alertService.errorMessage("Error registering user: "+ce,"Error")})}processLogin(Z){this.cookieService.createUserID(Z.employeeId),this.cookieService.createLevel(Z.userLevel),this.cookieService.unlock(),setTimeout(()=>{"candidate"===Z.role?(this.router.navigate(["/"]),this.alertService.successMessage("Login successful","Success")):"employer"===Z.role&&this.handleEmployerLogin(Z)},500)}handleEmployerLogin(Z){this.setEmployerSession(Z,"2"===Z.userLevel?"/dashboard":"3"===Z.userLevel?"/pro":"/")}setEmployerSession(Z,ne){this.cookieService.createUserID(Z.employeeId),this.cookieService.createAdmin(Z.email),this.cookieService.createOrganizationID(Z.companyId),this.cookieService.createLevel(Z.userLevel),this.cookieService.unlock(),this.router.navigate([ne])}logout(){this.oauthService.logOut(),this.router.navigate(["/login"])}static#e=this.\u0275fac=function(ne){return new(ne||F)(O.LFG(l.Ct),O.LFG(he.T),O.LFG(ee.m),O.LFG(ie.e),O.LFG(j.eN),O.LFG(K.F0))};static#t=this.\u0275prov=O.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})()},8140:(wt,Ne,_)=>{"use strict";_.d(Ne,{f:()=>m});var l=_(1135),b=_(4650);let m=(()=>{class O{constructor(){this.isDarkTheme=!1,this.themeSubject=new l.X(this.isDarkTheme)}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,document.body.classList.toggle("dark-theme",this.isDarkTheme),this.themeSubject.next(this.isDarkTheme)}isDarkMode(){return this.isDarkTheme}getThemeObservable(){return this.themeSubject.asObservable()}static#e=this.\u0275fac=function(ie){return new(ie||O)};static#t=this.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},8608:(wt,Ne,_)=>{"use strict";_.d(Ne,{v:()=>b});var l=_(4650);let b=(()=>{class m{static#e=this.\u0275fac=function(ee){return new(ee||m)};static#t=this.\u0275mod=l.oAB({type:m});static#n=this.\u0275inj=l.cJS({})}return m})()},5829:(wt,Ne,_)=>{"use strict";_.d(Ne,{D:()=>m});var l=_(6895),b=_(4650);let m=(()=>{class O{static#e=this.\u0275fac=function(ie){return new(ie||O)};static#t=this.\u0275mod=b.oAB({type:O});static#n=this.\u0275inj=b.cJS({imports:[l.ez]})}return O})()},2340:(wt,Ne,_)=>{"use strict";_.d(Ne,{N:()=>l});const l={production:!0,firebase:{apiKey:"FAKE_API_KEY",authDomain:"fake-auth-domain.firebaseapp.com",projectId:"fake-project-id",storageBucket:"fake-project-id.appspot.com",messagingSenderId:"1234567890",appId:"1:1234567890:web:fakeappid",measurementId:"G-FAKEMEASUREID"},baseUrl:"http://localhost:3269/api/v1/",apiUrl:"http://localhost:3269/api/v1/",encryptionKey:"FAKE_ENCRYPTION_KEY",githubAuthConfig:{clientId:"FAKE_GITHUB_CLIENT_ID"},googleAuthConfig:{clientId:"FAKE_GOOGLE_CLIENT_ID"},stripeKey:"FAKE_STRIPE_KEY"}},9673:(wt,Ne,_)=>{"use strict";var oe,l=_(1481),b=_(1779),m=_(4650),O=_(5861),he="https://js.stripe.com/v3",ee=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,ie="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",K=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",i=document.createElement("script");i.src="".concat(he).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(i),i},F=null,V=null,Z=null,_e=function(e,t,i){if(null===e)return null;var a=e.apply(void 0,t);return function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"4.4.0",startTime:t})}(a,i),a},fe=!1,Me=function(){return oe||(oe=(e=null,null!==F?F:(F=new Promise(function(t,i){if(typeof window>"u"||typeof document>"u")t(null);else if(window.Stripe&&e&&console.warn(ie),window.Stripe)t(window.Stripe);else try{var a=function(){for(var e=document.querySelectorAll('script[src^="'.concat(he,'"]')),t=0;t<e.length;t++){var i=e[t];if(ee.test(i.src))return i}return null}();if(a&&e)console.warn(ie);else if(a){if(a&&null!==Z&&null!==V){var u;a.removeEventListener("load",Z),a.removeEventListener("error",V),null===(u=a.parentNode)||void 0===u||u.removeChild(a),a=K(e)}}else a=K(e);Z=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,i),V=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(i),a.addEventListener("load",Z),a.addEventListener("error",V)}catch(p){return void i(p)}})).catch(function(t){return F=null,Promise.reject(t)})).catch(function(e){return oe=null,Promise.reject(e)}));var e};Promise.resolve().then(function(){return Me()}).catch(function(o){fe||console.warn(o)});var de=_(2340),Ee=_(529);let je=(()=>{class o{constructor(t){this.http=t,this.stripe_key=de.N.stripeKey,this.baseUrl=de.N.apiUrl,this.stripePromise=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];fe=!0;var a=Date.now();return Me().then(function(u){return _e(u,t,a)})}(this.stripe_key)}createStripeCheckoutSession(t,i){return this.http.post(this.baseUrl+"/webhook/create-checkout-session",{companyId:t,planName:i})}redirectToCheckout(t){var i=this;return(0,O.Z)(function*(){yield(yield i.stripePromise)?.redirectToCheckout({sessionId:t})})()}startPayPalCheckout(){console.log("Redirecting to PayPal...")}static#e=this.\u0275fac=function(i){return new(i||o)(m.LFG(Ee.eN))};static#t=this.\u0275prov=m.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var ke=_(4006),Xe=_(6895);function ut(o,e){1&o&&(m.TgZ(0,"div",10)(1,"span",11),m._uU(2,"Loading..."),m.qZA()())}function Ue(o,e){if(1&o){const t=m.EpF();m.TgZ(0,"button",12),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.startCheckout())}),m._uU(1," Pay with Credit Card (via Stripe) "),m.qZA()}}function ct(o,e){if(1&o){const t=m.EpF();m.TgZ(0,"button",13),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.startPayPalCheckout())}),m._uU(1," Pay with PayPal "),m.qZA()}}const lt=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadChildren:()=>Promise.all([_.e(592),_.e(598)]).then(_.bind(_,4598)).then(o=>o.HomeModule)},{path:"about",loadChildren:()=>Promise.all([_.e(592),_.e(820)]).then(_.bind(_,820)).then(o=>o.AboutModule)},{path:"job",loadChildren:()=>Promise.all([_.e(592),_.e(65)]).then(_.bind(_,5065)).then(o=>o.JobModule)},{path:"job-details/:id",loadChildren:()=>Promise.all([_.e(592),_.e(608)]).then(_.bind(_,3608)).then(o=>o.JobDetailsModule)},{path:"job-apply",loadChildren:()=>_.e(78).then(_.bind(_,3078)).then(o=>o.JobApplyModule)},{path:"job-post",loadChildren:()=>Promise.all([_.e(593),_.e(592),_.e(181)]).then(_.bind(_,1181)).then(o=>o.JobPostModule)},{path:"learn-more-jobs",loadChildren:()=>_.e(48).then(_.bind(_,9048)).then(o=>o.JobsLearnMoreModule)},{path:"companies",loadChildren:()=>Promise.all([_.e(592),_.e(394)]).then(_.bind(_,2394)).then(o=>o.CompaniesModule)},{path:"contact",loadChildren:()=>_.e(272).then(_.bind(_,1272)).then(o=>o.ContactModule)},{path:"pricing",loadChildren:()=>_.e(679).then(_.bind(_,1679)).then(o=>o.PrisingModule)},{path:"candidate-profile",loadChildren:()=>_.e(466).then(_.bind(_,466)).then(o=>o.EmpProfileModule)},{path:"candidate-profile-setting",loadChildren:()=>_.e(913).then(_.bind(_,6913)).then(o=>o.EmpProfileSettingsModule)},{path:"my-jobs",loadChildren:()=>_.e(554).then(_.bind(_,8554)).then(o=>o.EmpSavedJobsModule)},{path:"business-profile/:id",loadChildren:()=>Promise.all([_.e(592),_.e(967)]).then(_.bind(_,3967)).then(o=>o.BusinessProfileModule)},{path:"company-jobs/:id",loadChildren:()=>_.e(638).then(_.bind(_,4638)).then(o=>o.CompanyJobsModule)},{path:"locked",loadChildren:()=>_.e(552).then(_.bind(_,8552)).then(o=>o.LockScreenModule)},{path:"login",loadChildren:()=>_.e(210).then(_.bind(_,9210)).then(o=>o.LoginModule)},{path:"reset",loadChildren:()=>_.e(54).then(_.bind(_,1054)).then(o=>o.ResetPasswordModule)},{path:"register",loadChildren:()=>_.e(986).then(_.bind(_,5986)).then(o=>o.RegisterModule)},{path:"privacy-policy",loadChildren:()=>_.e(79).then(_.bind(_,79)).then(o=>o.PrivacyPolicyModule)},{path:"terms-and-conditions",loadChildren:()=>_.e(424).then(_.bind(_,7424)).then(o=>o.TermsConditionsModule)},{path:"faq",loadChildren:()=>_.e(218).then(_.bind(_,3218)).then(o=>o.FaqModule)},{path:"dashboard",loadChildren:()=>Promise.all([_.e(763),_.e(593),_.e(1),_.e(708)]).then(_.bind(_,5708)).then(o=>o.FreeDashboardModule)},{path:"pro",loadChildren:()=>Promise.all([_.e(763),_.e(593),_.e(1),_.e(164)]).then(_.bind(_,1164)).then(o=>o.ProDashboardModule)},{path:"candidate-profile-setting-test",loadChildren:()=>_.e(524).then(_.bind(_,6524)).then(o=>o.EmpProfileSettingsTestModule)},{path:"403",loadChildren:()=>_.e(47).then(_.bind(_,47)).then(o=>o.ForbiddenModule)},{path:"for-companies",loadChildren:()=>Promise.all([_.e(592),_.e(499)]).then(_.bind(_,1499)).then(o=>o.ForCompaniesModule)},{path:"oauth-callback",loadChildren:()=>_.e(981).then(_.bind(_,8981)).then(o=>o.OAuthCallbackModule)},{path:"oauth-callback/github",loadChildren:()=>_.e(745).then(_.bind(_,8745)).then(o=>o.OAuthCallbackGithubModule)},{path:"404",loadChildren:()=>_.e(592).then(_.bind(_,100)).then(o=>o.NotFoundModule)},{path:"job-analysis/:id",loadChildren:()=>Promise.all([_.e(763),_.e(212)]).then(_.bind(_,2212)).then(o=>o.SingleJobPostAnalysisModule)},{path:"checkout",component:(()=>{class o{constructor(t){this.stripeCheckoutService=t,this.selectedPaymentMethod="stripe",this.isLoading=!1}startCheckout(){"stripe"===this.selectedPaymentMethod&&(this.isLoading=!0,this.stripeCheckoutService.createStripeCheckoutSession(this.companyId,this.planName).subscribe(t=>{this.stripeCheckoutService.redirectToCheckout(t.id).then(i=>{this.isLoading=!1})},t=>{console.error("Error creating Stripe session:",t),this.isLoading=!1}))}startPayPalCheckout(){console.log("Redirecting to PayPal..."),this.isLoading=!1}static#e=this.\u0275fac=function(i){return new(i||o)(m.Y36(je))};static#t=this.\u0275cmp=m.Xpm({type:o,selectors:[["app-checkout"]],inputs:{companyId:"companyId",planName:"planName"},decls:15,vars:4,consts:[[1,"container","mt-5"],[1,"form-group"],["for","payment-method"],["id","payment-method",1,"form-control",3,"ngModel","ngModelChange"],["value","stripe"],["value","paypal"],["class","spinner-border mt-4","role","status",4,"ngIf"],[1,"mt-4"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["role","status",1,"spinner-border","mt-4"],[1,"sr-only"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(i,a){1&i&&(m.TgZ(0,"div",0)(1,"h2"),m._uU(2,"Select Your Payment Method"),m.qZA(),m.TgZ(3,"div",1)(4,"label",2),m._uU(5,"Payment Method"),m.qZA(),m.TgZ(6,"select",3),m.NdJ("ngModelChange",function(p){return a.selectedPaymentMethod=p}),m.TgZ(7,"option",4),m._uU(8,"Credit Card (via Stripe)"),m.qZA(),m.TgZ(9,"option",5),m._uU(10,"PayPal"),m.qZA()()(),m.YNc(11,ut,3,0,"div",6),m.TgZ(12,"div",7),m.YNc(13,Ue,2,0,"button",8),m.YNc(14,ct,2,0,"button",9),m.qZA()()),2&i&&(m.xp6(6),m.Q6J("ngModel",a.selectedPaymentMethod),m.xp6(5),m.Q6J("ngIf",a.isLoading),m.xp6(2),m.Q6J("ngIf","stripe"===a.selectedPaymentMethod&&!a.isLoading),m.xp6(1),m.Q6J("ngIf","paypal"===a.selectedPaymentMethod&&!a.isLoading))},dependencies:[ke.YN,ke.Kr,ke.EJ,ke.JJ,ke.On,Xe.O5],styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto}button[_ngcontent-%COMP%]{width:100%}"]})}return o})()},{path:"interview-prep",loadChildren:()=>Promise.all([_.e(592),_.e(778)]).then(_.bind(_,7778)).then(o=>o.InterviewPrepModule)},{path:"interview-prep-answer/:qid/:aid",loadChildren:()=>Promise.all([_.e(592),_.e(248)]).then(_.bind(_,2248)).then(o=>o.InterviewPrepFullAnswerModule)},{path:"**",redirectTo:"/404"}];let dn=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=m.oAB({type:o});static#n=this.\u0275inj=m.cJS({imports:[b.Bz.forRoot(lt,{anchorScrolling:"enabled",scrollPositionRestoration:"enabled"}),b.Bz]})}return o})();var jt=_(6511),Ht=_(3199),Zt=_(3412),Ce=_(5740),Oe=_(1327),Fe=_(2711),me=[{id:1,name:"Home",routerLink:"/home"},{id:2,name:"Jobs",routerLink:"/job"},{id:3,name:"Companies",routerLink:"/companies"},{id:4,name:"About",routerLink:"/about"},{id:5,name:"Pricing",routerLink:"/pricing"},{id:6,name:"Contact",routerLink:"/contact"},{id:7,name:"Saved Jobs",routerLink:"/my-jobs/saved"},{id:8,name:"In Progress Jobs",routerLink:"/my-jobs/inprogress"},{id:9,name:"Applied Jobs",routerLink:"/my-jobs/applied"},{id:10,name:"Archived Jobs",routerLink:"/my-jobs/archived"},{id:11,name:"Lock Screen",routerLink:"/locked"},{id:12,name:"Login",routerLink:"/login"},{id:13,name:"Register",routerLink:"/register"},{id:14,name:"Privacy Policy",routerLink:"/privacy-policy"},{id:15,name:"Terms & Conditions",routerLink:"/terms-and-conditions"},{id:16,name:"Frequently Asked Questions",routerLink:"/faq"},{id:17,name:"Blogs",routerLink:"/blogs"}],Ye=_(8140),W=_(4416),ve=_(4429),R=_(162);let Se=(()=>{class o{constructor(t){this.http=t,this.baseUrl=de.N.apiUrl}addIssue(t){const i=new Ee.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.post(this.baseUrl+"/portal_report-issues/add",t,{headers:i})}updateAttachment(t){const i=new Ee.WM({Authorization:"Basic "+btoa("admin:password")});return this.http.put(this.baseUrl+"/portal_report-issues/update/updateAttachment",t,{headers:i})}static#e=this.\u0275fac=function(i){return new(i||o)(m.LFG(Ee.eN))};static#t=this.\u0275prov=m.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var qe=_(6613),Dt=_(3378);const $e=["navbarNav"],St=["openForm"],$t=["modelClose"];function vn(o,e){1&o&&(m.TgZ(0,"li")(1,"a",73)(2,"i",60),m._uU(3,"autorenew"),m.qZA(),m._uU(4," Switch to Dashboard"),m.qZA()())}function Bn(o,e){1&o&&(m.TgZ(0,"li")(1,"a",74)(2,"i",60),m._uU(3,"autorenew"),m.qZA(),m._uU(4," Switch to Dashboard"),m.qZA()())}function qn(o,e){if(1&o&&(m.TgZ(0,"div"),m.YNc(1,vn,5,0,"li",65),m.YNc(2,Bn,5,0,"li",65),m.TgZ(3,"li"),m._UZ(4,"hr",69),m.qZA()()),2&o){const t=m.oxw(2);m.xp6(1),m.Q6J("ngIf","2"===t.employeeLevel),m.xp6(1),m.Q6J("ngIf","3"===t.employeeLevel)}}function Tn(o,e){if(1&o&&(m.TgZ(0,"div",78)(1,"a",79),m._uU(2),m.qZA()()),2&o){const t=e.$implicit;m.xp6(1),m.Q6J("routerLink",t.routerLink),m.xp6(1),m.Oqu(t.name)}}function Mn(o,e){1&o&&(m.TgZ(0,"div",80),m._uU(1,"No results found. :("),m.qZA())}function Le(o,e){if(1&o&&(m.TgZ(0,"div",75),m.YNc(1,Tn,3,2,"div",76),m.YNc(2,Mn,2,0,"div",77),m.qZA()),2&o){const t=m.oxw(2);m.xp6(1),m.Q6J("ngForOf",t.filterSearchResults()),m.xp6(1),m.Q6J("ngIf",t.filterSearchResults().length<=0)}}const re=function(o){return{"background-image":o}};function ge(o,e){if(1&o){const t=m.EpF();m.TgZ(0,"div",36)(1,"div",37),m._UZ(2,"div",38),m.TgZ(3,"div",39)(4,"nav",40)(5,"div",41)(6,"button",42),m._UZ(7,"span",43),m.qZA(),m.TgZ(8,"div",44,45)(10,"ul",46)(11,"li",47),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.collapseNavbar())}),m.TgZ(12,"a",48),m._uU(13,"Home"),m.qZA()(),m.TgZ(14,"li",49),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.collapseNavbar())}),m.TgZ(15,"a",50),m._uU(16,"Explore Jobs"),m.qZA(),m.TgZ(17,"ul",51)(18,"li")(19,"a",52),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.collapseNavbar())}),m._uU(20,"Jobs"),m.qZA()(),m.TgZ(21,"li")(22,"a",53),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.collapseNavbar())}),m._uU(23,"Companies"),m.qZA()()()(),m.TgZ(24,"li",47),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.collapseNavbar())}),m.TgZ(25,"a",54),m._uU(26,"About Us"),m.qZA()(),m.TgZ(27,"li",47),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.collapseNavbar())}),m.TgZ(28,"a",55),m._uU(29,"Pricing"),m.qZA()(),m.TgZ(30,"li",47),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.collapseNavbar())}),m.TgZ(31,"a",56),m._uU(32,"Companies"),m.qZA()(),m.TgZ(33,"li",57)(34,"div",58)(35,"input",59),m.NdJ("keyup",function(a){m.CHM(t);const u=m.oxw();return m.KtG(u.handleSearch(a.target))}),m.qZA(),m.TgZ(36,"i",60),m._uU(37,"search"),m.qZA()()(),m.TgZ(38,"li",61)(39,"div",62),m._UZ(40,"img",63),m.qZA(),m.TgZ(41,"ul",64),m.YNc(42,qn,5,2,"div",65),m.TgZ(43,"li")(44,"a",66)(45,"i",60),m._uU(46,"perm_identity"),m.qZA(),m._uU(47," Profile"),m.qZA()(),m.TgZ(48,"li")(49,"a",67)(50,"i",60),m._uU(51,"assignment"),m.qZA(),m._uU(52," My Jobs"),m.qZA()(),m.TgZ(53,"li")(54,"a",68)(55,"i",60),m._uU(56,"settings"),m.qZA(),m._uU(57," Setting"),m.qZA()(),m.TgZ(58,"li"),m._UZ(59,"hr",69),m.qZA(),m.TgZ(60,"li")(61,"a",70)(62,"i",60),m._uU(63,"lock"),m.qZA(),m._uU(64," Lock Screen"),m.qZA()(),m.TgZ(65,"li")(66,"a",71),m.NdJ("click",function(){m.CHM(t);const a=m.oxw();return m.KtG(a.logout())}),m.TgZ(67,"i",60),m._uU(68,"logout"),m.qZA(),m._uU(69," Logout"),m.qZA()()()()()()()()()(),m.YNc(70,Le,3,2,"div",72),m.qZA()}if(2&o){const t=m.oxw();m.xp6(2),m.Q6J("ngStyle",m.VKq(16,re,t.themeService.isDarkMode()?"url(./assets/imgs/logo/top-w.svg)":"url(./assets/imgs/logo/top-b.svg)")),m.xp6(10),m.ekj("active",t.isActive("/home")),m.xp6(7),m.ekj("active",t.isActive("/job")),m.xp6(3),m.ekj("active",t.isActive("/companies")),m.xp6(3),m.ekj("active",t.isActive("/about")),m.xp6(3),m.ekj("active",t.isActive("/pricing")),m.xp6(3),m.ekj("active",t.isActive("/for-companies")),m.xp6(9),m.Q6J("src",null!=t.employee&&t.employee.image?t.employee.image:"./assets/imgs/shared/default_emp_dp.svg",m.LSH),m.xp6(2),m.Q6J("ngIf","employer"===t.employeeType),m.xp6(28),m.Q6J("ngIf",t.openSearchResults)}}function He(o,e){if(1&o&&(m.TgZ(0,"div",81)(1,"div",82)(2,"div",83)(3,"div",84),m._UZ(4,"div",85),m.TgZ(5,"p",86),m._uU(6,"Lorem ipsum dolor sit. 123 Street "),m._UZ(7,"br"),m._uU(8,"+94 123 456 789 "),m._UZ(9,"br"),m._uU(10,"info@talentboozt.com"),m.qZA()(),m.TgZ(11,"div",87)(12,"h6"),m._uU(13,"About Us"),m.qZA(),m.TgZ(14,"p",88),m._uU(15,"> Jobs"),m.qZA(),m.TgZ(16,"p",89),m._uU(17,"> Companies"),m.qZA(),m.TgZ(18,"p",90),m._uU(19,"> Terms & Conditions"),m.qZA(),m.TgZ(20,"p",91),m._uU(21,"> FAQs"),m.qZA(),m.TgZ(22,"p",92),m._uU(23,"> Packages"),m.qZA(),m.TgZ(24,"p",93),m._uU(25,"> Contact Us"),m.qZA()(),m.TgZ(26,"div",87)(27,"h6"),m._uU(28,"Follow Us"),m.qZA(),m.TgZ(29,"p"),m._uU(30,"> Facebook"),m.qZA(),m.TgZ(31,"p"),m._uU(32,"> Twitter"),m.qZA(),m.TgZ(33,"p"),m._uU(34,"> LinkedIn"),m.qZA(),m.TgZ(35,"p"),m._uU(36,"> Youtube"),m.qZA(),m.TgZ(37,"p"),m._uU(38,"> Instagram"),m.qZA()(),m.TgZ(39,"div",94)(40,"h6"),m._uU(41,"Still need help?"),m.qZA(),m.TgZ(42,"p",86),m._uU(43,"Let us now about your issue and professional will reach you out."),m.qZA(),m.TgZ(44,"div",95),m._UZ(45,"input",96),m.TgZ(46,"button",97)(47,"i",60),m._uU(48,"near_me"),m.qZA()()(),m.TgZ(49,"div",98)(50,"p",86),m._uU(51,"If you are facing any issue, please let us know"),m.qZA(),m.TgZ(52,"button",99)(53,"i",100),m._uU(54,"bug_report"),m.qZA(),m._uU(55,"Report An Issue "),m.qZA(),m.TgZ(56,"button",101,102),m._uU(58,"btn"),m.qZA()()()()(),m.TgZ(59,"div",103)(60,"div",104)(61,"p"),m._uU(62,"\xa9 2024. All rights reserved"),m.qZA()(),m.TgZ(63,"div",105)(64,"p"),m._uU(65,"Designed by Talent Boozt Systems"),m.qZA()()()()),2&o){const t=m.oxw();m.xp6(4),m.Q6J("ngStyle",m.VKq(1,re,t.themeService.isDarkMode()?"url(./assets/imgs/logo/footer-w.svg)":"url(./assets/imgs/logo/footer-b.svg)"))}}const It=function(o,e){return{"theme-light":o,"theme-dark":e}};let Mt=(()=>{class o{constructor(t,i,a,u,p,x,M,H,ue){this.themeService=t,this.router=i,this.renderer=a,this.employeeService=u,this.credentialsService=p,this.fileUploadService=x,this.reportIssueService=M,this.alertService=H,this.cookieService=ue,this.title="SPARKC HR System",this.showNavbar=!0,this.showFooter=!0,this.openSearchResults=!1,this.commonSearchResults=me,this.filteredSearchResults=[],this.reportIssueForm=new ke.cw({issueType:new ke.NI("",[ke.kI.required]),description:new ke.NI("",[ke.kI.required])})}ngOnInit(){this.employeeId=this.cookieService.userID(),this.employeeLevel=this.cookieService.level(),this.router.events.subscribe(t=>{if(t instanceof b.m2){this.updateActiveClass();const i=document.querySelector(".main-body");i?i.scrollTop=0:window.scrollTo(0,0)}}),this.getEmployee(this.employeeId),"true"==sessionStorage.getItem("in_issue_progress")&&this.continueReportProgress()}ngAfterViewInit(){document.querySelectorAll(".material-icons").forEach(i=>{i.setAttribute("translate","no")})}ngOnDestroy(){this.removeUnwantedSession()}getEmployee(t){this.employeeService.getEmployee(t).subscribe(i=>{this.employee=i,this.credentialsService.fetchCredentialByEmployeeId(this.employeeId).subscribe(a=>{this.employeeType=a?.role})},i=>{console.log(i)})}updateActiveClass(){const t=this.router.url;document.querySelectorAll(".nav-link").forEach(a=>{a.classList.remove("active")});const i=document.querySelector(`.nav-link[href="${t}"]`);i&&i.classList.add("active")}toggleTheme(){this.themeService.toggleTheme()}isActive(t){return this.router.url===t}collapseNavbar(){const t=this.navbarNav.nativeElement;t.classList.contains("show")&&this.renderer.removeClass(t,"show")}toggleCommonComponent(t){t instanceof jt.D||t instanceof Ht.G||t instanceof Zt.y||t instanceof Ce.L||t instanceof Oe.j||t instanceof Fe.H?(this.showNavbar=!1,this.showFooter=!1):(this.showNavbar=!0,this.showFooter=!0)}filterSearchResults(){return void 0===this.targetInput&&(this.filteredSearchResults=this.commonSearchResults),this.filteredSearchResults}handleSearch(t){this.openSearchResults=!this.openSearchResults,this.targetInput=t;const i=this.targetInput.value;this.filteredSearchResults=i?this.commonSearchResults.filter(a=>a.name.toLowerCase().includes(i.toLowerCase())):this.commonSearchResults}removeUnwantedSession(){sessionStorage.clear()}logout(){this.cookieService.logout(),this.removeUnwantedSession(),this.router.navigate(["/login"])}uploadFile(t,i,a){const u=t.target.files[0],x=["image/png","image/jpeg","application/pdf"];if(u){if(u.size>2097152)return void this.alertService.warningMessage("File size exceeds the maximum limit of 2MB.","Warning");if(!x.includes(u.type))return void this.alertService.warningMessage("Only PNG, JPEG, and PDF files are allowed.","Warning");this.fileUploadService.uploadFile(i,u).subscribe(M=>{this.downloadURL=M,sessionStorage.setItem("downloadURL",this.downloadURL)})}}generateRandomId(){let t;return sessionStorage.getItem("issue_id")?sessionStorage.getItem("issue_id"):(t=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),sessionStorage.setItem("issue_id",t),t)}reportIssue(){this.reportIssueForm.valid?(sessionStorage.setItem("report_issue_form",JSON.stringify(this.reportIssueForm.value)),this.downloadURL?this.reportIssueService.addIssue({issueType:this.reportIssueForm.get("issueType")?.value,description:this.reportIssueForm.get("description")?.value,attachment:sessionStorage.getItem("downloadURL")}).subscribe(t=>{sessionStorage.clear(),this.alertService.successMessage("Issue reported successfully.","Success"),this.reportIssueForm.reset(),this.downloadURL=null,this.modelClose.nativeElement.click()},t=>{this.alertService.errorMessage("Something went wrong. Please try again.","Error")}):(this.modelClose.nativeElement.click(),sessionStorage.setItem("in_issue_progress","true"),window.location.reload())):this.alertService.errorMessage("Please fill in all required fields.","Error")}continueReportProgress(){setTimeout(()=>{document.getElementById("openForm").click()},1e3);const t=sessionStorage.getItem("report_issue_form");t&&(this.reportIssueForm.patchValue(JSON.parse(t)),this.downloadURL=sessionStorage.getItem("downloadURL"),this.downloadURL?this.reportIssue():this.alertService.errorMessage("Please add or upload again the attachment.","Error"))}static#e=this.\u0275fac=function(i){return new(i||o)(m.Y36(Ye.f),m.Y36(b.F0),m.Y36(m.Qsj),m.Y36(W.G),m.Y36(ve.T),m.Y36(R.J),m.Y36(Se),m.Y36(qe.m),m.Y36(Dt.e))};static#t=this.\u0275cmp=m.Xpm({type:o,selectors:[["app-root"]],viewQuery:function(i,a){if(1&i&&(m.Gf($e,5),m.Gf(St,5),m.Gf($t,5)),2&i){let u;m.iGM(u=m.CRH())&&(a.navbarNav=u.first),m.iGM(u=m.CRH())&&(a.openForm=u.first),m.iGM(u=m.CRH())&&(a.modelClose=u.first)}},decls:123,vars:8,consts:[[2,"max-height","100vh",3,"ngClass"],[1,"w-100","main-body"],["title","Theme",1,"theme-btn",3,"click"],["src","./assets/imgs/shared/moon.svg","alt","dark"],["alt","theme","height","40","width","40",3,"src"],["src","./assets/imgs/shared/sun.svg","alt","light"],["id","google_translate_element"],["class","nav-bar sticky-top",4,"ngIf"],[3,"activate"],["class","footer",4,"ngIf"],["id","issueModel","tabindex","-1","aria-labelledby","issueModelLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","issueModelLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["data-bs-toggle","modal","data-bs-target","#issueReportModel",2,"cursor","pointer"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","issueReportModel","tabindex","-1","aria-labelledby","issueReportModelLabel","aria-hidden","true",1,"modal","fade"],["id","issueReportModelLabel",1,"modal-title","fs-5"],[1,"w-100",3,"formGroup"],[1,"row","form-wrapper"],[1,"col-12","col-md-8"],[1,"form-group"],["for","issue_type"],["id","issue_type","formControlName","issueType",1,"form-control"],["selected",""],[1,"col-12"],["for","description"],["id","description","rows","5","placeholder","Describe your issue here","formControlName","description",1,"form-control"],["for","attachment"],["type","file","id","attachment",1,"form-control",3,"change"],["type","button",1,"btn-1","me-2",3,"click"],["modelClose",""],[1,"nav-bar","sticky-top"],[1,"container","d-flex","align-items-center","justify-content-between"],["routerLink","/",1,"logo",3,"ngStyle"],[1,"menu"],[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid",2,"justify-content","flex-end!important"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse",2,"justify-content","flex-end!important"],["navbarNav",""],[1,"navbar-nav"],[1,"nav-item",3,"click"],["routerLink","/home",1,"nav-link"],[1,"nav-item","dropdown",3,"click"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link"],[1,"dropdown-menu"],["routerLink","/job",1,"dropdown-item",3,"click"],["routerLink","/companies",1,"dropdown-item",3,"click"],["routerLink","/about",1,"nav-link"],["routerLink","/pricing",1,"nav-link"],["routerLink","/for-companies",1,"nav-link"],[1,"nav-item"],[1,"d-flex","align-items-center","justify-content-end","w-100","h-100","s-bar"],["type","text","placeholder","Search...",3,"keyup"],[1,"material-icons"],[1,"nav-item","d-none","d-lg-block","ms-2","dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"profile-wrapper"],["alt","profile",3,"src"],[1,"dropdown-menu","dropdown-menu-end"],[4,"ngIf"],["routerLink","/candidate-profile",1,"dropdown-item"],["routerLink","/my-jobs",1,"dropdown-item"],["routerLink","/candidate-profile-setting",1,"dropdown-item"],[1,"dropdown-divider"],["routerLink","/locked",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["class","search-results-wrapper",4,"ngIf"],["routerLink","/dashboard",1,"dropdown-item"],["routerLink","/pro",1,"dropdown-item"],[1,"search-results-wrapper"],["class","search-result",4,"ngFor","ngForOf"],["class","not-found",4,"ngIf"],[1,"search-result"],[3,"routerLink"],[1,"not-found"],[1,"footer"],[1,"container"],[1,"row","footer-top"],[1,"col-12","col-md-4","col-lg-3"],[1,"logo-lg",3,"ngStyle"],[1,"not-animate"],[1,"col-6","col-md-4","col-lg-2"],["routerLink","/job"],["routerLink","/companies"],["routerLink","/terms-and-conditions"],["routerLink","/faq"],["routerLink","/pricing"],["routerLink","/contact"],[1,"col-12","col-lg-5"],[1,"input-group"],["type","email","placeholder","Enter your valid email",1,"form-control"],["type","button",1,"btn","btn-outline-secondary"],[1,"report-issue"],["data-bs-toggle","modal","data-bs-target","#issueModel",1,"report-btn"],["translate","no",1,"material-icons"],["id","openForm","data-bs-toggle","modal","data-bs-target","#issueReportModel",1,"d-none"],["openForm",""],[1,"d-md-flex","align-items-center","justify-content-between","footer-bottom"],[1,"footer-bottom-left"],[1,"footer-bottom-right"]],template:function(i,a){1&i&&(m.TgZ(0,"div",0)(1,"div",1)(2,"button",2),m.NdJ("click",function(){return a.toggleTheme()}),m._UZ(3,"img",3)(4,"img",4)(5,"img",5),m.qZA(),m._UZ(6,"div",6),m.YNc(7,ge,71,18,"div",7),m.TgZ(8,"router-outlet",8),m.NdJ("activate",function(p){return a.toggleCommonComponent(p)}),m.qZA(),m.YNc(9,He,66,3,"div",9),m.qZA(),m.TgZ(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"h1",14),m._uU(15,"Want to report an issue?"),m.qZA(),m._UZ(16,"button",15),m.qZA(),m.TgZ(17,"div",16)(18,"p"),m._uU(19,"Here is some Troubleshooting Advice for various scenarios:"),m.qZA(),m.TgZ(20,"ol")(21,"li"),m._uU(22,"Account details are incorrect"),m.qZA(),m.TgZ(23,"ul")(24,"li"),m._uU(25,"Try to login with correct credentials."),m.qZA(),m.TgZ(26,"li"),m._uU(27,"Reload the page. If problem persists, contact us."),m.qZA(),m.TgZ(28,"li"),m._uU(29,"This error can be happen when you using multiple accounts with same device."),m.qZA()(),m.TgZ(30,"li"),m._uU(31,"Saved job details not visible"),m.qZA(),m.TgZ(32,"ul")(33,"li"),m._uU(34,"This error can happen when you are not logged in correctly."),m.qZA(),m.TgZ(35,"li"),m._uU(36,"The company/job post might inactive or deleted/closed."),m.qZA()(),m.TgZ(37,"li"),m._uU(38,"Failed to apply a job"),m.qZA(),m.TgZ(39,"ul")(40,"li"),m._uU(41,"Check you're logged as a candidate."),m.qZA(),m.TgZ(42,"li"),m._uU(43,"If the problem is still persists, contact us."),m.qZA()(),m.TgZ(44,"li"),m._uU(45,"Failed to post a job"),m.qZA(),m.TgZ(46,"ul")(47,"li"),m._uU(48,"Check you're logged as an employer."),m.qZA(),m.TgZ(49,"li"),m._uU(50,"Ensure required information provided in organization profile."),m.qZA(),m.TgZ(51,"li"),m._uU(52,"Check your job posting limit exceeded. (you can post new jobs after removing expired jobs)"),m.qZA(),m.TgZ(53,"li"),m._uU(54,"If the problem is still persists, contact us."),m.qZA()(),m.TgZ(55,"li"),m._uU(56,"Failed to upload multimedia files (images, videos, documents, CVs)"),m.qZA(),m.TgZ(57,"ul")(58,"li"),m._uU(59,"Make sure files are not reached the limit."),m.qZA(),m.TgZ(60,"li"),m._uU(61,"We allow *.jpeg, *.jpg, *.png, *.pdf file formats only.(some cases allows *.gif, *.doc, *.docx)"),m.qZA()(),m.TgZ(62,"li"),m._uU(63,"File uploaded. But not updated the content"),m.qZA(),m.TgZ(64,"ul")(65,"li"),m._uU(66,"Reload page. Sometimes cache persists and failed to update without reloading."),m.qZA(),m.TgZ(67,"li"),m._uU(68,"Re-upload the file. When you are tring to upload a new file, sometimes first attempt create a specific path for only you. So try again once:) "),m.qZA(),m.TgZ(69,"li"),m._uU(70,"If the problem is still persists, contact us."),m.qZA()()(),m.TgZ(71,"p")(72,"strong",17),m._uU(73,"Click here"),m.qZA(),m._uU(74," if you still have something to report/suggest."),m.qZA()(),m.TgZ(75,"div",18)(76,"button",19),m._uU(77,"Close"),m.qZA()()()()(),m.TgZ(78,"div",20)(79,"div",11)(80,"div",12)(81,"div",13)(82,"h1",21),m._uU(83,"Want to report an issue?"),m.qZA(),m._UZ(84,"button",15),m.qZA(),m.TgZ(85,"div",16)(86,"p")(87,"strong"),m._uU(88,"Examples of Software related issues : "),m.qZA(),m._uU(89,"related to CVs, Images, UI related etc."),m.qZA(),m.TgZ(90,"p")(91,"strong"),m._uU(92,"Examples of Content related issues : "),m.qZA(),m._uU(93,"related to Content not match, Incorrect content, Content not visible etc.."),m.qZA(),m.TgZ(94,"form",22)(95,"div",23)(96,"div",24)(97,"div",25)(98,"label",26),m._uU(99,"Issue Type *"),m.qZA(),m.TgZ(100,"select",27)(101,"option",28),m._uU(102,"Software Related Issue"),m.qZA(),m.TgZ(103,"option"),m._uU(104,"Content Related Issue"),m.qZA(),m.TgZ(105,"option"),m._uU(106,"Other Issue"),m.qZA()()()(),m.TgZ(107,"div",29)(108,"div",25)(109,"label",30),m._uU(110,"Describe the issue *"),m.qZA(),m._UZ(111,"textarea",31),m.qZA()(),m.TgZ(112,"div",29)(113,"div",25)(114,"label",32),m._uU(115,"Attach Screenshot *"),m.qZA(),m.TgZ(116,"input",33),m.NdJ("change",function(p){return a.uploadFile(p,"portal/report_issues/"+a.generateRandomId(),"issues")}),m.qZA()()()()()(),m.TgZ(117,"div",18)(118,"button",34),m.NdJ("click",function(){return a.reportIssue()}),m._uU(119,"Send"),m.qZA(),m.TgZ(120,"button",19,35),m._uU(122,"Close"),m.qZA()()()()()()),2&i&&(m.Q6J("ngClass",m.WLB(5,It,!a.themeService.isDarkMode(),a.themeService.isDarkMode())),m.xp6(4),m.Q6J("src",a.themeService.isDarkMode()?"./assets/imgs/shared/toggle-off.svg":"./assets/imgs/shared/toggle-on.svg",m.LSH),m.xp6(3),m.Q6J("ngIf",a.showNavbar),m.xp6(2),m.Q6J("ngIf",a.showFooter),m.xp6(85),m.Q6J("formGroup",a.reportIssueForm))},dependencies:[Xe.mk,Xe.sg,Xe.O5,Xe.PC,b.lC,b.rH,ke._Y,ke.YN,ke.Kr,ke.Fj,ke.EJ,ke.JJ,ke.JL,ke.sg,ke.u],styles:[".theme-btn{position:fixed;transform:rotate(270deg);right:0;top:100px;border:none;color:var(--color-surface-mixed-100);background-color:transparent;border-radius:5px;z-index:999;display:flex;align-items:center;justify-content:center}.theme-btn img:nth-child(1),.theme-btn img:nth-child(3){max-width:24px;max-height:24px}@media screen and (max-width: 768px){.theme-btn img:nth-child(1),.theme-btn img:nth-child(3){max-width:16px;max-height:16px}}#google_translate_element .goog-te-gadget{position:absolute;bottom:20px;right:10px;z-index:99;color:#0000}#google_translate_element .goog-te-gadget span{display:none}#google_translate_element .goog-te-combo{background-color:var(--color-surface-mixed-100);color:var(--color-text-100)}.nav-bar{display:flex;justify-content:space-between;align-items:center;background-color:transparent;backdrop-filter:blur(30px);-webkit-backdrop-filter:blur(30px);min-height:70px;box-shadow:0 2px 8px -4px var(--color-box-shadow-100);position:relative}.nav-bar .menu{width:100%}.nav-bar .menu .navbar{background-color:transparent!important;backdrop-filter:blur(30px)!important;-webkit-backdrop-filter:blur(30px)!important}.nav-bar .menu .navbar .navbar-nav{text-align:right}.nav-bar .menu .navbar .navbar-nav .nav-item .nav-link{color:var(--color-text-200)!important}.nav-bar .menu .navbar .navbar-nav .nav-item .nav-link:hover{color:var(--color-surface-mixed-600)!important}.nav-bar .menu .navbar .navbar-nav .nav-item .nav-link.active{color:var(--color-primary-300)!important}.nav-bar .menu .navbar .navbar-nav .nav-item .dropdown-menu{background-color:var(--color-surface-mixed-100)!important;border:1px solid var(--color-primary-600)}.nav-bar .menu .navbar .dropdown-menu .dropdown-item{color:var(--color-text-200)!important;font-size:14px}.nav-bar .menu .navbar .dropdown-menu .dropdown-item:hover{color:var(--color-text-400)!important}.nav-bar .menu .navbar .dropdown-menu .dropdown-item.active{color:#fff;background-color:var(--color-primary-300)!important}.nav-bar .menu .navbar .dropdown-menu .dropdown-divider{border-top:1px solid var(--color-primary-300)!important}.nav-bar .menu .navbar-toggler{align-self:flex-end;right:0;border-color:var(--color-primary-300)!important}.nav-bar .menu .navbar-toggler .navbar-toggler-icon{border-color:var(--color-primary-300)!important}.nav-bar .menu .s-bar{width:250px;min-height:40px;border-radius:50px;border:1px solid var(--color-surface-mixed-300);background-color:var(--color-surface-mixed-300);padding:0 16px;position:relative}.nav-bar .menu .s-bar input{width:100%;outline:none;border:none;color:var(--color-text-100);background-color:transparent}.nav-bar .menu .s-bar input:focus{outline:none}.nav-bar .menu .s-bar i{color:var(--color-text-200)}.nav-bar .menu .profile-wrapper{width:40px;height:40px;border-radius:50%;border:1px solid var(--color-surface-mixed-300);background-color:var(--color-surface-mixed-300);display:flex;align-items:center;justify-content:center;overflow:hidden;cursor:pointer}.nav-bar .menu .profile-wrapper img{width:100%;height:100%}.nav-bar .logo{width:200px;height:40px;margin:0 20px;background-repeat:no-repeat;background-position-y:-50px;background-position-x:0;background-size:cover}@media screen and (max-width: 992px){.nav-bar .logo{background-position-y:-40px}}@media screen and (max-width: 540px){.nav-bar .logo{background-position-y:-30px}}.nav-bar .search-results-wrapper{position:absolute;bottom:-105px;right:max(50px,7vw);min-width:250px;height:100px;overflow-y:auto;background-color:var(--color-surface-mixed-100);border-radius:0 0 8px 8px;border:1px solid var(--color-surface-mixed-300);box-shadow:0 1px 20px 0 var(--color-box-shadow-100);z-index:999}.nav-bar .search-results-wrapper .search-result{padding:5px 15px}.nav-bar .search-results-wrapper .search-result a{text-decoration:none;color:var(--color-text-200);font-size:14px;transition:all .3s ease}.nav-bar .search-results-wrapper .search-result:hover{background-color:var(--color-surface-mixed-300)}.nav-bar .search-results-wrapper .search-result:hover a{color:var(--color-primary-300)}.nav-bar .search-results-wrapper .not-found{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text-200);font-size:14px;text-align:center}.footer{background-color:#222b38}.footer .footer-top{padding:40px 0;background-color:#222b38}.footer .footer-top h6{color:#fff;margin-bottom:20px}.footer .footer-top p{cursor:pointer;transition:all .3s ease}.footer .footer-top p:hover{color:#fff;transform:translate(5px)}.footer .footer-top p.not-animate{transition:none;transform:none;color:var(--color-text-400)}.footer .footer-top .input-group input{background-color:transparent;border:1px solid var(--color-text-400);color:#fff;padding:12px 16px}.footer .footer-top .input-group input:focus{outline:none;box-shadow:none}.footer .footer-top .input-group input::placeholder{color:var(--color-text-400)}.footer .footer-top .btn-outline-secondary{background-color:#1e8449;border:1px solid #1e8449;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.footer .footer-top .logo-lg{width:90%;max-width:250px;aspect-ratio:16/9;margin-bottom:16px;background-position:center;background-repeat:no-repeat;background-size:cover;background-image:url(top-b.acd20fdbd490f631.svg)}.footer .footer-top .report-issue{width:100%;margin:14px 0;background-color:#1f1f2e;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;padding:12px 20px}.footer .footer-top .report-issue .report-btn{background-color:#ffb100;color:#fff;margin:0 0 8px;border-radius:8px;border:none;outline:none;padding:8px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;cursor:pointer;gap:4px;font-size:12px}.footer .footer-top .report-issue .report-btn i{font-size:14px}.footer .footer-top .report-issue .report-btn:hover{background-color:gold}.footer .footer-bottom{background-color:#12171e;min-height:40px;padding:16px}.footer .footer-bottom p{margin:0}.modal-body p,.modal-body ol,.modal-body ul,.modal-body li{font-size:14px}.form-wrapper{gap:unset;row-gap:20px;font-size:14px}.form-wrapper input,.form-wrapper textarea{font-size:14px}.form-wrapper input::placeholder,.form-wrapper textarea::placeholder{font-size:14px}.form-wrapper span{color:var(--color-text-200);font-weight:450}\n"],encapsulation:2})}return o})();var Qt=_(7392),Xt=_(7340);function Ke(o){return new m.vHH(3e3,!1)}function pn(){return typeof window<"u"&&typeof window.document<"u"}function $n(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function wn(o){switch(o.length){case 0:return new Xt.ZN;case 1:return o[0];default:return new Xt.ZE(o)}}function Yn(o,e,t,i,a=new Map,u=new Map){const p=[],x=[];let M=-1,H=null;if(i.forEach(ue=>{const Ie=ue.get("offset"),Qe=Ie==M,vt=Qe&&H||new Map;ue.forEach((Ot,Yt)=>{let qt=Yt,En=Ot;if("offset"!==Yt)switch(qt=e.normalizePropertyName(qt,p),En){case Xt.k1:En=a.get(Yt);break;case Xt.l3:En=u.get(Yt);break;default:En=e.normalizeStyleValue(Yt,qt,En,p)}vt.set(qt,En)}),Qe||x.push(vt),H=vt,M=Ie}),p.length)throw function dt(o){return new m.vHH(3502,!1)}();return x}function bt(o,e,t,i){switch(e){case"start":o.onStart(()=>i(t&&Et(t,"start",o)));break;case"done":o.onDone(()=>i(t&&Et(t,"done",o)));break;case"destroy":o.onDestroy(()=>i(t&&Et(t,"destroy",o)))}}function Et(o,e,t){const u=Vt(o.element,o.triggerName,o.fromState,o.toState,e||o.phaseName,t.totalTime??o.totalTime,!!t.disabled),p=o._data;return null!=p&&(u._data=p),u}function Vt(o,e,t,i,a="",u=0,p){return{element:o,triggerName:e,fromState:t,toState:i,phaseName:a,totalTime:u,disabled:!!p}}function Jt(o,e,t){let i=o.get(e);return i||o.set(e,i=t),i}function Vn(o){const e=o.indexOf(":");return[o.substring(1,e),o.slice(e+1)]}let ii=(o,e)=>!1,ui=(o,e,t)=>[],bi=null;function hi(o){const e=o.parentNode||o.host;return e===bi?null:e}($n()||typeof Element<"u")&&(pn()?(bi=(()=>document.documentElement)(),ii=(o,e)=>{for(;e;){if(e===o)return!0;e=hi(e)}return!1}):ii=(o,e)=>o.contains(e),ui=(o,e,t)=>{if(t)return Array.from(o.querySelectorAll(e));const i=o.querySelector(e);return i?[i]:[]});let Jn=null,Ar=!1;const li=ii,cr=ui;let ri=(()=>{class o{validateStyleProperty(t){return function lr(o){Jn||(Jn=function Yi(){return typeof document<"u"?document.body:null}()||{},Ar=!!Jn.style&&"WebkitAppearance"in Jn.style);let e=!0;return Jn.style&&!function ti(o){return"ebkit"==o.substring(1,6)}(o)&&(e=o in Jn.style,!e&&Ar&&(e="Webkit"+o.charAt(0).toUpperCase()+o.slice(1)in Jn.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return li(t,i)}getParentElement(t){return hi(t)}query(t,i,a){return cr(t,i,a)}computeStyle(t,i,a){return a||""}animate(t,i,a,u,p,x=[],M){return new Xt.ZN(a,u)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=m.Yz7({token:o,factory:o.\u0275fac}),o})(),wo=(()=>{class o{}return o.NOOP=new ri,o})();const hs=1e3,ur="ng-enter",ho="ng-leave",Kr="ng-trigger",Yr=".ng-trigger",fo="ng-animating",qr=".ng-animating";function Ai(o){if("number"==typeof o)return o;const e=o.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Qr(parseFloat(e[1]),e[2])}function Qr(o,e){return"s"===e?o*hs:o}function po(o,e,t){return o.hasOwnProperty("duration")?o:function Ra(o,e,t){let a,u=0,p="";if("string"==typeof o){const x=o.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===x)return e.push(Ke()),{duration:0,delay:0,easing:""};a=Qr(parseFloat(x[1]),x[2]);const M=x[3];null!=M&&(u=Qr(parseFloat(M),x[4]));const H=x[5];H&&(p=H)}else a=o;if(!t){let x=!1,M=e.length;a<0&&(e.push(function Te(){return new m.vHH(3100,!1)}()),x=!0),u<0&&(e.push(function ot(){return new m.vHH(3101,!1)}()),x=!0),x&&e.splice(M,0,Ke())}return{duration:a,delay:u,easing:p}}(o,e,t)}function $o(o,e={}){return Object.keys(o).forEach(t=>{e[t]=o[t]}),e}function fs(o){const e=new Map;return Object.keys(o).forEach(t=>{e.set(t,o[t])}),e}function mo(o,e=new Map,t){if(t)for(let[i,a]of t)e.set(i,a);for(let[i,a]of o)e.set(i,a);return e}function Er(o,e,t){return t?e+":"+t+";":""}function gr(o){let e="";for(let t=0;t<o.style.length;t++){const i=o.style.item(t);e+=Er(0,i,o.style.getPropertyValue(i))}for(const t in o.style)o.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Er(0,ps(t),o.style[t]));o.setAttribute("style",e)}function rr(o,e,t){o.style&&(e.forEach((i,a)=>{const u=es(a);t&&!t.has(a)&&t.set(a,o.style[u]),o.style[u]=i}),$n()&&gr(o))}function dr(o,e){o.style&&(e.forEach((t,i)=>{const a=es(i);o.style[a]=""}),$n()&&gr(o))}function Io(o){return Array.isArray(o)?1==o.length?o[0]:(0,Xt.vP)(o):o}const la=new RegExp("{{\\s*(.+?)\\s*}}","g");function oo(o){let e=[];if("string"==typeof o){let t;for(;t=la.exec(o);)e.push(t[1]);la.lastIndex=0}return e}function Oo(o,e,t){const i=o.toString(),a=i.replace(la,(u,p)=>{let x=e[p];return null==x&&(t.push(function sn(o){return new m.vHH(3003,!1)}()),x=""),x.toString()});return a==i?o:a}function ko(o){const e=[];let t=o.next();for(;!t.done;)e.push(t.value),t=o.next();return e}const js=/-+([a-z0-9])/g;function es(o){return o.replace(js,(...e)=>e[1].toUpperCase())}function ps(o){return o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kr(o,e,t){switch(e.type){case 7:return o.visitTrigger(e,t);case 0:return o.visitState(e,t);case 1:return o.visitTransition(e,t);case 2:return o.visitSequence(e,t);case 3:return o.visitGroup(e,t);case 4:return o.visitAnimate(e,t);case 5:return o.visitKeyframes(e,t);case 6:return o.visitStyle(e,t);case 8:return o.visitReference(e,t);case 9:return o.visitAnimateChild(e,t);case 10:return o.visitAnimateRef(e,t);case 11:return o.visitQuery(e,t);case 12:return o.visitStagger(e,t);default:throw function gn(o){return new m.vHH(3004,!1)}()}}function Ds(o,e){return window.getComputedStyle(o)[e]}const ts="*";function Na(o,e){const t=[];return"string"==typeof o?o.split(/\s*,\s*/).forEach(i=>function hr(o,e,t){if(":"==o[0]){const M=function Wo(o,e){switch(o){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Ze(o){return new m.vHH(3016,!1)}()),"* => *"}}(o,t);if("function"==typeof M)return void e.push(M);o=M}const i=o.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Nn(o){return new m.vHH(3015,!1)}()),e;const a=i[1],u=i[2],p=i[3];e.push(As(a,p));"<"==u[0]&&!(a==ts&&p==ts)&&e.push(As(p,a))}(i,t,e)):t.push(o),t}const Fo=new Set(["true","1"]),Ws=new Set(["false","0"]);function As(o,e){const t=Fo.has(o)||Ws.has(o),i=Fo.has(e)||Ws.has(e);return(a,u)=>{let p=o==ts||o==a,x=e==ts||e==u;return!p&&t&&"boolean"==typeof a&&(p=a?Fo.has(o):Ws.has(o)),!x&&i&&"boolean"==typeof u&&(x=u?Fo.has(e):Ws.has(e)),p&&x}}const Ts=new RegExp("s*:selfs*,?","g");function Zo(o,e,t,i){return new da(o).build(e,t,i)}class da{constructor(e){this._driver=e}build(e,t,i){const a=new Xr(t);return this._resetContextStyleTimingState(a),kr(this,Io(e),a)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,a=t.depCount=0;const u=[],p=[];return"@"==e.name.charAt(0)&&t.errors.push(function jn(){return new m.vHH(3006,!1)}()),e.definitions.forEach(x=>{if(this._resetContextStyleTimingState(t),0==x.type){const M=x,H=M.name;H.toString().split(/\s*,\s*/).forEach(ue=>{M.name=ue,u.push(this.visitState(M,t))}),M.name=H}else if(1==x.type){const M=this.visitTransition(x,t);i+=M.queryCount,a+=M.depCount,p.push(M)}else t.errors.push(function si(){return new m.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:p,queryCount:i,depCount:a,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(i.containsDynamicStyles){const u=new Set,p=a||{};i.styles.forEach(x=>{x instanceof Map&&x.forEach(M=>{oo(M).forEach(H=>{p.hasOwnProperty(H)||u.add(H)})})}),u.size&&(ko(u.values()),t.errors.push(function Qn(o,e){return new m.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=kr(this,Io(e.animation),t);return{type:1,matchers:Na(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ri(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>kr(this,i,t)),options:Ri(e.options)}}visitGroup(e,t){const i=t.currentTime;let a=0;const u=e.steps.map(p=>{t.currentTime=i;const x=kr(this,p,t);return a=Math.max(a,t.currentTime),x});return t.currentTime=a,{type:3,steps:u,options:Ri(e.options)}}visitAnimate(e,t){const i=function La(o,e){if(o.hasOwnProperty("duration"))return o;if("number"==typeof o)return ki(po(o,e).duration,0,"");const t=o;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=ki(0,0,"");return u.dynamic=!0,u.strValue=t,u}const a=po(t,e);return ki(a.duration,a.delay,a.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let a,u=e.styles?e.styles:(0,Xt.oB)({});if(5==u.type)a=this.visitKeyframes(u,t);else{let p=e.styles,x=!1;if(!p){x=!0;const H={};i.easing&&(H.easing=i.easing),p=(0,Xt.oB)(H)}t.currentTime+=i.duration+i.delay;const M=this.visitStyle(p,t);M.isEmptyStep=x,a=M}return t.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],a=Array.isArray(e.styles)?e.styles:[e.styles];for(let x of a)"string"==typeof x?x===Xt.l3?i.push(x):t.errors.push(new m.vHH(3002,!1)):i.push(fs(x));let u=!1,p=null;return i.forEach(x=>{if(x instanceof Map&&(x.has("easing")&&(p=x.get("easing"),x.delete("easing")),!u))for(let M of x.values())if(M.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:i,easing:p,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let a=t.currentTime,u=t.currentTime;i&&u>0&&(u-=i.duration+i.delay),e.styles.forEach(p=>{"string"!=typeof p&&p.forEach((x,M)=>{const H=t.collectedStyles.get(t.currentQuerySelector),ue=H.get(M);let Ie=!0;ue&&(u!=a&&u>=ue.startTime&&a<=ue.endTime&&(t.errors.push(function ht(o,e,t,i,a){return new m.vHH(3010,!1)}()),Ie=!1),u=ue.startTime),Ie&&H.set(M,{startTime:u,endTime:a}),t.options&&function _r(o,e,t){const i=e.params||{},a=oo(o);a.length&&a.forEach(u=>{i.hasOwnProperty(u)||t.push(function Gt(o){return new m.vHH(3001,!1)}())})}(x,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function pt(){return new m.vHH(3011,!1)}()),i;let u=0;const p=[];let x=!1,M=!1,H=0;const ue=e.steps.map(En=>{const kn=this._makeStyleAst(En,t);let yn=null!=kn.offset?kn.offset:function gs(o){if("string"==typeof o)return null;let e=null;if(Array.isArray(o))o.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(o instanceof Map&&o.has("offset")){const t=o;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(kn.styles),zn=0;return null!=yn&&(u++,zn=kn.offset=yn),M=M||zn<0||zn>1,x=x||zn<H,H=zn,p.push(zn),kn});M&&t.errors.push(function rt(){return new m.vHH(3012,!1)}()),x&&t.errors.push(function ze(){return new m.vHH(3200,!1)}());const Ie=e.steps.length;let Qe=0;u>0&&u<Ie?t.errors.push(function st(){return new m.vHH(3202,!1)}()):0==u&&(Qe=1/(Ie-1));const vt=Ie-1,Ot=t.currentTime,Yt=t.currentAnimateTimings,qt=Yt.duration;return ue.forEach((En,kn)=>{const yn=Qe>0?kn==vt?1:Qe*kn:p[kn],zn=yn*qt;t.currentTime=Ot+Yt.delay+zn,Yt.duration=zn,this._validateStyleAst(En,t),En.offset=yn,i.styles.push(En)}),i}visitReference(e,t){return{type:8,animation:kr(this,Io(e.animation),t),options:Ri(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ri(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ri(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[u,p]=function Sr(o){const e=!!o.split(/\s*,\s*/).find(t=>":self"==t);return e&&(o=o.replace(Ts,"")),o=o.replace(/@\*/g,Yr).replace(/@\w+/g,t=>Yr+"-"+t.slice(1)).replace(/:animating/g,qr),[o,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+u:u,Jt(t.collectedStyles,t.currentQuerySelector,new Map);const x=kr(this,Io(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:u,limit:a.limit||0,optional:!!a.optional,includeSelf:p,animation:x,originalSelector:e.selector,options:Ri(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function an(){return new m.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:po(e.timings,t.errors,!0);return{type:12,animation:kr(this,Io(e.animation),t),timings:i,options:null}}}class Xr{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ri(o){return o?(o=$o(o)).params&&(o.params=function ms(o){return o?$o(o):null}(o.params)):o={},o}function ki(o,e,t){return{duration:o,delay:e,easing:t}}function vo(o,e,t,i,a,u,p=null,x=!1){return{type:1,element:o,keyframes:e,preStyleProps:t,postStyleProps:i,duration:a,delay:u,totalTime:a+u,easing:p,subTimeline:x}}class Oi{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Do=new RegExp(":enter","g"),Ms=new RegExp(":leave","g");function Ps(o,e,t,i,a,u=new Map,p=new Map,x,M,H=[]){return(new Ko).buildKeyframes(o,e,t,i,a,u,p,x,M,H)}class Ko{buildKeyframes(e,t,i,a,u,p,x,M,H,ue=[]){H=H||new Oi;const Ie=new ha(e,t,H,a,u,ue,[]);Ie.options=M;const Qe=M.delay?Ai(M.delay):0;Ie.currentTimeline.delayNextStep(Qe),Ie.currentTimeline.setStyles([p],null,Ie.errors,M),kr(this,i,Ie);const vt=Ie.timelines.filter(Ot=>Ot.containsAnimation());if(vt.length&&x.size){let Ot;for(let Yt=vt.length-1;Yt>=0;Yt--){const qt=vt[Yt];if(qt.element===t){Ot=qt;break}}Ot&&!Ot.allowOnlyTimelineStyles()&&Ot.setStyles([x],null,Ie.errors,M)}return vt.length?vt.map(Ot=>Ot.buildKeyframes()):[vo(t,[],[],[],0,Qe,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const a=t.createSubContext(e.options),u=t.currentTimeline.currentTime,p=this._visitSubInstructions(i,a,a.options);u!=p&&t.transformIntoNewTimeline(p)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const a of e){const u=a?.delay;if(u){const p="number"==typeof u?u:Ai(Oo(u,a?.params??{},t.errors));i.delayNextStep(p)}}}_visitSubInstructions(e,t,i){let u=t.currentTimeline.currentTime;const p=null!=i.duration?Ai(i.duration):null,x=null!=i.delay?Ai(i.delay):null;return 0!==p&&e.forEach(M=>{const H=t.appendInstructionToTimeline(M,p,x);u=Math.max(u,H.duration+H.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),kr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let a=t;const u=e.options;if(u&&(u.params||u.delay)&&(a=t.createSubContext(u),a.transformIntoNewTimeline(),null!=u.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Fr);const p=Ai(u.delay);a.delayNextStep(p)}e.steps.length&&(e.steps.forEach(p=>kr(this,p,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let a=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Ai(e.options.delay):0;e.steps.forEach(p=>{const x=t.createSubContext(e.options);u&&x.delayNextStep(u),kr(this,p,x),a=Math.max(a,x.currentTimeline.currentTime),i.push(x.currentTimeline)}),i.forEach(p=>t.currentTimeline.mergeTimelineCollectedStyles(p)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return po(t.params?Oo(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),a.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(i.duration),this.visitStyle(u,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,a=t.currentAnimateTimings;!a&&i.hasCurrentStyleProperties()&&i.forwardFrame();const u=a&&a.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(u):i.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,a=t.currentTimeline.duration,u=i.duration,x=t.createSubContext().currentTimeline;x.easing=i.easing,e.styles.forEach(M=>{x.forwardTime((M.offset||0)*u),x.setStyles(M.styles,M.easing,t.errors,t.options),x.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(x),t.transformIntoNewTimeline(a+u),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,a=e.options||{},u=a.delay?Ai(a.delay):0;u&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Fr);let p=i;const x=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=x.length;let M=null;x.forEach((H,ue)=>{t.currentQueryIndex=ue;const Ie=t.createSubContext(e.options,H);u&&Ie.delayNextStep(u),H===t.element&&(M=Ie.currentTimeline),kr(this,e.animation,Ie),Ie.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,Ie.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(p),M&&(t.currentTimeline.mergeTimelineCollectedStyles(M),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,a=t.currentTimeline,u=e.timings,p=Math.abs(u.duration),x=p*(t.currentQueryTotal-1);let M=p*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":M=x-M;break;case"full":M=i.currentStaggerTime}const ue=t.currentTimeline;M&&ue.delayNextStep(M);const Ie=ue.currentTime;kr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=a.currentTime-Ie+(a.startTime-i.currentTimeline.startTime)}}const Fr={};class ha{constructor(e,t,i,a,u,p,x,M){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=u,this.errors=p,this.timelines=x,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Fr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=M||new ns(this._driver,t,0),x.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let a=this.options;null!=i.duration&&(a.duration=Ai(i.duration)),null!=i.delay&&(a.delay=Ai(i.delay));const u=i.params;if(u){let p=a.params;p||(p=this.options.params={}),Object.keys(u).forEach(x=>{(!t||!p.hasOwnProperty(x))&&(p[x]=Oo(u[x],p,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(a=>{i[a]=t[a]})}}return e}createSubContext(e=null,t,i){const a=t||this.element,u=new ha(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=Fr,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const a={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},u=new Wn(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(u),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,a,u,p){let x=[];if(a&&x.push(this.element),e.length>0){e=(e=e.replace(Do,"."+this._enterClassName)).replace(Ms,"."+this._leaveClassName);let H=this._driver.query(this.element,e,1!=i);0!==i&&(H=i<0?H.slice(H.length+i,H.length):H.slice(0,i)),x.push(...H)}return!u&&0==x.length&&p.push(function en(o){return new m.vHH(3014,!1)}()),x}}class ns{constructor(e,t,i,a){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ns(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Xt.l3),this._currentKeyframe.set(t,Xt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,a){t&&this._previousKeyframe.set("easing",t);const u=a&&a.params||{},p=function E(o,e){const t=new Map;let i;return o.forEach(a=>{if("*"===a){i=i||e.keys();for(let u of i)t.set(u,Xt.l3)}else mo(a,t)}),t}(e,this._globalTimelineStyles);for(let[x,M]of p){const H=Oo(M,u,i);this._pendingStyles.set(x,H),this._localTimelineStyles.has(x)||this._backFill.set(x,this._globalTimelineStyles.get(x)??Xt.l3),this._updateStyle(x,H)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const a=this._styleSummary.get(i);(!a||t.time>a.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((x,M)=>{const H=mo(x,new Map,this._backFill);H.forEach((ue,Ie)=>{ue===Xt.k1?e.add(Ie):ue===Xt.l3&&t.add(Ie)}),i||H.set("offset",M/this.duration),a.push(H)});const u=e.size?ko(e.values()):[],p=t.size?ko(t.values()):[];if(i){const x=a[0],M=new Map(x);x.set("offset",0),M.set("offset",1),a=[x,M]}return vo(this.element,a,u,p,this.duration,this.startTime,this.easing,!1)}}class Wn extends ns{constructor(e,t,i,a,u,p,x=!1){super(e,t,p.delay),this.keyframes=i,this.preStyleProps=a,this.postStyleProps=u,this._stretchStartingKeyframe=x,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],p=i+t,x=t/p,M=mo(e[0]);M.set("offset",0),u.push(M);const H=mo(e[0]);H.set("offset",te(x)),u.push(H);const ue=e.length-1;for(let Ie=1;Ie<=ue;Ie++){let Qe=mo(e[Ie]);const vt=Qe.get("offset");Qe.set("offset",te((t+vt*i)/p)),u.push(Qe)}i=p,t=0,a="",e=u}return vo(this.element,e,this.preStyleProps,this.postStyleProps,i,t,a,!0)}}function te(o,e=3){const t=Math.pow(10,e-1);return Math.round(o*t)/t}class T{}const Ge=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ut extends T{normalizePropertyName(e,t){return es(e)}normalizeStyleValue(e,t,i,a){let u="";const p=i.toString().trim();if(Ge.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)u="px";else{const x=i.match(/^[+-]?[\d\.]+([a-z]*)$/);x&&0==x[1].length&&a.push(function ai(o,e){return new m.vHH(3005,!1)}())}return p+u}}function Dn(o,e,t,i,a,u,p,x,M,H,ue,Ie,Qe){return{type:0,element:o,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:u,toState:i,toStyles:p,timelines:x,queriedElements:M,preStyleProps:H,postStyleProps:ue,totalTime:Ie,errors:Qe}}const _t={};class Cn{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,a){return function Fi(o,e,t,i,a){return o.some(u=>u(e,t,i,a))}(this.ast.matchers,e,t,i,a)}buildStyles(e,t,i){let a=this._stateStyles.get("*");return void 0!==e&&(a=this._stateStyles.get(e?.toString())||a),a?a.buildStyles(t,i):new Map}build(e,t,i,a,u,p,x,M,H,ue){const Ie=[],Qe=this.ast.options&&this.ast.options.params||_t,Ot=this.buildStyles(i,x&&x.params||_t,Ie),Yt=M&&M.params||_t,qt=this.buildStyles(a,Yt,Ie),En=new Set,kn=new Map,yn=new Map,zn="void"===a,pi={params:Ei(Yt,Qe),delay:this.ast.options?.delay},mi=ue?[]:Ps(e,t,this.ast.animation,u,p,Ot,qt,pi,H,Ie);let Ct=0;if(mi.forEach(mt=>{Ct=Math.max(mt.duration+mt.delay,Ct)}),Ie.length)return Dn(t,this._triggerName,i,a,zn,Ot,qt,[],[],kn,yn,Ct,Ie);mi.forEach(mt=>{const Tt=mt.element,Ft=Jt(kn,Tt,new Set);mt.preStyleProps.forEach(ft=>Ft.add(ft));const zt=Jt(yn,Tt,new Set);mt.postStyleProps.forEach(ft=>zt.add(ft)),Tt!==t&&En.add(Tt)});const it=ko(En.values());return Dn(t,this._triggerName,i,a,zn,Ot,qt,mi,it,kn,yn,Ct)}}function Ei(o,e){const t=$o(e);for(const i in o)o.hasOwnProperty(i)&&null!=o[i]&&(t[i]=o[i]);return t}class $i{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,a=$o(this.defaultParams);return Object.keys(e).forEach(u=>{const p=e[u];null!==p&&(a[u]=p)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((p,x)=>{p&&(p=Oo(p,a,t));const M=this.normalizer.normalizePropertyName(x,t);p=this.normalizer.normalizeStyleValue(x,M,p,t),i.set(x,p)})}),i}}class Qi{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(a=>{this.states.set(a.name,new $i(a.style,a.options&&a.options.params||{},i))}),yo(this.states,"true","1"),yo(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new Cn(e,a,this.states))}),this.fallbackTransition=function Wi(o,e,t){return new Cn(o,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,x)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,a){return this.transitionFactories.find(p=>p.match(e,t,i,a))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function yo(o,e,t){o.has(e)?o.has(t)||o.set(t,o.get(e)):o.has(t)&&o.set(e,o.get(t))}const is=new Oi;class Pr{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=[],u=Zo(this._driver,t,i,a);if(i.length)throw function et(o){return new m.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,i){const a=e.element,u=Yn(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(a,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const a=[],u=this._animations.get(e);let p;const x=new Map;if(u?(p=Ps(this._driver,t,u,ur,ho,new Map,new Map,i,is,a),p.forEach(ue=>{const Ie=Jt(x,ue.element,new Map);ue.postStyleProps.forEach(Qe=>Ie.set(Qe,null))})):(a.push(function X(){return new m.vHH(3300,!1)}()),p=[]),a.length)throw function N(o){return new m.vHH(3504,!1)}();x.forEach((ue,Ie)=>{ue.forEach((Qe,vt)=>{ue.set(vt,this._driver.computeStyle(Ie,vt,Xt.l3))})});const H=wn(p.map(ue=>{const Ie=x.get(ue.element);return this._buildPlayer(ue,new Map,Ie)}));return this._playersById.set(e,H),H.onDestroy(()=>this.destroy(e)),this.players.push(H),H}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function D(o){return new m.vHH(3301,!1)}();return t}listen(e,t,i,a){const u=Vt(t,"","","");return bt(this._getPlayer(e),i,u,a),()=>{}}command(e,t,i,a){if("register"==i)return void this.register(e,a[0]);if("create"==i)return void this.create(e,t,a[0]||{});const u=this._getPlayer(e);switch(i){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const vr="ng-animate-queued",Rr="ng-animate-disabled",Rs=[],Ba={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ic={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},To="__ng_removed";class fa{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function pa(o){return o??null}(i?e.value:e),i){const u=$o(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(a=>{null==i[a]&&(i[a]=t[a])})}}}const No="void",ml=new fa(No);class el{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Lo(t,this._hostClassName)}listen(e,t,i,a){if(!this._triggers.has(t))throw function z(o,e){return new m.vHH(3302,!1)}();if(null==i||0==i.length)throw function be(o){return new m.vHH(3303,!1)}();if(!function Gl(o){return"start"==o||"done"==o}(i))throw function Pe(o,e){return new m.vHH(3400,!1)}();const u=Jt(this._elementListeners,e,[]),p={name:t,phase:i,callback:a};u.push(p);const x=Jt(this._engine.statesByElement,e,new Map);return x.has(t)||(Lo(e,Kr),Lo(e,Kr+"-"+t),x.set(t,ml)),()=>{this._engine.afterFlush(()=>{const M=u.indexOf(p);M>=0&&u.splice(M,1),this._triggers.has(t)||x.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function at(o){return new m.vHH(3401,!1)}();return t}trigger(e,t,i,a=!0){const u=this._getTrigger(t),p=new Ks(this.id,t,e);let x=this._engine.statesByElement.get(e);x||(Lo(e,Kr),Lo(e,Kr+"-"+t),this._engine.statesByElement.set(e,x=new Map));let M=x.get(t);const H=new fa(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&M&&H.absorbOptions(M.options),x.set(t,H),M||(M=ml),H.value!==No&&M.value===H.value){if(!function yd(o,e){const t=Object.keys(o),i=Object.keys(e);if(t.length!=i.length)return!1;for(let a=0;a<t.length;a++){const u=t[a];if(!e.hasOwnProperty(u)||o[u]!==e[u])return!1}return!0}(M.params,H.params)){const Yt=[],qt=u.matchStyles(M.value,M.params,Yt),En=u.matchStyles(H.value,H.params,Yt);Yt.length?this._engine.reportError(Yt):this._engine.afterFlush(()=>{dr(e,qt),rr(e,En)})}return}const Qe=Jt(this._engine.playersByElement,e,[]);Qe.forEach(Yt=>{Yt.namespaceId==this.id&&Yt.triggerName==t&&Yt.queued&&Yt.destroy()});let vt=u.matchTransition(M.value,H.value,e,H.params),Ot=!1;if(!vt){if(!a)return;vt=u.fallbackTransition,Ot=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:vt,fromState:M,toState:H,player:p,isFallbackTransition:Ot}),Ot||(Lo(e,vr),p.onStart(()=>{xr(e,vr)})),p.onDone(()=>{let Yt=this.players.indexOf(p);Yt>=0&&this.players.splice(Yt,1);const qt=this._engine.playersByElement.get(e);if(qt){let En=qt.indexOf(p);En>=0&&qt.splice(En,1)}}),this.players.push(p),Qe.push(p),p}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Yr,!0);i.forEach(a=>{if(a[To])return;const u=this._engine.fetchNamespacesByElement(a);u.size?u.forEach(p=>p.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,i,a){const u=this._engine.statesByElement.get(e),p=new Map;if(u){const x=[];if(u.forEach((M,H)=>{if(p.set(H,M.value),this._triggers.has(H)){const ue=this.trigger(e,H,No,a);ue&&x.push(ue)}}),x.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,p),i&&wn(x).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const a=new Set;t.forEach(u=>{const p=u.name;if(a.has(p))return;a.add(p);const M=this._triggers.get(p).fallbackTransition,H=i.get(p)||ml,ue=new fa(No),Ie=new Ks(this.id,p,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:p,transition:M,fromState:H,toState:ue,player:Ie,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(i.totalAnimations){const u=i.players.length?i.playersByQueriedElement.get(e):[];if(u&&u.length)a=!0;else{let p=e;for(;p=p.parentNode;)if(i.statesByElement.get(p)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)i.markElementAsRemoved(this.id,e,!1,t);else{const u=e[To];(!u||u===Ba)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Lo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const a=i.player;if(a.destroyed)return;const u=i.element,p=this._elementListeners.get(u);p&&p.forEach(x=>{if(x.name==i.triggerName){const M=Vt(u,i.triggerName,i.fromState.value,i.toState.value);M._data=e,bt(i.player,x.phase,M,x.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(i)}),this._queue=[],t.sort((i,a)=>{const u=i.transition.ast.depCount,p=a.transition.ast.depCount;return 0==u||0==p?u-p:this._engine.driver.containsElement(i.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class jl{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,u)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new el(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,a=this.namespacesByHostElement;if(i.length-1>=0){let p=!1,x=this.driver.getParentElement(t);for(;x;){const M=a.get(x);if(M){const H=i.indexOf(M);i.splice(H+1,0,e),p=!0;break}x=this.driver.getParentElement(x)}p||i.unshift(e)}else i.push(e);return a.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let a=this._namespaceLookup[e];a&&a.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(i);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let a of i.values())if(a.namespaceId){const u=this._fetchNamespace(a.namespaceId);u&&t.add(u)}return t}trigger(e,t,i,a){if(Va(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,i,a),!0}return!1}insertNode(e,t,i,a){if(!Va(t))return;const u=t[To];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const p=this.collectedLeaveElements.indexOf(t);p>=0&&this.collectedLeaveElements.splice(p,1)}if(e){const p=this._fetchNamespace(e);p&&p.insertNode(t,i)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Lo(e,Rr)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),xr(e,Rr))}removeNode(e,t,i,a){if(Va(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),i){const p=this.namespacesByHostElement.get(t);p&&p.id!==e&&p.removeNode(t,a)}}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,i,a,u){this.collectedLeaveElements.push(t),t[To]={namespaceId:e,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,i,a,u){return Va(t)?this._fetchNamespace(e).listen(t,i,a,u):()=>{}}_buildInstruction(e,t,i,a,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,a,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,Yr,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,qr,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return wn(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[To];if(t&&t.setForRemoval){if(e[To]=Ba,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Rr)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,a)=>this._balanceNamespaceList(i,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Lo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let a=0;a<i.length;a++)i[a]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?wn(t).onDone(()=>{i.forEach(a=>a())}):i.forEach(a=>a())}}reportError(e){throw function gt(o){return new m.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new Oi,a=[],u=new Map,p=[],x=new Map,M=new Map,H=new Map,ue=new Set;this.disabledNodes.forEach(ei=>{ue.add(ei);const oi=this.driver.query(ei,".ng-animate-queued",!0);for(let ci=0;ci<oi.length;ci++)ue.add(oi[ci])});const Ie=this.bodyNode,Qe=Array.from(this.statesByElement.keys()),vt=Ac(Qe,this.collectedEnterElements),Ot=new Map;let Yt=0;vt.forEach((ei,oi)=>{const ci=ur+Yt++;Ot.set(oi,ci),ei.forEach(Vi=>Lo(Vi,ci))});const qt=[],En=new Set,kn=new Set;for(let ei=0;ei<this.collectedLeaveElements.length;ei++){const oi=this.collectedLeaveElements[ei],ci=oi[To];ci&&ci.setForRemoval&&(qt.push(oi),En.add(oi),ci.hasAnimation?this.driver.query(oi,".ng-star-inserted",!0).forEach(Vi=>En.add(Vi)):kn.add(oi))}const yn=new Map,zn=Ac(Qe,Array.from(En));zn.forEach((ei,oi)=>{const ci=ho+Yt++;yn.set(oi,ci),ei.forEach(Vi=>Lo(Vi,ci))}),e.push(()=>{vt.forEach((ei,oi)=>{const ci=Ot.get(oi);ei.forEach(Vi=>xr(Vi,ci))}),zn.forEach((ei,oi)=>{const ci=yn.get(oi);ei.forEach(Vi=>xr(Vi,ci))}),qt.forEach(ei=>{this.processLeaveNode(ei)})});const pi=[],mi=[];for(let ei=this._namespaceList.length-1;ei>=0;ei--)this._namespaceList[ei].drainQueuedTransitions(t).forEach(ci=>{const Vi=ci.player,ir=ci.element;if(pi.push(Vi),this.collectedEnterElements.length){const Zr=ir[To];if(Zr&&Zr.setForMove){if(Zr.previousTriggersValues&&Zr.previousTriggersValues.has(ci.triggerName)){const yc=Zr.previousTriggersValues.get(ci.triggerName),oa=this.statesByElement.get(ci.element);if(oa&&oa.has(ci.triggerName)){const fl=oa.get(ci.triggerName);fl.value=yc,oa.set(ci.triggerName,fl)}}return void Vi.destroy()}}const Xa=!Ie||!this.driver.containsElement(Ie,ir),Gr=yn.get(ir),Ur=Ot.get(ir),Wr=this._buildInstruction(ci,i,Ur,Gr,Xa);if(Wr.errors&&Wr.errors.length)return void mi.push(Wr);if(Xa)return Vi.onStart(()=>dr(ir,Wr.fromStyles)),Vi.onDestroy(()=>rr(ir,Wr.toStyles)),void a.push(Vi);if(ci.isFallbackTransition)return Vi.onStart(()=>dr(ir,Wr.fromStyles)),Vi.onDestroy(()=>rr(ir,Wr.toStyles)),void a.push(Vi);const Ho=[];Wr.timelines.forEach(Zr=>{Zr.stretchStartingKeyframe=!0,this.disabledNodes.has(Zr.element)||Ho.push(Zr)}),Wr.timelines=Ho,i.append(ir,Wr.timelines),p.push({instruction:Wr,player:Vi,element:ir}),Wr.queriedElements.forEach(Zr=>Jt(x,Zr,[]).push(Vi)),Wr.preStyleProps.forEach((Zr,yc)=>{if(Zr.size){let oa=M.get(yc);oa||M.set(yc,oa=new Set),Zr.forEach((fl,bc)=>oa.add(bc))}}),Wr.postStyleProps.forEach((Zr,yc)=>{let oa=H.get(yc);oa||H.set(yc,oa=new Set),Zr.forEach((fl,bc)=>oa.add(bc))})});if(mi.length){const ei=[];mi.forEach(oi=>{ei.push(function bn(o,e){return new m.vHH(3505,!1)}())}),pi.forEach(oi=>oi.destroy()),this.reportError(ei)}const Ct=new Map,it=new Map;p.forEach(ei=>{const oi=ei.element;i.has(oi)&&(it.set(oi,oi),this._beforeAnimationBuild(ei.player.namespaceId,ei.instruction,Ct))}),a.forEach(ei=>{const oi=ei.element;this._getPreviousPlayers(oi,!1,ei.namespaceId,ei.triggerName,null).forEach(Vi=>{Jt(Ct,oi,[]).push(Vi),Vi.destroy()})});const mt=qt.filter(ei=>gl(ei,M,H)),Tt=new Map;tl(Tt,this.driver,kn,H,Xt.l3).forEach(ei=>{gl(ei,M,H)&&mt.push(ei)});const zt=new Map;vt.forEach((ei,oi)=>{tl(zt,this.driver,new Set(ei),M,Xt.k1)}),mt.forEach(ei=>{const oi=Tt.get(ei),ci=zt.get(ei);Tt.set(ei,new Map([...Array.from(oi?.entries()??[]),...Array.from(ci?.entries()??[])]))});const ft=[],Qa=[],gd={};p.forEach(ei=>{const{element:oi,player:ci,instruction:Vi}=ei;if(i.has(oi)){if(ue.has(oi))return ci.onDestroy(()=>rr(oi,Vi.toStyles)),ci.disabled=!0,ci.overrideTotalTime(Vi.totalTime),void a.push(ci);let ir=gd;if(it.size>1){let Gr=oi;const Ur=[];for(;Gr=Gr.parentNode;){const Wr=it.get(Gr);if(Wr){ir=Wr;break}Ur.push(Gr)}Ur.forEach(Wr=>it.set(Wr,ir))}const Xa=this._buildAnimation(ci.namespaceId,Vi,Ct,u,zt,Tt);if(ci.setRealPlayer(Xa),ir===gd)ft.push(ci);else{const Gr=this.playersByElement.get(ir);Gr&&Gr.length&&(ci.parentPlayer=wn(Gr)),a.push(ci)}}else dr(oi,Vi.fromStyles),ci.onDestroy(()=>rr(oi,Vi.toStyles)),Qa.push(ci),ue.has(oi)&&a.push(ci)}),Qa.forEach(ei=>{const oi=u.get(ei.element);if(oi&&oi.length){const ci=wn(oi);ei.setRealPlayer(ci)}}),a.forEach(ei=>{ei.parentPlayer?ei.syncPlayerEvents(ei.parentPlayer):ei.destroy()});for(let ei=0;ei<qt.length;ei++){const oi=qt[ei],ci=oi[To];if(xr(oi,ho),ci&&ci.hasAnimation)continue;let Vi=[];if(x.size){let Xa=x.get(oi);Xa&&Xa.length&&Vi.push(...Xa);let Gr=this.driver.query(oi,qr,!0);for(let Ur=0;Ur<Gr.length;Ur++){let Wr=x.get(Gr[Ur]);Wr&&Wr.length&&Vi.push(...Wr)}}const ir=Vi.filter(Xa=>!Xa.destroyed);ir.length?ma(this,oi,ir):this.processLeaveNode(oi)}return qt.length=0,ft.forEach(ei=>{this.players.push(ei),ei.onDone(()=>{ei.destroy();const oi=this.players.indexOf(ei);this.players.splice(oi,1)}),ei.play()}),ft}elementContainsData(e,t){let i=!1;const a=t[To];return a&&a.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,a,u){let p=[];if(t){const x=this.playersByQueriedElement.get(e);x&&(p=x)}else{const x=this.playersByElement.get(e);if(x){const M=!u||u==No;x.forEach(H=>{H.queued||!M&&H.triggerName!=a||p.push(H)})}}return(i||a)&&(p=p.filter(x=>!(i&&i!=x.namespaceId||a&&a!=x.triggerName))),p}_beforeAnimationBuild(e,t,i){const u=t.element,p=t.isRemovalTransition?void 0:e,x=t.isRemovalTransition?void 0:t.triggerName;for(const M of t.timelines){const H=M.element,ue=H!==u,Ie=Jt(i,H,[]);this._getPreviousPlayers(H,ue,p,x,t.toState).forEach(vt=>{const Ot=vt.getRealPlayer();Ot.beforeDestroy&&Ot.beforeDestroy(),vt.destroy(),Ie.push(vt)})}dr(u,t.fromStyles)}_buildAnimation(e,t,i,a,u,p){const x=t.triggerName,M=t.element,H=[],ue=new Set,Ie=new Set,Qe=t.timelines.map(Ot=>{const Yt=Ot.element;ue.add(Yt);const qt=Yt[To];if(qt&&qt.removedBeforeQueried)return new Xt.ZN(Ot.duration,Ot.delay);const En=Yt!==M,kn=function or(o){const e=[];return Tc(o,e),e}((i.get(Yt)||Rs).map(Ct=>Ct.getRealPlayer())).filter(Ct=>!!Ct.element&&Ct.element===Yt),yn=u.get(Yt),zn=p.get(Yt),pi=Yn(0,this._normalizer,0,Ot.keyframes,yn,zn),mi=this._buildPlayer(Ot,pi,kn);if(Ot.subTimeline&&a&&Ie.add(Yt),En){const Ct=new Ks(e,x,Yt);Ct.setRealPlayer(mi),H.push(Ct)}return mi});H.forEach(Ot=>{Jt(this.playersByQueriedElement,Ot.element,[]).push(Ot),Ot.onDone(()=>function $l(o,e,t){let i=o.get(e);if(i){if(i.length){const a=i.indexOf(t);i.splice(a,1)}0==i.length&&o.delete(e)}return i}(this.playersByQueriedElement,Ot.element,Ot))}),ue.forEach(Ot=>Lo(Ot,fo));const vt=wn(Qe);return vt.onDestroy(()=>{ue.forEach(Ot=>xr(Ot,fo)),rr(M,t.toStyles)}),Ie.forEach(Ot=>{Jt(a,Ot,[]).push(vt)}),vt}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Xt.ZN(e.duration,e.delay)}}class Ks{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Xt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(a=>bt(e,i,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Jt(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Va(o){return o&&1===o.nodeType}function Dc(o,e){const t=o.style.display;return o.style.display=e??"none",t}function tl(o,e,t,i,a){const u=[];t.forEach(M=>u.push(Dc(M)));const p=[];i.forEach((M,H)=>{const ue=new Map;M.forEach(Ie=>{const Qe=e.computeStyle(H,Ie,a);ue.set(Ie,Qe),(!Qe||0==Qe.length)&&(H[To]=Ic,p.push(H))}),o.set(H,ue)});let x=0;return t.forEach(M=>Dc(M,u[x++])),p}function Ac(o,e){const t=new Map;if(o.forEach(x=>t.set(x,[])),0==e.length)return t;const i=1,a=new Set(e),u=new Map;function p(x){if(!x)return i;let M=u.get(x);if(M)return M;const H=x.parentNode;return M=t.has(H)?H:a.has(H)?i:p(H),u.set(x,M),M}return e.forEach(x=>{const M=p(x);M!==i&&t.get(M).push(x)}),t}function Lo(o,e){o.classList?.add(e)}function xr(o,e){o.classList?.remove(e)}function ma(o,e,t){wn(t).onDone(()=>o.processLeaveNode(e))}function Tc(o,e){for(let t=0;t<o.length;t++){const i=o[t];i instanceof Xt.ZE?Tc(i.players,e):e.push(i)}}function gl(o,e,t){const i=t.get(o);if(!i)return!1;let a=e.get(o);return a?i.forEach(u=>a.add(u)):e.set(o,i),t.delete(o),!0}class Wl{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(a,u)=>{},this._transitionEngine=new jl(e,t,i),this._timelineEngine=new Pr(e,t,i),this._transitionEngine.onRemovalComplete=(a,u)=>this.onRemovalComplete(a,u)}registerTrigger(e,t,i,a,u){const p=e+"-"+a;let x=this._triggerCache[p];if(!x){const M=[],H=[],ue=Zo(this._driver,u,M,H);if(M.length)throw function Rt(o,e){return new m.vHH(3404,!1)}();x=function Gi(o,e,t){return new Qi(o,e,t)}(a,ue,this._normalizer),this._triggerCache[p]=x}this._transitionEngine.registerTrigger(t,a,x)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,a){this._transitionEngine.insertNode(e,t,i,a)}onRemove(e,t,i,a){this._transitionEngine.removeNode(e,t,a||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,a){if("@"==i.charAt(0)){const[u,p]=Vn(i);this._timelineEngine.command(u,t,p,a)}else this._transitionEngine.trigger(e,t,i,a)}listen(e,t,i,a,u){if("@"==i.charAt(0)){const[p,x]=Vn(i);return this._timelineEngine.listen(p,t,x,u)}return this._transitionEngine.listen(e,t,i,a,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let yu=(()=>{class o{constructor(t,i,a){this._element=t,this._startStyles=i,this._endStyles=a,this._state=0;let u=o.initialStylesByElement.get(t);u||o.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&rr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rr(this._element,this._initialStyles),this._endStyles&&(rr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(o.initialStylesByElement.delete(this._element),this._startStyles&&(dr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dr(this._element,this._endStyles),this._endStyles=null),rr(this._element,this._initialStyles),this._state=3)}}return o.initialStylesByElement=new WeakMap,o})();function ga(o){let e=null;return o.forEach((t,i)=>{(function _l(o){return"display"===o||"position"===o})(i)&&(e=e||new Map,e.set(i,t))}),e}class _a{constructor(e,t,i,a){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,a)=>{"offset"!==a&&e.set(a,this._finished?i:Ds(this.element,a))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class L{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return li(e,t)}getParentElement(e){return hi(e)}query(e,t,i){return cr(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,a,u,p=[]){const M={duration:i,delay:a,fill:0==a?"both":"forwards"};u&&(M.easing=u);const H=new Map,ue=p.filter(vt=>vt instanceof _a);(function $s(o,e){return 0===o||0===e})(i,a)&&ue.forEach(vt=>{vt.currentSnapshot.forEach((Ot,Yt)=>H.set(Yt,Ot))});let Ie=function ro(o){return o.length?o[0]instanceof Map?o:o.map(e=>fs(e)):[]}(t).map(vt=>mo(vt));Ie=function Gs(o,e,t){if(t.size&&e.length){let i=e[0],a=[];if(t.forEach((u,p)=>{i.has(p)||a.push(p),i.set(p,u)}),a.length)for(let u=1;u<e.length;u++){let p=e[u];a.forEach(x=>p.set(x,Ds(o,x)))}}return e}(e,Ie,H);const Qe=function Sc(o,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=ga(e[0]),e.length>1&&(i=ga(e[e.length-1]))):e instanceof Map&&(t=ga(e)),t||i?new yu(o,t,i):null}(e,Ie);return new _a(e,Ie,M,Qe)}}let le=(()=>{class o extends Xt._j{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:m.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?(0,Xt.vP)(t):t;return tt(this._renderer,null,i,"register",[a]),new $(i,this._renderer)}}return o.\u0275fac=function(t){return new(t||o)(m.LFG(m.FYo),m.LFG(Xe.K0))},o.\u0275prov=m.Yz7({token:o,factory:o.\u0275fac}),o})();class $ extends Xt.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new we(this._id,e,t||{},this._renderer)}}class we{constructor(e,t,i,a){this.id=e,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tt(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tt(o,e,t,i,a){return o.setProperty(e,`@@${t}:${i}`,a)}const un="@.disabled";let Zn=(()=>{class o{constructor(t,i,a){this.delegate=t,this.engine=i,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(u,p)=>{const x=p?.parentNode(u);x&&p.removeChild(x,u)}}createRenderer(t,i){const u=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let ue=this._rendererCache.get(u);return ue||(ue=new ji("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,ue)),ue}const p=i.id,x=i.id+"-"+this._currentId;this._currentId++,this.engine.register(x,t);const M=ue=>{Array.isArray(ue)?ue.forEach(M):this.engine.registerTrigger(p,x,t,ue.name,ue)};return i.data.animation.forEach(M),new Ni(this,x,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,a){t>=0&&t<this._microtaskId?this._zone.run(()=>i(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[p,x]=u;p(x)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return o.\u0275fac=function(t){return new(t||o)(m.LFG(m.FYo),m.LFG(Wl),m.LFG(m.R0b))},o.\u0275prov=m.Yz7({token:o,factory:o.\u0275fac}),o})();class ji{constructor(e,t,i,a){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=a,this.destroyNode=this.delegate.destroyNode?u=>t.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,a=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,a){this.delegate.setAttribute(e,t,i,a)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,a){this.delegate.setStyle(e,t,i,a)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==un?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ni extends ji{constructor(e,t,i,a,u){super(t,i,a,u),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==un?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const a=function Pi(o){switch(o){case"body":return document.body;case"document":return document;case"window":return window;default:return o}}(e);let u=t.slice(1),p="";return"@"!=u.charAt(0)&&([u,p]=function vi(o){const e=o.indexOf(".");return[o.substring(0,e),o.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,a,u,p,x=>{this.factory.scheduleListenerCallback(x._data||-1,i,x)})}return this.delegate.listen(e,t,i)}}const rs=[{provide:Xt._j,useClass:le},{provide:T,useFactory:function Li(){return new Ut}},{provide:Wl,useClass:(()=>{class o extends Wl{constructor(t,i,a,u){super(t.body,i,a)}ngOnDestroy(){this.flush()}}return o.\u0275fac=function(t){return new(t||o)(m.LFG(Xe.K0),m.LFG(wo),m.LFG(T),m.LFG(m.z2F))},o.\u0275prov=m.Yz7({token:o,factory:o.\u0275fac}),o})()},{provide:m.FYo,useFactory:function Nr(o,e,t){return new Zn(o,e,t)},deps:[l.se,Wl,m.R0b]}],jr=[{provide:wo,useFactory:()=>new L},{provide:m.QbO,useValue:"BrowserAnimations"},...rs],os=[{provide:wo,useClass:ri},{provide:m.QbO,useValue:"NoopAnimations"},...rs];let qo=(()=>{class o{static withConfig(t){return{ngModule:o,providers:t.disableAnimations?os:jr}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=m.oAB({type:o}),o.\u0275inj=m.cJS({providers:jr,imports:[l.b2]}),o})();var bu=_(7705),Mc=_(8255),t_=_(9101),Pc=_(3267),Wh=_(9022),Bp=_(266),ks=_(1572),Cr=(_(6297),_(9618)),Jr=_(3593),Zl=_(7579),Lr=_(9646),Kl=_(9751),va=_(8996),Zh=_(6451),Yl=_(5363),Ys=_(3900),Bo=_(4004),bd=_(6063);class Rc extends Zl.x{constructor(e=1/0,t=1/0,i=bd.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:u,_windowTime:p}=this;t||(i.push(e),!a&&i.push(u.now()+p)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:a}=this,u=a.slice();for(let p=0;p<u.length&&!e.closed;p+=i?1:2)e.next(u[p]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:a}=this,u=(a?1:2)*e;if(e<1/0&&u<i.length&&i.splice(0,i.length-u),!a){const p=t.now();let x=0;for(let M=1;M<i.length&&i[M]<=p;M+=2)x=M;x&&i.splice(0,x+1)}}}var vs=_(3099);function Oc(o,e,t){let i,a=!1;return o&&"object"==typeof o?({bufferSize:i=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=o):i=o??1/0,(0,vs.B)({connector:()=>new Rc(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var Qo=_(590),Ed=_(576);function Fs(o,e){return(0,Ed.m)(e)?(0,Ys.w)(()=>o,e):(0,Ys.w)(()=>o)}var ql=_(9468),kc=_(9300),ao=_(9260);const xu=new m.OlP("angularfire2.auth.use-emulator"),il=new m.OlP("angularfire2.auth.settings"),vl=new m.OlP("angularfire2.auth.tenant-id"),Ji=new m.OlP("angularfire2.auth.langugage-code"),Ua=new m.OlP("angularfire2.auth.use-device-language"),rl=new m.OlP("angularfire.auth.persistence"),Fc=(o,e,t,i,a,u,p,x)=>(0,Jr.cc)(`${o.name}.auth`,"AngularFireAuth",o.name,()=>{const M=e.runOutsideAngular(()=>o.auth());if(t&&M.useEmulator(...t),i&&(M.tenantId=i),M.languageCode=a,u&&M.useDeviceLanguage(),p)for(const[H,ue]of Object.entries(p))M.settings[H]=ue;return x&&M.setPersistence(x),M},[t,i,a,u,p,x]);let qs=(()=>{class o{authState;idToken;user;idTokenResult;credential;constructor(t,i,a,u,p,x,M,H,ue,Ie,Qe,vt){const Ot=new Zl.x,Yt=(0,Lr.of)(void 0).pipe((0,Yl.Q)(p.outsideAngular),(0,Ys.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(_.bind(_,6297)))),(0,Bo.U)(()=>(0,Jr.on)(t,u,i)),(0,Bo.U)(qt=>Fc(qt,u,x,H,ue,Ie,M,Qe)),Oc({bufferSize:1,refCount:!1}));if((0,Xe.PM)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Lr.of)(null);else{Yt.pipe((0,Qo.P)()).subscribe();const qt=Yt.pipe((0,Ys.w)(yn=>yn.getRedirectResult().then(zn=>zn,()=>null)),Cr.iC,Oc({bufferSize:1,refCount:!1})),En=Yt.pipe((0,Ys.w)(yn=>new Kl.y(zn=>({unsubscribe:u.runOutsideAngular(()=>yn.onAuthStateChanged(pi=>zn.next(pi),pi=>zn.error(pi),()=>zn.complete()))})))),kn=Yt.pipe((0,Ys.w)(yn=>new Kl.y(zn=>({unsubscribe:u.runOutsideAngular(()=>yn.onIdTokenChanged(pi=>zn.next(pi),pi=>zn.error(pi),()=>zn.complete()))}))));this.authState=qt.pipe(Fs(En),(0,ql.R)(p.outsideAngular),(0,Yl.Q)(p.insideAngular)),this.user=qt.pipe(Fs(kn),(0,ql.R)(p.outsideAngular),(0,Yl.Q)(p.insideAngular)),this.idToken=this.user.pipe((0,Ys.w)(yn=>yn?(0,va.D)(yn.getIdToken()):(0,Lr.of)(null))),this.idTokenResult=this.user.pipe((0,Ys.w)(yn=>yn?(0,va.D)(yn.getIdTokenResult()):(0,Lr.of)(null))),this.credential=(0,Zh.T)(qt,Ot,this.authState.pipe((0,kc.h)(yn=>!yn))).pipe((0,Bo.U)(yn=>yn?.user?yn:null),(0,ql.R)(p.outsideAngular),(0,Yl.Q)(p.insideAngular))}return(0,Jr.pX)(this,Yt,u,{spy:{apply:(qt,En,kn)=>{(qt.startsWith("signIn")||qt.startsWith("createUser"))&&kn.then(yn=>Ot.next(yn))}}})}static \u0275fac=function(i){return new(i||o)(m.LFG(Jr.Dh),m.LFG(Jr.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Cr.HU),m.LFG(xu,8),m.LFG(il,8),m.LFG(vl,8),m.LFG(Ji,8),m.LFG(Ua,8),m.LFG(rl,8),m.LFG(Cr.Rf,8))};static \u0275prov=m.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"})}return o})(),Vp=(()=>{class o{constructor(){ao.Z.registerVersion("angularfire",Cr.q4.full,"auth-compat")}static \u0275fac=function(i){return new(i||o)};static \u0275mod=m.oAB({type:o});static \u0275inj=m.cJS({providers:[qs]})}return o})();var xd=_(4081),er=_(4986),Kh=_(8675),Cd=_(4482),Up=_(5403);function Qs(){return(0,Cd.e)((o,e)=>{let t,i=!1;o.subscribe((0,Up.x)(e,a=>{const u=t;t=a,i&&e.next([u,a]),i=!0}))})}var ol,ss,Nc=_(5026),Yh=_(1884),wd=_(3942),ya=_(6881),Cu=_(4859),ba=_(1877),di=_(2090),Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yl={};(function(){var o;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function a(Ct,it,mt){mt||(mt=0);var Tt=Array(16);if("string"==typeof it)for(var Ft=0;16>Ft;++Ft)Tt[Ft]=it.charCodeAt(mt++)|it.charCodeAt(mt++)<<8|it.charCodeAt(mt++)<<16|it.charCodeAt(mt++)<<24;else for(Ft=0;16>Ft;++Ft)Tt[Ft]=it[mt++]|it[mt++]<<8|it[mt++]<<16|it[mt++]<<24;var zt=Ct.g[3],ft=(it=Ct.g[0])+(zt^(mt=Ct.g[1])&((Ft=Ct.g[2])^zt))+Tt[0]+3614090360&4294967295;ft=(mt=(Ft=(zt=(it=(mt=(Ft=(zt=(it=(mt=(Ft=(zt=(it=(mt=(Ft=(zt=(it=(mt=(Ft=(zt=(it=(mt=(Ft=(zt=(it=(mt=(Ft=(zt=(it=(mt=(Ft=(zt=(it=(mt=(Ft=(zt=(it=(mt=(Ft=(zt=(it=(mt=(Ft=(zt=(it=(mt=(Ft=(zt=(it=(mt=(Ft=(zt=(it=(mt=(Ft=(zt=(it=(mt=(Ft=(zt=(it=mt+(ft<<7&4294967295|ft>>>25))+((ft=zt+(Ft^it&(mt^Ft))+Tt[1]+3905402710&4294967295)<<12&4294967295|ft>>>20))+((ft=Ft+(mt^zt&(it^mt))+Tt[2]+606105819&4294967295)<<17&4294967295|ft>>>15))+((ft=mt+(it^Ft&(zt^it))+Tt[3]+3250441966&4294967295)<<22&4294967295|ft>>>10))+((ft=it+(zt^mt&(Ft^zt))+Tt[4]+4118548399&4294967295)<<7&4294967295|ft>>>25))+((ft=zt+(Ft^it&(mt^Ft))+Tt[5]+1200080426&4294967295)<<12&4294967295|ft>>>20))+((ft=Ft+(mt^zt&(it^mt))+Tt[6]+2821735955&4294967295)<<17&4294967295|ft>>>15))+((ft=mt+(it^Ft&(zt^it))+Tt[7]+4249261313&4294967295)<<22&4294967295|ft>>>10))+((ft=it+(zt^mt&(Ft^zt))+Tt[8]+1770035416&4294967295)<<7&4294967295|ft>>>25))+((ft=zt+(Ft^it&(mt^Ft))+Tt[9]+2336552879&4294967295)<<12&4294967295|ft>>>20))+((ft=Ft+(mt^zt&(it^mt))+Tt[10]+4294925233&4294967295)<<17&4294967295|ft>>>15))+((ft=mt+(it^Ft&(zt^it))+Tt[11]+2304563134&4294967295)<<22&4294967295|ft>>>10))+((ft=it+(zt^mt&(Ft^zt))+Tt[12]+1804603682&4294967295)<<7&4294967295|ft>>>25))+((ft=zt+(Ft^it&(mt^Ft))+Tt[13]+4254626195&4294967295)<<12&4294967295|ft>>>20))+((ft=Ft+(mt^zt&(it^mt))+Tt[14]+2792965006&4294967295)<<17&4294967295|ft>>>15))+((ft=mt+(it^Ft&(zt^it))+Tt[15]+1236535329&4294967295)<<22&4294967295|ft>>>10))+((ft=it+(Ft^zt&(mt^Ft))+Tt[1]+4129170786&4294967295)<<5&4294967295|ft>>>27))+((ft=zt+(mt^Ft&(it^mt))+Tt[6]+3225465664&4294967295)<<9&4294967295|ft>>>23))+((ft=Ft+(it^mt&(zt^it))+Tt[11]+643717713&4294967295)<<14&4294967295|ft>>>18))+((ft=mt+(zt^it&(Ft^zt))+Tt[0]+3921069994&4294967295)<<20&4294967295|ft>>>12))+((ft=it+(Ft^zt&(mt^Ft))+Tt[5]+3593408605&4294967295)<<5&4294967295|ft>>>27))+((ft=zt+(mt^Ft&(it^mt))+Tt[10]+38016083&4294967295)<<9&4294967295|ft>>>23))+((ft=Ft+(it^mt&(zt^it))+Tt[15]+3634488961&4294967295)<<14&4294967295|ft>>>18))+((ft=mt+(zt^it&(Ft^zt))+Tt[4]+3889429448&4294967295)<<20&4294967295|ft>>>12))+((ft=it+(Ft^zt&(mt^Ft))+Tt[9]+568446438&4294967295)<<5&4294967295|ft>>>27))+((ft=zt+(mt^Ft&(it^mt))+Tt[14]+3275163606&4294967295)<<9&4294967295|ft>>>23))+((ft=Ft+(it^mt&(zt^it))+Tt[3]+4107603335&4294967295)<<14&4294967295|ft>>>18))+((ft=mt+(zt^it&(Ft^zt))+Tt[8]+1163531501&4294967295)<<20&4294967295|ft>>>12))+((ft=it+(Ft^zt&(mt^Ft))+Tt[13]+2850285829&4294967295)<<5&4294967295|ft>>>27))+((ft=zt+(mt^Ft&(it^mt))+Tt[2]+4243563512&4294967295)<<9&4294967295|ft>>>23))+((ft=Ft+(it^mt&(zt^it))+Tt[7]+1735328473&4294967295)<<14&4294967295|ft>>>18))+((ft=mt+(zt^it&(Ft^zt))+Tt[12]+2368359562&4294967295)<<20&4294967295|ft>>>12))+((ft=it+(mt^Ft^zt)+Tt[5]+4294588738&4294967295)<<4&4294967295|ft>>>28))+((ft=zt+(it^mt^Ft)+Tt[8]+2272392833&4294967295)<<11&4294967295|ft>>>21))+((ft=Ft+(zt^it^mt)+Tt[11]+1839030562&4294967295)<<16&4294967295|ft>>>16))+((ft=mt+(Ft^zt^it)+Tt[14]+4259657740&4294967295)<<23&4294967295|ft>>>9))+((ft=it+(mt^Ft^zt)+Tt[1]+2763975236&4294967295)<<4&4294967295|ft>>>28))+((ft=zt+(it^mt^Ft)+Tt[4]+1272893353&4294967295)<<11&4294967295|ft>>>21))+((ft=Ft+(zt^it^mt)+Tt[7]+4139469664&4294967295)<<16&4294967295|ft>>>16))+((ft=mt+(Ft^zt^it)+Tt[10]+3200236656&4294967295)<<23&4294967295|ft>>>9))+((ft=it+(mt^Ft^zt)+Tt[13]+681279174&4294967295)<<4&4294967295|ft>>>28))+((ft=zt+(it^mt^Ft)+Tt[0]+3936430074&4294967295)<<11&4294967295|ft>>>21))+((ft=Ft+(zt^it^mt)+Tt[3]+3572445317&4294967295)<<16&4294967295|ft>>>16))+((ft=mt+(Ft^zt^it)+Tt[6]+76029189&4294967295)<<23&4294967295|ft>>>9))+((ft=it+(mt^Ft^zt)+Tt[9]+3654602809&4294967295)<<4&4294967295|ft>>>28))+((ft=zt+(it^mt^Ft)+Tt[12]+3873151461&4294967295)<<11&4294967295|ft>>>21))+((ft=Ft+(zt^it^mt)+Tt[15]+530742520&4294967295)<<16&4294967295|ft>>>16))+((ft=mt+(Ft^zt^it)+Tt[2]+3299628645&4294967295)<<23&4294967295|ft>>>9))+((ft=it+(Ft^(mt|~zt))+Tt[0]+4096336452&4294967295)<<6&4294967295|ft>>>26))+((ft=zt+(mt^(it|~Ft))+Tt[7]+1126891415&4294967295)<<10&4294967295|ft>>>22))+((ft=Ft+(it^(zt|~mt))+Tt[14]+2878612391&4294967295)<<15&4294967295|ft>>>17))+((ft=mt+(zt^(Ft|~it))+Tt[5]+4237533241&4294967295)<<21&4294967295|ft>>>11))+((ft=it+(Ft^(mt|~zt))+Tt[12]+1700485571&4294967295)<<6&4294967295|ft>>>26))+((ft=zt+(mt^(it|~Ft))+Tt[3]+2399980690&4294967295)<<10&4294967295|ft>>>22))+((ft=Ft+(it^(zt|~mt))+Tt[10]+4293915773&4294967295)<<15&4294967295|ft>>>17))+((ft=mt+(zt^(Ft|~it))+Tt[1]+2240044497&4294967295)<<21&4294967295|ft>>>11))+((ft=it+(Ft^(mt|~zt))+Tt[8]+1873313359&4294967295)<<6&4294967295|ft>>>26))+((ft=zt+(mt^(it|~Ft))+Tt[15]+4264355552&4294967295)<<10&4294967295|ft>>>22))+((ft=Ft+(it^(zt|~mt))+Tt[6]+2734768916&4294967295)<<15&4294967295|ft>>>17))+((ft=mt+(zt^(Ft|~it))+Tt[13]+1309151649&4294967295)<<21&4294967295|ft>>>11))+((zt=(it=mt+((ft=it+(Ft^(mt|~zt))+Tt[4]+4149444226&4294967295)<<6&4294967295|ft>>>26))+((ft=zt+(mt^(it|~Ft))+Tt[11]+3174756917&4294967295)<<10&4294967295|ft>>>22))^((Ft=zt+((ft=Ft+(it^(zt|~mt))+Tt[2]+718787259&4294967295)<<15&4294967295|ft>>>17))|~it))+Tt[9]+3951481745&4294967295,Ct.g[0]=Ct.g[0]+it&4294967295,Ct.g[1]=Ct.g[1]+(Ft+(ft<<21&4294967295|ft>>>11))&4294967295,Ct.g[2]=Ct.g[2]+Ft&4294967295,Ct.g[3]=Ct.g[3]+zt&4294967295}function p(Ct,it){this.h=it;for(var mt=[],Tt=!0,Ft=Ct.length-1;0<=Ft;Ft--){var zt=0|Ct[Ft];Tt&&zt==it||(mt[Ft]=zt,Tt=!1)}this.g=mt}(function e(Ct,it){function mt(){}mt.prototype=it.prototype,Ct.D=it.prototype,Ct.prototype=new mt,Ct.prototype.constructor=Ct,Ct.C=function(Tt,Ft,zt){for(var ft=Array(arguments.length-2),Qa=2;Qa<arguments.length;Qa++)ft[Qa-2]=arguments[Qa];return it.prototype[Ft].apply(Tt,ft)}})(i,function t(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(Ct,it){void 0===it&&(it=Ct.length);for(var mt=it-this.blockSize,Tt=this.B,Ft=this.h,zt=0;zt<it;){if(0==Ft)for(;zt<=mt;)a(this,Ct,zt),zt+=this.blockSize;if("string"==typeof Ct){for(;zt<it;)if(Tt[Ft++]=Ct.charCodeAt(zt++),Ft==this.blockSize){a(this,Tt),Ft=0;break}}else for(;zt<it;)if(Tt[Ft++]=Ct[zt++],Ft==this.blockSize){a(this,Tt),Ft=0;break}}this.h=Ft,this.o+=it},i.prototype.v=function(){var Ct=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ct[0]=128;for(var it=1;it<Ct.length-8;++it)Ct[it]=0;var mt=8*this.o;for(it=Ct.length-8;it<Ct.length;++it)Ct[it]=255&mt,mt/=256;for(this.u(Ct),Ct=Array(16),it=mt=0;4>it;++it)for(var Tt=0;32>Tt;Tt+=8)Ct[mt++]=this.g[it]>>>Tt&255;return Ct};var x={};function M(Ct){return-128<=Ct&&128>Ct?function u(Ct,it){var mt=x;return Object.prototype.hasOwnProperty.call(mt,Ct)?mt[Ct]:mt[Ct]=it(Ct)}(Ct,function(it){return new p([0|it],0>it?-1:0)}):new p([0|Ct],0>Ct?-1:0)}function H(Ct){if(isNaN(Ct)||!isFinite(Ct))return Ie;if(0>Ct)return qt(H(-Ct));for(var it=[],mt=1,Tt=0;Ct>=mt;Tt++)it[Tt]=Ct/mt|0,mt*=4294967296;return new p(it,0)}var Ie=M(0),Qe=M(1),vt=M(16777216);function Ot(Ct){if(0!=Ct.h)return!1;for(var it=0;it<Ct.g.length;it++)if(0!=Ct.g[it])return!1;return!0}function Yt(Ct){return-1==Ct.h}function qt(Ct){for(var it=Ct.g.length,mt=[],Tt=0;Tt<it;Tt++)mt[Tt]=~Ct.g[Tt];return new p(mt,~Ct.h).add(Qe)}function En(Ct,it){return Ct.add(qt(it))}function kn(Ct,it){for(;(65535&Ct[it])!=Ct[it];)Ct[it+1]+=Ct[it]>>>16,Ct[it]&=65535,it++}function yn(Ct,it){this.g=Ct,this.h=it}function zn(Ct,it){if(Ot(it))throw Error("division by zero");if(Ot(Ct))return new yn(Ie,Ie);if(Yt(Ct))return it=zn(qt(Ct),it),new yn(qt(it.g),qt(it.h));if(Yt(it))return it=zn(Ct,qt(it)),new yn(qt(it.g),it.h);if(30<Ct.g.length){if(Yt(Ct)||Yt(it))throw Error("slowDivide_ only works with positive integers.");for(var mt=Qe,Tt=it;0>=Tt.l(Ct);)mt=pi(mt),Tt=pi(Tt);var Ft=mi(mt,1),zt=mi(Tt,1);for(Tt=mi(Tt,2),mt=mi(mt,2);!Ot(Tt);){var ft=zt.add(Tt);0>=ft.l(Ct)&&(Ft=Ft.add(mt),zt=ft),Tt=mi(Tt,1),mt=mi(mt,1)}return it=En(Ct,Ft.j(it)),new yn(Ft,it)}for(Ft=Ie;0<=Ct.l(it);){for(mt=Math.max(1,Math.floor(Ct.m()/it.m())),Tt=48>=(Tt=Math.ceil(Math.log(mt)/Math.LN2))?1:Math.pow(2,Tt-48),ft=(zt=H(mt)).j(it);Yt(ft)||0<ft.l(Ct);)ft=(zt=H(mt-=Tt)).j(it);Ot(zt)&&(zt=Qe),Ft=Ft.add(zt),Ct=En(Ct,ft)}return new yn(Ft,Ct)}function pi(Ct){for(var it=Ct.g.length+1,mt=[],Tt=0;Tt<it;Tt++)mt[Tt]=Ct.i(Tt)<<1|Ct.i(Tt-1)>>>31;return new p(mt,Ct.h)}function mi(Ct,it){var mt=it>>5;it%=32;for(var Tt=Ct.g.length-mt,Ft=[],zt=0;zt<Tt;zt++)Ft[zt]=0<it?Ct.i(zt+mt)>>>it|Ct.i(zt+mt+1)<<32-it:Ct.i(zt+mt);return new p(Ft,Ct.h)}(o=p.prototype).m=function(){if(Yt(this))return-qt(this).m();for(var Ct=0,it=1,mt=0;mt<this.g.length;mt++){var Tt=this.i(mt);Ct+=(0<=Tt?Tt:4294967296+Tt)*it,it*=4294967296}return Ct},o.toString=function(Ct){if(2>(Ct=Ct||10)||36<Ct)throw Error("radix out of range: "+Ct);if(Ot(this))return"0";if(Yt(this))return"-"+qt(this).toString(Ct);for(var it=H(Math.pow(Ct,6)),mt=this,Tt="";;){var Ft=zn(mt,it).g,zt=((0<(mt=En(mt,Ft.j(it))).g.length?mt.g[0]:mt.h)>>>0).toString(Ct);if(Ot(mt=Ft))return zt+Tt;for(;6>zt.length;)zt="0"+zt;Tt=zt+Tt}},o.i=function(Ct){return 0>Ct?0:Ct<this.g.length?this.g[Ct]:this.h},o.l=function(Ct){return Yt(Ct=En(this,Ct))?-1:Ot(Ct)?0:1},o.abs=function(){return Yt(this)?qt(this):this},o.add=function(Ct){for(var it=Math.max(this.g.length,Ct.g.length),mt=[],Tt=0,Ft=0;Ft<=it;Ft++){var zt=Tt+(65535&this.i(Ft))+(65535&Ct.i(Ft)),ft=(zt>>>16)+(this.i(Ft)>>>16)+(Ct.i(Ft)>>>16);Tt=ft>>>16,mt[Ft]=(ft&=65535)<<16|(zt&=65535)}return new p(mt,-2147483648&mt[mt.length-1]?-1:0)},o.j=function(Ct){if(Ot(this)||Ot(Ct))return Ie;if(Yt(this))return Yt(Ct)?qt(this).j(qt(Ct)):qt(qt(this).j(Ct));if(Yt(Ct))return qt(this.j(qt(Ct)));if(0>this.l(vt)&&0>Ct.l(vt))return H(this.m()*Ct.m());for(var it=this.g.length+Ct.g.length,mt=[],Tt=0;Tt<2*it;Tt++)mt[Tt]=0;for(Tt=0;Tt<this.g.length;Tt++)for(var Ft=0;Ft<Ct.g.length;Ft++){var zt=this.i(Tt)>>>16,ft=65535&this.i(Tt),Qa=Ct.i(Ft)>>>16,gd=65535&Ct.i(Ft);mt[2*Tt+2*Ft]+=ft*gd,kn(mt,2*Tt+2*Ft),mt[2*Tt+2*Ft+1]+=zt*gd,kn(mt,2*Tt+2*Ft+1),mt[2*Tt+2*Ft+1]+=ft*Qa,kn(mt,2*Tt+2*Ft+1),mt[2*Tt+2*Ft+2]+=zt*Qa,kn(mt,2*Tt+2*Ft+2)}for(Tt=0;Tt<it;Tt++)mt[Tt]=mt[2*Tt+1]<<16|mt[2*Tt];for(Tt=it;Tt<2*it;Tt++)mt[Tt]=0;return new p(mt,0)},o.A=function(Ct){return zn(this,Ct).h},o.and=function(Ct){for(var it=Math.max(this.g.length,Ct.g.length),mt=[],Tt=0;Tt<it;Tt++)mt[Tt]=this.i(Tt)&Ct.i(Tt);return new p(mt,this.h&Ct.h)},o.or=function(Ct){for(var it=Math.max(this.g.length,Ct.g.length),mt=[],Tt=0;Tt<it;Tt++)mt[Tt]=this.i(Tt)|Ct.i(Tt);return new p(mt,this.h|Ct.h)},o.xor=function(Ct){for(var it=Math.max(this.g.length,Ct.g.length),mt=[],Tt=0;Tt<it;Tt++)mt[Tt]=this.i(Tt)^Ct.i(Tt);return new p(mt,this.h^Ct.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ss=yl.Md5=i,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=H,p.fromString=function ue(Ct,it){if(0==Ct.length)throw Error("number format error: empty string");if(2>(it=it||10)||36<it)throw Error("radix out of range: "+it);if("-"==Ct.charAt(0))return qt(ue(Ct.substring(1),it));if(0<=Ct.indexOf("-"))throw Error('number format error: interior "-" character');for(var mt=H(Math.pow(it,8)),Tt=Ie,Ft=0;Ft<Ct.length;Ft+=8){var zt=Math.min(8,Ct.length-Ft),ft=parseInt(Ct.substring(Ft,Ft+zt),it);8>zt?(zt=H(Math.pow(it,zt)),Tt=Tt.j(zt).add(H(ft))):Tt=(Tt=Tt.j(mt)).add(H(ft))}return Tt},ol=yl.Integer=p}).apply(typeof Ql<"u"?Ql:typeof self<"u"?self:typeof window<"u"?window:{});var S,P,C,B,J,xe,Re,At,ln,Vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ea={};(function(){var o,e="function"==typeof Object.defineProperties?Object.defineProperty:function(v,G,ae){return v==Array.prototype||v==Object.prototype||(v[G]=ae.value),v},i=function t(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Vo&&Vo];for(var G=0;G<v.length;++G){var ae=v[G];if(ae&&ae.Math==Math)return ae}throw Error("Cannot find global object")}(this);!function a(v,G){if(G)e:{var ae=i;v=v.split(".");for(var Be=0;Be<v.length-1;Be++){var Bt=v[Be];if(!(Bt in ae))break e;ae=ae[Bt]}(G=G(Be=ae[v=v[v.length-1]]))!=Be&&null!=G&&e(ae,v,{configurable:!0,writable:!0,value:G})}}("Array.prototype.values",function(v){return v||function(){return function u(v,G){v instanceof String&&(v+="");var ae=0,Be=!1,Bt={next:function(){if(!Be&&ae<v.length){var nn=ae++;return{value:G(nn,v[nn]),done:!1}}return Be=!0,{done:!0,value:void 0}}};return Bt[Symbol.iterator]=function(){return Bt},Bt}(this,function(G,ae){return ae})}});var p=p||{},x=this||self;function M(v){var G=typeof v;return"array"==(G="object"!=G?G:v?Array.isArray(v)?"array":G:"null")||"object"==G&&"number"==typeof v.length}function H(v){var G=typeof v;return"object"==G&&null!=v||"function"==G}function ue(v,G,ae){return v.call.apply(v.bind,arguments)}function Ie(v,G,ae){if(!v)throw Error();if(2<arguments.length){var Be=Array.prototype.slice.call(arguments,2);return function(){var Bt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Bt,Be),v.apply(G,Bt)}}return function(){return v.apply(G,arguments)}}function Qe(v,G,ae){return(Qe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ue:Ie).apply(null,arguments)}function vt(v,G){var ae=Array.prototype.slice.call(arguments,1);return function(){var Be=ae.slice();return Be.push.apply(Be,arguments),v.apply(this,Be)}}function Ot(v,G){function ae(){}ae.prototype=G.prototype,v.aa=G.prototype,v.prototype=new ae,v.prototype.constructor=v,v.Qb=function(Be,Bt,nn){for(var Fn=Array(arguments.length-2),Hr=2;Hr<arguments.length;Hr++)Fn[Hr-2]=arguments[Hr];return G.prototype[Bt].apply(Be,Fn)}}function Yt(v){const G=v.length;if(0<G){const ae=Array(G);for(let Be=0;Be<G;Be++)ae[Be]=v[Be];return ae}return[]}function qt(v,G){for(let ae=1;ae<arguments.length;ae++){const Be=arguments[ae];if(M(Be)){const Bt=v.length||0,nn=Be.length||0;v.length=Bt+nn;for(let Fn=0;Fn<nn;Fn++)v[Bt+Fn]=Be[Fn]}else v.push(Be)}}function kn(v){return/^[\s\xa0]*$/.test(v)}function yn(){var v=x.navigator;return v&&(v=v.userAgent)?v:""}function zn(v){return zn[" "](v),v}zn[" "]=function(){};var pi=!(-1==yn().indexOf("Gecko")||-1!=yn().toLowerCase().indexOf("webkit")&&-1==yn().indexOf("Edge")||-1!=yn().indexOf("Trident")||-1!=yn().indexOf("MSIE")||-1!=yn().indexOf("Edge"));function mi(v,G,ae){for(const Be in v)G.call(ae,v[Be],Be,v)}function it(v){const G={};for(const ae in v)G[ae]=v[ae];return G}const mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(v,G){let ae,Be;for(let Bt=1;Bt<arguments.length;Bt++){for(ae in Be=arguments[Bt],Be)v[ae]=Be[ae];for(let nn=0;nn<mt.length;nn++)ae=mt[nn],Object.prototype.hasOwnProperty.call(Be,ae)&&(v[ae]=Be[ae])}}function Ft(v){var G=1;v=v.split(":");const ae=[];for(;0<G&&v.length;)ae.push(v.shift()),G--;return v.length&&ae.push(v.join(":")),ae}function zt(v){x.setTimeout(()=>{throw v},0)}function ft(){var v=Vi;let G=null;return v.g&&(G=v.g,v.g=v.g.next,v.g||(v.h=null),G.next=null),G}var gd=new class En{constructor(G,ae){this.i=G,this.j=ae,this.h=0,this.g=null}get(){let G;return 0<this.h?(this.h--,G=this.g,this.g=G.next,G.next=null):G=this.i(),G}}(()=>new ei,v=>v.reset());class ei{constructor(){this.next=this.g=this.h=null}set(G,ae){this.h=G,this.g=ae,this.next=null}reset(){this.next=this.g=this.h=null}}let oi,ci=!1,Vi=new class Qa{constructor(){this.h=this.g=null}add(G,ae){const Be=gd.get();Be.set(G,ae),this.h?this.h.next=Be:this.g=Be,this.h=Be}},ir=()=>{const v=x.Promise.resolve(void 0);oi=()=>{v.then(Xa)}};var Xa=()=>{for(var v;v=ft();){try{v.h.call(v.g)}catch(ae){zt(ae)}var G=gd;G.j(v),100>G.h&&(G.h++,v.next=G.g,G.g=v)}ci=!1};function Gr(){this.s=this.s,this.C=this.C}function Ur(v,G){this.type=v,this.g=this.target=G,this.defaultPrevented=!1}Gr.prototype.s=!1,Gr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Gr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ur.prototype.h=function(){this.defaultPrevented=!0};var Wr=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var v=!1,G=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const ae=()=>{};x.addEventListener("test",ae,G),x.removeEventListener("test",ae,G)}catch{}return v}();function Ho(v,G){if(Ur.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var ae=this.type=v.type,Be=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=G,G=v.relatedTarget){if(pi){e:{try{zn(G.nodeName);var Bt=!0;break e}catch{}Bt=!1}Bt||(G=null)}}else"mouseover"==ae?G=v.fromElement:"mouseout"==ae&&(G=v.toElement);this.relatedTarget=G,Be?(this.clientX=void 0!==Be.clientX?Be.clientX:Be.pageX,this.clientY=void 0!==Be.clientY?Be.clientY:Be.pageY,this.screenX=Be.screenX||0,this.screenY=Be.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:rv[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Ho.aa.h.call(this)}}Ot(Ho,Ur);var rv={2:"touch",3:"pen",4:"mouse"};Ho.prototype.h=function(){Ho.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Zr="closure_listenable_"+(1e6*Math.random()|0),yc=0;function oa(v,G,ae,Be,Bt){this.listener=v,this.proxy=null,this.src=G,this.type=ae,this.capture=!!Be,this.ha=Bt,this.key=++yc,this.da=this.fa=!1}function fl(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function bc(v){this.src=v,this.g={},this.h=0}function Rg(v,G){var ae=G.type;if(ae in v.g){var nn,Be=v.g[ae],Bt=Array.prototype.indexOf.call(Be,G,void 0);(nn=0<=Bt)&&Array.prototype.splice.call(Be,Bt,1),nn&&(fl(G),0==v.g[ae].length&&(delete v.g[ae],v.h--))}}function ov(v,G,ae,Be){for(var Bt=0;Bt<v.length;++Bt){var nn=v[Bt];if(!nn.da&&nn.listener==G&&nn.capture==!!ae&&nn.ha==Be)return Bt}return-1}bc.prototype.add=function(v,G,ae,Be,Bt){var nn=v.toString();(v=this.g[nn])||(v=this.g[nn]=[],this.h++);var Fn=ov(v,G,Be,Bt);return-1<Fn?(G=v[Fn],ae||(G.fa=!1)):((G=new oa(G,this.src,nn,!!Be,Bt)).fa=ae,v.push(G)),G};var Og="closure_lm_"+(1e6*Math.random()|0),kg={};function Xb(v,G,ae,Be,Bt){if(Be&&Be.once)return Fg(v,G,ae,Be,Bt);if(Array.isArray(G)){for(var nn=0;nn<G.length;nn++)Xb(v,G[nn],ae,Be,Bt);return null}return ae=Jb(ae),v&&v[Zr]?v.K(G,ae,H(Be)?!!Be.capture:!!Be,Bt):sv(v,G,ae,!1,Be,Bt)}function sv(v,G,ae,Be,Bt,nn){if(!G)throw Error("Invalid event type");var Fn=H(Bt)?!!Bt.capture:!!Bt,Hr=Ng(v);if(Hr||(v[Og]=Hr=new bc(v)),(ae=Hr.add(G,ae,Be,Fn,nn)).proxy)return ae;if(Be=function aC(){const G=lv;return function v(ae){return G.call(v.src,v.listener,ae)}}(),ae.proxy=Be,Be.src=v,Be.listener=ae,v.addEventListener)Wr||(Bt=Fn),void 0===Bt&&(Bt=!1),v.addEventListener(G.toString(),Be,Bt);else if(v.attachEvent)v.attachEvent(av(G.toString()),Be);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(Be)}return ae}function Fg(v,G,ae,Be,Bt){if(Array.isArray(G)){for(var nn=0;nn<G.length;nn++)Fg(v,G[nn],ae,Be,Bt);return null}return ae=Jb(ae),v&&v[Zr]?v.L(G,ae,H(Be)?!!Be.capture:!!Be,Bt):sv(v,G,ae,!0,Be,Bt)}function zl(v,G,ae,Be,Bt){if(Array.isArray(G))for(var nn=0;nn<G.length;nn++)zl(v,G[nn],ae,Be,Bt);else Be=H(Be)?!!Be.capture:!!Be,ae=Jb(ae),v&&v[Zr]?(v=v.i,(G=String(G).toString())in v.g&&-1<(ae=ov(nn=v.g[G],ae,Be,Bt))&&(fl(nn[ae]),Array.prototype.splice.call(nn,ae,1),0==nn.length&&(delete v.g[G],v.h--))):v&&(v=Ng(v))&&(G=v.g[G.toString()],v=-1,G&&(v=ov(G,ae,Be,Bt)),(ae=-1<v?G[v]:null)&&Hl(ae))}function Hl(v){if("number"!=typeof v&&v&&!v.da){var G=v.src;if(G&&G[Zr])Rg(G.i,v);else{var ae=v.type,Be=v.proxy;G.removeEventListener?G.removeEventListener(ae,Be,v.capture):G.detachEvent?G.detachEvent(av(ae),Be):G.addListener&&G.removeListener&&G.removeListener(Be),(ae=Ng(G))?(Rg(ae,v),0==ae.h&&(ae.src=null,G[Og]=null)):fl(v)}}}function av(v){return v in kg?kg[v]:kg[v]="on"+v}function lv(v,G){if(v.da)v=!0;else{G=new Ho(G,this);var ae=v.listener,Be=v.ha||v.src;v.fa&&Hl(v),v=ae.call(Be,G)}return v}function Ng(v){return(v=v[Og])instanceof bc?v:null}var cv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jb(v){return"function"==typeof v?v:(v[cv]||(v[cv]=function(G){return v.handleEvent(G)}),v[cv])}function Cs(){Gr.call(this),this.i=new bc(this),this.M=this,this.F=null}function zs(v,G){var ae,Be=v.F;if(Be)for(ae=[];Be;Be=Be.F)ae.push(Be);if(v=v.M,Be=G.type||G,"string"==typeof G)G=new Ur(G,v);else if(G instanceof Ur)G.target=G.target||v;else{var Bt=G;Tt(G=new Ur(Be,v),Bt)}if(Bt=!0,ae)for(var nn=ae.length-1;0<=nn;nn--){var Fn=G.g=ae[nn];Bt=Lg(Fn,Be,!0,G)&&Bt}if(Bt=Lg(Fn=G.g=v,Be,!0,G)&&Bt,Bt=Lg(Fn,Be,!1,G)&&Bt,ae)for(nn=0;nn<ae.length;nn++)Bt=Lg(Fn=G.g=ae[nn],Be,!1,G)&&Bt}function Lg(v,G,ae,Be){if(!(G=v.i.g[String(G)]))return!0;G=G.concat();for(var Bt=!0,nn=0;nn<G.length;++nn){var Fn=G[nn];if(Fn&&!Fn.da&&Fn.capture==ae){var Hr=Fn.listener,Hs=Fn.ha||Fn.src;Fn.fa&&Rg(v.i,Fn),Bt=!1!==Hr.call(Hs,Be)&&Bt}}return Bt&&!Be.defaultPrevented}function eE(v,G,ae){if("function"==typeof v)ae&&(v=Qe(v,ae));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=Qe(v.handleEvent,v)}return 2147483647<Number(G)?-1:x.setTimeout(v,G||0)}function uv(v){v.g=eE(()=>{v.g=null,v.i&&(v.i=!1,uv(v))},v.l);const G=v.h;v.h=null,v.m.apply(null,G)}Ot(Cs,Gr),Cs.prototype[Zr]=!0,Cs.prototype.removeEventListener=function(v,G,ae,Be){zl(this,v,G,ae,Be)},Cs.prototype.N=function(){if(Cs.aa.N.call(this),this.i){var G,v=this.i;for(G in v.g){for(var ae=v.g[G],Be=0;Be<ae.length;Be++)fl(ae[Be]);delete v.g[G],v.h--}}this.F=null},Cs.prototype.K=function(v,G,ae,Be){return this.i.add(String(v),G,!1,ae,Be)},Cs.prototype.L=function(v,G,ae,Be){return this.i.add(String(v),G,!0,ae,Be)};class KC extends Gr{constructor(G,ae){super(),this.m=G,this.l=ae,this.h=null,this.i=!1,this.g=null}j(G){this.h=arguments,this.g?this.i=!0:uv(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zh(v){Gr.call(this),this.h=v,this.g={}}Ot(zh,Gr);var tE=[];function dv(v){mi(v.g,function(G,ae){this.g.hasOwnProperty(ae)&&Hl(G)},v),v.g={}}zh.prototype.N=function(){zh.aa.N.call(this),dv(this)},zh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nE=x.JSON.stringify,hv=x.JSON.parse,iE=class{stringify(v){return x.JSON.stringify(v,void 0)}parse(v){return x.JSON.parse(v,void 0)}};function Bg(){}function pv(){}Bg.prototype.h=null;var Hh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jh(){Ur.call(this,"d")}function $h(){Ur.call(this,"c")}Ot(jh,Ur),Ot($h,Ur);var gu={},rE=null;function Vg(){return rE=rE||new Cs}function lC(v){Ur.call(this,gu.La,v)}function Ug(v){const G=Vg();zs(G,new lC(G))}function cC(v,G){Ur.call(this,gu.STAT_EVENT,v),this.stat=G}function ws(v){const G=Vg();zs(G,new cC(G,v))}function oE(v,G){Ur.call(this,gu.Ma,v),this.size=G}function Mp(v,G){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){v()},G)}function Pp(){this.g=!0}function Rp(v,G,ae,Be){v.info(function(){return"XMLHTTP TEXT ("+G+"): "+function XC(v,G){if(!v.g)return G;if(!G)return null;try{var ae=JSON.parse(G);if(ae)for(v=0;v<ae.length;v++)if(Array.isArray(ae[v])){var Be=ae[v];if(!(2>Be.length)){var Bt=Be[1];if(Array.isArray(Bt)&&!(1>Bt.length)){var nn=Bt[0];if("noop"!=nn&&"stop"!=nn&&"close"!=nn)for(var Fn=1;Fn<Bt.length;Fn++)Bt[Fn]=""}}}return nE(ae)}catch{return G}}(v,ae)+(Be?" "+Be:"")})}gu.La="serverreachability",Ot(lC,Ur),gu.STAT_EVENT="statevent",Ot(cC,Ur),gu.Ma="timingevent",Ot(oE,Ur),Pp.prototype.xa=function(){this.g=!1},Pp.prototype.info=function(){};var mv,zg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Op={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Hg(){}function Ec(v,G,ae,Be){this.j=v,this.i=G,this.l=ae,this.R=Be||1,this.U=new zh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _u}function _u(){this.i=null,this.g="",this.h=!1}Ot(Hg,Bg),Hg.prototype.g=function(){return new XMLHttpRequest},Hg.prototype.i=function(){return{}},mv=new Hg;var gv={},kp={};function Fp(v,G,ae){v.L=1,v.v=qg(Cc(G)),v.m=ae,v.P=!0,sE(v,null)}function sE(v,G){v.F=Date.now(),_d(v),v.A=Cc(v.v);var ae=v.A,Be=v.R;Array.isArray(Be)||(Be=[String(Be)]),n(ae.i,"t",Be),v.C=0,ae=v.j.J,v.h=new _u,v.g=pw(v.j,ae?G:null,!v.m),0<v.O&&(v.M=new KC(Qe(v.Y,v,v.g),v.O)),G=v.U,ae=v.g,Be=v.ca;var Bt="readystatechange";Array.isArray(Bt)||(Bt&&(tE[0]=Bt.toString()),Bt=tE);for(var nn=0;nn<Bt.length;nn++){var Fn=Xb(ae,Bt[nn],Be||G.handleEvent,!1,G.h||G);if(!Fn)break;G.g[Fn.key]=Fn}G=v.H?it(v.H):{},v.m?(v.u||(v.u="POST"),G["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,G)):(v.u="GET",v.g.ea(v.A,v.u,null,G)),Ug(),function YC(v,G,ae,Be,Bt,nn){v.info(function(){if(v.g)if(nn)for(var Fn="",Hr=nn.split("&"),Hs=0;Hs<Hr.length;Hs++){var ar=Hr[Hs].split("=");if(1<ar.length){var sa=ar[0];ar=ar[1];var aa=sa.split("_");Fn=2<=aa.length&&"type"==aa[1]?Fn+(sa+"=")+ar+"&":Fn+(sa+"=redacted&")}}else Fn=null;else Fn=nn;return"XMLHTTP REQ ("+Be+") [attempt "+Bt+"]: "+G+"\n"+ae+"\n"+Fn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function jg(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function _v(v,G){var ae=v.C,Be=G.indexOf("\n",ae);return-1==Be?kp:(ae=Number(G.substring(ae,Be)),isNaN(ae)?gv:(Be+=1)+ae>G.length?kp:(G=G.slice(Be,Be+ae),v.C=Be+ae,G))}function _d(v){v.S=Date.now()+v.I,uC(v,v.I)}function uC(v,G){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Mp(Qe(v.ba,v),G)}function aE(v){v.B&&(x.clearTimeout(v.B),v.B=null)}function $g(v){0==v.j.G||v.J||uw(v.j,v)}function Gh(v){aE(v);var G=v.M;G&&"function"==typeof G.ma&&G.ma(),v.M=null,dv(v.U),v.g&&(G=v.g,v.g=null,G.abort(),G.ma())}function Gg(v,G){try{var ae=v.j;if(0!=ae.G&&(ae.g==v||Wg(ae.h,v)))if(!v.K&&Wg(ae.h,v)&&3==ae.G){try{var Be=ae.Da.g.parse(G)}catch{Be=null}if(Array.isArray(Be)&&3==Be.length){var Bt=Be;if(0==Bt[0]){e:if(!ae.u){if(ae.g){if(!(ae.g.F+3e3<v.F))break e;gE(ae),pE(ae)}bC(ae),ws(18)}}else ae.za=Bt[1],0<ae.za-ae.T&&37500>Bt[2]&&ae.F&&0==ae.v&&!ae.C&&(ae.C=Mp(Qe(ae.Za,ae),6e3));if(1>=uE(ae.h)&&ae.ca){try{ae.ca()}catch{}ae.ca=void 0}}else Lp(ae,11)}else if((v.K||ae.g==v)&&gE(ae),!kn(G))for(Bt=ae.Da.g.parse(G),G=0;G<Bt.length;G++){let ar=Bt[G];if(ae.T=ar[0],ar=ar[1],2==ae.G)if("c"==ar[0]){ae.K=ar[1],ae.ia=ar[2];const sa=ar[3];null!=sa&&(ae.la=sa,ae.j.info("VER="+ae.la));const aa=ar[4];null!=aa&&(ae.Aa=aa,ae.j.info("SVER="+ae.Aa));const e_=ar[5];null!=e_&&"number"==typeof e_&&0<e_&&(ae.L=Be=1.5*e_,ae.j.info("backChannelRequestTimeoutMs_="+Be)),Be=ae;const wc=v.g;if(wc){const vE=wc.g?wc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vE){var nn=Be.h;nn.g||-1==vE.indexOf("spdy")&&-1==vE.indexOf("quic")&&-1==vE.indexOf("h2")||(nn.j=nn.l,nn.g=new Set,nn.h&&(Zg(nn,nn.h),nn.h=null))}if(Be.D){const xC=wc.g?wc.g.getResponseHeader("X-HTTP-Session-Id"):null;xC&&(Be.ya=xC,zr(Be.I,Be.D,xC))}}ae.G=3,ae.l&&ae.l.ua(),ae.ba&&(ae.R=Date.now()-v.F,ae.j.info("Handshake RTT: "+ae.R+"ms"));var Fn=v;if((Be=ae).qa=fw(Be,Be.J?Be.ia:null,Be.W),Fn.K){vv(Be.h,Fn);var Hr=Fn,Hs=Be.L;Hs&&(Hr.I=Hs),Hr.B&&(aE(Hr),_d(Hr)),Be.g=Fn}else lw(Be);0<ae.i.length&&mE(ae)}else"stop"!=ar[0]&&"close"!=ar[0]||Lp(ae,7);else 3==ae.G&&("stop"==ar[0]||"close"==ar[0]?"stop"==ar[0]?Lp(ae,7):yC(ae):"noop"!=ar[0]&&ae.l&&ae.l.ta(ar),ae.v=0)}Ug()}catch{}}function lE(v){this.l=v||10,v=x.PerformanceNavigationTiming?0<(v=x.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(x.chrome&&x.chrome.loadTimes&&x.chrome.loadTimes()&&x.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cE(v){return!!v.h||!!v.g&&v.g.size>=v.j}function uE(v){return v.h?1:v.g?v.g.size:0}function Wg(v,G){return v.h?v.h==G:!!v.g&&v.g.has(G)}function Zg(v,G){v.g?v.g.add(G):v.h=G}function vv(v,G){v.h&&v.h==G?v.h=null:v.g&&v.g.has(G)&&v.g.delete(G)}function dE(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let G=v.i;for(const ae of v.g.values())G=G.concat(ae.D);return G}return Yt(v.i)}function Kg(v,G){if(v.forEach&&"function"==typeof v.forEach)v.forEach(G,void 0);else if(M(v)||"string"==typeof v)Array.prototype.forEach.call(v,G,void 0);else for(var ae=function hE(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(M(v)||"string"==typeof v){var G=[];v=v.length;for(var ae=0;ae<v;ae++)G.push(ae);return G}G=[],ae=0;for(const Be in v)G[ae++]=Be;return G}}}(v),Be=function hC(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(M(v)){for(var G=[],ae=v.length,Be=0;Be<ae;Be++)G.push(v[Be]);return G}for(Be in G=[],ae=0,v)G[ae++]=v[Be];return G}(v),Bt=Be.length,nn=0;nn<Bt;nn++)G.call(void 0,Be[nn],ae&&ae[nn],v)}Ec.prototype.ca=function(v){v=v.target;const G=this.M;G&&3==vu(v)?G.j():this.Y(v)},Ec.prototype.Y=function(v){try{if(v==this.g)e:{const aa=vu(this.g);var G=this.g.Ba();if(this.g.Z(),!(3>aa)&&(3!=aa||this.g&&(this.h.h||this.g.oa()||iw(this.g)))){this.J||4!=aa||7==G||Ug(),aE(this);var ae=this.g.Z();this.X=ae;t:if(jg(this)){var Be=iw(this.g);v="";var Bt=Be.length,nn=4==vu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Gh(this),$g(this);var Fn="";break t}this.h.i=new x.TextDecoder}for(G=0;G<Bt;G++)this.h.h=!0,v+=this.h.i.decode(Be[G],{stream:!(nn&&G==Bt-1)});Be.length=0,this.h.g+=v,this.C=0,Fn=this.h.g}else Fn=this.g.oa();if(this.o=200==ae,function qC(v,G,ae,Be,Bt,nn,Fn){v.info(function(){return"XMLHTTP RESP ("+Be+") [ attempt "+Bt+"]: "+G+"\n"+ae+"\n"+nn+" "+Fn})}(this.i,this.u,this.A,this.l,this.R,aa,ae),this.o){if(this.T&&!this.K){t:{if(this.g){var Hr,Hs=this.g;if((Hr=Hs.g?Hs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kn(Hr)){var ar=Hr;break t}}ar=null}if(!(ae=ar)){this.o=!1,this.s=3,ws(12),Gh(this),$g(this);break e}Rp(this.i,this.l,ae,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gg(this,ae)}if(this.P){let wc;for(ae=!0;!this.J&&this.C<Fn.length;){if(wc=_v(this,Fn),wc==kp){4==aa&&(this.s=4,ws(14),ae=!1),Rp(this.i,this.l,null,"[Incomplete Response]");break}if(wc==gv){this.s=4,ws(15),Rp(this.i,this.l,Fn,"[Invalid Chunk]"),ae=!1;break}Rp(this.i,this.l,wc,null),Gg(this,wc)}if(jg(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=aa||0!=Fn.length||this.h.h||(this.s=1,ws(16),ae=!1),this.o=this.o&&ae,ae){if(0<Fn.length&&!this.W){this.W=!0;var sa=this.j;sa.g==this&&sa.ba&&!sa.M&&(sa.j.info("Great, no buffering proxy detected. Bytes received: "+Fn.length),EC(sa),sa.M=!0,ws(11))}}else Rp(this.i,this.l,Fn,"[Invalid Chunked Response]"),Gh(this),$g(this)}else Rp(this.i,this.l,Fn,null),Gg(this,Fn);4==aa&&Gh(this),this.o&&!this.J&&(4==aa?uw(this.j,this):(this.o=!1,_d(this)))}else(function bw(v){const G={};v=(v.g&&2<=vu(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let Be=0;Be<v.length;Be++){if(kn(v[Be]))continue;var ae=Ft(v[Be]);const Bt=ae[0];if("string"!=typeof(ae=ae[1]))continue;ae=ae.trim();const nn=G[Bt]||[];G[Bt]=nn,nn.push(ae)}!function Ct(v,G){for(const ae in v)G.call(void 0,v[ae],ae,v)}(G,function(Be){return Be.join(", ")})})(this.g),400==ae&&0<Fn.indexOf("Unknown SID")?(this.s=3,ws(12)):(this.s=0,ws(13)),Gh(this),$g(this)}}}catch{}},Ec.prototype.cancel=function(){this.J=!0,Gh(this)},Ec.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function QC(v,G){v.info(function(){return"TIMEOUT: "+G})}(this.i,this.A),2!=this.L&&(Ug(),ws(17)),Gh(this),this.s=2,$g(this)):uC(this,this.S-v)},lE.prototype.cancel=function(){if(this.i=dE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var fC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xc(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof xc){this.h=v.h,Yg(this,v.j),this.o=v.o,this.g=v.g,yv(this,v.s),this.l=v.l;var G=v.i,ae=new Xg;ae.i=G.i,G.g&&(ae.g=new Map(G.g),ae.h=G.h),pC(this,ae),this.m=v.m}else v&&(G=String(v).match(fC))?(this.h=!1,Yg(this,G[1]||"",!0),this.o=Np(G[2]||""),this.g=Np(G[3]||"",!0),yv(this,G[4]),this.l=Np(G[5]||"",!0),pC(this,G[6]||"",!0),this.m=Np(G[7]||"")):(this.h=!1,this.i=new Xg(null,this.h))}function Cc(v){return new xc(v)}function Yg(v,G,ae){v.j=ae?Np(G,!0):G,v.j&&(v.j=v.j.replace(/:$/,""))}function yv(v,G){if(G){if(G=Number(G),isNaN(G)||0>G)throw Error("Bad port number "+G);v.s=G}else v.s=null}function pC(v,G,ae){G instanceof Xg?(v.i=G,function s(v,G){G&&!v.j&&(vd(v),v.i=null,v.g.forEach(function(ae,Be){var Bt=Be.toLowerCase();Be!=Bt&&(_C(this,Be),n(this,Bt,ae))},v)),v.j=G}(v.i,v.h)):(ae||(G=Qg(G,tw)),v.i=new Xg(G,v.h))}function zr(v,G,ae){v.i.set(G,ae)}function qg(v){return zr(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Np(v,G){return v?G?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Qg(v,G,ae){return"string"==typeof v?(v=encodeURI(v).replace(G,JC),ae&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function JC(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}xc.prototype.toString=function(){var v=[],G=this.j;G&&v.push(Qg(G,mC,!0),":");var ae=this.g;return(ae||"file"==G)&&(v.push("//"),(G=this.o)&&v.push(Qg(G,mC,!0),"@"),v.push(encodeURIComponent(String(ae)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ae=this.s)&&v.push(":",String(ae))),(ae=this.l)&&(this.g&&"/"!=ae.charAt(0)&&v.push("/"),v.push(Qg(ae,"/"==ae.charAt(0)?gC:ew,!0))),(ae=this.i.toString())&&v.push("?",ae),(ae=this.m)&&v.push("#",Qg(ae,nw)),v.join("")};var v,mC=/[#\/\?@]/g,ew=/[#\?:]/g,gC=/[#\?]/g,tw=/[#\?@]/g,nw=/#/g;function Xg(v,G){this.h=this.g=null,this.i=v||null,this.j=!!G}function vd(v){v.g||(v.g=new Map,v.h=0,v.i&&function fE(v,G){if(v){v=v.split("&");for(var ae=0;ae<v.length;ae++){var Be=v[ae].indexOf("="),Bt=null;if(0<=Be){var nn=v[ae].substring(0,Be);Bt=v[ae].substring(Be+1)}else nn=v[ae];G(nn,Bt?decodeURIComponent(Bt.replace(/\+/g," ")):"")}}}(v.i,function(G,ae){v.add(decodeURIComponent(G.replace(/\+/g," ")),ae)}))}function _C(v,G){vd(v),G=r(v,G),v.g.has(G)&&(v.i=null,v.h-=v.g.get(G).length,v.g.delete(G))}function vC(v,G){return vd(v),G=r(v,G),v.g.has(G)}function n(v,G,ae){_C(v,G),0<ae.length&&(v.i=null,v.g.set(r(v,G),Yt(ae)),v.h+=ae.length)}function r(v,G){return G=String(G),v.j&&(G=G.toLowerCase()),G}function g(v,G,ae,Be,Bt){try{Bt&&(Bt.onload=null,Bt.onerror=null,Bt.onabort=null,Bt.ontimeout=null),Be(ae)}catch{}}function w(){this.g=new iE}function k(v,G,ae){const Be=ae||"";try{Kg(v,function(Bt,nn){let Fn=Bt;H(Bt)&&(Fn=nE(Bt)),G.push(Be+nn+"="+encodeURIComponent(Fn))})}catch(Bt){throw G.push(Be+"type="+encodeURIComponent("_badmap")),Bt}}function U(v){this.l=v.Ub||null,this.j=v.eb||!1}function se(v,G){Cs.call(this),this.D=v,this.o=G,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function De(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function We(v){v.readyState=4,v.l=null,v.j=null,v.v=null,xt(v)}function xt(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function Lt(v){let G="";return mi(v,function(ae,Be){G+=Be,G+=":",G+=ae,G+="\r\n"}),G}function cn(v,G,ae){e:{for(Be in ae){var Be=!1;break e}Be=!0}Be||(ae=Lt(ae),"string"==typeof v?null!=ae&&encodeURIComponent(String(ae)):zr(v,G,ae))}function mn(v){Cs.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(o=Xg.prototype).add=function(v,G){vd(this),this.i=null,v=r(this,v);var ae=this.g.get(v);return ae||this.g.set(v,ae=[]),ae.push(G),this.h+=1,this},o.forEach=function(v,G){vd(this),this.g.forEach(function(ae,Be){ae.forEach(function(Bt){v.call(G,Bt,Be,this)},this)},this)},o.na=function(){vd(this);const v=Array.from(this.g.values()),G=Array.from(this.g.keys()),ae=[];for(let Be=0;Be<G.length;Be++){const Bt=v[Be];for(let nn=0;nn<Bt.length;nn++)ae.push(G[Be])}return ae},o.V=function(v){vd(this);let G=[];if("string"==typeof v)vC(this,v)&&(G=G.concat(this.g.get(r(this,v))));else{v=Array.from(this.g.values());for(let ae=0;ae<v.length;ae++)G=G.concat(v[ae])}return G},o.set=function(v,G){return vd(this),this.i=null,vC(this,v=r(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[G]),this.h+=1,this},o.get=function(v,G){return v&&0<(v=this.V(v)).length?String(v[0]):G},o.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],G=Array.from(this.g.keys());for(var ae=0;ae<G.length;ae++){var Be=G[ae];const nn=encodeURIComponent(String(Be)),Fn=this.V(Be);for(Be=0;Be<Fn.length;Be++){var Bt=nn;""!==Fn[Be]&&(Bt+="="+encodeURIComponent(String(Fn[Be]))),v.push(Bt)}}return this.i=v.join("&")},Ot(U,Bg),U.prototype.g=function(){return new se(this.l,this.j)},U.prototype.i=(v={},function(){return v}),Ot(se,Cs),(o=se.prototype).open=function(v,G){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=G,this.readyState=1,xt(this)},o.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const G={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(G.body=v),(this.D||x).fetch(new Request(this.A,G)).then(this.Sa.bind(this),this.ga.bind(this))},o.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,We(this)),this.readyState=0},o.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,xt(this)),this.g&&(this.readyState=3,xt(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;De(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},o.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var G=v.value?v.value:new Uint8Array(0);(G=this.v.decode(G,{stream:!v.done}))&&(this.response=this.responseText+=G)}v.done?We(this):xt(this),3==this.readyState&&De(this)}},o.Ra=function(v){this.g&&(this.response=this.responseText=v,We(this))},o.Qa=function(v){this.g&&(this.response=v,We(this))},o.ga=function(){this.g&&We(this)},o.setRequestHeader=function(v,G){this.u.append(v,G)},o.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],G=this.h.entries();for(var ae=G.next();!ae.done;)v.push((ae=ae.value)[0]+": "+ae[1]),ae=G.next();return v.join("\r\n")},Object.defineProperty(se.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),Ot(mn,Cs);var Hn=/^https?$/i,Xn=["POST","PUT"];function gi(v,G){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=G,v.m=5,_n(v),Dr(v)}function _n(v){v.A||(v.A=!0,zs(v,"complete"),zs(v,"error"))}function wi(v){if(v.h&&typeof p<"u"&&(!v.v[1]||4!=vu(v)||2!=v.Z()))if(v.u&&4==vu(v))eE(v.Ea,0,v);else if(zs(v,"readystatechange"),4==vu(v)){v.h=!1;try{const Fn=v.Z();e:switch(Fn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var G=!0;break e;default:G=!1}var ae;if(!(ae=G)){var Be;if(Be=0===Fn){var Bt=String(v.D).match(fC)[1]||null;!Bt&&x.self&&x.self.location&&(Bt=x.self.location.protocol.slice(0,-1)),Be=!Hn.test(Bt?Bt.toLowerCase():"")}ae=Be}if(ae)zs(v,"complete"),zs(v,"success");else{v.m=6;try{var nn=2<vu(v)?v.g.statusText:""}catch{nn=""}v.l=nn+" ["+v.Z()+"]",_n(v)}}finally{Dr(v)}}}function Dr(v,G){if(v.g){uo(v);const ae=v.g,Be=v.v[0]?()=>{}:null;v.g=null,v.v=null,G||zs(v,"ready");try{ae.onreadystatechange=Be}catch{}}}function uo(v){v.I&&(x.clearTimeout(v.I),v.I=null)}function vu(v){return v.g?v.g.readyState:0}function iw(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function bv(v,G,ae){return ae&&ae.internalChannelParams&&ae.internalChannelParams[v]||G}function rw(v){this.Aa=0,this.i=[],this.j=new Pp,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bv("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bv("baseRetryDelayMs",5e3,v),this.cb=bv("retryDelaySeedMs",1e4,v),this.Wa=bv("forwardChannelMaxRetries",2,v),this.wa=bv("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new lE(v&&v.concurrentRequestLimit),this.Da=new w,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function yC(v){if(ow(v),3==v.G){var G=v.U++,ae=Cc(v.I);if(zr(ae,"SID",v.K),zr(ae,"RID",G),zr(ae,"TYPE","terminate"),Ev(v,ae),(G=new Ec(v,v.j,G)).L=2,G.v=qg(Cc(ae)),ae=!1,x.navigator&&x.navigator.sendBeacon)try{ae=x.navigator.sendBeacon(G.v.toString(),"")}catch{}!ae&&x.Image&&((new Image).src=G.v,ae=!0),ae||(G.g=pw(G.j,null),G.g.ea(G.v)),G.F=Date.now(),_d(G)}hw(v)}function pE(v){v.g&&(EC(v),v.g.cancel(),v.g=null)}function ow(v){pE(v),v.u&&(x.clearTimeout(v.u),v.u=null),gE(v),v.h.cancel(),v.s&&("number"==typeof v.s&&x.clearTimeout(v.s),v.s=null)}function mE(v){if(!cE(v.h)&&!v.s){v.s=!0;var G=v.Ga;oi||ir(),ci||(oi(),ci=!0),Vi.add(G,v),v.B=0}}function sw(v,G){var ae;ae=G?G.l:v.U++;const Be=Cc(v.I);zr(Be,"SID",v.K),zr(Be,"RID",ae),zr(Be,"AID",v.T),Ev(v,Be),v.m&&v.o&&cn(Be,v.m,v.o),ae=new Ec(v,v.j,ae,v.B+1),null===v.m&&(ae.H=v.o),G&&(v.i=G.D.concat(v.i)),G=aw(v,ae,1e3),ae.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Zg(v.h,ae),Fp(ae,Be,G)}function Ev(v,G){v.H&&mi(v.H,function(ae,Be){zr(G,Be,ae)}),v.l&&Kg({},function(ae,Be){zr(G,Be,ae)})}function aw(v,G,ae){ae=Math.min(v.i.length,ae);var Be=v.l?Qe(v.l.Na,v.l,v):null;e:{var Bt=v.i;let nn=-1;for(;;){const Fn=["count="+ae];-1==nn?0<ae?(nn=Bt[0].g,Fn.push("ofs="+nn)):nn=0:Fn.push("ofs="+nn);let Hr=!0;for(let Hs=0;Hs<ae;Hs++){let ar=Bt[Hs].g;const sa=Bt[Hs].map;if(ar-=nn,0>ar)nn=Math.max(0,Bt[Hs].g-100),Hr=!1;else try{k(sa,Fn,"req"+ar+"_")}catch{Be&&Be(sa)}}if(Hr){Be=Fn.join("&");break e}}}return v=v.i.splice(0,ae),G.D=v,Be}function lw(v){if(!v.g&&!v.u){v.Y=1;var G=v.Fa;oi||ir(),ci||(oi(),ci=!0),Vi.add(G,v),v.v=0}}function bC(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Mp(Qe(v.Fa,v),dw(v,v.v)),v.v++,0))}function EC(v){null!=v.A&&(x.clearTimeout(v.A),v.A=null)}function cw(v){v.g=new Ec(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var G=Cc(v.qa);zr(G,"RID","rpc"),zr(G,"SID",v.K),zr(G,"AID",v.T),zr(G,"CI",v.F?"0":"1"),!v.F&&v.ja&&zr(G,"TO",v.ja),zr(G,"TYPE","xmlhttp"),Ev(v,G),v.m&&v.o&&cn(G,v.m,v.o),v.L&&(v.g.I=v.L);var ae=v.g;v=v.ia,ae.L=1,ae.v=qg(Cc(G)),ae.m=null,ae.P=!0,sE(ae,v)}function gE(v){null!=v.C&&(x.clearTimeout(v.C),v.C=null)}function uw(v,G){var ae=null;if(v.g==G){gE(v),EC(v),v.g=null;var Be=2}else{if(!Wg(v.h,G))return;ae=G.D,vv(v.h,G),Be=1}if(0!=v.G)if(G.o)if(1==Be){ae=G.m?G.m.length:0,G=Date.now()-G.F;var Bt=v.B;zs(Be=Vg(),new oE(Be,ae)),mE(v)}else lw(v);else if(3==(Bt=G.s)||0==Bt&&0<G.X||!(1==Be&&function Ew(v,G){return!(uE(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=G.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Mp(Qe(v.Ga,v,G),dw(v,v.B)),v.B++,0)))}(v,G)||2==Be&&bC(v)))switch(ae&&0<ae.length&&(G=v.h,G.i=G.i.concat(ae)),Bt){case 1:Lp(v,5);break;case 4:Lp(v,10);break;case 3:Lp(v,6);break;default:Lp(v,2)}}function dw(v,G){let ae=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(ae*=2),ae*G}function Lp(v,G){if(v.j.info("Error code "+G),2==G){var ae=Qe(v.fb,v),Be=v.Xa;const Bt=!Be;Be=new xc(Be||"//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Yg(Be,"https"),qg(Be),Bt?function c(v,G){const ae=new Pp;if(x.Image){const Be=new Image;Be.onload=vt(g,ae,"TestLoadImage: loaded",!0,G,Be),Be.onerror=vt(g,ae,"TestLoadImage: error",!1,G,Be),Be.onabort=vt(g,ae,"TestLoadImage: abort",!1,G,Be),Be.ontimeout=vt(g,ae,"TestLoadImage: timeout",!1,G,Be),x.setTimeout(function(){Be.ontimeout&&Be.ontimeout()},1e4),Be.src=v}else G(!1)}(Be.toString(),ae):function d(v,G){new Pp;const Be=new AbortController,Bt=setTimeout(()=>{Be.abort(),g(0,0,!1,G)},1e4);fetch(v,{signal:Be.signal}).then(nn=>{clearTimeout(Bt),g(0,0,!!nn.ok,G)}).catch(()=>{clearTimeout(Bt),g(0,0,!1,G)})}(Be.toString(),ae)}else ws(2);v.G=0,v.l&&v.l.sa(G),hw(v),ow(v)}function hw(v){if(v.G=0,v.ka=[],v.l){const G=dE(v.h);(0!=G.length||0!=v.i.length)&&(qt(v.ka,G),qt(v.ka,v.i),v.h.i.length=0,Yt(v.i),v.i.length=0),v.l.ra()}}function fw(v,G,ae){var Be=ae instanceof xc?Cc(ae):new xc(ae);if(""!=Be.g)G&&(Be.g=G+"."+Be.g),yv(Be,Be.s);else{var Bt=x.location;Be=Bt.protocol,G=G?G+"."+Bt.hostname:Bt.hostname,Bt=+Bt.port;var nn=new xc(null);Be&&Yg(nn,Be),G&&(nn.g=G),Bt&&yv(nn,Bt),ae&&(nn.l=ae),Be=nn}return G=v.ya,(ae=v.D)&&G&&zr(Be,ae,G),zr(Be,"VER",v.la),Ev(v,Be),Be}function pw(v,G,ae){if(G&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(G=new mn(v.Ca&&!v.pa?new U({eb:ae}):v.pa)).Ha(v.J),G}function mw(){}function _E(){}function pl(v,G){Cs.call(this),this.g=new rw(G),this.l=v,this.h=G&&G.messageUrlParams||null,v=G&&G.messageHeaders||null,G&&G.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=G&&G.initMessageHeaders||null,G&&G.messageContentType&&(v?v["X-WebChannel-Content-Type"]=G.messageContentType:v={"X-WebChannel-Content-Type":G.messageContentType}),G&&G.va&&(v?v["X-WebChannel-Client-Profile"]=G.va:v={"X-WebChannel-Client-Profile":G.va}),this.g.S=v,(v=G&&G.Sb)&&!kn(v)&&(this.g.m=v),this.v=G&&G.supportsCrossDomainXhr||!1,this.u=G&&G.sendRawJson||!1,(G=G&&G.httpSessionIdParam)&&!kn(G)&&(this.g.D=G,null!==(v=this.h)&&G in v&&G in(v=this.h)&&delete v[G]),this.j=new Jg(this)}function gw(v){jh.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var G=v.__sm__;if(G){e:{for(const ae in G){v=ae;break e}v=void 0}(this.i=v)&&(v=this.i,G=null!==G&&v in G?G[v]:void 0),this.data=G}else this.data=v}function _w(){$h.call(this),this.status=1}function Jg(v){this.g=v}(o=mn.prototype).Ha=function(v){this.J=v},o.ea=function(v,G,ae,Be){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);G=G?G.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mv.g(),this.v=function fv(v){return v.h||(v.h=v.i())}(this.o?this.o:mv),this.g.onreadystatechange=Qe(this.Ea,this);try{this.B=!0,this.g.open(G,String(v),!0),this.B=!1}catch(nn){return void gi(this,nn)}if(v=ae||"",ae=new Map(this.headers),Be)if(Object.getPrototypeOf(Be)===Object.prototype)for(var Bt in Be)ae.set(Bt,Be[Bt]);else{if("function"!=typeof Be.keys||"function"!=typeof Be.get)throw Error("Unknown input type for opt_headers: "+String(Be));for(const nn of Be.keys())ae.set(nn,Be.get(nn))}Be=Array.from(ae.keys()).find(nn=>"content-type"==nn.toLowerCase()),Bt=x.FormData&&v instanceof x.FormData,!(0<=Array.prototype.indexOf.call(Xn,G,void 0))||Be||Bt||ae.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nn,Fn]of ae)this.g.setRequestHeader(nn,Fn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uo(this),this.u=!0,this.g.send(v),this.u=!1}catch(nn){gi(this,nn)}},o.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,zs(this,"complete"),zs(this,"abort"),Dr(this))},o.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dr(this,!0)),mn.aa.N.call(this)},o.Ea=function(){this.s||(this.B||this.u||this.j?wi(this):this.bb())},o.bb=function(){wi(this)},o.isActive=function(){return!!this.g},o.Z=function(){try{return 2<vu(this)?this.g.status:-1}catch{return-1}},o.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},o.Oa=function(v){if(this.g){var G=this.g.responseText;return v&&0==G.indexOf(v)&&(G=G.substring(v.length)),hv(G)}},o.Ba=function(){return this.m},o.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(o=rw.prototype).la=8,o.G=1,o.connect=function(v,G,ae,Be){ws(0),this.W=v,this.H=G||{},ae&&void 0!==Be&&(this.H.OSID=ae,this.H.OAID=Be),this.F=this.X,this.I=fw(this,null,this.W),mE(this)},o.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Bt=new Ec(this,this.j,v);let nn=this.o;if(this.S&&(nn?(nn=it(nn),Tt(nn,this.S)):nn=this.S),null!==this.m||this.O||(Bt.H=nn,nn=null),this.P)e:{for(var G=0,ae=0;ae<this.i.length;ae++){var Be=this.i[ae];if(void 0===(Be="__data__"in Be.map&&"string"==typeof(Be=Be.map.__data__)?Be.length:void 0))break;if(4096<(G+=Be)){G=ae;break e}if(4096===G||ae===this.i.length-1){G=ae+1;break e}}G=1e3}else G=1e3;G=aw(this,Bt,G),zr(ae=Cc(this.I),"RID",v),zr(ae,"CVER",22),this.D&&zr(ae,"X-HTTP-Session-Id",this.D),Ev(this,ae),nn&&(this.O?G="headers="+encodeURIComponent(String(Lt(nn)))+"&"+G:this.m&&cn(ae,this.m,nn)),Zg(this.h,Bt),this.Ua&&zr(ae,"TYPE","init"),this.P?(zr(ae,"$req",G),zr(ae,"SID","null"),Bt.T=!0,Fp(Bt,ae,null)):Fp(Bt,ae,G),this.G=2}}else 3==this.G&&(v?sw(this,v):0==this.i.length||cE(this.h)||sw(this))},o.Fa=function(){if(this.u=null,cw(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Mp(Qe(this.ab,this),v)}},o.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ws(10),pE(this),cw(this))},o.Za=function(){null!=this.C&&(this.C=null,pE(this),bC(this),ws(19))},o.fb=function(v){v?(this.j.info("Successfully pinged google.com"),ws(2)):(this.j.info("Failed to ping google.com"),ws(1))},o.isActive=function(){return!!this.l&&this.l.isActive(this)},(o=mw.prototype).ua=function(){},o.ta=function(){},o.sa=function(){},o.ra=function(){},o.isActive=function(){return!0},o.Na=function(){},_E.prototype.g=function(v,G){return new pl(v,G)},Ot(pl,Cs),pl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pl.prototype.close=function(){yC(this.g)},pl.prototype.o=function(v){var G=this.g;if("string"==typeof v){var ae={};ae.__data__=v,v=ae}else this.u&&((ae={}).__data__=nE(v),v=ae);G.i.push(new class{constructor(v,G){this.g=v,this.map=G}}(G.Ya++,v)),3==G.G&&mE(G)},pl.prototype.N=function(){this.g.l=null,delete this.j,yC(this.g),delete this.g,pl.aa.N.call(this)},Ot(gw,jh),Ot(_w,$h),Ot(Jg,mw),Jg.prototype.ua=function(){zs(this.g,"a")},Jg.prototype.ta=function(v){zs(this.g,new gw(v))},Jg.prototype.sa=function(v){zs(this.g,new _w)},Jg.prototype.ra=function(){zs(this.g,"b")},_E.prototype.createWebChannel=_E.prototype.g,pl.prototype.send=pl.prototype.o,pl.prototype.open=pl.prototype.m,pl.prototype.close=pl.prototype.close,ln=Ea.createWebChannelTransport=function(){return new _E},At=Ea.getStatEventTarget=function(){return Vg()},Re=Ea.Event=gu,xe=Ea.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zg.NO_ERROR=0,zg.TIMEOUT=8,zg.HTTP_ERROR=6,J=Ea.ErrorCode=zg,Op.COMPLETE="complete",B=Ea.EventType=Op,pv.EventType=Hh,Hh.OPEN="a",Hh.CLOSE="b",Hh.ERROR="c",Hh.MESSAGE="d",Cs.prototype.listen=Cs.prototype.K,C=Ea.WebChannel=pv,P=Ea.FetchXmlHttpFactory=U,mn.prototype.listenOnce=mn.prototype.L,mn.prototype.getLastError=mn.prototype.Ka,mn.prototype.getLastErrorCode=mn.prototype.Ba,mn.prototype.getStatus=mn.prototype.Z,mn.prototype.getResponseJson=mn.prototype.Oa,mn.prototype.getResponseText=mn.prototype.oa,mn.prototype.send=mn.prototype.ea,mn.prototype.setWithCredentials=mn.prototype.Ha,S=Ea.XhrIo=mn}).apply(typeof Vo<"u"?Vo:typeof self<"u"?self:typeof window<"u"?window:{});const Un="@firebase/firestore";class In{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let Ti="10.13.1";const fr=new ba.Yd("@firebase/firestore");function Xo(){return fr.logLevel}function fn(o,...e){if(fr.logLevel<=ba.in.DEBUG){const t=e.map(za);fr.debug(`Firestore (${Ti}): ${o}`,...t)}}function Ui(o,...e){if(fr.logLevel<=ba.in.ERROR){const t=e.map(za);fr.error(`Firestore (${Ti}): ${o}`,...t)}}function bo(o,...e){if(fr.logLevel<=ba.in.WARN){const t=e.map(za);fr.warn(`Firestore (${Ti}): ${o}`,...t)}}function za(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch{return o}}function Ln(o="Unexpected state"){const e=`FIRESTORE (${Ti}) INTERNAL ASSERTION FAILED: `+o;throw Ui(e),new Error(e)}function Kn(o,e){o||Ln()}function An(o,e){return o}const Kt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class hn extends di.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(In.UNAUTHENTICATED))}shutdown(){}}class Iu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Xl{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let a=this.i;const u=H=>this.i!==a?(a=this.i,t(H)):Promise.resolve();let p=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new wr,e.enqueueRetryable(()=>u(this.currentUser))};const x=()=>{const H=p;e.enqueueRetryable((0,O.Z)(function*(){yield H.promise,yield u(i.currentUser)}))},M=H=>{fn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(H=>M(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?M(H):(fn("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new wr)}},0),x()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(fn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Kn("string"==typeof i.accessToken),new wu(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Kn(null===e||"string"==typeof e),new In(e)}}class bl{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=In.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Du{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new bl(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=u=>{null!=u.error&&fn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const p=u.token!==this.R;return this.R=u.token,fn("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const a=u=>{fn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):fn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Kn("string"==typeof t.token),this.R=t.token,new zp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Hp(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(o);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<o;i++)t[i]=Math.floor(256*Math.random());return t}class i_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const a=Hp(40);for(let u=0;u<a.length;++u)i.length<20&&a[u]<t&&(i+=e.charAt(a[u]%e.length))}return i}}function yi(o,e){return o<e?-1:o>e?1:0}function El(o,e,t){return o.length===e.length&&o.every((i,a)=>t(i,e[a]))}function jp(o){return o+"\0"}class tr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new hn(Kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new hn(Kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new hn(Kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new hn(Kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new tr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yi(this.nanoseconds,e.nanoseconds):yi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ni{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ni(e)}static min(){return new ni(new tr(0,0))}static max(){return new ni(new tr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jl{constructor(e,t,i){void 0===t?t=0:t>e.length&&Ln(),void 0===i?i=e.length-t:i>e.length-t&&Ln(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Jl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const u=e.get(a),p=t.get(a);if(u<p)return-1;if(u>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Si extends Jl{construct(e,t,i){return new Si(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new hn(Kt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new Si(t)}static emptyPath(){return new Si([])}}const Cv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ki extends Jl{construct(e,t,i){return new Ki(e,t,i)}static isValidIdentifier(e){return Cv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ki.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ki(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const u=()=>{if(0===i.length)throw new hn(Kt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let p=!1;for(;a<e.length;){const x=e[a];if("\\"===x){if(a+1===e.length)throw new hn(Kt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[a+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new hn(Kt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=M,a+=2}else"`"===x?(p=!p,a++):"."!==x||p?(i+=x,a++):(u(),a++)}if(u(),p)throw new hn(Kt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ki(t)}static emptyPath(){return new Ki([])}}class Rn{constructor(e){this.path=e}static fromPath(e){return new Rn(Si.fromString(e))}static fromName(e){return new Rn(Si.fromString(e).popFirst(5))}static empty(){return new Rn(Si.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Si.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Si.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rn(new Si(e.slice()))}}class Lc{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function Au(o){return o.fields.find(e=>2===e.kind)}function Ca(o){return o.fields.filter(e=>2!==e.kind)}Lc.UNKNOWN_ID=-1;class Bc{constructor(e,t){this.fieldPath=e,this.kind=t}}class Vc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vc(0,Xs.min())}}function Gp(o,e){const t=o.toTimestamp().seconds,i=o.toTimestamp().nanoseconds+1,a=ni.fromTimestamp(1e9===i?new tr(t+1,0):new tr(t,i));return new Xs(a,Rn.empty(),e)}function r_(o){return new Xs(o.readTime,o.key,-1)}class Xs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Xs(ni.min(),Rn.empty(),-1)}static max(){return new Xs(ni.max(),Rn.empty(),-1)}}function Ad(o,e){let t=o.readTime.compareTo(e.readTime);return 0!==t?t:(t=Rn.comparator(o.documentKey,e.documentKey),0!==t?t:yi(o.largestBatchId,e.largestBatchId))}const Wp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Js(o){return Td.apply(this,arguments)}function Td(){return(Td=(0,O.Z)(function*(o){if(o.code!==Kt.FAILED_PRECONDITION||o.message!==Wp)throw o;fn("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Nt((i,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Nt?t:Nt.resolve(t)}catch(t){return Nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Nt.reject(t)}static resolve(e){return new Nt((t,i)=>{t(e)})}static reject(e){return new Nt((t,i)=>{i(e)})}static waitFor(e){return new Nt((t,i)=>{let a=0,u=0,p=!1;e.forEach(x=>{++a,x.next(()=>{++u,p&&u===a&&t()},M=>i(M))}),p=!0,u===a&&t()})}static or(e){let t=Nt.resolve(!1);for(const i of e)t=t.next(a=>a?Nt.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,u)=>{i.push(t.call(this,a,u))}),this.waitFor(i)}static mapArray(e,t){return new Nt((i,a)=>{const u=e.length,p=new Array(u);let x=0;for(let M=0;M<u;M++){const H=M;t(e[H]).next(ue=>{p[H]=ue,++x,x===u&&i(p)},ue=>a(ue))}})}static doWhile(e,t){return new Nt((i,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):i()};u()})}}class ec{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new wr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new tc(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const a=Pd(i.target.error);this.V.reject(new tc(e,a))}}static open(e,t,i,a){try{return new ec(t,e.transaction(a,i))}catch(u){throw new tc(t,u)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(fn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Su(t)}}class Eo{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===Eo.S((0,di.z$)())&&Ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return fn("SimpleDb","Removing database:",e),nc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,di.hl)())return!1;if(Eo.v())return!0;const e=(0,di.z$)(),t=Eo.S(e),i=0<t&&t<10,a=Sd(e),u=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||u)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){var t=this;return(0,O.Z)(function*(){return t.db||(fn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,a)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=p=>{i(p.target.result)},u.onblocked=()=>{a(new tc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=p=>{const x=p.target.error;a("VersionError"===x.name?new hn(Kt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new hn(Kt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new tc(e,x))},u.onupgradeneeded=p=>{fn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.p.O(p.target.result,u.transaction,p.oldVersion,t.version).next(()=>{fn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=i=>t.N(i)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,a){var u=this;return(0,O.Z)(function*(){const p="readonly"===t;let x=0;for(;;){++x;try{u.db=yield u.M(e);const M=ec.open(u.db,e,p?"readonly":"readwrite",i),H=a(M).next(ue=>(M.g(),ue)).catch(ue=>(M.abort(ue),Nt.reject(ue))).toPromise();return H.catch(()=>{}),yield M.m,H}catch(M){const H=M,ue="FirebaseError"!==H.name&&x<3;if(fn("SimpleDb","Transaction failed with error:",H.message,"Retrying:",ue),u.close(),!ue)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Sd(o){const e=o.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class Md{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return nc(this.B.delete())}}class tc extends hn{constructor(e,t){super(Kt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ha(o){return"IndexedDbTransactionError"===o.name}class Su{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(fn("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(fn("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),nc(i)}add(e){return fn("SimpleDb","ADD",this.store.name,e,e),nc(this.store.add(e))}get(e){return nc(this.store.get(e)).next(t=>(void 0===t&&(t=null),fn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return fn("SimpleDb","DELETE",this.store.name,e),nc(this.store.delete(e))}count(){return fn("SimpleDb","COUNT",this.store.name),nc(this.store.count())}U(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if("function"==typeof a.getAll){const u=a.getAll(i.range);return new Nt((p,x)=>{u.onerror=M=>{x(M.target.error)},u.onsuccess=M=>{p(M.target.result)}})}{const u=this.cursor(i),p=[];return this.W(u,(x,M)=>{p.push(M)}).next(()=>p)}}G(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Nt((a,u)=>{i.onerror=p=>{u(p.target.error)},i.onsuccess=p=>{a(p.target.result)}})}j(e,t){fn("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const a=this.cursor(i);return this.W(a,(u,p,x)=>x.delete())}J(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.W(a,t)}Y(e){const t=this.cursor({});return new Nt((i,a)=>{t.onerror=u=>{const p=Pd(u.target.error);a(p)},t.onsuccess=u=>{const p=u.target.result;p?e(p.primaryKey,p.value).next(x=>{x?p.continue():i()}):i()}})}W(e,t){const i=[];return new Nt((a,u)=>{e.onerror=p=>{u(p.target.error)},e.onsuccess=p=>{const x=p.target.result;if(!x)return void a();const M=new Md(x),H=t(x.primaryKey,x.value,M);if(H instanceof Nt){const ue=H.catch(Ie=>(M.done(),Nt.reject(Ie)));i.push(ue)}M.isDone?a():null===M.K?x.continue():x.continue(M.K)}}).next(()=>Nt.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nc(o){return new Nt((e,t)=>{o.onsuccess=i=>{e(i.target.result)},o.onerror=i=>{const a=Pd(i.target.error);t(a)}})}let Xh=!1;function Pd(o){const e=Eo.S((0,di.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(t)>=0){const i=new hn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xh||(Xh=!0,setTimeout(()=>{throw i},0)),i}}return o}class Jh{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;fn("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,O.Z)(function*(){t.task=null;try{fn("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(i){Ha(i)?fn("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Js(i)}yield t.X(6e4)}))}}class o_{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,O.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.te(i,e))})()}te(e,t){const i=new Set;let a=t,u=!0;return Nt.doWhile(()=>!0===u&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!i.has(p))return fn("IndexBackfiller",`Processing collection: ${p}`),this.ne(e,p,a).next(x=>{a-=x,i.add(p)});u=!1})).next(()=>t-a)}ne(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next(u=>{const p=u.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.re(a,u)).next(x=>(fn("IndexBackfiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,t,x))).next(()=>p.size)}))}re(e,t){let i=e;return t.changes.forEach((a,u)=>{const p=r_(u);Ad(p,i)>0&&(i=p)}),new Xs(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ys=(()=>{class o{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return o.oe=-1,o})();function lo(o){return null==o}function ic(o){return 0===o&&1/o==-1/0}function ef(o){return"number"==typeof o&&Number.isInteger(o)&&!ic(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}function So(o){let e="";for(let t=0;t<o.length;t++)e.length>0&&(e=Uc(e)),e=Mo(o.get(t),e);return Uc(e)}function Mo(o,e){let t=e;const i=o.length;for(let a=0;a<i;a++){const u=o.charAt(a);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Uc(o){return o+"\x01\x01"}function wa(o){const e=o.length;if(Kn(e>=2),2===e)return Kn("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),Si.emptyPath();const t=e-2,i=[];let a="";for(let u=0;u<e;){const p=o.indexOf("\x01",u);switch((p<0||p>t)&&Ln(),o.charAt(p+1)){case"\x01":const x=o.substring(u,p);let M;0===a.length?M=x:(a+=x,M=a,a=""),i.push(M);break;case"\x10":a+=o.substring(u,p),a+="\0";break;case"\x11":a+=o.substring(u,p+1);break;default:Ln()}u=p+2}return new Si(i)}const Rd=["userId","batchId"];function Od(o,e){return[o,So(e)]}function zc(o,e,t){return[o,So(e),t]}const s_={},Zp=["prefixPath","collectionGroup","readTime","documentId"],a_=["prefixPath","collectionGroup","documentId"],Kp=["collectionGroup","readTime","prefixPath","documentId"],l_=["canonicalId","targetId"],c_=["targetId","path"],tf=["path","targetId"],nf=["collectionId","parent"],rf=["indexId","uid"],Mu=["uid","sequenceNumber"],u_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],d_=["indexId","uid","orderedDocumentKey"],sf=["userId","collectionPath","documentId"],af=["userId","collectionPath","largestBatchId"],lf=["userId","collectionGroup","largestBatchId"],rc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cf=[...rc,"documentOverlays"],uf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yp=uf,Pu=[...Yp,"indexConfiguration","indexState","indexEntries"],df=Pu,hf=[...Pu,"globals"];class ff extends Qh{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function eo(o,e){const t=An(o);return Eo.F(t._e,e)}function qp(o){let e=0;for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e++;return e}function sl(o,e){for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e(t,o[t])}function Hc(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}class pr{constructor(e,t){this.comparator=e,this.root=t||xo.EMPTY}insert(e,t){return new pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xo.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ru(this.root,e,this.comparator,!0)}}class Ru{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xo{constructor(e,t,i,a,u){this.key=e,this.value=t,this.color=i??xo.RED,this.left=a??xo.EMPTY,this.right=u??xo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,u){return new xo(e??this.key,t??this.value,i??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const u=i(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return xo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return xo.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ln();const e=this.left.check();if(e!==this.right.check())throw Ln();return e+(this.isRed()?0:1)}}xo.EMPTY=null,xo.RED=!0,xo.BLACK=!1,xo.EMPTY=new class{constructor(){this.size=0}get key(){throw Ln()}get value(){throw Ln()}get color(){throw Ln()}get left(){throw Ln()}get right(){throw Ln()}copy(e,t,i,a,u){return this}insert(e,t,i){return new xo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nr{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jc(this.data.getIterator())}getIteratorFrom(e){return new jc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=i.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nr(this.comparator);return t.data=e,t}}class jc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xl(o){return o.hasNext()?o.getNext():void 0}class to{constructor(e){this.fields=e,e.sort(Ki.comparator)}static empty(){return new to([])}unionWith(e){let t=new nr(Ki.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new to(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class mf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new mf("Invalid base64 string: "+u):u}}(e);return new $r(t)}static fromUint8Array(e){const t=function(a){let u="";for(let p=0;p<a.length;++p)u+=String.fromCharCode(a[p]);return u}(e);return new $r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const wv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(o){if(Kn(!!o),"string"==typeof o){let e=0;const t=wv.exec(o);if(Kn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(o);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ir(o.seconds),nanos:Ir(o.nanos)}}function Ir(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function ja(o){return"string"==typeof o?$r.fromBase64String(o):$r.fromUint8Array(o)}function kd(o){var e,t;return"server_timestamp"===(null===(t=((null===(e=o?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ou(o){const e=o.mapValue.fields.__previous_value__;return kd(e)?Ou(e):e}function Ns(o){const e=ea(o.mapValue.fields.__local_write_time__.timestampValue);return new tr(e.seconds,e.nanos)}class Xp{constructor(e,t,i,a,u,p,x,M,H){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=u,this.forceLongPolling=p,this.autoDetectLongPolling=x,this.longPollingOptions=M,this.useFetchStreams=H}}class Ia{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ia("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}const Ls={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ku={nullValue:"NULL_VALUE"};function ta(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?kd(o)?4:Vd(o)?9007199254740991:Bd(o)?10:11:Ln()}function na(o,e){if(o===e)return!0;const t=ta(o);if(t!==ta(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return Ns(o).isEqual(Ns(e));case 3:return function(a,u){if("string"==typeof a.timestampValue&&"string"==typeof u.timestampValue&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const p=ea(a.timestampValue),x=ea(u.timestampValue);return p.seconds===x.seconds&&p.nanos===x.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return u=e,ja(o.bytesValue).isEqual(ja(u.bytesValue));case 7:return o.referenceValue===e.referenceValue;case 8:return function(a,u){return Ir(a.geoPointValue.latitude)===Ir(u.geoPointValue.latitude)&&Ir(a.geoPointValue.longitude)===Ir(u.geoPointValue.longitude)}(o,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return Ir(a.integerValue)===Ir(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const p=Ir(a.doubleValue),x=Ir(u.doubleValue);return p===x?ic(p)===ic(x):isNaN(p)&&isNaN(x)}return!1}(o,e);case 9:return El(o.arrayValue.values||[],e.arrayValue.values||[],na);case 10:case 11:return function(a,u){const p=a.mapValue.fields||{},x=u.mapValue.fields||{};if(qp(p)!==qp(x))return!1;for(const M in p)if(p.hasOwnProperty(M)&&(void 0===x[M]||!na(p[M],x[M])))return!1;return!0}(o,e);default:return Ln()}var u}function oc(o,e){return void 0!==(o.values||[]).find(t=>na(t,e))}function bs(o,e){if(o===e)return 0;const t=ta(o),i=ta(e);if(t!==i)return yi(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return yi(o.booleanValue,e.booleanValue);case 2:return function(u,p){const x=Ir(u.integerValue||u.doubleValue),M=Ir(p.integerValue||p.doubleValue);return x<M?-1:x>M?1:x===M?0:isNaN(x)?isNaN(M)?0:-1:1}(o,e);case 3:return Jp(o.timestampValue,e.timestampValue);case 4:return Jp(Ns(o),Ns(e));case 5:return yi(o.stringValue,e.stringValue);case 6:return function(u,p){const x=ja(u),M=ja(p);return x.compareTo(M)}(o.bytesValue,e.bytesValue);case 7:return function(u,p){const x=u.split("/"),M=p.split("/");for(let H=0;H<x.length&&H<M.length;H++){const ue=yi(x[H],M[H]);if(0!==ue)return ue}return yi(x.length,M.length)}(o.referenceValue,e.referenceValue);case 8:return function(u,p){const x=yi(Ir(u.latitude),Ir(p.latitude));return 0!==x?x:yi(Ir(u.longitude),Ir(p.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return gf(o.arrayValue,e.arrayValue);case 10:return function(u,p){var x,M,H,ue;const vt=null===(x=(u.fields||{}).value)||void 0===x?void 0:x.arrayValue,Ot=null===(M=(p.fields||{}).value)||void 0===M?void 0:M.arrayValue,Yt=yi((null===(H=vt?.values)||void 0===H?void 0:H.length)||0,(null===(ue=Ot?.values)||void 0===ue?void 0:ue.length)||0);return 0!==Yt?Yt:gf(vt,Ot)}(o.mapValue,e.mapValue);case 11:return function(u,p){if(u===Ls.mapValue&&p===Ls.mapValue)return 0;if(u===Ls.mapValue)return 1;if(p===Ls.mapValue)return-1;const x=u.fields||{},M=Object.keys(x),H=p.fields||{},ue=Object.keys(H);M.sort(),ue.sort();for(let Ie=0;Ie<M.length&&Ie<ue.length;++Ie){const Qe=yi(M[Ie],ue[Ie]);if(0!==Qe)return Qe;const vt=bs(x[M[Ie]],H[ue[Ie]]);if(0!==vt)return vt}return yi(M.length,ue.length)}(o.mapValue,e.mapValue);default:throw Ln()}}function Jp(o,e){if("string"==typeof o&&"string"==typeof e&&o.length===e.length)return yi(o,e);const t=ea(o),i=ea(e),a=yi(t.seconds,i.seconds);return 0!==a?a:yi(t.nanos,i.nanos)}function gf(o,e){const t=o.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const u=bs(t[a],i[a]);if(u)return u}return yi(t.length,i.length)}function Cl(o){return _f(o)}function _f(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(t){const i=ea(t);return`time(${i.seconds},${i.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?ja(o.bytesValue).toBase64():"referenceValue"in o?Rn.fromName(o.referenceValue).toString():"geoPointValue"in o?function(t){return`geo(${t.latitude},${t.longitude})`}(o.geoPointValue):"arrayValue"in o?function(t){let i="[",a=!0;for(const u of t.values||[])a?a=!1:i+=",",i+=_f(u);return i+"]"}(o.arrayValue):"mapValue"in o?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",u=!0;for(const p of i)u?u=!1:a+=",",a+=`${p}:${_f(t.fields[p])}`;return a+"}"}(o.mapValue):Ln()}function wl(o,e){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${e.path.canonicalString()}`}}function Nd(o){return!!o&&"integerValue"in o}function Il(o){return!!o&&"arrayValue"in o}function Fu(o){return!!o&&"nullValue"in o}function al(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function Ld(o){return!!o&&"mapValue"in o}function Bd(o){var e,t;return"__vector__"===(null===(t=((null===(e=o?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $c(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return sl(o.mapValue.fields,(t,i)=>e.mapValue.fields[t]=$c(i)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(o.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$c(o.arrayValue.values[t]);return e}return Object.assign({},o)}function Vd(o){return"__max__"===(((o.mapValue||{}).fields||{}).__type__||{}).stringValue}const Ud={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function h_(o){return"nullValue"in o?ku:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?wl(Ia.empty(),Rn.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?Bd(o)?Ud:{mapValue:{}}:Ln()}function Nu(o){return"nullValue"in o?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?wl(Ia.empty(),Rn.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?Ud:"mapValue"in o?Bd(o)?{mapValue:{}}:Ls:Ln()}function Lu(o,e){const t=bs(o.value,e.value);return 0!==t?t:o.inclusive&&!e.inclusive?-1:!o.inclusive&&e.inclusive?1:0}function zd(o,e){const t=bs(o.value,e.value);return 0!==t?t:o.inclusive&&!e.inclusive?1:!o.inclusive&&e.inclusive?-1:0}class Po{constructor(e){this.value=e}static empty(){return new Po({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ld(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(t)}setAll(e){let t=Ki.emptyPath(),i={},a=[];e.forEach((p,x)=>{if(!t.isImmediateParentOf(x)){const M=this.getFieldsMap(t);this.applyChanges(M,i,a),i={},a=[],t=x.popLast()}p?i[x.lastSegment()]=$c(p):a.push(x.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,i,a)}delete(e){const t=this.field(e.popLast());Ld(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return na(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Ld(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){sl(t,(a,u)=>e[a]=u);for(const a of i)delete e[a]}clone(){return new Po($c(this.value))}}function Hd(o){const e=[];return sl(o.fields,(t,i)=>{const a=new Ki([t]);if(Ld(i)){const u=Hd(i.mapValue).fields;if(0===u.length)e.push(a);else for(const p of u)e.push(a.child(p))}else e.push(a)}),new to(e)}class yr{constructor(e,t,i,a,u,p,x){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=u,this.data=p,this.documentState=x}static newInvalidDocument(e){return new yr(e,0,ni.min(),ni.min(),ni.min(),Po.empty(),0)}static newFoundDocument(e,t,i,a){return new yr(e,1,t,ni.min(),i,a,0)}static newNoDocument(e,t){return new yr(e,2,t,ni.min(),ni.min(),Po.empty(),0)}static newUnknownDocument(e,t){return new yr(e,3,t,ni.min(),ni.min(),Po.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ni.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Po.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Po.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ni.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Es{constructor(e,t){this.position=e,this.inclusive=t}}function em(o,e,t){let i=0;for(let a=0;a<o.position.length;a++){const u=e[a],p=o.position[a];if(i=u.field.isKeyField()?Rn.comparator(Rn.fromName(p.referenceValue),t.key):bs(p,t.data.field(u.field)),"desc"===u.dir&&(i*=-1),0!==i)break}return i}function tm(o,e){if(null===o)return null===e;if(null===e||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let t=0;t<o.position.length;t++)if(!na(o.position[t],e.position[t]))return!1;return!0}class ll{constructor(e,t="asc"){this.field=e,this.dir=t}}function f_(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}class vf{}class xi extends vf{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new p_(e,t,i):"array-contains"===t?new cl(e,i):"in"===t?new Dl(e,i):"not-in"===t?new Wd(e,i):"array-contains-any"===t?new nm(e,i):new xi(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Bs(e,i):new Vu(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(bs(t,this.value)):null!==t&&ta(this.value)===ta(t)&&this.matchesComparison(bs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ln()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends vf{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Bi(e,t)}matches(e){return Gc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Gc(o){return"and"===o.op}function yf(o){return"or"===o.op}function jd(o){return $d(o)&&Gc(o)}function $d(o){for(const e of o.filters)if(e instanceof Bi)return!1;return!0}function Bu(o){if(o instanceof xi)return o.field.canonicalString()+o.op.toString()+Cl(o.value);if(jd(o))return o.filters.map(e=>Bu(e)).join(",");{const e=o.filters.map(t=>Bu(t)).join(",");return`${o.op}(${e})`}}function bf(o,e){return o instanceof xi?(i=o,(a=e)instanceof xi&&i.op===a.op&&i.field.isEqual(a.field)&&na(i.value,a.value)):o instanceof Bi?function(i,a){return a instanceof Bi&&i.op===a.op&&i.filters.length===a.filters.length&&i.filters.reduce((u,p,x)=>u&&bf(p,a.filters[x]),!0)}(o,e):void Ln();var i,a}function Ef(o,e){const t=o.filters.concat(e);return Bi.create(t,o.op)}function Gd(o){return o instanceof xi?`${(t=o).field.canonicalString()} ${t.op} ${Cl(t.value)}`:o instanceof Bi?function(t){return t.op.toString()+" {"+t.getFilters().map(Gd).join(" ,")+"}"}(o):"Filter";var t}class p_ extends xi{constructor(e,t,i){super(e,t,i),this.key=Rn.fromName(i.referenceValue)}matches(e){const t=Rn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bs extends xi{constructor(e,t){super(e,"in",t),this.keys=Wc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Vu extends xi{constructor(e,t){super(e,"not-in",t),this.keys=Wc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Wc(o,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Rn.fromName(i.referenceValue))}class cl extends xi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Il(t)&&oc(t.arrayValue,this.value)}}class Dl extends xi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&oc(this.value.arrayValue,t)}}class Wd extends xi{constructor(e,t){super(e,"not-in",t)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!oc(this.value.arrayValue,t)}}class nm extends xi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Il(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>oc(this.value.arrayValue,i))}}class xf{constructor(e,t=null,i=[],a=[],u=null,p=null,x=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=u,this.startAt=p,this.endAt=x,this.ue=null}}function im(o,e=null,t=[],i=[],a=null,u=null,p=null){return new xf(o,e,t,i,a,u,p)}function Vs(o){const e=An(o);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Bu(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(u=i).field.canonicalString()+u.dir;var u}).join(","),lo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Cl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Cl(i)).join(",")),e.ue=t}return e.ue}function Uu(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<o.orderBy.length;t++)if(!f_(o.orderBy[t],e.orderBy[t]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let t=0;t<o.filters.length;t++)if(!bf(o.filters[t],e.filters[t]))return!1;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!tm(o.startAt,e.startAt)&&tm(o.endAt,e.endAt)}function Zc(o){return Rn.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}function Kc(o,e){return o.filters.filter(t=>t instanceof xi&&t.field.isEqual(e))}function m_(o,e,t){let i=ku,a=!0;for(const u of Kc(o,e)){let p=ku,x=!0;switch(u.op){case"<":case"<=":p=h_(u.value);break;case"==":case"in":case">=":p=u.value;break;case">":p=u.value,x=!1;break;case"!=":case"not-in":p=ku}Lu({value:i,inclusive:a},{value:p,inclusive:x})<0&&(i=p,a=x)}if(null!==t)for(let u=0;u<o.orderBy.length;++u)if(o.orderBy[u].field.isEqual(e)){const p=t.position[u];Lu({value:i,inclusive:a},{value:p,inclusive:t.inclusive})<0&&(i=p,a=t.inclusive);break}return{value:i,inclusive:a}}function rm(o,e,t){let i=Ls,a=!0;for(const u of Kc(o,e)){let p=Ls,x=!0;switch(u.op){case">=":case">":p=Nu(u.value),x=!1;break;case"==":case"in":case"<=":p=u.value;break;case"<":p=u.value,x=!1;break;case"!=":case"not-in":p=Ls}zd({value:i,inclusive:a},{value:p,inclusive:x})>0&&(i=p,a=x)}if(null!==t)for(let u=0;u<o.orderBy.length;++u)if(o.orderBy[u].field.isEqual(e)){const p=t.position[u];zd({value:i,inclusive:a},{value:p,inclusive:t.inclusive})>0&&(i=p,a=t.inclusive);break}return{value:i,inclusive:a}}class Br{constructor(e,t=null,i=[],a=[],u=null,p="F",x=null,M=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=u,this.limitType=p,this.startAt=x,this.endAt=M,this.ce=null,this.le=null,this.he=null}}function Zd(o,e,t,i,a,u,p,x){return new Br(o,e,t,i,a,u,p,x)}function Al(o){return new Br(o)}function om(o){return 0===o.filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())}function Da(o){return null!==o.collectionGroup}function Aa(o){const e=An(o);if(null===e.ce){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let x=new nr(Ki.comparator);return p.filters.forEach(M=>{M.getFlattenedFilters().forEach(H=>{H.isInequality()&&(x=x.add(H.field))})}),x})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new ll(u,i))}),t.has(Ki.keyField().canonicalString())||e.ce.push(new ll(Ki.keyField(),i))}return e.ce}function co(o){const e=An(o);return e.le||(e.le=function Yd(o,e){if("F"===o.limitType)return im(o.path,o.collectionGroup,e,o.filters,o.limit,o.startAt,o.endAt);{e=e.map(a=>new ll(a.field,"desc"===a.dir?"asc":"desc"));const t=o.endAt?new Es(o.endAt.position,o.endAt.inclusive):null,i=o.startAt?new Es(o.startAt.position,o.startAt.inclusive):null;return im(o.path,o.collectionGroup,e,o.filters,o.limit,t,i)}}(e,Aa(o))),e.le}function zu(o,e){const t=o.filters.concat([e]);return new Br(o.path,o.collectionGroup,o.explicitOrderBy.slice(),t,o.limit,o.limitType,o.startAt,o.endAt)}function Or(o,e,t){return new Br(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,t,o.startAt,o.endAt)}function Yc(o,e){return Uu(co(o),co(e))&&o.limitType===e.limitType}function sm(o){return`${Vs(co(o))}|lt:${o.limitType}`}function Tl(o){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>Gd(a)).join(", ")}]`),lo(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>{return`${(p=a).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Cl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Cl(a)).join(",")),`Target(${i})`}(co(o))}; limitType=${o.limitType})`}function y(o,e){return e.isFoundDocument()&&function(i,a){const u=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):Rn.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(o,e)&&function(i,a){for(const u of Aa(i))if(!u.field.isKeyField()&&null===a.data.field(u.field))return!1;return!0}(o,e)&&function(i,a){for(const u of i.filters)if(!u.matches(a))return!1;return!0}(o,e)&&(a=e,!((i=o).startAt&&!function(p,x,M){const H=em(p,x,M);return p.inclusive?H<=0:H<0}(i.startAt,Aa(i),a)||i.endAt&&!function(p,x,M){const H=em(p,x,M);return p.inclusive?H>=0:H>0}(i.endAt,Aa(i),a)));var i,a}function h(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function f(o){return(e,t)=>{let i=!1;for(const a of Aa(o)){const u=I(a,e,t);if(0!==u)return u;i=i||a.field.isKeyField()}return 0}}function I(o,e,t){const i=o.field.isKeyField()?Rn.comparator(e.key,t.key):function(u,p,x){const M=p.data.field(u),H=x.data.field(u);return null!==M&&null!==H?bs(M,H):Ln()}(o.field,e,t);switch(o.dir){case"asc":return i;case"desc":return-1*i;default:return Ln()}}class q{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,u]of i)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){sl(this.inner,(t,i)=>{for(const[a,u]of i)e(a,u)})}isEmpty(){return Hc(this.inner)}size(){return this.innerSize}}const ye=new pr(Rn.comparator);function nt(){return ye}const Pt=new pr(Rn.comparator);function tn(...o){let e=Pt;for(const t of o)e=e.insert(t.key,t);return e}function Sn(o){let e=Pt;return o.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function On(){return sr()}function Gn(){return sr()}function sr(){return new q(o=>o.toString(),(o,e)=>o.isEqual(e))}const Ta=new pr(Rn.comparator),qd=new nr(Rn.comparator);function Ci(...o){let e=qd;for(const t of o)e=e.add(t);return e}const Qd=new nr(yi);function qc(){return Qd}function Cf(o,e){if(o.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function Qc(o){return{integerValue:""+o}}function wf(o,e){return ef(e)?Qc(e):Cf(o,e)}class sc{constructor(){this._=void 0}}function Xd(o,e,t){return o instanceof Ml?function(a,u){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&kd(u)&&(u=Ou(u)),u&&(p.fields.__previous_value__=u),{mapValue:p}}(t,e):o instanceof ul?Df(o,e):o instanceof Hu?am(o,e):function(a,u){const p=Sl(a,u),x=Xc(p)+Xc(a.Pe);return Nd(p)&&Nd(a.Pe)?Qc(x):Cf(a.serializer,x)}(o,e)}function If(o,e,t){return o instanceof ul?Df(o,e):o instanceof Hu?am(o,e):t}function Sl(o,e){return o instanceof ac?Nd(i=e)||(u=i)&&"doubleValue"in u?e:{integerValue:0}:null;var i,u}class Ml extends sc{}class ul extends sc{constructor(e){super(),this.elements=e}}function Df(o,e){const t=g_(e);for(const i of o.elements)t.some(a=>na(a,i))||t.push(i);return{arrayValue:{values:t}}}class Hu extends sc{constructor(e){super(),this.elements=e}}function am(o,e){let t=g_(e);for(const i of o.elements)t=t.filter(a=>!na(a,i));return{arrayValue:{values:t}}}class ac extends sc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Xc(o){return Ir(o.integerValue||o.doubleValue)}function g_(o){return Il(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}class ju{constructor(e,t){this.field=e,this.transform=t}}class bE{constructor(e,t){this.version=e,this.transformResults=t}}class Vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(o,e){return void 0!==o.updateTime?e.isFoundDocument()&&e.version.isEqual(o.updateTime):void 0===o.exists||o.exists===e.isFoundDocument()}class lm{}function Iv(o,e){if(!o.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return o.isNoDocument()?new th(o.key,Vr.none()):new Jd(o.key,o.data,Vr.none());{const t=o.data,i=Po.empty();let a=new nr(Ki.comparator);for(let u of e.fields)if(!a.has(u)){let p=t.field(u);null===p&&u.length>1&&(u=u.popLast(),p=t.field(u)),null===p?i.delete(u):i.set(u,p),a=a.add(u)}return new Pl(o.key,i,new to(a.toArray()),Vr.none())}}function EE(o,e,t){o instanceof Jd?function(a,u,p){const x=a.value.clone(),M=Dv(a.fieldTransforms,u,p.transformResults);x.setAll(M),u.convertToFoundDocument(p.version,x).setHasCommittedMutations()}(o,e,t):o instanceof Pl?function(a,u,p){if(!lc(a.precondition,u))return void u.convertToUnknownDocument(p.version);const x=Dv(a.fieldTransforms,u,p.transformResults),M=u.data;M.setAll(CE(a)),M.setAll(x),u.convertToFoundDocument(p.version,M).setHasCommittedMutations()}(o,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $u(o,e,t,i){return o instanceof Jd?function(u,p,x,M){if(!lc(u.precondition,p))return x;const H=u.value.clone(),ue=eh(u.fieldTransforms,M,p);return H.setAll(ue),p.convertToFoundDocument(p.version,H).setHasLocalMutations(),null}(o,e,t,i):o instanceof Pl?function(u,p,x,M){if(!lc(u.precondition,p))return x;const H=eh(u.fieldTransforms,M,p),ue=p.data;return ue.setAll(CE(u)),ue.setAll(H),p.convertToFoundDocument(p.version,ue).setHasLocalMutations(),null===x?null:x.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(Ie=>Ie.field))}(o,e,t,i):(x=t,lc(o.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):x);var p,x}function xE(o,e){let t=null;for(const i of o.fieldTransforms){const a=e.data.field(i.field),u=Sl(i.transform,a||null);null!=u&&(null===t&&(t=Po.empty()),t.set(i.field,u))}return t||null}function __(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=o.fieldTransforms)&&void 0===a||i&&a&&El(i,a,(u,p)=>function yE(o,e){return o.field.isEqual(e.field)&&(a=e.transform,(i=o.transform)instanceof ul&&a instanceof ul||i instanceof Hu&&a instanceof Hu?El(i.elements,a.elements,na):i instanceof ac&&a instanceof ac?na(i.Pe,a.Pe):i instanceof Ml&&a instanceof Ml);var i,a}(u,p))))&&(0===o.type?o.value.isEqual(e.value):1!==o.type||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask));var i,a}class Jd extends lm{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Pl extends lm{constructor(e,t,i,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function CE(o){const e=new Map;return o.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=o.data.field(t);e.set(t,i)}}),e}function Dv(o,e,t){const i=new Map;Kn(o.length===t.length);for(let a=0;a<t.length;a++){const u=o[a],p=u.transform,x=e.data.field(u.field);i.set(u.field,If(p,x,t[a]))}return i}function eh(o,e,t){const i=new Map;for(const a of o){const u=a.transform,p=t.data.field(a.field);i.set(a.field,Xd(u,p,e))}return i}class th extends lm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jc extends lm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gu{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&EE(u,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=$u(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=$u(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Gn();return this.mutations.forEach(a=>{const u=e.get(a.key),p=u.overlayedDocument;let x=this.applyToLocalView(p,u.mutatedFields);x=t.has(a.key)?null:x;const M=Iv(p,x);null!==M&&i.set(a.key,M),p.isValidDocument()||p.convertToNoDocument(ni.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ci())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(t,i)=>__(t,i))&&El(this.baseMutations,e.baseMutations,(t,i)=>__(t,i))}}class v_{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Kn(e.mutations.length===i.length);let a=Ta;const u=e.mutations;for(let p=0;p<u.length;p++)a=a.insert(u[p].key,i[p].version);return new v_(e,t,i,a)}}class cm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wE{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ro,zi;function y_(o){switch(o){default:return Ln();case Kt.CANCELLED:case Kt.UNKNOWN:case Kt.DEADLINE_EXCEEDED:case Kt.RESOURCE_EXHAUSTED:case Kt.INTERNAL:case Kt.UNAVAILABLE:case Kt.UNAUTHENTICATED:return!1;case Kt.INVALID_ARGUMENT:case Kt.NOT_FOUND:case Kt.ALREADY_EXISTS:case Kt.PERMISSION_DENIED:case Kt.FAILED_PRECONDITION:case Kt.ABORTED:case Kt.OUT_OF_RANGE:case Kt.UNIMPLEMENTED:case Kt.DATA_LOSS:return!0}}function um(o){if(void 0===o)return Ui("GRPC error has no .code"),Kt.UNKNOWN;switch(o){case Ro.OK:return Kt.OK;case Ro.CANCELLED:return Kt.CANCELLED;case Ro.UNKNOWN:return Kt.UNKNOWN;case Ro.DEADLINE_EXCEEDED:return Kt.DEADLINE_EXCEEDED;case Ro.RESOURCE_EXHAUSTED:return Kt.RESOURCE_EXHAUSTED;case Ro.INTERNAL:return Kt.INTERNAL;case Ro.UNAVAILABLE:return Kt.UNAVAILABLE;case Ro.UNAUTHENTICATED:return Kt.UNAUTHENTICATED;case Ro.INVALID_ARGUMENT:return Kt.INVALID_ARGUMENT;case Ro.NOT_FOUND:return Kt.NOT_FOUND;case Ro.ALREADY_EXISTS:return Kt.ALREADY_EXISTS;case Ro.PERMISSION_DENIED:return Kt.PERMISSION_DENIED;case Ro.FAILED_PRECONDITION:return Kt.FAILED_PRECONDITION;case Ro.ABORTED:return Kt.ABORTED;case Ro.OUT_OF_RANGE:return Kt.OUT_OF_RANGE;case Ro.UNIMPLEMENTED:return Kt.UNIMPLEMENTED;case Ro.DATA_LOSS:return Kt.DATA_LOSS;default:return Ln()}}(zi=Ro||(Ro={}))[zi.OK=0]="OK",zi[zi.CANCELLED=1]="CANCELLED",zi[zi.UNKNOWN=2]="UNKNOWN",zi[zi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zi[zi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zi[zi.NOT_FOUND=5]="NOT_FOUND",zi[zi.ALREADY_EXISTS=6]="ALREADY_EXISTS",zi[zi.PERMISSION_DENIED=7]="PERMISSION_DENIED",zi[zi.UNAUTHENTICATED=16]="UNAUTHENTICATED",zi[zi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zi[zi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zi[zi.ABORTED=10]="ABORTED",zi[zi.OUT_OF_RANGE=11]="OUT_OF_RANGE",zi[zi.UNIMPLEMENTED=12]="UNIMPLEMENTED",zi[zi.INTERNAL=13]="INTERNAL",zi[zi.UNAVAILABLE=14]="UNAVAILABLE",zi[zi.DATA_LOSS=15]="DATA_LOSS";function Tv(){return new TextEncoder}const b_=new ol([4294967295,4294967295],0);function ih(o){const e=Tv().encode(o),t=new ss;return t.update(e),new Uint8Array(t.digest())}function Sv(o){const e=new DataView(o.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ol([t,i],0),new ol([a,u],0)]}class E_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Af(`Invalid padding: ${t}`);if(i<0)throw new Af(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Af(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Af(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ol.fromNumber(this.Ie)}Ee(e,t,i){let a=e.add(t.multiply(ol.fromNumber(i)));return 1===a.compare(b_)&&(a=new ol([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=ih(e),[i,a]=Sv(t);for(let u=0;u<this.hashCount;u++){const p=this.Ee(i,a,u);if(!this.de(p))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),p=new E_(u,a,t);return i.forEach(x=>p.insert(x)),p}insert(e){if(0===this.Ie)return;const t=ih(e),[i,a]=Sv(t);for(let u=0;u<this.hashCount;u++){const p=this.Ee(i,a,u);this.Ae(p)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Af extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tf{constructor(e,t,i,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Sf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Tf(ni.min(),a,new pr(yi),nt(),Ci())}}class Sf{constructor(e,t,i,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Sf(i,t,Ci(),Ci(),Ci())}}class dm{constructor(e,t,i,a){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=a}}class Mv{constructor(e,t){this.targetId=e,this.me=t}}class Wu{constructor(e,t,i=$r.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Rl{constructor(){this.fe=0,this.ge=DE(),this.pe=$r.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ci(),t=Ci(),i=Ci();return this.ge.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ln()}}),new Sf(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=DE()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Kn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IE{constructor(e){this.Le=e,this.Be=new Map,this.ke=nt(),this.qe=Pv(),this.Qe=new pr(yi)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Ln()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,a)=>{this.ze(a)&&t(a)})}He(e){const t=e.targetId,i=e.me.count,a=this.Je(t);if(a){const u=a.target;if(Zc(u))if(0===i){const p=new Rn(u.path);this.Ue(t,p,yr.newNoDocument(p,ni.min()))}else Kn(1===i);else{const p=this.Ye(t);if(p!==i){const x=this.Ze(e),M=x?this.Xe(x,e,p):1;0!==M&&(this.je(t),this.Qe=this.Qe.insert(t,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:u=0}=t;let p,x;try{p=ja(i).toUint8Array()}catch(M){if(M instanceof mf)return bo("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{x=new E_(p,a,u)}catch(M){return bo(M instanceof Af?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===x.Ie?null:x}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let a=0;return i.forEach(u=>{const p=this.Le.tt(),x=`projects/${p.projectId}/databases/${p.database}/documents/${u.path.canonicalString()}`;e.mightContain(x)||(this.Ue(t,u,null),a++)}),a}rt(e){const t=new Map;this.Be.forEach((u,p)=>{const x=this.Je(p);if(x){if(u.current&&Zc(x.target)){const M=new Rn(x.target.path);null!==this.ke.get(M)||this.it(p,M)||this.Ue(p,M,yr.newNoDocument(M,e))}u.be&&(t.set(p,u.ve()),u.Ce())}});let i=Ci();this.qe.forEach((u,p)=>{let x=!0;p.forEachWhile(M=>{const H=this.Je(M);return!H||"TargetPurposeLimboResolution"===H.purpose||(x=!1,!1)}),x&&(i=i.add(u))}),this.ke.forEach((u,p)=>p.setReadTime(e));const a=new Tf(e,t,this.Qe,this.ke,i);return this.ke=nt(),this.qe=Pv(),this.Qe=new pr(yi),a}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,t)?a.Fe(t,1):a.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Rl,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new nr(yi),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||fn("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Rl),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Pv(){return new pr(Rn.comparator)}function DE(){return new pr(Rn.comparator)}const CC={asc:"ASCENDING",desc:"DESCENDING"},Rv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wC={and:"AND",or:"OR"};class Ov{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hm(o,e){return o.useProto3Json||lo(e)?e:{value:e}}function rh(o,e){return o.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x_(o,e){return o.useProto3Json?e.toBase64():e.toUint8Array()}function AE(o,e){return rh(o,e.toTimestamp())}function Co(o){return Kn(!!o),ni.fromTimestamp(function(t){const i=ea(t);return new tr(i.seconds,i.nanos)}(o))}function Sa(o,e){return C_(o,e).canonicalString()}function C_(o,e){const t=(a=o,new Si(["projects",a.projectId,"databases",a.database])).child("documents");var a;return void 0===e?t:t.child(e)}function w_(o){const e=Si.fromString(o);return Kn(Gv(e)),e}function Mf(o,e){return Sa(o.databaseId,e.path)}function Ol(o,e){const t=w_(e);if(t.get(1)!==o.databaseId.projectId)throw new hn(Kt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+o.databaseId.projectId);if(t.get(3)!==o.databaseId.database)throw new hn(Kt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+o.databaseId.database);return new Rn(Nv(t))}function kv(o,e){return Sa(o.databaseId,e)}function Fv(o){const e=w_(o);return 4===e.length?Si.emptyPath():Nv(e)}function fm(o){return new Si(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function Nv(o){return Kn(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function Lv(o,e,t){return{name:Mf(o,e),fields:t.value.mapValue.fields}}function Bv(o,e,t){const i=Ol(o,e.name),a=Co(e.updateTime),u=e.createTime?Co(e.createTime):ni.min(),p=new Po({mapValue:{fields:e.fields}}),x=yr.newFoundDocument(i,a,u,p);return t&&x.setHasCommittedMutations(),t?x.setHasCommittedMutations():x}function oh(o,e){let t;if(e instanceof Jd)t={update:Lv(o,e.key,e.value)};else if(e instanceof th)t={delete:Mf(o,e.key)};else if(e instanceof Pl)t={update:Lv(o,e.key,e.data),updateMask:D_(e.fieldMask)};else{if(!(e instanceof Jc))return Ln();t={verify:Mf(o,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(u,p){const x=p.transform;if(x instanceof Ml)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof ul)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof Hu)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof ac)return{fieldPath:p.field.canonicalString(),increment:x.Pe};throw Ln()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:AE(o,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Ln()),t;var u}function pm(o,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Vr.updateTime(Co(u.updateTime)):void 0!==u.exists?Vr.exists(u.exists):Vr.none():Vr.none(),i=e.updateTransforms?e.updateTransforms.map(a=>function(p,x){let M=null;"setToServerValue"in x?(Kn("REQUEST_TIME"===x.setToServerValue),M=new Ml):"appendMissingElements"in x?M=new ul(x.appendMissingElements.values||[]):"removeAllFromArray"in x?M=new Hu(x.removeAllFromArray.values||[]):"increment"in x?M=new ac(p,x.increment):Ln();const H=Ki.fromServerFormat(x.fieldPath);return new ju(H,M)}(o,a)):[];var u;if(e.update){const a=Ol(o,e.update.name),u=new Po({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new to((e.updateMask.fieldPaths||[]).map(ue=>Ki.fromServerFormat(ue)));return new Pl(a,u,p,t,i)}return new Jd(a,u,t,i)}if(e.delete){const a=Ol(o,e.delete);return new th(a,t)}if(e.verify){const a=Ol(o,e.verify);return new Jc(a,t)}return Ln()}function Uv(o,e){return{documents:[kv(o,e.path)]}}function Pf(o,e){const t={structuredQuery:{}},i=e.path;let a;null!==e.collectionGroup?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=kv(o,a);const u=function(H){if(0!==H.length)return mm(Bi.create(H,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const p=function(H){if(0!==H.length)return H.map(ue=>{return{field:ia((Qe=ue).field),direction:IC(Qe.dir)};var Qe})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const x=hm(o,e.limit);return null!==x&&(t.structuredQuery.limit=x),e.startAt&&(t.structuredQuery.startAt={before:(H=e.startAt).inclusive,values:H.position}),e.endAt&&(t.structuredQuery.endAt=function(H){return{before:!H.inclusive,values:H.position}}(e.endAt)),{_t:t,parent:a};var H}function I_(o){let e=Fv(o.parent);const t=o.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Kn(1===i);const ue=t.from[0];ue.allDescendants?a=ue.collectionId:e=e.child(ue.collectionId)}let u=[];t.where&&(u=function(Ie){const Qe=Hv(Ie);return Qe instanceof Bi&&jd(Qe)?Qe.getFilters():[Qe]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(Qe=>{return new ll(sh((Ot=Qe).field),function(qt){switch(qt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ot.direction));var Ot}));let x=null;t.limit&&(x=function(Ie){let Qe;return Qe="object"==typeof Ie?Ie.value:Ie,lo(Qe)?null:Qe}(t.limit));let M=null;var Ie;t.startAt&&(M=new Es((Ie=t.startAt).values||[],!!Ie.before));let H=null;return t.endAt&&(H=function(Ie){return new Es(Ie.values||[],!Ie.before)}(t.endAt)),Zd(e,a,p,u,x,"F",M,H)}function Hv(o){return void 0!==o.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=sh(t.unaryFilter.field);return xi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=sh(t.unaryFilter.field);return xi.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=sh(t.unaryFilter.field);return xi.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=sh(t.unaryFilter.field);return xi.create(p,"!=",{nullValue:"NULL_VALUE"});default:return Ln()}}(o):void 0!==o.fieldFilter?xi.create(sh((t=o).fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ln()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==o.compositeFilter?function(t){return Bi.create(t.compositeFilter.filters.map(i=>Hv(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ln()}}(t.compositeFilter.op))}(o):Ln();var t}function IC(o){return CC[o]}function jv(o){return Rv[o]}function $v(o){return wC[o]}function ia(o){return{fieldPath:o.canonicalString()}}function sh(o){return Ki.fromServerFormat(o.fieldPath)}function mm(o){return o instanceof xi?function(t){if("=="===t.op){if(al(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NAN"}};if(Fu(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(al(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NOT_NAN"}};if(Fu(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(t.field),op:jv(t.op),value:t.value}}}(o):o instanceof Bi?function(t){const i=t.getFilters().map(a=>mm(a));return 1===i.length?i[0]:{compositeFilter:{op:$v(t.op),filters:i}}}(o):Ln()}function D_(o){const e=[];return o.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gv(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}class eu{constructor(e,t,i,a,u=ni.min(),p=ni.min(),x=$r.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=x,this.expectedCount=M}withSequenceNumber(e){return new eu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ME{constructor(e){this.ct=e}}function Wv(o,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Rf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Mf(u=o.ct,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:rh(u,p.version.toTimestamp()),createTime:rh(u,p.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:ah(e.version)};else{if(!e.isUnknownDocument())return Ln();i.unknownDocument={path:t.path.toArray(),version:ah(e.version)}}var u,p;return i}function Rf(o){const e=o.toTimestamp();return[e.seconds,e.nanoseconds]}function ah(o){const e=o.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Zu(o){const e=new tr(o.seconds,o.nanoseconds);return ni.fromTimestamp(e)}function $a(o,e){const t=(e.baseMutations||[]).map(u=>pm(o.ct,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const i=e.mutations.map(u=>pm(o.ct,u)),a=tr.fromMillis(e.localWriteTimeMs);return new Gu(e.batchId,a,t,i)}function Of(o){const e=Zu(o.readTime),t=void 0!==o.lastLimboFreeSnapshotVersion?Zu(o.lastLimboFreeSnapshotVersion):ni.min();let i;return i=void 0!==o.query.documents?(Kn(1===(u=o.query).documents.length),co(Al(Fv(u.documents[0])))):function(u){return co(I_(u))}(o.query),new eu(i,o.targetId,"TargetPurposeListen",o.lastListenSequenceNumber,e,t,$r.fromBase64String(o.resumeToken));var u}function A_(o,e){const t=ah(e.snapshotVersion),i=ah(e.lastLimboFreeSnapshotVersion);let a;a=Zc(e.target)?Uv(o.ct,e.target):Pf(o.ct,e.target)._t;const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vs(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function lh(o){const e=I_({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?Or(e,e.limit,"L"):e}function T_(o,e){return new cm(e.largestBatchId,pm(o.ct,e.overlayMutation))}function S_(o,e){const t=e.path.lastSegment();return[o,So(e.path.popLast()),t]}function Zv(o,e,t,i){return{indexId:o,uid:e,sequenceNumber:t,readTime:ah(i.readTime),documentKey:So(i.documentKey.path),largestBatchId:i.largestBatchId}}class PE{getBundleMetadata(e,t){return Kv(e).get(t).next(i=>{if(i)return{id:(u=i).bundleId,createTime:Zu(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Kv(e).put({bundleId:(a=t).id,createTime:ah(Co(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return Yv(e).get(t).next(i=>{if(i)return{name:(u=i).name,query:lh(u.bundledQuery),readTime:Zu(u.readTime)};var u})}saveNamedQuery(e,t){return Yv(e).put({name:(a=t).name,readTime:ah(Co(a.readTime)),bundledQuery:a.bundledQuery});var a}}function Kv(o){return eo(o,"bundles")}function Yv(o){return eo(o,"namedQueries")}class gm{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new gm(e,t.uid||"")}getOverlay(e,t){return ch(e).get(S_(this.userId,t)).next(i=>i?T_(this.serializer,i):null)}getOverlays(e,t){const i=On();return Nt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&i.set(a,u)})).next(()=>i)}saveOverlays(e,t,i){const a=[];return i.forEach((u,p)=>{const x=new cm(t,p);a.push(this.ht(e,x))}),Nt.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach(p=>a.add(So(p.getCollectionPath())));const u=[];return a.forEach(p=>{const x=IDBKeyRange.bound([this.userId,p,i],[this.userId,p,i+1],!1,!0);u.push(ch(e).j("collectionPathOverlayIndex",x))}),Nt.waitFor(u)}getOverlaysForCollection(e,t,i){const a=On(),u=So(t),p=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,Number.POSITIVE_INFINITY],!0);return ch(e).U("collectionPathOverlayIndex",p).next(x=>{for(const M of x){const H=T_(this.serializer,M);a.set(H.getKey(),H)}return a})}getOverlaysForCollectionGroup(e,t,i,a){const u=On();let p;const x=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ch(e).J({index:"collectionGroupOverlayIndex",range:x},(M,H,ue)=>{const Ie=T_(this.serializer,H);u.size()<a||Ie.largestBatchId===p?(u.set(Ie.getKey(),Ie),p=Ie.largestBatchId):ue.done()}).next(()=>u)}ht(e,t){return ch(e).put(function(a,u,p){const[x,M,H]=S_(u,p.mutation.key);return{userId:u,collectionPath:M,documentId:H,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:oh(a.ct,p.mutation)}}(this.serializer,this.userId,t))}}function ch(o){return eo(o,"documentOverlays")}class RE{Pt(e){return eo(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{const i=t?.value;return i?$r.fromUint8Array(i):$r.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class tu{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ir(e.integerValue));else if("doubleValue"in e){const i=Ir(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),ic(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),"string"==typeof i&&(i=ea(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ja(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?Vd(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Bd(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Ln()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const i=e.fields||{};this.dt(t,55);for(const a of Object.keys(i))this.Vt(a,t),this.Tt(i[a],t)}wt(e,t){var i,a;const u=e.fields||{};this.dt(t,53);const p="value",x=(null===(a=null===(i=u[p].arrayValue)||void 0===i?void 0:i.values)||void 0===a?void 0:a.length)||0;this.dt(t,15),t.At(Ir(x)),this.Vt(p,t),this.Tt(u[p],t)}bt(e,t){const i=e.values||[];this.dt(t,50);for(const a of i)this.Tt(a,t)}yt(e,t){this.dt(t,37),Rn.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}function qv(o){if(0===o)return 8;let e=0;return!(o>>4)&&(e+=4,o<<=4),!(o>>6)&&(e+=2,o<<=2),!(o>>7)&&(e+=1),e}function _m(o){const e=64-function(i){let a=0;for(let u=0;u<8;++u){const p=qv(255&i[u]);if(a+=p,8!==p)break}return a}(o);return Math.ceil(e/8)}tu.vt=new tu;class AC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ot(i.value),i=t.next();this.Nt()}Lt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const a=t.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}this.Mt()}Bt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{const a=t.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}this.Nt()}kt(e){const t=this.qt(e),i=_m(t);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Kt(e){const t=this.qt(e),i=_m(t);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(u){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,u,!1),new Uint8Array(p.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class M_{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class OE{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class vm{constructor(){this.jt=new AC,this.Ht=new M_(this.jt),this.Jt=new OE(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Ga{constructor(e,t,i,a){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=a}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Ga(this.indexId,this.documentKey,this.arrayValue,i)}}function cc(o,e){let t=o.indexId-e.indexId;return 0!==t?t:(t=Qv(o.arrayValue,e.arrayValue),0!==t?t:(t=Qv(o.directionalValue,e.directionalValue),0!==t?t:Rn.comparator(o.documentKey,e.documentKey)))}function Qv(o,e){for(let t=0;t<o.length&&t<e.length;++t){const i=o[t]-e[t];if(0!==i)return i}return o.length-e.length}class P_{constructor(e){this.Xt=new nr((t,i)=>Ki.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const i=t;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(e){if(Kn(e.collectionGroup===this.collectionId),this.nn)return!1;const t=Au(e);if(void 0!==t&&!this.sn(t))return!1;const i=Ca(e);let a=new Set,u=0,p=0;for(;u<i.length&&this.sn(i[u]);++u)a=a.add(i[u].fieldPath.canonicalString());if(u===i.length)return!0;if(this.Xt.size>0){const x=this.Xt.getIterator().getNext();if(!a.has(x.field.canonicalString())){const M=i[u];if(!this.on(x,M)||!this._n(this.en[p++],M))return!1}++u}for(;u<i.length;++u)if(p>=this.en.length||!this._n(this.en[p++],i[u]))return!1;return!0}an(){if(this.nn)return null;let e=new nr(Ki.comparator);const t=[];for(const i of this.tn)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new Bc(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Bc(i.field,0))}for(const i of this.en)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Bc(i.field,"asc"===i.dir?0:1)));return new Lc(Lc.UNKNOWN_ID,this.collectionId,t,Vc.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Xv(o){var e,t;if(Kn(o instanceof xi||o instanceof Bi),o instanceof xi){if(o instanceof Dl){const a=(null===(t=null===(e=o.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>xi.create(o.field,"==",u)))||[];return Bi.create(a,"or")}return o}const i=o.filters.map(a=>Xv(a));return Bi.create(i,o.op)}function kE(o){if(0===o.getFilters().length)return[];const e=Ku(Xv(o));return Kn(ym(e)),uh(e)||nu(e)?[e]:e.getFilters()}function uh(o){return o instanceof xi}function nu(o){return o instanceof Bi&&jd(o)}function ym(o){return uh(o)||nu(o)||function(t){if(t instanceof Bi&&yf(t)){for(const i of t.getFilters())if(!uh(i)&&!nu(i))return!1;return!0}return!1}(o)}function Ku(o){if(Kn(o instanceof xi||o instanceof Bi),o instanceof xi)return o;if(1===o.filters.length)return Ku(o.filters[0]);const e=o.filters.map(i=>Ku(i));let t=Bi.create(e,o.op);return t=Nf(t),ym(t)?t:(Kn(t instanceof Bi),Kn(Gc(t)),Kn(t.filters.length>1),t.filters.reduce((i,a)=>kf(i,a)))}function kf(o,e){let t;return Kn(o instanceof xi||o instanceof Bi),Kn(e instanceof xi||e instanceof Bi),t=o instanceof xi?e instanceof xi?Bi.create([o,e],"and"):Ff(o,e):e instanceof xi?Ff(e,o):function(a,u){if(Kn(a.filters.length>0&&u.filters.length>0),Gc(a)&&Gc(u))return Ef(a,u.getFilters());const p=yf(a)?a:u,x=yf(a)?u:a,M=p.filters.map(H=>kf(H,x));return Bi.create(M,"or")}(o,e),Nf(t)}function Ff(o,e){if(Gc(e))return Ef(e,o.getFilters());{const t=e.filters.map(i=>kf(o,i));return Bi.create(t,"or")}}function Nf(o){if(Kn(o instanceof xi||o instanceof Bi),o instanceof xi)return o;const e=o.getFilters();if(1===e.length)return Nf(e[0]);if($d(o))return o;const t=e.map(a=>Nf(a)),i=[];return t.forEach(a=>{a instanceof xi?i.push(a):a instanceof Bi&&(a.op===o.op?i.push(...a.filters):i.push(a))}),1===i.length?i[0]:Bi.create(i,o.op)}class R_{constructor(){this.un=new Lf}addToCollectionParentIndex(e,t){return this.un.add(t),Nt.resolve()}getCollectionParents(e,t){return Nt.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Nt.resolve()}deleteFieldIndex(e,t){return Nt.resolve()}deleteAllFieldIndexes(e){return Nt.resolve()}createTargetIndexes(e,t){return Nt.resolve()}getDocumentsMatchingTarget(e,t){return Nt.resolve(null)}getIndexType(e,t){return Nt.resolve(0)}getFieldIndexes(e,t){return Nt.resolve([])}getNextCollectionGroupToUpdate(e){return Nt.resolve(null)}getMinOffset(e,t){return Nt.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,t){return Nt.resolve(Xs.min())}updateCollectionGroup(e,t,i){return Nt.resolve()}updateIndexEntries(e,t){return Nt.resolve()}}class Lf{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new nr(Si.comparator),u=!a.has(i);return this.index[t]=a.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new nr(Si.comparator)).toArray()}}const dh=new Uint8Array(0);class Jv{constructor(e,t){this.databaseId=t,this.cn=new Lf,this.ln=new q(i=>Vs(i),(i,a)=>Uu(i,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});const u={collectionId:i,parent:So(a)};return bm(e).put(u)}return Nt.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[jp(t),""],!1,!0);return bm(e).U(a).next(u=>{for(const p of u){if(p.collectionId!==t)break;i.push(wa(p.parent))}return i})}addFieldIndex(e,t){const i=Bf(e),a={indexId:(x=t).indexId,collectionGroup:x.collectionGroup,fields:x.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var x;delete a.indexId;const u=i.add(a);if(t.indexState){const p=Yu(e);return u.next(x=>{p.put(Zv(x,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const i=Bf(e),a=Yu(e),u=hh(e);return i.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Bf(e),i=hh(e),a=Yu(e);return t.j().next(()=>i.j()).next(()=>a.j())}createTargetIndexes(e,t){return Nt.forEach(this.hn(t),i=>this.getIndexType(e,i).next(a=>{if(0===a||1===a){const u=new P_(i).an();if(null!=u)return this.addFieldIndex(e,u)}}))}getDocumentsMatchingTarget(e,t){const i=hh(e);let a=!0;const u=new Map;return Nt.forEach(this.hn(t),p=>this.Pn(e,p).next(x=>{a&&(a=!!x),u.set(p,x)})).next(()=>{if(a){let p=Ci();const x=[];return Nt.forEach(u,(M,H)=>{var yn;fn("IndexedDbIndexManager",`Using index ${yn=M,`id=${yn.indexId}|cg=${yn.collectionGroup}|f=${yn.fields.map(zn=>`${zn.fieldPath}:${zn.kind}`).join(",")}`} to execute ${Vs(t)}`);const ue=function(yn,zn){const pi=Au(zn);if(void 0===pi)return null;for(const mi of Kc(yn,pi.fieldPath))switch(mi.op){case"array-contains-any":return mi.value.arrayValue.values||[];case"array-contains":return[mi.value]}return null}(H,M),Ie=function(yn,zn){const pi=new Map;for(const mi of Ca(zn))for(const Ct of Kc(yn,mi.fieldPath))switch(Ct.op){case"==":case"in":pi.set(mi.fieldPath.canonicalString(),Ct.value);break;case"not-in":case"!=":return pi.set(mi.fieldPath.canonicalString(),Ct.value),Array.from(pi.values())}return null}(H,M),Qe=function(yn,zn){const pi=[];let mi=!0;for(const Ct of Ca(zn)){const it=0===Ct.kind?m_(yn,Ct.fieldPath,yn.startAt):rm(yn,Ct.fieldPath,yn.startAt);pi.push(it.value),mi&&(mi=it.inclusive)}return new Es(pi,mi)}(H,M),vt=function(yn,zn){const pi=[];let mi=!0;for(const Ct of Ca(zn)){const it=0===Ct.kind?rm(yn,Ct.fieldPath,yn.endAt):m_(yn,Ct.fieldPath,yn.endAt);pi.push(it.value),mi&&(mi=it.inclusive)}return new Es(pi,mi)}(H,M),Ot=this.In(M,H,Qe),Yt=this.In(M,H,vt),qt=this.Tn(M,H,Ie),En=this.En(M.indexId,ue,Ot,Qe.inclusive,Yt,vt.inclusive,qt);return Nt.forEach(En,kn=>i.G(kn,t.limit).next(yn=>{yn.forEach(zn=>{const pi=Rn.fromSegments(zn.documentKey);p.has(pi)||(p=p.add(pi),x.push(pi))})}))}).next(()=>x)}return Nt.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(t=0===e.filters.length?[e]:kE(Bi.create(e.filters,"and")).map(i=>im(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,i,a,u,p,x){const M=(null!=t?t.length:1)*Math.max(i.length,u.length),H=M/(null!=t?t.length:1),ue=[];for(let Ie=0;Ie<M;++Ie){const Qe=t?this.dn(t[Ie/H]):dh,vt=this.An(e,Qe,i[Ie%H],a),Ot=this.Rn(e,Qe,u[Ie%H],p),Yt=x.map(qt=>this.An(e,Qe,qt,!0));ue.push(...this.createRange(vt,Ot,Yt))}return ue}An(e,t,i,a){const u=new Ga(e,Rn.empty(),t,i);return a?u:u.Zt()}Rn(e,t,i,a){const u=new Ga(e,Rn.empty(),t,i);return a?u.Zt():u}Pn(e,t){const i=new P_(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(u=>{let p=null;for(const x of u)i.rn(x)&&(!p||x.fields.length>p.fields.length)&&(p=x);return p})}getIndexType(e,t){let i=2;const a=this.hn(t);return Nt.forEach(a,u=>this.Pn(e,u).next(p=>{p?0!==i&&p.fields.length<function(M){let H=new nr(Ki.comparator),ue=!1;for(const Ie of M.filters)for(const Qe of Ie.getFlattenedFilters())Qe.field.isKeyField()||("array-contains"===Qe.op||"array-contains-any"===Qe.op?ue=!0:H=H.add(Qe.field));for(const Ie of M.orderBy)Ie.field.isKeyField()||(H=H.add(Ie.field));return H.size+(ue?1:0)}(u)&&(i=1):i=0})).next(()=>null!==t.limit&&a.length>1&&2===i?1:i)}Vn(e,t){const i=new vm;for(const a of Ca(e)){const u=t.data.field(a.fieldPath);if(null==u)return null;const p=i.Yt(a.kind);tu.vt.It(u,p)}return i.zt()}dn(e){const t=new vm;return tu.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const i=new vm;return tu.vt.It(wl(this.databaseId,t),i.Yt(function(u){const p=Ca(u);return 0===p.length?0:p[p.length-1].kind}(e))),i.zt()}Tn(e,t,i){if(null===i)return[];let a=[];a.push(new vm);let u=0;for(const p of Ca(e)){const x=i[u++];for(const M of a)if(this.fn(t,p.fieldPath)&&Il(x))a=this.gn(a,p,x);else{const H=M.Yt(p.kind);tu.vt.It(x,H)}}return this.pn(a)}In(e,t,i){return this.Tn(e,t,i.position)}pn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].zt();return t}gn(e,t,i){const a=[...e],u=[];for(const p of i.arrayValue.values||[])for(const x of a){const M=new vm;M.seed(x.zt()),tu.vt.It(p,M.Yt(t.kind)),u.push(M)}return u}fn(e,t){return!!e.filters.find(i=>i instanceof xi&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Bf(e),a=Yu(e);return(t?i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.U()).next(u=>{const p=[];return Nt.forEach(u,x=>a.get([x.indexId,this.uid]).next(M=>{p.push(function(ue,Ie){const Qe=Ie?new Vc(Ie.sequenceNumber,new Xs(Zu(Ie.readTime),new Rn(wa(Ie.documentKey)),Ie.largestBatchId)):Vc.empty(),vt=ue.fields.map(([Ot,Yt])=>new Bc(Ki.fromServerFormat(Ot),Yt));return new Lc(ue.indexId,ue.collectionGroup,vt,Qe)}(x,M))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,a)=>{const u=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==u?u:yi(i.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const a=Bf(e),u=Yu(e);return this.yn(e).next(p=>a.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(x=>Nt.forEach(x,M=>u.put(Zv(M.indexId,this.uid,p,i)))))}updateIndexEntries(e,t){const i=new Map;return Nt.forEach(t,(a,u)=>{const p=i.get(a.collectionGroup);return(p?Nt.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(x=>(i.set(a.collectionGroup,x),Nt.forEach(x,M=>this.wn(e,a,M).next(H=>{const ue=this.Sn(u,M);return H.isEqual(ue)?Nt.resolve():this.bn(e,u,M,H,ue)}))))})}Dn(e,t,i,a){return hh(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.mn(i,t.key),documentKey:t.key.path.toArray()})}vn(e,t,i,a){return hh(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.mn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const a=hh(e);let u=new nr(cc);return a.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,t)])},(p,x)=>{u=u.add(new Ga(i.indexId,t,x.arrayValue,x.directionalValue))}).next(()=>u)}Sn(e,t){let i=new nr(cc);const a=this.Vn(t,e);if(null==a)return i;const u=Au(t);if(null!=u){const p=e.data.field(u.fieldPath);if(Il(p))for(const x of p.arrayValue.values||[])i=i.add(new Ga(t.indexId,e.key,this.dn(x),a))}else i=i.add(new Ga(t.indexId,e.key,dh,a));return i}bn(e,t,i,a,u){fn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const p=[];return function(M,H,ue,Ie,Qe){const vt=M.getIterator(),Ot=H.getIterator();let Yt=xl(vt),qt=xl(Ot);for(;Yt||qt;){let En=!1,kn=!1;if(Yt&&qt){const yn=ue(Yt,qt);yn<0?kn=!0:yn>0&&(En=!0)}else null!=Yt?kn=!0:En=!0;En?(Ie(qt),qt=xl(Ot)):kn?(Qe(Yt),Yt=xl(vt)):(Yt=xl(vt),qt=xl(Ot))}}(a,u,cc,x=>{p.push(this.Dn(e,t,i,x))},x=>{p.push(this.vn(e,t,i,x))}),Nt.waitFor(p)}yn(e){let t=1;return Yu(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,a,u)=>{u.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((p,x)=>cc(p,x)).filter((p,x,M)=>!x||0!==cc(p,M[x-1]));const a=[];a.push(e);for(const p of i){const x=cc(p,e),M=cc(p,t);if(0===x)a[0]=e.Zt();else if(x>0&&M<0)a.push(p),a.push(p.Zt());else if(M>0)break}a.push(t);const u=[];for(let p=0;p<a.length;p+=2){if(this.Cn(a[p],a[p+1]))return[];u.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,dh,[]],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,dh,[]]))}return u}Cn(e,t){return cc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ey)}getMinOffset(e,t){return Nt.mapArray(this.hn(t),i=>this.Pn(e,i).next(a=>a||Ln())).next(ey)}}function bm(o){return eo(o,"collectionParents")}function hh(o){return eo(o,"indexEntries")}function Bf(o){return eo(o,"indexConfiguration")}function Yu(o){return eo(o,"indexState")}function ey(o){Kn(0!==o.length);let e=o[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<o.length;i++){const a=o[i].indexState.offset;Ad(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Xs(e.readTime,e.documentKey,t)}const O_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class as{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new as(e,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ty(o,e,t){const i=o.store("mutations"),a=o.store("documentMutations"),u=[],p=IDBKeyRange.only(t.batchId);let x=0;const M=i.J({range:p},(ue,Ie,Qe)=>(x++,Qe.delete()));u.push(M.next(()=>{Kn(1===x)}));const H=[];for(const ue of t.mutations){const Ie=zc(e,ue.key.path,t.batchId);u.push(a.delete(Ie)),H.push(ue.key)}return Nt.waitFor(u).next(()=>H)}function Em(o){if(!o)return 0;let e;if(o.document)e=o.document;else if(o.unknownDocument)e=o.unknownDocument;else{if(!o.noDocument)throw Ln();e=o.noDocument}return JSON.stringify(e).length}as.DEFAULT_COLLECTION_PERCENTILE=10,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,as.DEFAULT=new as(41943040,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),as.DISABLED=new as(-1,0,0);class xs{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Fn={}}static lt(e,t,i,a){Kn(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new xs(u,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return iu(e).J({index:"userMutationsIndex",range:i},(a,u,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,i,a){const u=Vf(e),p=iu(e);return p.add({}).next(x=>{Kn("number"==typeof x);const M=new Gu(x,t,i,a),H=function(vt,Ot,Yt){const qt=Yt.baseMutations.map(kn=>oh(vt.ct,kn)),En=Yt.mutations.map(kn=>oh(vt.ct,kn));return{userId:Ot,batchId:Yt.batchId,localWriteTimeMs:Yt.localWriteTime.toMillis(),baseMutations:qt,mutations:En}}(this.serializer,this.userId,M),ue=[];let Ie=new nr((Qe,vt)=>yi(Qe.canonicalString(),vt.canonicalString()));for(const Qe of a){const vt=zc(this.userId,Qe.key.path,x);Ie=Ie.add(Qe.key.path.popLast()),ue.push(p.put(H)),ue.push(u.put(vt,s_))}return Ie.forEach(Qe=>{ue.push(this.indexManager.addToCollectionParentIndex(e,Qe))}),e.addOnCommittedListener(()=>{this.Fn[x]=M.keys()}),Nt.waitFor(ue).next(()=>M)})}lookupMutationBatch(e,t){return iu(e).get(t).next(i=>i?(Kn(i.userId===this.userId),$a(this.serializer,i)):null)}Mn(e,t){return this.Fn[t]?Nt.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const a=i.keys();return this.Fn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let u=null;return iu(e).J({index:"userMutationsIndex",range:a},(p,x,M)=>{x.userId===this.userId&&(Kn(x.batchId>=i),u=$a(this.serializer,x)),M.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return iu(e).J({index:"userMutationsIndex",range:t,reverse:!0},(a,u,p)=>{i=u.batchId,p.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return iu(e).U("userMutationsIndex",t).next(i=>i.map(a=>$a(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Od(this.userId,t.path),a=IDBKeyRange.lowerBound(i),u=[];return Vf(e).J({range:a},(p,x,M)=>{const[H,ue,Ie]=p,Qe=wa(ue);if(H===this.userId&&t.path.isEqual(Qe))return iu(e).get(Ie).next(vt=>{if(!vt)throw Ln();Kn(vt.userId===this.userId),u.push($a(this.serializer,vt))});M.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nr(yi);const a=[];return t.forEach(u=>{const p=Od(this.userId,u.path),x=IDBKeyRange.lowerBound(p),M=Vf(e).J({range:x},(H,ue,Ie)=>{const[Qe,vt,Ot]=H,Yt=wa(vt);Qe===this.userId&&u.path.isEqual(Yt)?i=i.add(Ot):Ie.done()});a.push(M)}),Nt.waitFor(a).next(()=>this.xn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,u=Od(this.userId,i),p=IDBKeyRange.lowerBound(u);let x=new nr(yi);return Vf(e).J({range:p},(M,H,ue)=>{const[Ie,Qe,vt]=M,Ot=wa(Qe);Ie===this.userId&&i.isPrefixOf(Ot)?Ot.length===a&&(x=x.add(vt)):ue.done()}).next(()=>this.xn(e,x))}xn(e,t){const i=[],a=[];return t.forEach(u=>{a.push(iu(e).get(u).next(p=>{if(null===p)throw Ln();Kn(p.userId===this.userId),i.push($a(this.serializer,p))}))}),Nt.waitFor(a).next(()=>i)}removeMutationBatch(e,t){return ty(e._e,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),Nt.forEach(i,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Nt.resolve();const i=IDBKeyRange.lowerBound([this.userId]),a=[];return Vf(e).J({range:i},(u,p,x)=>{if(u[0]===this.userId){const M=wa(u[1]);a.push(M)}else x.done()}).next(()=>{Kn(0===a.length)})})}containsKey(e,t){return ny(e,this.userId,t)}Nn(e){return xm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ny(o,e,t){const i=Od(e,t.path),a=i[1],u=IDBKeyRange.lowerBound(i);let p=!1;return Vf(o).J({range:u,H:!0},(x,M,H)=>{const[ue,Ie,Qe]=x;ue===e&&Ie===a&&(p=!0),H.done()}).next(()=>p)}function iu(o){return eo(o,"mutations")}function Vf(o){return eo(o,"documentMutations")}function xm(o){return eo(o,"mutationQueues")}class ru{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ru(0)}static kn(){return new ru(-1)}}class FE{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{const i=new ru(t.highestTargetId);return t.highestTargetId=i.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>ni.fromTimestamp(new tr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.qn(e).next(a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Qn(e,a)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(i=>(i.targetCount+=1,this.$n(t,i),this.Qn(e,i))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>fh(e).delete(t.targetId)).next(()=>this.qn(e)).next(i=>(Kn(i.targetCount>0),i.targetCount-=1,this.Qn(e,i)))}removeTargets(e,t,i){let a=0;const u=[];return fh(e).J((p,x)=>{const M=Of(x);M.sequenceNumber<=t&&null===i.get(M.targetId)&&(a++,u.push(this.removeTargetData(e,M)))}).next(()=>Nt.waitFor(u)).next(()=>a)}forEachTarget(e,t){return fh(e).J((i,a)=>{const u=Of(a);t(u)})}qn(e){return iy(e).get("targetGlobalKey").next(t=>(Kn(null!==t),t))}Qn(e,t){return iy(e).put("targetGlobalKey",t)}Kn(e,t){return fh(e).put(A_(this.serializer,t))}$n(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Vs(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let u=null;return fh(e).J({range:a,index:"queryTargetsIndex"},(p,x,M)=>{const H=Of(x);Uu(t,H.target)&&(u=H,M.done())}).next(()=>u)}addMatchingKeys(e,t,i){const a=[],u=uc(e);return t.forEach(p=>{const x=So(p.path);a.push(u.put({targetId:i,path:x})),a.push(this.referenceDelegate.addReference(e,i,p))}),Nt.waitFor(a)}removeMatchingKeys(e,t,i){const a=uc(e);return Nt.forEach(t,u=>{const p=So(u.path);return Nt.waitFor([a.delete([i,p]),this.referenceDelegate.removeReference(e,i,u)])})}removeMatchingKeysForTargetId(e,t){const i=uc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=uc(e);let u=Ci();return a.J({range:i,H:!0},(p,x,M)=>{const H=wa(p[1]),ue=new Rn(H);u=u.add(ue)}).next(()=>u)}containsKey(e,t){const i=So(t.path),a=IDBKeyRange.bound([i],[jp(i)],!1,!0);let u=0;return uc(e).J({index:"documentTargetsIndex",H:!0,range:a},([p,x],M,H)=>{0!==p&&(u++,H.done())}).next(()=>u>0)}ot(e,t){return fh(e).get(t).next(i=>i?Of(i):null)}}function fh(o){return eo(o,"targets")}function iy(o){return eo(o,"targetGlobal")}function uc(o){return eo(o,"targetDocuments")}function ry([o,e],[t,i]){const a=yi(o,t);return 0===a?yi(e,i):a}class NE{constructor(e){this.Un=e,this.buffer=new nr(ry),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ry(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Cm{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var t=this;fn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,O.Z)(function*(){t.jn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Ha(i)?fn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Js(i)}yield t.Hn(3e5)}))}}class LE{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Nt.resolve(ys.oe);const i=new NE(t);return this.Jn.forEachTarget(e,a=>i.zn(a.sequenceNumber)).next(()=>this.Jn.Zn(e,a=>i.zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(fn("LruGarbageCollector","Garbage collection skipped; disabled"),Nt.resolve(O_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fn("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O_):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let i,a,u,p,x,M,H;const ue=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ie=>(Ie>this.params.maximumSequenceNumbersToCollect?(fn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ie}`),a=this.params.maximumSequenceNumbersToCollect):a=Ie,p=Date.now(),this.nthSequenceNumber(e,a))).next(Ie=>(i=Ie,x=Date.now(),this.removeTargets(e,i,t))).next(Ie=>(u=Ie,M=Date.now(),this.removeOrphanedDocuments(e,i))).next(Ie=>(H=Date.now(),Xo()<=ba.in.DEBUG&&fn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-ue}ms\n\tDetermined least recently used ${a} in `+(x-p)+`ms\n\tRemoved ${u} targets in `+(M-x)+`ms\n\tRemoved ${Ie} documents in `+(H-M)+`ms\nTotal Duration: ${H-ue}ms`),Nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:Ie})))}}class BE{constructor(e,t){this.db=e,this.garbageCollector=function oy(o,e){return new LE(o,e)}(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}er(e){let t=0;return this.Zn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(i,a)=>t(a))}addReference(e,t,i){return wm(e,i)}removeReference(e,t,i){return wm(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return wm(e,t)}nr(e,t){return function(a,u){let p=!1;return xm(a).Y(x=>ny(a,x,u).next(M=>(M&&(p=!0),Nt.resolve(!M)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let u=0;return this.tr(e,(p,x)=>{if(x<=t){const M=this.nr(e,p).next(H=>{if(!H)return u++,i.getEntry(e,p).next(()=>(i.removeEntry(p,ni.min()),uc(e).delete([0,So(p.path)])))});a.push(M)}}).next(()=>Nt.waitFor(a)).next(()=>i.apply(e)).next(()=>u)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return wm(e,t)}tr(e,t){const i=uc(e);let a,u=ys.oe;return i.J({index:"documentTargetsIndex"},([p,x],{path:M,sequenceNumber:H})=>{0===p?(u!==ys.oe&&t(new Rn(wa(a)),u),u=H,a=M):u=ys.oe}).next(()=>{u!==ys.oe&&t(new Rn(wa(a)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wm(o,e){return uc(o).put((a=o.currentSequenceNumber,{targetId:0,path:So(e.path),sequenceNumber:a}));var a}class sy{constructor(){this.changes=new q(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Nt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kl{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return ou(e).put(i)}removeEntry(e,t,i){return ou(e).delete(function(u,p){const x=u.path.toArray();return[x.slice(0,x.length-2),x[x.length-2],Rf(p),x[x.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.rr(e,i)))}getEntry(e,t){let i=yr.newInvalidDocument(t);return ou(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Uf(t))},(a,u)=>{i=this.ir(t,u)}).next(()=>i)}sr(e,t){let i={size:0,document:yr.newInvalidDocument(t)};return ou(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Uf(t))},(a,u)=>{i={document:this.ir(t,u),size:Em(u)}}).next(()=>i)}getEntries(e,t){let i=nt();return this._r(e,t,(a,u)=>{const p=this.ir(a,u);i=i.insert(a,p)}).next(()=>i)}ar(e,t){let i=nt(),a=new pr(Rn.comparator);return this._r(e,t,(u,p)=>{const x=this.ir(u,p);i=i.insert(u,x),a=a.insert(u,Em(p))}).next(()=>({documents:i,ur:a}))}_r(e,t,i){if(t.isEmpty())return Nt.resolve();let a=new nr(cy);t.forEach(M=>a=a.add(M));const u=IDBKeyRange.bound(Uf(a.first()),Uf(a.last())),p=a.getIterator();let x=p.getNext();return ou(e).J({index:"documentKeyIndex",range:u},(M,H,ue)=>{const Ie=Rn.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;x&&cy(x,Ie)<0;)i(x,null),x=p.getNext();x&&x.isEqual(Ie)&&(i(x,H),x=p.hasNext()?p.getNext():null),x?ue.$(Uf(x)):ue.done()}).next(()=>{for(;x;)i(x,null),x=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,t,i,a,u){const p=t.path,x=[p.popLast().toArray(),p.lastSegment(),Rf(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],M=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ou(e).U(IDBKeyRange.bound(x,M,!0)).next(H=>{u?.incrementDocumentReadCount(H.length);let ue=nt();for(const Ie of H){const Qe=this.ir(Rn.fromSegments(Ie.prefixPath.concat(Ie.collectionGroup,Ie.documentId)),Ie);Qe.isFoundDocument()&&(y(t,Qe)||a.has(Qe.key))&&(ue=ue.insert(Qe.key,Qe))}return ue})}getAllFromCollectionGroup(e,t,i,a){let u=nt();const p=ly(t,i),x=ly(t,Xs.max());return ou(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,x,!0)},(M,H,ue)=>{const Ie=this.ir(Rn.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);u=u.insert(Ie.key,Ie),u.size===a&&ue.done()}).next(()=>u)}newChangeBuffer(e){return new VE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ay(e).get("remoteDocumentGlobalKey").next(t=>(Kn(!!t),t))}rr(e,t){return ay(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const i=function DC(o,e){let t;if(e.document)t=Bv(o.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Rn.fromSegments(e.noDocument.path),a=Zu(e.noDocument.readTime);t=yr.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ln();{const i=Rn.fromSegments(e.unknownDocument.path),a=Zu(e.unknownDocument.version);t=yr.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime(function(a){const u=new tr(a[0],a[1]);return ni.fromTimestamp(u)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(ni.min()))return i}return yr.newInvalidDocument(e)}}function Im(o){return new kl(o)}class VE extends sy{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new q(i=>i.toString(),(i,a)=>i.isEqual(a))}applyChanges(e){const t=[];let i=0,a=new nr((u,p)=>yi(u.canonicalString(),p.canonicalString()));return this.changes.forEach((u,p)=>{const x=this.lr.get(u);if(t.push(this.cr.removeEntry(e,u,x.readTime)),p.isValidDocument()){const M=Wv(this.cr.serializer,p);a=a.add(u.path.popLast());const H=Em(M);i+=H-x.size,t.push(this.cr.addEntry(e,u,M))}else if(i-=x.size,this.trackRemovals){const M=Wv(this.cr.serializer,p.convertToNoDocument(ni.min()));t.push(this.cr.addEntry(e,u,M))}}),a.forEach(u=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.cr.updateMetadata(e,i)),Nt.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(i=>(this.lr.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:i,ur:a})=>(a.forEach((u,p)=>{this.lr.set(u,{size:p,readTime:i.get(u).readTime})}),i))}}function ay(o){return eo(o,"remoteDocumentGlobal")}function ou(o){return eo(o,"remoteDocumentsV14")}function Uf(o){const e=o.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ly(o,e){const t=e.documentKey.path.toArray();return[o,Rf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function cy(o,e){const t=o.path.toArray(),i=e.path.toArray();let a=0;for(let u=0;u<t.length-2&&u<i.length-2;++u)if(a=yi(t[u],i[u]),a)return a;return a=yi(t.length,i.length),a||(a=yi(t[t.length-2],i[i.length-2]),a||yi(t[t.length-1],i[i.length-1]))}class k_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class uy{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==i&&$u(i.mutation,a,to.empty(),tr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ci()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ci()){const a=On();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(u=>{let p=tn();return u.forEach((x,M)=>{p=p.insert(x,M.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const i=On();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ci()))}populateOverlays(e,t,i){const a=[];return i.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((p,x)=>{t.set(p,x)})})}computeViews(e,t,i,a){let u=nt();const p=sr(),x=sr();return t.forEach((M,H)=>{const ue=i.get(H.key);a.has(H.key)&&(void 0===ue||ue.mutation instanceof Pl)?u=u.insert(H.key,H):void 0!==ue?(p.set(H.key,ue.mutation.getFieldMask()),$u(ue.mutation,H,ue.mutation.getFieldMask(),tr.now())):p.set(H.key,to.empty())}),this.recalculateAndSaveOverlays(e,u).next(M=>(M.forEach((H,ue)=>p.set(H,ue)),t.forEach((H,ue)=>{var Ie;return x.set(H,new k_(ue,null!==(Ie=p.get(H))&&void 0!==Ie?Ie:null))}),x))}recalculateAndSaveOverlays(e,t){const i=sr();let a=new pr((p,x)=>p-x),u=Ci();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const x of p)x.keys().forEach(M=>{const H=t.get(M);if(null===H)return;let ue=i.get(M)||to.empty();ue=x.applyToLocalView(H,ue),i.set(M,ue);const Ie=(a.get(x.batchId)||Ci()).add(M);a=a.insert(x.batchId,Ie)})}).next(()=>{const p=[],x=a.getReverseIterator();for(;x.hasNext();){const M=x.getNext(),H=M.key,ue=M.value,Ie=Gn();ue.forEach(Qe=>{if(!u.has(Qe)){const vt=Iv(t.get(Qe),i.get(Qe));null!==vt&&Ie.set(Qe,vt),u=u.add(Qe)}}),p.push(this.documentOverlayCache.saveOverlays(e,H,Ie))}return Nt.waitFor(p)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return Rn.isDocumentKey((p=t).path)&&null===p.collectionGroup&&0===p.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Da(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a);var p}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(u=>{const p=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-u.size):Nt.resolve(On());let x=-1,M=u;return p.next(H=>Nt.forEach(H,(ue,Ie)=>(x<Ie.largestBatchId&&(x=Ie.largestBatchId),u.get(ue)?Nt.resolve():this.remoteDocumentCache.getEntry(e,ue).next(Qe=>{M=M.insert(ue,Qe)}))).next(()=>this.populateOverlays(e,H,u)).next(()=>this.computeViews(e,M,H,Ci())).next(ue=>({batchId:x,changes:Sn(ue)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rn(t)).next(i=>{let a=tn();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const u=t.collectionGroup;let p=tn();return this.indexManager.getCollectionParents(e,u).next(x=>Nt.forEach(x,M=>{const H=(Ie=t,Qe=M.child(u),new Br(Qe,null,Ie.explicitOrderBy.slice(),Ie.filters.slice(),Ie.limit,Ie.limitType,Ie.startAt,Ie.endAt));var Ie,Qe;return this.getDocumentsMatchingCollectionQuery(e,H,i,a).next(ue=>{ue.forEach((Ie,Qe)=>{p=p.insert(Ie,Qe)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,i,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(p=>(u=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,a))).next(p=>{u.forEach((M,H)=>{const ue=H.getKey();null===p.get(ue)&&(p=p.insert(ue,yr.newInvalidDocument(ue)))});let x=tn();return p.forEach((M,H)=>{const ue=u.get(M);void 0!==ue&&$u(ue.mutation,H,to.empty(),tr.now()),y(t,H)&&(x=x.insert(M,H))}),x})}}class UE{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Nt.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(a=t).id,version:a.version,createTime:Co(a.createTime)}),Nt.resolve();var a}getNamedQuery(e,t){return Nt.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(a=t).name,query:lh(a.bundledQuery),readTime:Co(a.readTime)}),Nt.resolve();var a}}class Dm{constructor(){this.overlays=new pr(Rn.comparator),this.Ir=new Map}getOverlay(e,t){return Nt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=On();return Nt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&i.set(a,u)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,u)=>{this.ht(e,t,u)}),Nt.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Ir.get(i);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ir.delete(i)),Nt.resolve()}getOverlaysForCollection(e,t,i){const a=On(),u=t.length+1,p=new Rn(t.child("")),x=this.overlays.getIteratorFrom(p);for(;x.hasNext();){const M=x.getNext().value,H=M.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===u&&M.largestBatchId>i&&a.set(M.getKey(),M)}return Nt.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let u=new pr((H,ue)=>H-ue);const p=this.overlays.getIterator();for(;p.hasNext();){const H=p.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>i){let ue=u.get(H.largestBatchId);null===ue&&(ue=On(),u=u.insert(H.largestBatchId,ue)),ue.set(H.getKey(),H)}}const x=On(),M=u.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((H,ue)=>x.set(H,ue)),!(x.size()>=a)););return Nt.resolve(x)}ht(e,t,i){const a=this.overlays.get(i.key);if(null!==a){const p=this.Ir.get(a.largestBatchId).delete(i.key);this.Ir.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(i.key,new cm(t,i));let u=this.Ir.get(t);void 0===u&&(u=Ci(),this.Ir.set(t,u)),this.Ir.set(t,u.add(i.key))}}class Am{constructor(){this.sessionToken=$r.EMPTY_BYTE_STRING}getSessionToken(e){return Nt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Nt.resolve()}}class ph{constructor(){this.Tr=new nr(ls.Er),this.dr=new nr(ls.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new ls(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new ls(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){const t=new Rn(new Si([])),i=new ls(t,e),a=new ls(t,e+1),u=[];return this.dr.forEachInRange([i,a],p=>{this.Vr(p),u.push(p.key)}),u}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Rn(new Si([])),i=new ls(t,e),a=new ls(t,e+1);let u=Ci();return this.dr.forEachInRange([i,a],p=>{u=u.add(p.key)}),u}containsKey(e){const t=new ls(e,0),i=this.Tr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ls{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Rn.comparator(e.key,t.key)||yi(e.wr,t.wr)}static Ar(e,t){return yi(e.wr,t.wr)||Rn.comparator(e.key,t.key)}}class F_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new nr(ls.Er)}checkEmpty(e){return Nt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,a){const u=this.Sr;this.Sr++;const p=new Gu(u,t,i,a);this.mutationQueue.push(p);for(const x of a)this.br=this.br.add(new ls(x.key,u)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return Nt.resolve(p)}lookupMutationBatch(e,t){return Nt.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.vr(t+1),u=a<0?0:a;return Nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Nt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ls(t,0),a=new ls(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([i,a],p=>{const x=this.Dr(p.wr);u.push(x)}),Nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nr(yi);return t.forEach(a=>{const u=new ls(a,0),p=new ls(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,p],x=>{i=i.add(x.wr)})}),Nt.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let u=i;Rn.isDocumentKey(u)||(u=u.child(""));const p=new ls(new Rn(u),0);let x=new nr(yi);return this.br.forEachWhile(M=>{const H=M.key.path;return!!i.isPrefixOf(H)&&(H.length===a&&(x=x.add(M.wr)),!0)},p),Nt.resolve(this.Cr(x))}Cr(e){const t=[];return e.forEach(i=>{const a=this.Dr(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Kn(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return Nt.forEach(t.mutations,a=>{const u=new ls(a.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){const i=new ls(t,0),a=this.br.firstAfterOrEqual(i);return Nt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Nt.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class TC{constructor(e){this.Mr=e,this.docs=new pr(Rn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),u=a?a.size:0,p=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:p}),this.size+=p-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Nt.resolve(i?i.document.mutableCopy():yr.newInvalidDocument(t))}getEntries(e,t){let i=nt();return t.forEach(a=>{const u=this.docs.get(a);i=i.insert(a,u?u.document.mutableCopy():yr.newInvalidDocument(a))}),Nt.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let u=nt();const p=t.path,x=new Rn(p.child("")),M=this.docs.getIteratorFrom(x);for(;M.hasNext();){const{key:H,value:{document:ue}}=M.getNext();if(!p.isPrefixOf(H.path))break;H.path.length>p.length+1||Ad(r_(ue),i)<=0||(a.has(ue.key)||y(t,ue))&&(u=u.insert(ue.key,ue.mutableCopy()))}return Nt.resolve(u)}getAllFromCollectionGroup(e,t,i,a){Ln()}Or(e,t){return Nt.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new dy(this)}getSize(e){return Nt.resolve(this.size)}}class dy extends sy{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.cr.addEntry(e,a)):this.cr.removeEntry(i)}),Nt.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class hy{constructor(e){this.persistence=e,this.Nr=new q(t=>Vs(t),Uu),this.lastRemoteSnapshotVersion=ni.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ph,this.targetCount=0,this.kr=ru.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,a)=>t(a)),Nt.resolve()}getLastRemoteSnapshotVersion(e){return Nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Nt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),Nt.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ru(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Nt.resolve()}updateTargetData(e,t){return this.Kn(t),Nt.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Nt.resolve()}removeTargets(e,t,i){let a=0;const u=[];return this.Nr.forEach((p,x)=>{x.sequenceNumber<=t&&null===i.get(x.targetId)&&(this.Nr.delete(p),u.push(this.removeMatchingKeysForTargetId(e,x.targetId)),a++)}),Nt.waitFor(u).next(()=>a)}getTargetCount(e){return Nt.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return Nt.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),Nt.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(p=>{u.push(a.markPotentiallyOrphaned(e,p))}),Nt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Nt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return Nt.resolve(i)}containsKey(e,t){return Nt.resolve(this.Br.containsKey(t))}}class Tm{constructor(e,t){this.qr={},this.overlays={},this.Qr=new ys(0),this.Kr=!1,this.Kr=!0,this.$r=new Am,this.referenceDelegate=e(this),this.Ur=new hy(this),this.indexManager=new R_,this.remoteDocumentCache=new TC(i=>this.referenceDelegate.Wr(i)),this.serializer=new ME(t),this.Gr=new UE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new F_(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){fn("MemoryPersistence","Starting transaction:",e);const a=new fy(this.Qr.next());return this.referenceDelegate.zr(),i(a).next(u=>this.referenceDelegate.jr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Hr(e,t){return Nt.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}}class fy extends Qh{constructor(e){super(),this.currentSequenceNumber=e}}class mh{constructor(e){this.persistence=e,this.Jr=new ph,this.Yr=null}static Zr(e){return new mh(e)}get Xr(){if(this.Yr)return this.Yr;throw Ln()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),Nt.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),Nt.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Nt.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(a=>this.Xr.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Xr.add(u.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nt.forEach(this.Xr,i=>{const a=Rn.fromPath(i);return this.ei(e,a).next(u=>{u||t.removeEntry(a,ni.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Nt.or([()=>Nt.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Sm{constructor(e){this.serializer=e}O(e,t,i,a){const u=new ec("createOrUpgrade",t);var M;i<1&&a>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rd,{unique:!0}),M.createObjectStore("documentMutations"),zf(e),function(M){M.createObjectStore("remoteDocuments")}(e));let p=Nt.resolve();return i<3&&a>=3&&(0!==i&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),zf(e)),p=p.next(()=>function(M){const H=M.store("targetGlobal"),ue={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ni.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",ue)}(u))),i<4&&a>=4&&(0!==i&&(p=p.next(()=>function(M,H){return H.store("mutations").U().next(ue=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rd,{unique:!0});const Ie=H.store("mutations"),Qe=ue.map(vt=>Ie.put(vt));return Nt.waitFor(Qe)})}(e,u))),p=p.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&a>=5&&(p=p.next(()=>this.ni(u))),i<6&&a>=6&&(p=p.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.ri(u)))),i<7&&a>=7&&(p=p.next(()=>this.ii(u))),i<8&&a>=8&&(p=p.next(()=>this.si(e,u))),i<9&&a>=9&&(p=p.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&a>=10&&(p=p.next(()=>this.oi(u))),i<11&&a>=11&&(p=p.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&a>=12&&(p=p.next(()=>{!function(M){const H=M.createObjectStore("documentOverlays",{keyPath:sf});H.createIndex("collectionPathOverlayIndex",af,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",lf,{unique:!1})}(e)})),i<13&&a>=13&&(p=p.next(()=>function(M){const H=M.createObjectStore("remoteDocumentsV14",{keyPath:Zp});H.createIndex("documentKeyIndex",a_),H.createIndex("collectionGroupIndex",Kp)}(e)).next(()=>this._i(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&a>=14&&(p=p.next(()=>this.ai(e,u))),i<15&&a>=15&&(p=p.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:rf}).createIndex("sequenceNumberIndex",Mu,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:u_}).createIndex("documentKeyIndex",d_,{unique:!1})}(e))),i<16&&a>=16&&(p=p.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),i<17&&a>=17&&(p=p.next(()=>{!function(M){M.createObjectStore("globals",{keyPath:"name"})}(e)})),p}ri(e){let t=0;return e.store("remoteDocuments").J((i,a)=>{t+=Em(a)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.U().next(a=>Nt.forEach(a,u=>{const p=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",p).next(x=>Nt.forEach(x,M=>{Kn(M.userId===u.userId);const H=$a(this.serializer,M);return ty(e,u.userId,H).next(()=>{})}))}))}ii(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const u=[];return i.J((p,x)=>{const M=new Si(p),H=[0,So(M)];u.push(t.get(H).next(ue=>ue?Nt.resolve():t.put({targetId:0,path:So(M),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Nt.waitFor(u))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:nf});const i=t.store("collectionParents"),a=new Lf,u=p=>{if(a.add(p)){const x=p.lastSegment(),M=p.popLast();return i.put({collectionId:x,parent:So(M)})}};return t.store("remoteDocuments").J({H:!0},(p,x)=>{const M=new Si(p);return u(M.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([p,x,M],H)=>{const ue=wa(x);return u(ue.popLast())}))}oi(e){const t=e.store("targets");return t.J((i,a)=>{const u=Of(a),p=A_(this.serializer,u);return t.put(p)})}_i(e,t){const i=t.store("remoteDocuments"),a=[];return i.J((u,p)=>{const x=t.store("remoteDocumentsV14"),M=(Ie=p,Ie.document?new Rn(Si.fromString(Ie.document.name).popFirst(5)):Ie.noDocument?Rn.fromSegments(Ie.noDocument.path):Ie.unknownDocument?Rn.fromSegments(Ie.unknownDocument.path):Ln()).path.toArray(),H={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};var Ie;a.push(x.put(H))}).next(()=>Nt.waitFor(a))}ai(e,t){const i=t.store("mutations"),a=Im(this.serializer),u=new Tm(mh.Zr,this.serializer.ct);return i.U().next(p=>{const x=new Map;return p.forEach(M=>{var H;let ue=null!==(H=x.get(M.userId))&&void 0!==H?H:Ci();$a(this.serializer,M).keys().forEach(Ie=>ue=ue.add(Ie)),x.set(M.userId,ue)}),Nt.forEach(x,(M,H)=>{const ue=new In(H),Ie=gm.lt(this.serializer,ue),Qe=u.getIndexManager(ue),vt=xs.lt(ue,this.serializer,Qe,u.referenceDelegate);return new uy(a,vt,Ie,Qe).recalculateAndSaveOverlaysForDocumentKeys(new ff(t,ys.oe),M).next()})})}}function zf(o){o.createObjectStore("targetDocuments",{keyPath:c_}).createIndex("documentTargetsIndex",tf,{unique:!0}),o.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",l_,{unique:!0}),o.createObjectStore("targetGlobal")}const qu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class N_{constructor(e,t,i,a,u,p,x,M,H,ue,Ie=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ui=u,this.window=p,this.document=x,this.ci=H,this.li=ue,this.hi=Ie,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Qe=>Promise.resolve(),!N_.D())throw new hn(Kt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new BE(this,a),this.Ai=t+"main",this.serializer=new ME(M),this.Ri=new Eo(this.Ai,this.hi,new Sm(this.serializer)),this.$r=new RE,this.Ur=new FE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Im(this.serializer),this.Gr=new PE,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ue&&Ui("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new hn(Kt.FAILED_PRECONDITION,qu);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new ys(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var t=this;return this.di=function(){var i=(0,O.Z)(function*(a){if(t.started)return e(a)});return function(a){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var t=(0,O.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,O.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Hf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Ha(e))return fn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return fn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return gh(e).get("owner").next(t=>Nt.resolve(this.vi(t)))}Ci(e){return Hf(e).delete(this.clientId)}Fi(){var e=this;return(0,O.Z)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const a=eo(i,"clientMetadata");return a.U().next(u=>{const p=e.xi(u,18e5),x=u.filter(M=>-1===p.indexOf(M));return Nt.forEach(x,M=>a.delete(M.clientId)).next(()=>x)})}).catch(()=>[]);if(e.Vi)for(const i of t)e.Vi.removeItem(e.Oi(i.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Nt.resolve(!0):gh(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new hn(Kt.FAILED_PRECONDITION,qu);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hf(e).U().next(i=>void 0===this.xi(i,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&fn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,O.Z)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new ff(t,ys.oe);return e.bi(i).next(()=>e.Ci(i))}),e.Ri.close(),e.qi()})()}xi(e,t){return e.filter(i=>this.Mi(i.updateTimeMs,t)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Hf(e).U().next(t=>this.xi(t,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return xs.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Jv(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return gm.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,i){fn("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",u=17===(M=this.hi)?hf:16===M?df:15===M?Pu:14===M?Yp:13===M?uf:12===M?cf:11===M?rc:void Ln();var M;let p;return this.Ri.runTransaction(e,a,u,x=>(p=new ff(x,this.Qr?this.Qr.next():ys.oe),"readwrite-primary"===t?this.wi(p).next(M=>!!M||this.Si(p)).next(M=>{if(!M)throw Ui(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new hn(Kt.FAILED_PRECONDITION,Wp);return i(p)}).next(M=>this.Di(p).next(()=>M)):this.Ki(p).next(()=>i(p)))).then(x=>(p.raiseOnCommittedEvent(),x))}Ki(e){return gh(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new hn(Kt.FAILED_PRECONDITION,qu)})}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gh(e).put("owner",t)}static D(){return Eo.D()}bi(e){const t=gh(e);return t.get("owner").next(i=>this.vi(i)?(fn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Nt.resolve())}Mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ui(`Detected an update time that is in the future: ${e} > ${i}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const t=/(?:Version|Mobile)\/1[456]/;(0,di.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const i=null!==(null===(t=this.Vi)||void 0===t?void 0:t.getItem(this.Oi(e)));return fn("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ui("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Ui("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gh(o){return eo(o,"owner")}function Hf(o){return eo(o,"clientMetadata")}function L_(o,e){let t=o.projectId;return o.isDefaultDatabase||(t+="."+o.database),"firestore/"+e+"/"+t+"/"}class B_{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=a}static Wi(e,t){let i=Ci(),a=Ci();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new B_(e,t.fromCache,i,a)}}class jf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class py{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,di.G6)()?8:Sd((0,di.z$)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,a){const u={result:null};return this.Yi(e,t).next(p=>{u.result=p}).next(()=>{if(!u.result)return this.Zi(e,t,a,i).next(p=>{u.result=p})}).next(()=>{if(u.result)return;const p=new jf;return this.Xi(e,t,p).next(x=>{if(u.result=x,this.zi)return this.es(e,t,p,x.size)})}).next(()=>u.result)}es(e,t,i,a){return i.documentReadCount<this.ji?(Xo()<=ba.in.DEBUG&&fn("QueryEngine","SDK will not create cache indexes for query:",Tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Nt.resolve()):(Xo()<=ba.in.DEBUG&&fn("QueryEngine","Query:",Tl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.Hi*a?(Xo()<=ba.in.DEBUG&&fn("QueryEngine","The SDK decides to create cache indexes for query:",Tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,co(t))):Nt.resolve())}Yi(e,t){if(om(t))return Nt.resolve(null);let i=co(t);return this.indexManager.getIndexType(e,i).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Or(t,null,"F"),i=co(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const p=Ci(...u);return this.Ji.getDocuments(e,p).next(x=>this.indexManager.getMinOffset(e,i).next(M=>{const H=this.ts(t,x);return this.ns(t,H,p,M.readTime)?this.Yi(e,Or(t,null,"F")):this.rs(e,H,t,M)}))})))}Zi(e,t,i,a){return om(t)||a.isEqual(ni.min())?Nt.resolve(null):this.Ji.getDocuments(e,i).next(u=>{const p=this.ts(t,u);return this.ns(t,p,i,a)?Nt.resolve(null):(Xo()<=ba.in.DEBUG&&fn("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Tl(t)),this.rs(e,p,t,Gp(a,-1)).next(x=>x))})}ts(e,t){let i=new nr(f(e));return t.forEach((a,u)=>{y(e,u)&&(i=i.add(u))}),i}ns(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Xi(e,t,i){return Xo()<=ba.in.DEBUG&&fn("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.Ji.getDocumentsMatchingQuery(e,t,Xs.min(),i)}rs(e,t,i,a){return this.Ji.getDocumentsMatchingQuery(e,i,a).next(u=>(t.forEach(p=>{u=u.insert(p.key,p)}),u))}}class SC{constructor(e,t,i,a){this.persistence=e,this.ss=t,this.serializer=a,this.os=new pr(yi),this._s=new q(u=>Vs(u),Uu),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function my(o,e,t,i){return new SC(o,e,t,i)}function gy(o,e){return V_.apply(this,arguments)}function V_(){return(V_=(0,O.Z)(function*(o,e){const t=An(o);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(u=>(a=u,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(u=>{const p=[],x=[];let M=Ci();for(const H of a){p.push(H.batchId);for(const ue of H.mutations)M=M.add(ue.key)}for(const H of u){x.push(H.batchId);for(const ue of H.mutations)M=M.add(ue.key)}return t.localDocuments.getDocuments(i,M).next(H=>({hs:H,removedBatchIds:p,addedBatchIds:x}))})})})).apply(this,arguments)}function _y(o){const e=An(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function vy(o,e,t){let i=Ci(),a=Ci();return t.forEach(u=>i=i.add(u)),e.getEntries(o,i).next(u=>{let p=nt();return t.forEach((x,M)=>{const H=u.get(x);M.isFoundDocument()!==H.isFoundDocument()&&(a=a.add(x)),M.isNoDocument()&&M.version.isEqual(ni.min())?(e.removeEntry(x,M.readTime),p=p.insert(x,M)):!H.isValidDocument()||M.version.compareTo(H.version)>0||0===M.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(M),p=p.insert(x,M)):fn("LocalStore","Ignoring outdated watch update for ",x,". Current version:",H.version," Watch version:",M.version)}),{Ps:p,Is:a}})}function yy(o,e){const t=An(o);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function su(o,e){const t=An(o);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ur.getTargetData(i,e).next(u=>u?(a=u,Nt.resolve(a)):t.Ur.allocateTargetId(i).next(p=>(a=new eu(e,p,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.os.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function _h(o,e,t){return $f.apply(this,arguments)}function $f(){return($f=(0,O.Z)(function*(o,e,t){const i=An(o),a=i.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",u,p=>i.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Ha(p))throw p;fn("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}i.os=i.os.remove(e),i._s.delete(a.target)})).apply(this,arguments)}function Mm(o,e,t){const i=An(o);let a=ni.min(),u=Ci();return i.persistence.runTransaction("Execute query","readwrite",p=>function(M,H,ue){const Ie=An(M),Qe=Ie._s.get(ue);return void 0!==Qe?Nt.resolve(Ie.os.get(Qe)):Ie.Ur.getTargetData(H,ue)}(i,p,co(e)).next(x=>{if(x)return a=x.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(p,x.targetId).next(M=>{u=M})}).next(()=>i.ss.getDocumentsMatchingQuery(p,e,t?a:ni.min(),t?u:Ci())).next(x=>(xy(i,h(e),x),{documents:x,Ts:u})))}function by(o,e){const t=An(o),i=An(t.Ur),a=t.os.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",u=>i.ot(u,e).next(p=>p?p.target:null))}function Ey(o,e){const t=An(o),i=t.us.get(e)||ni.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.cs.getAllFromCollectionGroup(a,e,Gp(i,-1),Number.MAX_SAFE_INTEGER)).then(a=>(xy(t,e,a),a))}function xy(o,e,t){let i=o.us.get(e)||ni.min();t.forEach((a,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),o.us.set(e,i)}function U_(){return(U_=(0,O.Z)(function*(o,e,t,i){const a=An(o);let u=Ci(),p=nt();for(const H of t){const ue=e.Es(H.metadata.name);H.document&&(u=u.add(ue));const Ie=e.ds(H);Ie.setReadTime(e.As(H.metadata.readTime)),p=p.insert(ue,Ie)}const x=a.cs.newChangeBuffer({trackRemovals:!0}),M=yield su(a,(ue=i,co(Al(Si.fromString(`__bundle__/docs/${ue}`)))));var ue;return a.persistence.runTransaction("Apply bundle documents","readwrite",H=>vy(H,x,p).next(ue=>(x.apply(H),ue)).next(ue=>a.Ur.removeMatchingKeysForTargetId(H,M.targetId).next(()=>a.Ur.addMatchingKeys(H,u,M.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(H,ue.Ps,ue.Is)).next(()=>ue.Ps)))})).apply(this,arguments)}function $E(o,e){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,O.Z)(function*(o,e,t=Ci()){const i=yield su(o,co(lh(e.bundledQuery))),a=An(o);return a.persistence.runTransaction("Save named query","readwrite",u=>{const p=Co(e.readTime);if(i.snapshotVersion.compareTo(p)>=0)return a.Gr.saveNamedQuery(u,e);const x=i.withResumeToken($r.EMPTY_BYTE_STRING,p);return a.os=a.os.insert(x.targetId,x),a.Ur.updateTargetData(u,x).next(()=>a.Ur.removeMatchingKeysForTargetId(u,i.targetId)).next(()=>a.Ur.addMatchingKeys(u,t,i.targetId)).next(()=>a.Gr.saveNamedQuery(u,e))})})).apply(this,arguments)}function z_(o,e){return`firestore_clients_${o}_${e}`}function Cy(o,e,t){let i=`firestore_mutations_${o}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function wy(o,e){return`firestore_targets_${o}_${e}`}class Gf{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static Rs(e,t,i){const a=JSON.parse(i);let u,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(u=new hn(a.error.code,a.error.message))),p?new Gf(e,t,a.state,u):(Ui("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rm{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Rs(e,t){const i=JSON.parse(t);let a,u="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new hn(i.error.code,i.error.message))),u?new Rm(e,i.state,a):(Ui("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qu{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const i=JSON.parse(t);let a="object"==typeof i&&i.activeTargetIds instanceof Array,u=qc();for(let p=0;a&&p<i.activeTargetIds.length;++p)a=ef(i.activeTargetIds[p]),u=u.add(i.activeTargetIds[p]);return a?new Qu(e,u):(Ui("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class H_{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new H_(t.clientId,t.onlineState):(Ui("SharedClientState",`Failed to parse online state: ${e}`),null)}}class j_{constructor(){this.activeTargetIds=qc()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wf{constructor(e,t,i,a,u){this.window=e,this.ui=t,this.persistenceKey=i,this.ps=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new pr(yi),this.started=!1,this.bs=[];const p=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Ds=z_(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new j_),this.Cs=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,O.Z)(function*(){const t=yield e.syncEngine.Qi();for(const a of t){if(a===e.ps)continue;const u=e.getItem(z_(e.persistenceKey,a));if(u){const p=Qu.Rs(a,u);p&&(e.Ss=e.Ss.insert(p.clientId,p))}}e.Ns();const i=e.storage.getItem(e.xs);if(i){const a=e.Ls(i);a&&e.Bs(a)}for(const a of e.bs)e.ws(a);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,i){this.qs(e,t,i),this.Qs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(wy(this.persistenceKey,e));if(i){const a=Rm.Rs(e,i);a&&(t=a.state)}}return this.Ks.fs(e),this.Ns(),t}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(wy(this.persistenceKey,e))}updateQueryState(e,t,i){this.$s(e,t,i)}handleUserChange(e,t,i){t.forEach(a=>{this.Qs(a)}),this.currentUser=e,i.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return fn("SharedClientState","READ",e,t),t}setItem(e,t){fn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){fn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var t=this;const i=e;if(i.storageArea===this.storage){if(fn("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ds)return void Ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,O.Z)(function*(){if(t.started){if(null!==i.key)if(t.Cs.test(i.key)){if(null==i.newValue){const a=t.Gs(i.key);return t.zs(a,null)}{const a=t.js(i.key,i.newValue);if(a)return t.zs(a.clientId,a)}}else if(t.Fs.test(i.key)){if(null!==i.newValue){const a=t.Hs(i.key,i.newValue);if(a)return t.Js(a)}}else if(t.Ms.test(i.key)){if(null!==i.newValue){const a=t.Ys(i.key,i.newValue);if(a)return t.Zs(a)}}else if(i.key===t.xs){if(null!==i.newValue){const a=t.Ls(i.newValue);if(a)return t.Bs(a)}}else if(i.key===t.vs){const a=function(p){let x=ys.oe;if(null!=p)try{const M=JSON.parse(p);Kn("number"==typeof M),x=M}catch(M){Ui("SharedClientState","Failed to read sequence number from WebStorage",M)}return x}(i.newValue);a!==ys.oe&&t.sequenceNumberHandler(a)}else if(i.key===t.Os){const a=t.Xs(i.newValue);yield Promise.all(a.map(u=>t.syncEngine.eo(u)))}}else t.bs.push(i)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,i){const a=new Gf(this.currentUser,e,t,i),u=Cy(this.persistenceKey,this.currentUser,e);this.setItem(u,a.Vs())}Qs(e){const t=Cy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,t,i){const a=wy(this.persistenceKey,e),u=new Rm(e,t,i);this.setItem(a,u.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const i=this.Gs(e);return Qu.Rs(i,t)}Hs(e,t){const i=this.Fs.exec(e),a=Number(i[1]);return Gf.Rs(new In(void 0!==i[2]?i[2]:null),a,t)}Ys(e,t){const i=this.Ms.exec(e),a=Number(i[1]);return Rm.Rs(a,t)}Ls(e){return H_.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var t=this;return(0,O.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.no(e.batchId,e.state,e.error);fn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const i=t?this.Ss.insert(e,t):this.Ss.remove(e),a=this.ks(this.Ss),u=this.ks(i),p=[],x=[];return u.forEach(M=>{a.has(M)||p.push(M)}),a.forEach(M=>{u.has(M)||x.push(M)}),this.syncEngine.io(p,x).then(()=>{this.Ss=i})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=qc();return e.forEach((i,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Iy{constructor(){this.so=new j_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new j_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fl{_o(e){}shutdown(){}}class vh{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Uo=null;function dc(){return null===Uo?Uo=268435456+Math.round(2147483648*Math.random()):Uo++,"0x"+Uo.toString(16)}const Om={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Za{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Jo="WebChannelConnection";class yh extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${a}/databases/${u}`,this.Co="(default)"===this.databaseId.database?`project_id=${a}`:`project_id=${a}&database_id=${u}`}get Fo(){return!1}Mo(t,i,a,u,p){const x=dc(),M=this.xo(t,i.toUriEncodedString());fn("RestConnection",`Sending RPC '${t}' ${x}:`,M,a);const H={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(H,u,p),this.No(t,M,H,a).then(ue=>(fn("RestConnection",`Received RPC '${t}' ${x}: `,ue),ue),ue=>{throw bo("RestConnection",`RPC '${t}' ${x} failed with error: `,ue,"url: ",M,"request:",a),ue})}Lo(t,i,a,u,p,x){return this.Mo(t,i,a,u,p)}Oo(t,i,a){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ti,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,p)=>t[p]=u),a&&a.headers.forEach((u,p)=>t[p]=u)}xo(t,i){return`${this.Do}/v1/${i}:${Om[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,a){const u=dc();return new Promise((p,x)=>{const M=new S;M.setWithCredentials(!0),M.listenOnce(B.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case J.NO_ERROR:const ue=M.getResponseJson();fn(Jo,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(ue)),p(ue);break;case J.TIMEOUT:fn(Jo,`RPC '${e}' ${u} timed out`),x(new hn(Kt.DEADLINE_EXCEEDED,"Request time out"));break;case J.HTTP_ERROR:const Ie=M.getStatus();if(fn(Jo,`RPC '${e}' ${u} failed with status:`,Ie,"response text:",M.getResponseText()),Ie>0){let Qe=M.getResponseJson();Array.isArray(Qe)&&(Qe=Qe[0]);const vt=Qe?.error;if(vt&&vt.status&&vt.message){const Ot=function(qt){const En=qt.toLowerCase().replace(/_/g,"-");return Object.values(Kt).indexOf(En)>=0?En:Kt.UNKNOWN}(vt.status);x(new hn(Ot,vt.message))}else x(new hn(Kt.UNKNOWN,"Server responded with status "+M.getStatus()))}else x(new hn(Kt.UNAVAILABLE,"Connection failed."));break;default:Ln()}}finally{fn(Jo,`RPC '${e}' ${u} completed.`)}});const H=JSON.stringify(a);fn(Jo,`RPC '${e}' ${u} sending request:`,a),M.send(t,"POST",H,i,15)})}Bo(e,t,i){const a=dc(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=ln(),x=At(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(M.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(M.xmlHttpFactory=new P({})),this.Oo(M.initMessageHeaders,t,i),M.encodeInitMessageHeaders=!0;const ue=u.join("");fn(Jo,`Creating RPC '${e}' stream ${a}: ${ue}`,M);const Ie=p.createWebChannel(ue,M);let Qe=!1,vt=!1;const Ot=new Za({Io:qt=>{vt?fn(Jo,`Not sending because RPC '${e}' stream ${a} is closed:`,qt):(Qe||(fn(Jo,`Opening RPC '${e}' stream ${a} transport.`),Ie.open(),Qe=!0),fn(Jo,`RPC '${e}' stream ${a} sending:`,qt),Ie.send(qt))},To:()=>Ie.close()}),Yt=(qt,En,kn)=>{qt.listen(En,yn=>{try{kn(yn)}catch(zn){setTimeout(()=>{throw zn},0)}})};return Yt(Ie,C.EventType.OPEN,()=>{vt||(fn(Jo,`RPC '${e}' stream ${a} transport opened.`),Ot.yo())}),Yt(Ie,C.EventType.CLOSE,()=>{vt||(vt=!0,fn(Jo,`RPC '${e}' stream ${a} transport closed`),Ot.So())}),Yt(Ie,C.EventType.ERROR,qt=>{vt||(vt=!0,bo(Jo,`RPC '${e}' stream ${a} transport errored:`,qt),Ot.So(new hn(Kt.UNAVAILABLE,"The operation could not be completed")))}),Yt(Ie,C.EventType.MESSAGE,qt=>{var En;if(!vt){const kn=qt.data[0];Kn(!!kn);const zn=kn.error||(null===(En=kn[0])||void 0===En?void 0:En.error);if(zn){fn(Jo,`RPC '${e}' stream ${a} received error:`,zn);const pi=zn.status;let mi=function(mt){const Tt=Ro[mt];if(void 0!==Tt)return um(Tt)}(pi),Ct=zn.message;void 0===mi&&(mi=Kt.INTERNAL,Ct="Unknown error status: "+pi+" with message "+zn.message),vt=!0,Ot.So(new hn(mi,Ct)),Ie.close()}else fn(Jo,`RPC '${e}' stream ${a} received:`,kn),Ot.bo(kn)}}),Yt(x,Re.STAT_EVENT,qt=>{qt.stat===xe.PROXY?fn(Jo,`RPC '${e}' stream ${a} detected buffering proxy`):qt.stat===xe.NOPROXY&&fn(Jo,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Ot.wo()},0),Ot}}function Xu(){return typeof window<"u"?window:null}function hc(){return typeof document<"u"?document:null}function Nl(o){return new Ov(o,!0)}class au{constructor(e,t,i=1e3,a=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=a,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),a=Math.max(0,t-i);a>0&&fn("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Ju{constructor(e,t,i,a,u,p,x,M){this.ui=e,this.Ho=i,this.Jo=a,this.connection=u,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=x,this.listener=M,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new au(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,O.Z)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,O.Z)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var i=this;return(0,O.Z)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==e?i.t_.reset():t&&t.code===Kt.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):t&&t.code===Kt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Yo===t&&this.P_(i,a)},i=>{e(()=>{const a=new hn(Kt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(a)})})}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{i(()=>this.I_(a))}),this.stream.onMessage(a=>{i(()=>1==++this.e_?this.E_(a):this.onNext(a))})}i_(){var e=this;this.state=5,this.t_.Go((0,O.Z)(function*(){e.state=0,e.start()}))}I_(e){return fn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(fn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bh extends Ju{constructor(e,t,i,a,u,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,p),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function Vv(o,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:Ln(),a=e.targetChange.targetIds||[],u=function(H,ue){return H.useProto3Json?(Kn(void 0===ue||"string"==typeof ue),$r.fromBase64String(ue||"")):(Kn(void 0===ue||ue instanceof Buffer||ue instanceof Uint8Array),$r.fromUint8Array(ue||new Uint8Array))}(o,e.targetChange.resumeToken),p=e.targetChange.cause,x=p&&function(H){const ue=void 0===H.code?Kt.UNKNOWN:um(H.code);return new hn(ue,H.message||"")}(p);t=new Wu(i,a,u,x||null)}else if("documentChange"in e){const i=e.documentChange,a=Ol(o,i.document.name),u=Co(i.document.updateTime),p=i.document.createTime?Co(i.document.createTime):ni.min(),x=new Po({mapValue:{fields:i.document.fields}}),M=yr.newFoundDocument(a,u,p,x);t=new dm(i.targetIds||[],i.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const i=e.documentDelete,a=Ol(o,i.document),u=i.readTime?Co(i.readTime):ni.min(),p=yr.newNoDocument(a,u);t=new dm([],i.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const i=e.documentRemove,a=Ol(o,i.document);t=new dm([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Ln();{const i=e.filter,{count:a=0,unchangedNames:u}=i,p=new wE(a,u);t=new Mv(i.targetId,p)}}var H;return t}(this.serializer,e),i=function(u){if(!("targetChange"in u))return ni.min();const p=u.targetChange;return p.targetIds&&p.targetIds.length?ni.min():p.readTime?Co(p.readTime):ni.min()}(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=fm(this.serializer),t.addTarget=function(u,p){let x;const M=p.target;if(x=Zc(M)?{documents:Uv(u,M)}:{query:Pf(u,M)._t},x.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){x.resumeToken=x_(u,p.resumeToken);const H=hm(u,p.expectedCount);null!==H&&(x.expectedCount=H)}else if(p.snapshotVersion.compareTo(ni.min())>0){x.readTime=rh(u,p.snapshotVersion.toTimestamp());const H=hm(u,p.expectedCount);null!==H&&(x.expectedCount=H)}return x}(this.serializer,e);const i=function SE(o,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ln()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=fm(this.serializer),t.removeTarget=e,this.a_(t)}}class Eh extends Ju{constructor(e,t,i,a,u,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,p),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Kn(!!e.streamToken),this.lastStreamToken=e.streamToken,Kn(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Kn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function TE(o,e){return o&&o.length>0?(Kn(void 0!==e),o.map(t=>function(a,u){let p=Co(a.updateTime?a.updateTime:u);return p.isEqual(ni.min())&&(p=Co(u)),new bE(p,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Co(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=fm(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>oh(this.serializer,i))};this.a_(t)}}class xh extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new hn(Kt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.Mo(e,C_(t,i),a,u,p)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new hn(Kt.UNKNOWN,u.toString())})}Lo(e,t,i,a,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,x])=>this.connection.Lo(e,C_(t,i),a,p,x,u)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new hn(Kt.UNKNOWN,p.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Dy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ui(t),this.D_=!1):fn("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Ay{constructor(e,t,i,a,u){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o(x=>{i.enqueueAndForget((0,O.Z)(function*(){var M;lu(p)&&(fn("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,O.Z)(function*(ue){const Ie=An(ue);Ie.L_.add(4),yield ed(Ie),Ie.q_.set("Unknown"),Ie.L_.delete(4),yield Ch(Ie)}),function H(ue){return M.apply(this,arguments)})(p))}))}),this.q_=new Dy(i,a)}}function Ch(o){return km.apply(this,arguments)}function km(){return(km=(0,O.Z)(function*(o){if(lu(o))for(const e of o.B_)yield e(!0)})).apply(this,arguments)}function ed(o){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,O.Z)(function*(o){for(const e of o.B_)yield e(!1)})).apply(this,arguments)}function Zf(o,e){const t=An(o);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Lm(t)?$_(t):id(t).r_()&&Nm(t,e))}function td(o,e){const t=An(o),i=id(t);t.N_.delete(e),i.r_()&&Ty(t,e),0===t.N_.size&&(i.r_()?i.o_():lu(t)&&t.q_.set("Unknown"))}function Nm(o,e){if(o.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ni.min())>0){const t=o.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}id(o).A_(e)}function Ty(o,e){o.Q_.xe(e),id(o).R_(e)}function $_(o){o.Q_=new IE({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>o.N_.get(e)||null,tt:()=>o.datastore.serializer.databaseId}),id(o).start(),o.q_.v_()}function Lm(o){return lu(o)&&!id(o).n_()&&o.N_.size>0}function lu(o){return 0===An(o).L_.size}function G_(o){o.Q_=void 0}function W_(o){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,O.Z)(function*(o){o.q_.set("Online")})).apply(this,arguments)}function GE(o){return wh.apply(this,arguments)}function wh(){return(wh=(0,O.Z)(function*(o){o.N_.forEach((e,t)=>{Nm(o,e)})})).apply(this,arguments)}function Bm(o,e){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,O.Z)(function*(o,e){G_(o),Lm(o)?(o.q_.M_(e),$_(o)):o.q_.set("Unknown")})).apply(this,arguments)}function WE(o,e,t){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,O.Z)(function*(o,e,t){if(o.q_.set("Online"),e instanceof Wu&&2===e.state&&e.cause)try{yield(i=(0,O.Z)(function*(u,p){const x=p.cause;for(const M of p.targetIds)u.N_.has(M)&&(yield u.remoteSyncer.rejectListen(M,x),u.N_.delete(M),u.Q_.removeTarget(M))}),function a(u,p){return i.apply(this,arguments)})(o,e)}catch(i){fn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield nd(o,i)}else if(e instanceof dm?o.Q_.Ke(e):e instanceof Mv?o.Q_.He(e):o.Q_.We(e),!t.isEqual(ni.min()))try{const i=yield _y(o.localStore);t.compareTo(i)>=0&&(yield function(u,p){const x=u.Q_.rt(p);return x.targetChanges.forEach((M,H)=>{if(M.resumeToken.approximateByteSize()>0){const ue=u.N_.get(H);ue&&u.N_.set(H,ue.withResumeToken(M.resumeToken,p))}}),x.targetMismatches.forEach((M,H)=>{const ue=u.N_.get(M);if(!ue)return;u.N_.set(M,ue.withResumeToken($r.EMPTY_BYTE_STRING,ue.snapshotVersion)),Ty(u,M);const Ie=new eu(ue.target,M,H,ue.sequenceNumber);Nm(u,Ie)}),u.remoteSyncer.applyRemoteEvent(x)}(o,t))}catch(i){fn("RemoteStore","Failed to raise snapshot:",i),yield nd(o,i)}var i}),Ih.apply(this,arguments)}function nd(o,e,t){return qf.apply(this,arguments)}function qf(){return(qf=(0,O.Z)(function*(o,e,t){if(!Ha(e))throw e;o.L_.add(1),yield ed(o),o.q_.set("Offline"),t||(t=()=>_y(o.localStore)),o.asyncQueue.enqueueRetryable((0,O.Z)(function*(){fn("RemoteStore","Retrying IndexedDB access"),yield t(),o.L_.delete(1),yield Ch(o)}))})).apply(this,arguments)}function Z_(o,e){return e().catch(t=>nd(o,t,e))}function cu(o){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,O.Z)(function*(o){const e=An(o),t=fc(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Sy(e);)try{const a=yield yy(e.localStore,i);if(null===a){0===e.O_.length&&t.o_();break}i=a.batchId,K_(e,a)}catch(a){yield nd(e,a)}Um(e)&&My(e)})).apply(this,arguments)}function Sy(o){return lu(o)&&o.O_.length<10}function K_(o,e){o.O_.push(e);const t=fc(o);t.r_()&&t.V_&&t.m_(e.mutations)}function Um(o){return lu(o)&&!fc(o).n_()&&o.O_.length>0}function My(o){fc(o).start()}function Py(o){return zm.apply(this,arguments)}function zm(){return(zm=(0,O.Z)(function*(o){fc(o).p_()})).apply(this,arguments)}function Ry(o){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,O.Z)(function*(o){const e=fc(o);for(const t of o.O_)e.m_(t.mutations)})).apply(this,arguments)}function ZE(o,e,t){return jm.apply(this,arguments)}function jm(){return(jm=(0,O.Z)(function*(o,e,t){const i=o.O_.shift(),a=v_.from(i,e,t);yield Z_(o,()=>o.remoteSyncer.applySuccessfulWrite(a)),yield cu(o)})).apply(this,arguments)}function Oy(o,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,O.Z)(function*(o,e){var t;e&&fc(o).V_&&(yield(t=(0,O.Z)(function*(a,u){if(y_(x=u.code)&&x!==Kt.ABORTED){const p=a.O_.shift();fc(a).s_(),yield Z_(a,()=>a.remoteSyncer.rejectFailedWrite(p.batchId,u)),yield cu(a)}var x}),function i(a,u){return t.apply(this,arguments)})(o,e)),Um(o)&&My(o)}),Qf.apply(this,arguments)}function Xf(o,e){return $m.apply(this,arguments)}function $m(){return($m=(0,O.Z)(function*(o,e){const t=An(o);t.asyncQueue.verifyOperationInProgress(),fn("RemoteStore","RemoteStore received new credentials");const i=lu(t);t.L_.add(3),yield ed(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Ch(t)})).apply(this,arguments)}function Gm(o,e){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,O.Z)(function*(o,e){const t=An(o);e?(t.L_.delete(2),yield Ch(t)):e||(t.L_.add(2),yield ed(t),t.q_.set("Unknown"))})).apply(this,arguments)}function id(o){return o.K_||(o.K_=function(t,i,a){const u=An(t);return u.w_(),new bh(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(o.datastore,o.asyncQueue,{Eo:W_.bind(null,o),Ro:GE.bind(null,o),mo:Bm.bind(null,o),d_:WE.bind(null,o)}),o.B_.push(function(){var e=(0,O.Z)(function*(t){t?(o.K_.s_(),Lm(o)?$_(o):o.q_.set("Unknown")):(yield o.K_.stop(),G_(o))});return function(t){return e.apply(this,arguments)}}())),o.K_}function fc(o){return o.U_||(o.U_=function(t,i,a){const u=An(t);return u.w_(),new Eh(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(o.datastore,o.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Py.bind(null,o),mo:Oy.bind(null,o),f_:Ry.bind(null,o),g_:ZE.bind(null,o)}),o.B_.push(function(){var e=(0,O.Z)(function*(t){t?(o.U_.s_(),yield cu(o)):(yield o.U_.stop(),o.O_.length>0&&(fn("RemoteStore",`Stopping write stream with ${o.O_.length} pending writes`),o.O_=[]))});return function(t){return e.apply(this,arguments)}}())),o.U_}class Zm{constructor(e,t,i,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=u,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,u){const p=Date.now()+i,x=new Zm(e,t,p,a,u);return x.start(i),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hn(Kt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rd(o,e){if(Ui("AsyncQueue",`${e}: ${o}`),Ha(o))return new hn(Kt.UNAVAILABLE,`${e}: ${o}`);throw o}class od{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Rn.comparator(t.key,i.key):(t,i)=>Rn.comparator(t.key,i.key),this.keyedMap=tn(),this.sortedSet=new pr(this.comparator)}static emptySet(e){return new od(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof od)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=i.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new od;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Jf{constructor(){this.W_=new pr(Rn.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?0!==e.type&&3===i.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==i.type?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.W_=this.W_.remove(t):1===e.type&&2===i.type?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ln():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ma{constructor(e,t,i,a,u,p,x,M,H){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=u,this.fromCache=p,this.syncStateChanged=x,this.excludesMetadataChanges=M,this.hasCachedResults=H}static fromInitialDocuments(e,t,i,a,u){const p=[];return t.forEach(x=>{p.push({type:0,doc:x})}),new Ma(e,t,od.emptySet(t),p,i,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class KE{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class YE{constructor(){this.queries=Km(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,i){const a=An(t),u=a.queries;a.queries=Km(),u.forEach((p,x)=>{for(const M of x.j_)M.onError(i)})}(this,new hn(Kt.ABORTED,"Firestore shutting down"))}}function Km(){return new q(o=>sm(o),Yc)}function pc(o,e){return ep.apply(this,arguments)}function ep(){return(ep=(0,O.Z)(function*(o,e){const t=An(o);let i=3;const a=e.query;let u=t.queries.get(a);u?!u.H_()&&e.J_()&&(i=2):(u=new KE,i=e.J_()?0:1);try{switch(i){case 0:u.z_=yield t.onListen(a,!0);break;case 1:u.z_=yield t.onListen(a,!1);break;case 2:yield t.onFirstRemoteStoreListen(a)}}catch(p){const x=rd(p,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(x)}t.queries.set(a,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&q_(t)})).apply(this,arguments)}function Y_(o,e){return tp.apply(this,arguments)}function tp(){return(tp=(0,O.Z)(function*(o,e){const t=An(o),i=e.query;let a=3;const u=t.queries.get(i);if(u){const p=u.j_.indexOf(e);p>=0&&(u.j_.splice(p,1),0===u.j_.length?a=e.J_()?0:1:!u.H_()&&e.J_()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function MC(o,e){const t=An(o);let i=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const x of p.j_)x.X_(a)&&(i=!0);p.z_=a}}i&&q_(t)}function PC(o,e,t){const i=An(o),a=i.queries.get(e);if(a)for(const u of a.j_)u.onError(t);i.queries.delete(e)}function q_(o){o.Y_.forEach(e=>{e.next()})}var Q_,X_;(X_=Q_||(Q_={})).ea="default",X_.Cache="cache";class J_{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new Ma(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Q_.Cache}}class zo{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}class e0{constructor(e){this.serializer=e}Es(e){return Ol(this.serializer,e)}ds(e){return e.metadata.exists?Bv(this.serializer,e.document,!1):yr.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Co(e)}}class qE{constructor(e,t,i){this.ca=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ky(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const i=Si.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,i=new e0(this.serializer);for(const a of e)if(a.metadata.queries){const u=i.Es(a.metadata.name);for(const p of a.metadata.queries){const x=(t.get(p)||Ci()).add(u);t.set(p,x)}}return t}complete(){var e=this;return(0,O.Z)(function*(){const t=yield function jE(o,e,t,i){return U_.apply(this,arguments)}(e.localStore,new e0(e.serializer),e.documents,e.ca.id),i=e.ha(e.documents);for(const a of e.queries)yield $E(e.localStore,a,i.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:t}})()}}function ky(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}class t0{constructor(e){this.key=e}}class Fy{constructor(e){this.key=e}}class n0{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ci(),this.mutatedKeys=Ci(),this.Aa=f(e),this.Ra=new od(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new Jf,a=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,p=a,x=!1;const M="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,H="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ue,Ie)=>{const Qe=a.get(ue),vt=y(this.query,Ie)?Ie:null,Ot=!!Qe&&this.mutatedKeys.has(Qe.key),Yt=!!vt&&(vt.hasLocalMutations||this.mutatedKeys.has(vt.key)&&vt.hasCommittedMutations);let qt=!1;Qe&&vt?Qe.data.isEqual(vt.data)?Ot!==Yt&&(i.track({type:3,doc:vt}),qt=!0):this.ga(Qe,vt)||(i.track({type:2,doc:vt}),qt=!0,(M&&this.Aa(vt,M)>0||H&&this.Aa(vt,H)<0)&&(x=!0)):!Qe&&vt?(i.track({type:0,doc:vt}),qt=!0):Qe&&!vt&&(i.track({type:1,doc:Qe}),qt=!0,(M||H)&&(x=!0)),qt&&(vt?(p=p.add(vt),u=Yt?u.add(ue):u.delete(ue)):(p=p.delete(ue),u=u.delete(ue)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const ue="F"===this.query.limitType?p.last():p.first();p=p.delete(ue.key),u=u.delete(ue.key),i.track({type:1,doc:ue})}return{Ra:p,fa:i,ns:x,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const p=e.fa.G_();p.sort((ue,Ie)=>function(vt,Ot){const Yt=qt=>{switch(qt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ln()}};return Yt(vt)-Yt(Ot)}(ue.type,Ie.type)||this.Aa(ue.doc,Ie.doc)),this.pa(i),a=null!=a&&a;const x=t&&!a?this.ya():[],M=0===this.da.size&&this.current&&!a?1:0,H=M!==this.Ea;return this.Ea=M,0!==p.length||H?{snapshot:new Ma(this.query,e.Ra,u,p,e.mutatedKeys,0===M,H,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:x}:{wa:x}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ci(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const t=[];return e.forEach(i=>{this.da.has(i)||t.push(new Fy(i))}),this.da.forEach(i=>{e.has(i)||t.push(new t0(i))}),t}ba(e){this.Ta=e.Ts,this.da=Ci();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ma.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Ny{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Dh{constructor(e){this.key=e,this.va=!1}}class QE{constructor(e,t,i,a,u,p){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=p,this.Ca={},this.Fa=new q(x=>sm(x),Yc),this.Ma=new Map,this.xa=new Set,this.Oa=new pr(Rn.comparator),this.Na=new Map,this.La=new ph,this.Ba={},this.ka=new Map,this.qa=ru.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function XE(o,e){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,O.Z)(function*(o,e,t=!0){const i=sg(o);let a;const u=i.Fa.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Da()):a=yield ex(i,e,t,!0),a})).apply(this,arguments)}function JE(o,e){return qm.apply(this,arguments)}function qm(){return(qm=(0,O.Z)(function*(o,e){const t=sg(o);yield ex(t,e,!0,!1)})).apply(this,arguments)}function ex(o,e,t,i){return np.apply(this,arguments)}function np(){return(np=(0,O.Z)(function*(o,e,t,i){const a=yield su(o.localStore,co(e)),u=a.targetId,p=t?o.sharedClientState.addLocalQueryTarget(u):"not-current";let x;return i&&(x=yield ip(o,e,u,"current"===p,a.resumeToken)),o.isPrimaryClient&&t&&Zf(o.remoteStore,a),x})).apply(this,arguments)}function ip(o,e,t,i,a){return Ka.apply(this,arguments)}function Ka(){return Ka=(0,O.Z)(function*(o,e,t,i,a){o.Ka=(Ie,Qe,vt)=>{return(Ot=(0,O.Z)(function*(qt,En,kn,yn){let zn=En.view.ma(kn);zn.ns&&(zn=yield Mm(qt.localStore,En.query,!1).then(({documents:it})=>En.view.ma(it,zn)));const pi=yn&&yn.targetChanges.get(En.targetId),mi=yn&&null!=yn.targetMismatches.get(En.targetId),Ct=En.view.applyChanges(zn,qt.isPrimaryClient,pi,mi);return ng(qt,En.targetId,Ct.wa),Ct.snapshot}),function Yt(qt,En,kn,yn){return Ot.apply(this,arguments)})(o,Ie,Qe,vt);var Ot};const u=yield Mm(o.localStore,e,!0),p=new n0(e,u.Ts),x=p.ma(u.documents),M=Sf.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==o.onlineState,a),H=p.applyChanges(x,o.isPrimaryClient,M);ng(o,t,H.wa);const ue=new Ny(e,t,p);return o.Fa.set(e,ue),o.Ma.has(t)?o.Ma.get(t).push(e):o.Ma.set(t,[e]),H.snapshot}),Ka.apply(this,arguments)}function tx(o,e,t){return Qm.apply(this,arguments)}function Qm(){return(Qm=(0,O.Z)(function*(o,e,t){const i=An(o),a=i.Fa.get(e),u=i.Ma.get(a.targetId);if(u.length>1)return i.Ma.set(a.targetId,u.filter(p=>!Yc(p,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield _h(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&td(i.remoteStore,a.targetId),mc(i,a.targetId)}).catch(Js))):(mc(i,a.targetId),yield _h(i.localStore,a.targetId,!0))})).apply(this,arguments)}function Ll(o,e){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,O.Z)(function*(o,e){const t=An(o),i=t.Fa.get(e),a=t.Ma.get(i.targetId);t.isPrimaryClient&&1===a.length&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),td(t.remoteStore,i.targetId))})).apply(this,arguments)}function Xm(){return(Xm=(0,O.Z)(function*(o,e,t){const i=m0(o);try{const a=yield function(p,x){const M=An(p),H=tr.now(),ue=x.reduce((vt,Ot)=>vt.add(Ot.key),Ci());let Ie,Qe;return M.persistence.runTransaction("Locally write mutations","readwrite",vt=>{let Ot=nt(),Yt=Ci();return M.cs.getEntries(vt,ue).next(qt=>{Ot=qt,Ot.forEach((En,kn)=>{kn.isValidDocument()||(Yt=Yt.add(En))})}).next(()=>M.localDocuments.getOverlayedDocuments(vt,Ot)).next(qt=>{Ie=qt;const En=[];for(const kn of x){const yn=xE(kn,Ie.get(kn.key).overlayedDocument);null!=yn&&En.push(new Pl(kn.key,yn,Hd(yn.value.mapValue),Vr.exists(!0)))}return M.mutationQueue.addMutationBatch(vt,H,En,x)}).next(qt=>{Qe=qt;const En=qt.applyToLocalDocumentSet(Ie,Yt);return M.documentOverlayCache.saveOverlays(vt,qt.batchId,En)})}).then(()=>({batchId:Qe.batchId,changes:Sn(Ie)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(p,x,M){let H=p.Ba[p.currentUser.toKey()];H||(H=new pr(yi)),H=H.insert(x,M),p.Ba[p.currentUser.toKey()]=H}(i,a.batchId,t),yield Ya(i,a.changes),yield cu(i.remoteStore)}catch(a){const u=rd(a,"Failed to persist write");t.reject(u)}})).apply(this,arguments)}function r0(o,e){return o0.apply(this,arguments)}function o0(){return(o0=(0,O.Z)(function*(o,e){const t=An(o);try{const i=yield function HE(o,e){const t=An(o),i=e.snapshotVersion;let a=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const p=t.cs.newChangeBuffer({trackRemovals:!0});a=t.os;const x=[];e.targetChanges.forEach((ue,Ie)=>{const Qe=a.get(Ie);if(!Qe)return;x.push(t.Ur.removeMatchingKeys(u,ue.removedDocuments,Ie).next(()=>t.Ur.addMatchingKeys(u,ue.addedDocuments,Ie)));let vt=Qe.withSequenceNumber(u.currentSequenceNumber);var Yt,qt,En;null!==e.targetMismatches.get(Ie)?vt=vt.withResumeToken($r.EMPTY_BYTE_STRING,ni.min()).withLastLimboFreeSnapshotVersion(ni.min()):ue.resumeToken.approximateByteSize()>0&&(vt=vt.withResumeToken(ue.resumeToken,i)),a=a.insert(Ie,vt),qt=vt,En=ue,(0===(Yt=Qe).resumeToken.approximateByteSize()||qt.snapshotVersion.toMicroseconds()-Yt.snapshotVersion.toMicroseconds()>=3e8||En.addedDocuments.size+En.modifiedDocuments.size+En.removedDocuments.size>0)&&x.push(t.Ur.updateTargetData(u,vt))});let M=nt(),H=Ci();if(e.documentUpdates.forEach(ue=>{e.resolvedLimboDocuments.has(ue)&&x.push(t.persistence.referenceDelegate.updateLimboDocument(u,ue))}),x.push(vy(u,p,e.documentUpdates).next(ue=>{M=ue.Ps,H=ue.Is})),!i.isEqual(ni.min())){const ue=t.Ur.getLastRemoteSnapshotVersion(u).next(Ie=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,i));x.push(ue)}return Nt.waitFor(x).next(()=>p.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,M,H)).next(()=>M)}).then(u=>(t.os=a,u))}(t.localStore,e);e.targetChanges.forEach((a,u)=>{const p=t.Na.get(u);p&&(Kn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.va=!0:a.modifiedDocuments.size>0?Kn(p.va):a.removedDocuments.size>0&&(Kn(p.va),p.va=!1))}),yield Ya(t,i,e)}catch(i){yield Js(i)}})).apply(this,arguments)}function Ly(o,e,t){const i=An(o);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.Fa.forEach((u,p)=>{const x=p.view.Z_(e);x.snapshot&&a.push(x.snapshot)}),function(p,x){const M=An(p);M.onlineState=x;let H=!1;M.queries.forEach((ue,Ie)=>{for(const Qe of Ie.j_)Qe.Z_(x)&&(H=!0)}),H&&q_(M)}(i.eventManager,e),a.length&&i.Ca.d_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function nx(o,e,t){return s0.apply(this,arguments)}function s0(){return(s0=(0,O.Z)(function*(o,e,t){const i=An(o);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Na.get(e),u=a&&a.key;if(u){let p=new pr(Rn.comparator);p=p.insert(u,yr.newNoDocument(u,ni.min()));const x=Ci().add(u),M=new Tf(ni.min(),new Map,new pr(yi),p,x);yield r0(i,M),i.Oa=i.Oa.remove(u),i.Na.delete(e),rp(i)}else yield _h(i.localStore,e,!1).then(()=>mc(i,e,t)).catch(Js)})).apply(this,arguments)}function a0(o,e){return sd.apply(this,arguments)}function sd(){return(sd=(0,O.Z)(function*(o,e){const t=An(o),i=e.batch.batchId;try{const a=yield function zE(o,e){const t=An(o);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),u=t.cs.newChangeBuffer({trackRemovals:!0});return function(x,M,H,ue){const Ie=H.batch,Qe=Ie.keys();let vt=Nt.resolve();return Qe.forEach(Ot=>{vt=vt.next(()=>ue.getEntry(M,Ot)).next(Yt=>{const qt=H.docVersions.get(Ot);Kn(null!==qt),Yt.version.compareTo(qt)<0&&(Ie.applyToRemoteDocument(Yt,H),Yt.isValidDocument()&&(Yt.setReadTime(H.commitVersion),ue.addEntry(Yt)))})}),vt.next(()=>x.mutationQueue.removeMutationBatch(M,Ie))}(t,i,e,u).next(()=>u.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(x){let M=Ci();for(let H=0;H<x.mutationResults.length;++H)x.mutationResults[H].transformResults.length>0&&(M=M.add(x.batch.mutations[H].key));return M}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}(t.localStore,e);tg(t,i,null),eg(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ya(t,a)}catch(a){yield Js(a)}})).apply(this,arguments)}function ix(o,e,t){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,O.Z)(function*(o,e,t){const i=An(o);try{const a=yield function(p,x){const M=An(p);return M.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let ue;return M.mutationQueue.lookupMutationBatch(H,x).next(Ie=>(Kn(null!==Ie),ue=Ie.keys(),M.mutationQueue.removeMutationBatch(H,Ie))).next(()=>M.mutationQueue.performConsistencyCheck(H)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(H,ue,x)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(H,ue)).next(()=>M.localDocuments.getDocuments(H,ue))})}(i.localStore,e);tg(i,e,t),eg(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ya(i,a)}catch(a){yield Js(a)}})).apply(this,arguments)}function l0(){return(l0=(0,O.Z)(function*(o,e){const t=An(o);lu(t.remoteStore)||fn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(p){const x=An(p);return x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>x.mutationQueue.getHighestUnacknowledgedBatchId(M))}(t.localStore);if(-1===i)return void e.resolve();const a=t.ka.get(i)||[];a.push(e),t.ka.set(i,a)}catch(i){const a=rd(i,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function eg(o,e){(o.ka.get(e)||[]).forEach(t=>{t.resolve()}),o.ka.delete(e)}function tg(o,e,t){const i=An(o);let a=i.Ba[i.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),i.Ba[i.currentUser.toKey()]=a}}function mc(o,e,t=null){o.sharedClientState.removeLocalQueryTarget(e);for(const i of o.Ma.get(e))o.Fa.delete(i),t&&o.Ca.$a(i,t);o.Ma.delete(e),o.isPrimaryClient&&o.La.gr(e).forEach(i=>{o.La.containsKey(i)||By(o,i)})}function By(o,e){o.xa.delete(e.path.canonicalString());const t=o.Oa.get(e);null!==t&&(td(o.remoteStore,t),o.Oa=o.Oa.remove(e),o.Na.delete(t),rp(o))}function ng(o,e,t){for(const i of t)i instanceof t0?(o.La.addReference(i.key,e),Vy(o,i)):i instanceof Fy?(fn("SyncEngine","Document no longer in limbo: "+i.key),o.La.removeReference(i.key,e),o.La.containsKey(i.key)||By(o,i.key)):Ln()}function Vy(o,e){const t=e.key,i=t.path.canonicalString();o.Oa.get(t)||o.xa.has(i)||(fn("SyncEngine","New document in limbo: "+t),o.xa.add(i),rp(o))}function rp(o){for(;o.xa.size>0&&o.Oa.size<o.maxConcurrentLimboResolutions;){const e=o.xa.values().next().value;o.xa.delete(e);const t=new Rn(Si.fromString(e)),i=o.qa.next();o.Na.set(i,new Dh(t)),o.Oa=o.Oa.insert(t,i),Zf(o.remoteStore,new eu(co(Al(t.path)),i,"TargetPurposeLimboResolution",ys.oe))}}function Ya(o,e,t){return op.apply(this,arguments)}function op(){return op=(0,O.Z)(function*(o,e,t){const i=An(o),a=[],u=[],p=[];var x;i.Fa.isEmpty()||(i.Fa.forEach((x,M)=>{p.push(i.Ka(M,e,t).then(H=>{var ue;if((H||t)&&i.isPrimaryClient){const Ie=H?!H.fromCache:null===(ue=t?.targetChanges.get(M.targetId))||void 0===ue?void 0:ue.current;i.sharedClientState.updateQueryState(M.targetId,Ie?"current":"not-current")}if(H){a.push(H);const Ie=B_.Wi(M.targetId,H);u.push(Ie)}}))}),yield Promise.all(p),i.Ca.d_(a),yield(x=(0,O.Z)(function*(H,ue){const Ie=An(H);try{yield Ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",Qe=>Nt.forEach(ue,vt=>Nt.forEach(vt.$i,Ot=>Ie.persistence.referenceDelegate.addReference(Qe,vt.targetId,Ot)).next(()=>Nt.forEach(vt.Ui,Ot=>Ie.persistence.referenceDelegate.removeReference(Qe,vt.targetId,Ot)))))}catch(Qe){if(!Ha(Qe))throw Qe;fn("LocalStore","Failed to update sequence numbers: "+Qe)}for(const Qe of ue){const vt=Qe.targetId;if(!Qe.fromCache){const Ot=Ie.os.get(vt),qt=Ot.withLastLimboFreeSnapshotVersion(Ot.snapshotVersion);Ie.os=Ie.os.insert(vt,qt)}}}),function M(H,ue){return x.apply(this,arguments)})(i.localStore,u))}),op.apply(this,arguments)}function c0(o,e){return ig.apply(this,arguments)}function ig(){return(ig=(0,O.Z)(function*(o,e){const t=An(o);if(!t.currentUser.isEqual(e)){fn("SyncEngine","User change. New user:",e.toKey());const i=yield gy(t.localStore,e);t.currentUser=e,(u=t).ka.forEach(x=>{x.forEach(M=>{M.reject(new hn(Kt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ka.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ya(t,i.hs)}var u})).apply(this,arguments)}function Uy(o,e){const t=An(o),i=t.Na.get(e);if(i&&i.va)return Ci().add(i.key);{let a=Ci();const u=t.Ma.get(e);if(!u)return a;for(const p of u){const x=t.Fa.get(p);a=a.unionWith(x.view.Va)}return a}}function zy(o,e){return rg.apply(this,arguments)}function rg(){return(rg=(0,O.Z)(function*(o,e){const t=An(o),i=yield Mm(t.localStore,e.query,!0),a=e.view.ba(i);return t.isPrimaryClient&&ng(t,e.targetId,a.wa),a})).apply(this,arguments)}function Hy(o,e){return og.apply(this,arguments)}function og(){return(og=(0,O.Z)(function*(o,e){const t=An(o);return Ey(t.localStore,e).then(i=>Ya(t,i))})).apply(this,arguments)}function ox(o,e,t,i){return u0.apply(this,arguments)}function u0(){return(u0=(0,O.Z)(function*(o,e,t,i){const a=An(o),u=yield function(x,M){const H=An(x),ue=An(H.mutationQueue);return H.persistence.runTransaction("Lookup mutation documents","readonly",Ie=>ue.Mn(Ie,M).next(Qe=>Qe?H.localDocuments.getDocuments(Ie,Qe):Nt.resolve(null)))}(a.localStore,e);var M;null!==u?("pending"===t?yield cu(a.remoteStore):"acknowledged"===t||"rejected"===t?(tg(a,e,i||null),eg(a,e),M=e,An(An(a.localStore).mutationQueue).On(M)):Ln(),yield Ya(a,u)):fn("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function d0(){return(d0=(0,O.Z)(function*(o,e){const t=An(o);if(sg(t),m0(t),!0===e&&!0!==t.Qa){const i=t.sharedClientState.getAllActiveQueryTargets(),a=yield jy(t,i.toArray());t.Qa=!0,yield Gm(t.remoteStore,!0);for(const u of a)Zf(t.remoteStore,u)}else if(!1===e&&!1!==t.Qa){const i=[];let a=Promise.resolve();t.Ma.forEach((u,p)=>{t.sharedClientState.isLocalQueryTarget(p)?i.push(p):a=a.then(()=>(mc(t,p),_h(t.localStore,p,!0))),td(t.remoteStore,p)}),yield a,yield jy(t,i),function(p){const x=An(p);x.Na.forEach((M,H)=>{td(x.remoteStore,H)}),x.La.pr(),x.Na=new Map,x.Oa=new pr(Rn.comparator)}(t),t.Qa=!1,yield Gm(t.remoteStore,!1)}})).apply(this,arguments)}function jy(o,e,t){return h0.apply(this,arguments)}function h0(){return(h0=(0,O.Z)(function*(o,e,t){const i=An(o),a=[],u=[];for(const p of e){let x;const M=i.Ma.get(p);if(M&&0!==M.length){x=yield su(i.localStore,co(M[0]));for(const H of M){const ue=i.Fa.get(H),Ie=yield zy(i,ue);Ie.snapshot&&u.push(Ie.snapshot)}}else{const H=yield by(i.localStore,p);x=yield su(i.localStore,H),yield ip(i,$y(H),p,!1,x.resumeToken)}a.push(x)}return i.Ca.d_(u),a})).apply(this,arguments)}function $y(o){return Zd(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function ax(o){return t=An(o).localStore,An(An(t).persistence).Qi();var t}function lx(o,e,t,i){return f0.apply(this,arguments)}function f0(){return(f0=(0,O.Z)(function*(o,e,t,i){const a=An(o);if(a.Qa)return void fn("SyncEngine","Ignoring unexpected query state notification.");const u=a.Ma.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const p=yield Ey(a.localStore,h(u[0])),x=Tf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,$r.EMPTY_BYTE_STRING);yield Ya(a,p,x);break}case"rejected":yield _h(a.localStore,e,!0),mc(a,e,i);break;default:Ln()}})).apply(this,arguments)}function cx(o,e,t){return p0.apply(this,arguments)}function p0(){return(p0=(0,O.Z)(function*(o,e,t){const i=sg(o);if(i.Qa){for(const a of e){if(i.Ma.has(a)&&i.sharedClientState.isActiveQueryTarget(a)){fn("SyncEngine","Adding an already active target "+a);continue}const u=yield by(i.localStore,a),p=yield su(i.localStore,u);yield ip(i,$y(u),p.targetId,!1,p.resumeToken),Zf(i.remoteStore,p)}for(const a of t)i.Ma.has(a)&&(yield _h(i.localStore,a,!1).then(()=>{td(i.remoteStore,a),mc(i,a)}).catch(Js))}})).apply(this,arguments)}function sg(o){const e=An(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=r0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nx.bind(null,e),e.Ca.d_=MC.bind(null,e.eventManager),e.Ca.$a=PC.bind(null,e.eventManager),e}function m0(o){const e=An(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ix.bind(null,e),e}class sp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,O.Z)(function*(){t.serializer=Nl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return my(this.persistence,new py,e.initialUser,this.serializer)}createPersistence(e){return new Tm(mh.Zr,this.serializer)}createSharedClientState(e){return new Iy}terminate(){var e=this;return(0,O.Z)(function*(){var t,i;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(i=e.indexBackfillerScheduler)||void 0===i||i.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class g0 extends sp{constructor(e,t,i){super(),this.Wa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,O.Z)(function*(){yield t().call(i,e),yield i.Wa.initialize(i,e),yield m0(i.Wa.syncEngine),yield cu(i.Wa.remoteStore),yield i.persistence.yi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return my(this.persistence,new py,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Cm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new o_(t,this.persistence);return new Jh(e.asyncQueue,i)}createPersistence(e){const t=L_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?as.withCacheSize(this.cacheSizeBytes):as.DEFAULT;return new N_(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Xu(),hc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Iy}}class _0 extends g0{constructor(e,t){super(e,t,!1),this.Wa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,O.Z)(function*(){yield t().call(i,e);const a=i.Wa.syncEngine;i.sharedClientState instanceof Wf&&(i.sharedClientState.syncEngine={no:ox.bind(null,a),ro:lx.bind(null,a),io:cx.bind(null,a),Qi:ax.bind(null,a),eo:Hy.bind(null,a)},yield i.sharedClientState.start()),yield i.persistence.yi(function(){var u=(0,O.Z)(function*(p){yield function sx(o,e){return d0.apply(this,arguments)}(i.Wa.syncEngine,p),i.gcScheduler&&(p&&!i.gcScheduler.started?i.gcScheduler.start():p||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(p&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():p||i.indexBackfillerScheduler.stop())});return function(p){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Xu();if(!Wf.D(t))throw new hn(Kt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=L_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wf(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class ad{initialize(e,t){var i=this;return(0,O.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>Ly(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=c0.bind(null,i.syncEngine),yield Gm(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new YE}createDatastore(e){const t=Nl(e.databaseInfo.databaseId),i=new yh(e.databaseInfo);return new xh(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,a=this.datastore,u=e.asyncQueue,p=t=>Ly(this.syncEngine,t,0),x=vh.D()?new vh:new Fl,new Ay(i,a,u,p,x);var i,a,u,p,x}createSyncEngine(e,t){return function(a,u,p,x,M,H,ue){const Ie=new QE(a,u,p,x,M,H);return ue&&(Ie.Qa=!0),Ie}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,O.Z)(function*(){var t,i,a;yield(a=(0,O.Z)(function*(p){const x=An(p);fn("RemoteStore","RemoteStore shutting down."),x.L_.add(5),yield ed(x),x.k_.shutdown(),x.q_.set("Unknown")}),function u(p){return a.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate(),null===(i=e.eventManager)||void 0===i||i.terminate()})()}}function v0(o,e=10240){let t=0;return{read:()=>(0,O.Z)(function*(){if(t<o.byteLength){const i={value:o.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,O.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class ap{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Gy{constructor(e,t){this.ja=e,this.serializer=t,this.metadata=new wr,this.buffer=new Uint8Array,this.Ha=new TextDecoder("utf-8"),this.Ja().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.ja.cancel()}getMetadata(){var e=this;return(0,O.Z)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,O.Z)(function*(){return yield e.getMetadata(),e.Ja()})()}Ja(){var e=this;return(0,O.Z)(function*(){const t=yield e.Ya();if(null===t)return null;const i=e.Ha.decode(t),a=Number(i);isNaN(a)&&e.Za(`length string (${i}) is not valid number`);const u=yield e.Xa(a);return new zo(JSON.parse(u),t.length+a)})()}eu(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ya(){var e=this;return(0,O.Z)(function*(){for(;e.eu()<0&&!(yield e.tu()););if(0===e.buffer.length)return null;const t=e.eu();t<0&&e.Za("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Xa(e){var t=this;return(0,O.Z)(function*(){for(;t.buffer.length<e;)(yield t.tu())&&t.Za("Reached the end of bundle when more is expected.");const i=t.Ha.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}tu(){var e=this;return(0,O.Z)(function*(){const t=yield e.ja.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Wy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,O.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new hn(Kt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const i=yield(a=(0,O.Z)(function*(p,x){const M=An(p),H={documents:x.map(vt=>Mf(M.serializer,vt))},ue=yield M.Lo("BatchGetDocuments",M.serializer.databaseId,Si.emptyPath(),H,x.length),Ie=new Map;ue.forEach(vt=>{const Ot=function Di(o,e){return"found"in e?function(i,a){Kn(!!a.found);const u=Ol(i,a.found.name),p=Co(a.found.updateTime),x=a.found.createTime?Co(a.found.createTime):ni.min(),M=new Po({mapValue:{fields:a.found.fields}});return yr.newFoundDocument(u,p,x,M)}(o,e):"missing"in e?function(i,a){Kn(!!a.missing),Kn(!!a.readTime);const u=Ol(i,a.missing),p=Co(a.readTime);return yr.newNoDocument(u,p)}(o,e):Ln()}(M.serializer,vt);Ie.set(Ot.key.toString(),Ot)});const Qe=[];return x.forEach(vt=>{const Ot=Ie.get(vt.toString());Kn(!!Ot),Qe.push(Ot)}),Qe}),function u(p,x){return a.apply(this,arguments)})(t.datastore,e);var a;return i.forEach(a=>t.recordVersion(a)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new th(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,O.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,a)=>{const u=Rn.fromPath(a);e.mutations.push(new Jc(u,e.precondition(u)))}),yield(i=(0,O.Z)(function*(u,p){const x=An(u),M={writes:p.map(H=>oh(x.serializer,H))};yield x.Mo("Commit",x.serializer.databaseId,Si.emptyPath(),M)}),function a(u,p){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ln();t=ni.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new hn(Kt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ni.min())?Vr.exists(!1):Vr.updateTime(t):Vr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ni.min()))throw new hn(Kt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vr.updateTime(t)}return Vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Zy{constructor(e,t,i,a,u){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=a,this.deferred=u,this.nu=i.maxAttempts,this.t_=new au(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){var e=this;this.t_.Go((0,O.Z)(function*(){const t=new Wy(e.datastore),i=e.su(t);i&&i.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(u=>{e.ou(u)}))}).catch(a=>{e.ou(a)})}))}su(e){try{const t=this.updateFunction(e);return!lo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!y_(t)}return!1}}class Ky{constructor(e,t,i,a){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=In.UNAUTHENTICATED,this.clientId=i_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var p=(0,O.Z)(function*(x){fn("FirestoreClient","Received user=",x.uid),yield u.authCredentialListener(x),u.user=x});return function(x){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(i,p=>(fn("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new hn(Kt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,O.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=rd(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function lp(o,e){return ag.apply(this,arguments)}function ag(){return ag=(0,O.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress(),fn("FirestoreClient","Initializing OfflineComponentProvider");const t=o.configuration;yield e.initialize(t);let i=t.initialUser;o.setCredentialChangeListener(function(){var a=(0,O.Z)(function*(u){i.isEqual(u)||(yield gy(e.localStore,u),i=u)});return function(u){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o._offlineComponents=e}),ag.apply(this,arguments)}function cp(o,e){return gc.apply(this,arguments)}function gc(){return(gc=(0,O.Z)(function*(o,e){o.asyncQueue.verifyOperationInProgress();const t=yield y0(o);fn("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,o.configuration),o.setCredentialChangeListener(i=>Xf(e.remoteStore,i)),o.setAppCheckTokenChangeListener((i,a)=>Xf(e.remoteStore,a)),o._onlineComponents=e})).apply(this,arguments)}function Yy(o){return"FirebaseError"===o.name?o.code===Kt.FAILED_PRECONDITION||o.code===Kt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code}function y0(o){return uu.apply(this,arguments)}function uu(){return(uu=(0,O.Z)(function*(o){if(!o._offlineComponents)if(o._uninitializedComponentsProvider){fn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lp(o,o._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Yy(t))throw t;bo("Error using user provided cache. Falling back to memory cache: "+t),yield lp(o,new sp)}}else fn("FirestoreClient","Using default OfflineComponentProvider"),yield lp(o,new sp);return o._offlineComponents})).apply(this,arguments)}function b0(o){return up.apply(this,arguments)}function up(){return(up=(0,O.Z)(function*(o){return o._onlineComponents||(o._uninitializedComponentsProvider?(fn("FirestoreClient","Using user provided OnlineComponentProvider"),yield cp(o,o._uninitializedComponentsProvider._online)):(fn("FirestoreClient","Using default OnlineComponentProvider"),yield cp(o,new ad))),o._onlineComponents})).apply(this,arguments)}function hx(o){return y0(o).then(e=>e.persistence)}function ld(o){return y0(o).then(e=>e.localStore)}function E0(o){return b0(o).then(e=>e.remoteStore)}function qy(o){return b0(o).then(e=>e.syncEngine)}function Ah(o){return x0.apply(this,arguments)}function x0(){return(x0=(0,O.Z)(function*(o){const e=yield b0(o),t=e.eventManager;return t.onListen=XE.bind(null,e.syncEngine),t.onUnlisten=tx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=JE.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ll.bind(null,e.syncEngine),t})).apply(this,arguments)}function dp(o,e,t={}){const i=new wr;return o.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return function(u,p,x,M,H){const ue=new ap({next:Qe=>{p.enqueueAndForget(()=>Y_(u,Ie));const vt=Qe.docs.has(x);!vt&&Qe.fromCache?H.reject(new hn(Kt.UNAVAILABLE,"Failed to get document because the client is offline.")):vt&&Qe.fromCache&&M&&"server"===M.source?H.reject(new hn(Kt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(Qe)},error:Qe=>H.reject(Qe)}),Ie=new J_(Al(x.path),ue,{includeMetadataChanges:!0,_a:!0});return pc(u,Ie)}(yield Ah(o),o.asyncQueue,e,t,i)})),i.promise}function no(o,e,t={}){const i=new wr;return o.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return function(u,p,x,M,H){const ue=new ap({next:Qe=>{p.enqueueAndForget(()=>Y_(u,Ie)),Qe.fromCache&&"server"===M.source?H.reject(new hn(Kt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(Qe)},error:Qe=>H.reject(Qe)}),Ie=new J_(x,ue,{includeMetadataChanges:!0,_a:!0});return pc(u,Ie)}(yield Ah(o),o.asyncQueue,e,t,i)})),i.promise}function C0(o){const e={};return void 0!==o.timeoutSeconds&&(e.timeoutSeconds=o.timeoutSeconds),e}const nb=new Map;function w0(o,e,t){if(!t)throw new hn(Kt.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function ib(o,e,t,i){if(!0===e&&!0===i)throw new hn(Kt.INVALID_ARGUMENT,`${o} and ${t} cannot be used together.`)}function Sh(o){if(!Rn.isDocumentKey(o))throw new hn(Kt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function rb(o){if(Rn.isDocumentKey(o))throw new hn(Kt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function cg(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";{const e=(i=o).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof o?"a function":Ln()}function Mi(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new hn(Kt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cg(o);throw new hn(Kt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return o}function hp(o,e){if(e<=0)throw new hn(Kt.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${e}.`)}class I0{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new hn(Kt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new hn(Kt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ib("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=C0(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new hn(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new hn(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new hn(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new hn(Kt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new hn(Kt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I0(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new Dd;switch(i.type){case"firstParty":return new Du(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new hn(Kt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=nb.get(t);i&&(fn("ComponentProvider","Removing Datastore"),nb.delete(t),i.terminate())}(this),Promise.resolve()}}class cs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class mr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mr(this.firestore,e,this._key)}}class ra extends cs{constructor(e,t,i){super(e,t,Al(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mr(this.firestore,null,new Rn(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function ob(o,e,...t){if(o=(0,di.m9)(o),w0("collection","path",e),o instanceof Mh){const i=Si.fromString(e,...t);return rb(i),new ra(o,null,i)}{if(!(o instanceof mr||o instanceof ra))throw new hn(Kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=o._path.child(Si.fromString(e,...t));return rb(i),new ra(o.firestore,null,i)}}function ug(o,e,...t){if(o=(0,di.m9)(o),1===arguments.length&&(e=i_.newId()),w0("doc","path",e),o instanceof Mh){const i=Si.fromString(e,...t);return Sh(i),new mr(o,null,new Rn(i))}{if(!(o instanceof mr||o instanceof ra))throw new hn(Kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=o._path.child(Si.fromString(e,...t));return Sh(i),new mr(o.firestore,o instanceof ra?o.converter:null,new Rn(i))}}function A0(o,e){return o=(0,di.m9)(o),e=(0,di.m9)(e),(o instanceof mr||o instanceof ra)&&(e instanceof mr||e instanceof ra)&&o.firestore===e.firestore&&o.path===e.path&&o.converter===e.converter}function dg(o,e){return o=(0,di.m9)(o),e=(0,di.m9)(e),o instanceof cs&&e instanceof cs&&o.firestore===e.firestore&&Yc(o._query,e._query)&&o.converter===e.converter}class sb{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new au(this,"async_queue_retry"),this.Eu=()=>{const t=hc();t&&fn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};const e=hc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const t=hc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const t=new wr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){var e=this;return(0,O.Z)(function*(){if(0!==e.uu.length){try{yield e.uu[0](),e.uu.shift(),e.t_.reset()}catch(t){if(!Ha(t))throw t;fn("AsyncQueue","Operation failed with retryable error: "+t)}e.uu.length>0&&e.t_.Go(()=>e.Ru())}})()}Au(e){const t=this.au.then(()=>(this.Pu=!0,e().catch(i=>{throw this.hu=i,this.Pu=!1,Ui("INTERNAL UNHANDLED ERROR: ",function(p){let x=p.message||"";return p.stack&&(x=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),x}(i)),i}).then(i=>(this.Pu=!1,i))));return this.au=t,t}enqueueAfterDelay(e,t,i){this.du(),this.Tu.indexOf(e)>-1&&(t=0);const a=Zm.createAndSchedule(this,e,t,i,u=>this.Vu(u));return this.lu.push(a),a}du(){this.hu&&Ln()}verifyOperationInProgress(){}mu(){var e=this;return(0,O.Z)(function*(){let t;do{t=e.au,yield t}while(t!==e.au)})()}fu(e){for(const t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.lu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const t=this.lu.indexOf(e);this.lu.splice(t,1)}}function T0(o){return function(t,i){if("object"!=typeof t||null===t)return!1;const a=t;for(const u of["next","error","complete"])if(u in a&&"function"==typeof a[u])return!0;return!1}(o)}class ab{constructor(){this._progressObserver={},this._taskCompletionResolver=new wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class br extends Mh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new sb,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vx(this),this._firestoreClient.terminate()}}function io(o){return o._firestoreClient||vx(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function vx(o){var e,t,i;const a=o._freezeSettings(),u=(M=(null===(e=o._app)||void 0===e?void 0:e.options.appId)||"",new Xp(o._databaseId,M,o._persistenceKey,(ue=a).host,ue.ssl,ue.experimentalForceLongPolling,ue.experimentalAutoDetectLongPolling,C0(ue.experimentalLongPollingOptions),ue.useFetchStreams));var M,ue;o._firestoreClient=new Ky(o._authCredentials,o._appCheckCredentials,o._queue,u),null!==(t=a.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=a.localCache)&&void 0!==i&&i._onlineComponentProvider&&(o._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.localCache.kind,_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider})}function cb(o,e,t){const i=new wr;return o.asyncQueue.enqueue((0,O.Z)(function*(){try{yield lp(o,t),yield cp(o,e),i.resolve()}catch(a){const u=a;if(!Yy(u))throw u;bo("Error enabling indexeddb cache. Falling back to memory cache: "+u),i.reject(u)}})).then(()=>i.promise)}function Cx(o){if(o._initialized||o._terminated)throw new hn(Kt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl($r.fromBase64String(e))}catch(t){throw new hn(Kt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bl($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _c{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new hn(Kt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ki(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cd{constructor(e){this._methodName=e}}class mp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new hn(Kt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new hn(Kt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yi(this._lat,e._lat)||yi(this._long,e._long)}}class pg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==a[u])return!1;return!0}(this._values,e._values)}}const hb=/^__.*__$/;class wx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Pl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jd(e,this.data,t,this.fieldTransforms)}}class S0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Pl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fb(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ln()}}class Ph{constructor(e,t,i,a,u,p){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,void 0===u&&this.yu(),this.fieldTransforms=u||[],this.fieldMask=p||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Ph(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Su({path:i,Du:!1});return a.vu(e),a}Cu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Su({path:i,Du:!1});return a.yu(),a}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return gg(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(0===e.length)throw this.Mu("Document fields must not be empty");if(fb(this.wu)&&hb.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Ix{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Nl(e)}Nu(e,t,i,a=!1){return new Ph({wu:e,methodName:t,Ou:i,path:Ki.emptyPath(),Du:!1,xu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function du(o){const e=o._freezeSettings(),t=Nl(o._databaseId);return new Ix(o._databaseId,!!e.ignoreUndefinedProperties,t)}function gp(o,e,t,i,a,u={}){const p=o.Nu(u.merge||u.mergeFields?2:0,e,t,a);k0("Data must be an object, but it was:",p,i);const x=gb(i,p);let M,H;if(u.merge)M=new to(p.fieldMask),H=p.fieldTransforms;else if(u.mergeFields){const ue=[];for(const Ie of u.mergeFields){const Qe=yp(e,Ie,t);if(!p.contains(Qe))throw new hn(Kt.INVALID_ARGUMENT,`Field '${Qe}' is specified in your field mask but missing from your input data.`);yb(ue,Qe)||ue.push(Qe)}M=new to(ue),H=p.fieldTransforms.filter(Ie=>M.covers(Ie.field))}else M=null,H=p.fieldTransforms;return new wx(new Po(x),M,H)}class _p extends cd{_toFieldTransform(e){if(2!==e.wu)throw e.Mu(1===e.wu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _p}}function pb(o,e,t){return new Ph({wu:3,Ou:e.settings.Ou,methodName:o._methodName,Du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class M0 extends cd{_toFieldTransform(e){return new ju(e.path,new Ml)}isEqual(e){return e instanceof M0}}class vp extends cd{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=pb(this,e,!0),i=this.Lu.map(u=>ud(u,t)),a=new ul(i);return new ju(e.path,a)}isEqual(e){return e instanceof vp&&(0,di.vZ)(this.Lu,e.Lu)}}class P0 extends cd{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=pb(this,e,!0),i=this.Lu.map(u=>ud(u,t)),a=new Hu(i);return new ju(e.path,a)}isEqual(e){return e instanceof P0&&(0,di.vZ)(this.Lu,e.Lu)}}class mg extends cd{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=new ac(e.serializer,wf(e.serializer,this.Bu));return new ju(e.path,t)}isEqual(e){return e instanceof mg&&this.Bu===e.Bu}}function R0(o,e,t,i){const a=o.Nu(1,e,t);k0("Data must be an object, but it was:",a,i);const u=[],p=Po.empty();sl(i,(M,H)=>{const ue=bp(e,M,t);H=(0,di.m9)(H);const Ie=a.Cu(ue);if(H instanceof _p)u.push(ue);else{const Qe=ud(H,Ie);null!=Qe&&(u.push(ue),p.set(ue,Qe))}});const x=new to(u);return new S0(p,x,a.fieldTransforms)}function O0(o,e,t,i,a,u){const p=o.Nu(1,e,t),x=[yp(e,i,t)],M=[a];if(u.length%2!=0)throw new hn(Kt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Qe=0;Qe<u.length;Qe+=2)x.push(yp(e,u[Qe])),M.push(u[Qe+1]);const H=[],ue=Po.empty();for(let Qe=x.length-1;Qe>=0;--Qe)if(!yb(H,x[Qe])){const vt=x[Qe];let Ot=M[Qe];Ot=(0,di.m9)(Ot);const Yt=p.Cu(vt);if(Ot instanceof _p)H.push(vt);else{const qt=ud(Ot,Yt);null!=qt&&(H.push(vt),ue.set(vt,qt))}}const Ie=new to(H);return new S0(ue,Ie,p.fieldTransforms)}function mb(o,e,t,i=!1){return ud(t,o.Nu(i?4:3,e))}function ud(o,e){if(_b(o=(0,di.m9)(o)))return k0("Unsupported field value:",e,o),gb(o,e);if(o instanceof cd)return function(i,a){if(!fb(a.wu))throw a.Mu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Mu(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(o,e),null;if(void 0===o&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.Du&&4!==e.wu)throw e.Mu("Nested arrays are not supported");return function(i,a){const u=[];let p=0;for(const x of i){let M=ud(x,a.Fu(p));null==M&&(M={nullValue:"NULL_VALUE"}),u.push(M),p++}return{arrayValue:{values:u}}}(o,e)}return function(i,a){if(null===(i=(0,di.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return wf(a.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const u=tr.fromDate(i);return{timestampValue:rh(a.serializer,u)}}if(i instanceof tr){const u=new tr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rh(a.serializer,u)}}if(i instanceof mp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Bl)return{bytesValue:x_(a.serializer,i._byteString)};if(i instanceof mr){const u=a.databaseId,p=i.firestore._databaseId;if(!p.isEqual(u))throw a.Mu(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sa(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof pg)return x=a,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(M=>{if("number"!=typeof M)throw x.Mu("VectorValues must only contain numeric values.");return Cf(x.serializer,M)})}}}}};var x;throw a.Mu(`Unsupported field value: ${cg(i)}`)}(o,e)}function gb(o,e){const t={};return Hc(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sl(o,(i,a)=>{const u=ud(a,e.bu(i));null!=u&&(t[i]=u)}),{mapValue:{fields:t}}}function _b(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof tr||o instanceof mp||o instanceof Bl||o instanceof mr||o instanceof cd||o instanceof pg)}function k0(o,e,t){if(!_b(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const i=cg(t);throw e.Mu("an object"===i?o+" a custom object":o+" "+i)}var a}function yp(o,e,t){if((e=(0,di.m9)(e))instanceof _c)return e._internalPath;if("string"==typeof e)return bp(o,e);throw gg("Field path arguments must be of type string or ",o,!1,void 0,t)}const vb=new RegExp("[~\\*/\\[\\]]");function bp(o,e,t){if(e.search(vb)>=0)throw gg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,t);try{return new _c(...e.split("."))._internalPath}catch{throw gg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,t)}}function gg(o,e,t,i,a){const u=i&&!i.isEmpty(),p=void 0!==a;let x=`Function ${e}() called with invalid data`;t&&(x+=" (via `toFirestore()`)"),x+=". ";let M="";return(u||p)&&(M+=" (found",u&&(M+=` in field ${i}`),p&&(M+=` in document ${a}`),M+=")"),new hn(Kt.INVALID_ARGUMENT,x+o+M)}function yb(o,e){return o.some(t=>t.isEqual(e))}class Rh{constructor(e,t,i,a,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_g("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Dx extends Rh{data(){return super.data()}}function _g(o,e){return"string"==typeof e?bp(o,e):e instanceof _c?e._internalPath:e._delegate._internalPath}function bb(o){if("L"===o.limitType&&0===o.explicitOrderBy.length)throw new hn(Kt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ep{}class dd extends Ep{}function vc(o,e,...t){let i=[];e instanceof Ep&&i.push(e),i=i.concat(t),function(u){const p=u.filter(M=>M instanceof Oh).length,x=u.filter(M=>M instanceof hd).length;if(p>1||p>0&&x>0)throw new hn(Kt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)o=a._apply(o);return o}class hd extends dd{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new hd(e,t,i)}_apply(e){const t=this._parse(e);return B0(e._query,t),new cs(e.firestore,e.converter,zu(e._query,t))}_parse(e){const t=du(e.firestore);return function(u,p,x,M,H,ue,Ie){let Qe;if(H.isKeyField()){if("array-contains"===ue||"array-contains-any"===ue)throw new hn(Kt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ue}' queries on documentId().`);if("in"===ue||"not-in"===ue){L0(Ie,ue);const vt=[];for(const Ot of Ie)vt.push(N0(M,u,Ot));Qe={arrayValue:{values:vt}}}else Qe=N0(M,u,Ie)}else"in"!==ue&&"not-in"!==ue&&"array-contains-any"!==ue||L0(Ie,ue),Qe=mb(x,"where",Ie,"in"===ue||"not-in"===ue);return xi.create(H,ue,Qe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Oh extends Ep{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Oh(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Bi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(a,u){let p=a;const x=u.getFlattenedFilters();for(const M of x)B0(p,M),p=zu(p,M)}(e._query,t),new cs(e.firestore,e.converter,zu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vg extends dd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vg(e,t)}_apply(e){const t=function(a,u,p){if(null!==a.startAt)throw new hn(Kt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new hn(Kt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ll(u,p)}(e._query,this._field,this._direction);return new cs(e.firestore,e.converter,function(a,u){const p=a.explicitOrderBy.concat([u]);return new Br(a.path,a.collectionGroup,p,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class xp extends dd{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new xp(e,t,i)}_apply(e){return new cs(e.firestore,e.converter,Or(e._query,this._limit,this._limitType))}}class Cp extends dd{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Cp(e,t,i)}_apply(e){const t=yg(e,this.type,this._docOrFields,this._inclusive);return new cs(e.firestore,e.converter,(u=t,new Br((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,u,a.endAt)));var a,u}}class Fh extends dd{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Fh(e,t,i)}_apply(e){const t=yg(e,this.type,this._docOrFields,this._inclusive);return new cs(e.firestore,e.converter,(u=t,new Br((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,u)));var a,u}}function yg(o,e,t,i){if(t[0]=(0,di.m9)(t[0]),t[0]instanceof Rh)return function(u,p,x,M,H){if(!M)throw new hn(Kt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${x}().`);const ue=[];for(const Ie of Aa(u))if(Ie.field.isKeyField())ue.push(wl(p,M.key));else{const Qe=M.data.field(Ie.field);if(kd(Qe))throw new hn(Kt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ie.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Qe){const vt=Ie.field.canonicalString();throw new hn(Kt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${vt}' (used as the orderBy) does not exist.`)}ue.push(Qe)}return new Es(ue,H)}(o._query,o.firestore._databaseId,e,t[0]._document,i);{const a=du(o.firestore);return function(p,x,M,H,ue,Ie){const Qe=p.explicitOrderBy;if(ue.length>Qe.length)throw new hn(Kt.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const vt=[];for(let Ot=0;Ot<ue.length;Ot++){const Yt=ue[Ot];if(Qe[Ot].field.isKeyField()){if("string"!=typeof Yt)throw new hn(Kt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof Yt}`);if(!Da(p)&&-1!==Yt.indexOf("/"))throw new hn(Kt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${Yt}' contains a slash.`);const qt=p.path.child(Si.fromString(Yt));if(!Rn.isDocumentKey(qt))throw new hn(Kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${qt}' is not because it contains an odd number of segments.`);const En=new Rn(qt);vt.push(wl(x,En))}else{const qt=mb(M,H,Yt);vt.push(qt)}}return new Es(vt,Ie)}(o._query,o.firestore._databaseId,a,e,t,i)}}function N0(o,e,t){if("string"==typeof(t=(0,di.m9)(t))){if(""===t)throw new hn(Kt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Da(e)&&-1!==t.indexOf("/"))throw new hn(Kt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Si.fromString(t));if(!Rn.isDocumentKey(i))throw new hn(Kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return wl(o,new Rn(i))}if(t instanceof mr)return wl(o,t._key);throw new hn(Kt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cg(t)}.`)}function L0(o,e){if(!Array.isArray(o)||0===o.length)throw new hn(Kt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function B0(o,e){const t=function(a,u){for(const p of a)for(const x of p.getFlattenedFilters())if(u.indexOf(x.op)>=0)return x.op;return null}(o.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new hn(Kt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class U0{convertValue(e,t="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ln()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return sl(e,(a,u)=>{i[a]=this.convertValue(u,t)}),i}convertVectorValue(e){var t,i,a;const u=null===(a=null===(i=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===i?void 0:i.values)||void 0===a?void 0:a.map(p=>Ir(p.doubleValue));return new pg(u)}convertGeoPoint(e){return new mp(Ir(e.latitude),Ir(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ou(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ns(e));default:return null}}convertTimestamp(e){const t=ea(e);return new tr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Si.fromString(e);Kn(Gv(i));const a=new Ia(i.get(1),i.get(3)),u=new Rn(i.popFirst(5));return a.isEqual(t)||Ui(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function bg(o,e,t){let i;return i=o?t&&(t.merge||t.mergeFields)?o.toFirestore(e,t):o.toFirestore(e):e,i}class Px extends U0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,t)}}class fd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hu extends Rh{constructor(e,t,i,a,u,p){super(e,t,i,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(_g("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class wp extends hu{data(e={}){return super.data(e)}}class fu{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new fd(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new wp(this._firestore,this._userDataWriter,i.key,i,new fd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new hn(Kt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let p=0;return a._snapshot.docChanges.map(x=>({type:"added",doc:new wp(a._firestore,a._userDataWriter,x.doc.key,x.doc,new fd(a._snapshot.mutatedKeys.has(x.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:p++}))}{let p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(x=>u||3!==x.type).map(x=>{const M=new wp(a._firestore,a._userDataWriter,x.doc.key,x.doc,new fd(a._snapshot.mutatedKeys.has(x.doc.key),a._snapshot.fromCache),a.query.converter);let H=-1,ue=-1;return 0!==x.type&&(H=p.indexOf(x.doc.key),p=p.delete(x.doc.key)),1!==x.type&&(p=p.add(x.doc),ue=p.indexOf(x.doc.key)),{type:Cb(x.type),doc:M,oldIndex:H,newIndex:ue}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Cb(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ln()}}function z0(o,e){return o instanceof hu&&e instanceof hu?o._firestore===e._firestore&&o._key.isEqual(e._key)&&(null===o._document?null===e._document:o._document.isEqual(e._document))&&o._converter===e._converter:o instanceof fu&&e instanceof fu&&o._firestore===e._firestore&&dg(o.query,e.query)&&o.metadata.isEqual(e.metadata)&&o._snapshot.isEqual(e._snapshot)}class pu extends U0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,t)}}function Ib(o,e,t){o=Mi(o,mr);const i=Mi(o.firestore,br),a=bg(o.converter,e,t);return pd(i,[gp(du(i),"setDoc",o._key,a,null!==o.converter,t).toMutation(o._key,Vr.none())])}function Nh(o,e,t,...i){o=Mi(o,mr);const a=Mi(o.firestore,br),u=du(a);let p;return p="string"==typeof(e=(0,di.m9)(e))||e instanceof _c?O0(u,"updateDoc",o._key,e,t,i):R0(u,"updateDoc",o._key,e),pd(a,[p.toMutation(o._key,Vr.exists(!0))])}function H0(o,...e){var t,i,a;o=(0,di.m9)(o);let u={includeMetadataChanges:!1,source:"default"},p=0;"object"!=typeof e[p]||T0(e[p])||(u=e[p],p++);const x={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(T0(e[p])){const Ie=e[p];e[p]=null===(t=Ie.next)||void 0===t?void 0:t.bind(Ie),e[p+1]=null===(i=Ie.error)||void 0===i?void 0:i.bind(Ie),e[p+2]=null===(a=Ie.complete)||void 0===a?void 0:a.bind(Ie)}let M,H,ue;if(o instanceof mr)H=Mi(o.firestore,br),ue=Al(o._key.path),M={next:Ie=>{e[p]&&e[p](Eg(H,o,Ie))},error:e[p+1],complete:e[p+2]};else{const Ie=Mi(o,cs);H=Mi(Ie.firestore,br),ue=Ie._query;const Qe=new pu(H);M={next:vt=>{e[p]&&e[p](new fu(H,Qe,Ie,vt))},error:e[p+1],complete:e[p+2]},bb(o._query)}return function(Qe,vt,Ot,Yt){const qt=new ap(Yt),En=new J_(vt,qt,Ot);return Qe.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return pc(yield Ah(Qe),En)})),()=>{qt.za(),Qe.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return Y_(yield Ah(Qe),En)}))}}(io(H),ue,x,M)}function pd(o,e){return function(i,a){const u=new wr;return i.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return function dl(o,e,t){return Xm.apply(this,arguments)}(yield qy(i),a,u)})),u.promise}(io(o),e)}function Eg(o,e,t){const i=t.docs.get(e._key),a=new pu(o);return new hu(o,a,e._key,i,new fd(t.hasPendingWrites,t.fromCache),e.converter)}const Hx={maxAttempts:5};class Rb{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=du(e)}set(e,t,i){this._verifyNotCommitted();const a=mu(e,this._firestore),u=bg(a.converter,t,i),p=gp(this._dataReader,"WriteBatch.set",a._key,u,null!==a.converter,i);return this._mutations.push(p.toMutation(a._key,Vr.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const u=mu(e,this._firestore);let p;return p="string"==typeof(t=(0,di.m9)(t))||t instanceof _c?O0(this._dataReader,"WriteBatch.update",u._key,t,i,a):R0(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(p.toMutation(u._key,Vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mu(e,this._firestore);return this._mutations=this._mutations.concat(new th(t._key,Vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new hn(Kt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mu(o,e){if((o=(0,di.m9)(o)).firestore!==e)throw new hn(Kt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}class Ig extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=du(t)}get(t){const i=mu(t,this._firestore),a=new Px(this._firestore);return this._transaction.lookup([i._key]).then(u=>{if(!u||1!==u.length)return Ln();const p=u[0];if(p.isFoundDocument())return new Rh(this._firestore,a,p.key,p,i.converter);if(p.isNoDocument())return new Rh(this._firestore,a,i._key,null,i.converter);throw Ln()})}set(t,i,a){const u=mu(t,this._firestore),p=bg(u.converter,i,a),x=gp(this._dataReader,"Transaction.set",u._key,p,null!==u.converter,a);return this._transaction.set(u._key,x),this}update(t,i,a,...u){const p=mu(t,this._firestore);let x;return x="string"==typeof(i=(0,di.m9)(i))||i instanceof _c?O0(this._dataReader,"Transaction.update",p._key,i,a,u):R0(this._dataReader,"Transaction.update",p._key,i),this._transaction.update(p._key,x),this}delete(t){const i=mu(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mu(e,this._firestore),i=new pu(this._firestore);return super.get(e).then(a=>new hu(this._firestore,i,t._key,a._document,new fd(!1,!1),t.converter))}}!function(e,t=!0){Ti=ya.SDK_VERSION,(0,ya._registerComponent)(new Cu.wA("firestore",(i,{instanceIdentifier:a,options:u})=>{const p=i.getProvider("app").getImmediate(),x=new br(new Xl(i.getProvider("auth-internal")),new xv(i.getProvider("app-check-internal")),function(H,ue){if(!Object.prototype.hasOwnProperty.apply(H.options,["projectId"]))throw new hn(Kt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(H.options.projectId,ue)}(p,a),p);return u=Object.assign({useFetchStreams:t},u),x._setSettings(u),x},"PUBLIC").setMultipleInstances(!0)),(0,ya.registerVersion)(Un,"4.7.1",e),(0,ya.registerVersion)(Un,"4.7.1","esm2017")}();function Tg(o,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new hn("invalid-argument",`Invalid options passed to function ${o}(): You cannot specify both "merge" and "mergeFields".`);return e}function zb(){if(typeof Uint8Array>"u")throw new hn("unimplemented","Uint8Arrays are not available in this environment.")}function Z0(){if(!function Qp(){return typeof atob<"u"}())throw new hn("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Lh{constructor(e){this._delegate=e}static fromBase64String(e){return Z0(),new Lh(Bl.fromBase64String(e))}static fromUint8Array(e){return zb(),new Lh(Bl.fromUint8Array(e))}toBase64(){return Z0(),this._delegate.toBase64()}toUint8Array(){return zb(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function us(o){return function Bh(o,e){if("object"!=typeof o||null===o)return!1;const t=o;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(o,["next","error","complete"])}class Yx{enableIndexedDbPersistence(e,t){return function lb(o,e){Cx(o=Mi(o,br));const t=io(o);if(t._uninitializedComponentsProvider)throw new hn(Kt.FAILED_PRECONDITION,"SDK cache is already specified.");bo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=o._freezeSettings(),a=new ad;return cb(t,a,new g0(a,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function hg(o){Cx(o=Mi(o,br));const e=io(o);if(e._uninitializedComponentsProvider)throw new hn(Kt.FAILED_PRECONDITION,"SDK cache is already specified.");bo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=o._freezeSettings(),i=new ad;return cb(e,i,new _0(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function yx(o){if(o._initialized&&!o._terminated)throw new hn(Kt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wr;return o._queue.enqueueAndForgetEvenWhileRestricted((0,O.Z)(function*(){try{yield(t=(0,O.Z)(function*(a){if(!Eo.D())return Promise.resolve();const u=a+"main";yield Eo.delete(u)}),function i(a){return t.apply(this,arguments)})(L_(o._databaseId,o._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Hb{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ia||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&bo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function D0(o,e,t,i={}){var a;const u=(o=Mi(o,Mh))._getSettings(),p=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==p&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),o._setSettings(Object.assign(Object.assign({},u),{host:p,ssl:!1})),i.mockUserToken){let x,M;if("string"==typeof i.mockUserToken)x=i.mockUserToken,M=In.MOCK_USER;else{x=(0,di.Sg)(i.mockUserToken,null===(a=o._app)||void 0===a?void 0:a.options.projectId);const H=i.mockUserToken.sub||i.mockUserToken.user_id;if(!H)throw new hn(Kt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new In(H)}o._authCredentials=new Iu(new wu(x,M))}}(this._delegate,e,t,i)}enableNetwork(){return function fp(o){return function fx(o){return o.asyncQueue.enqueue((0,O.Z)(function*(){const e=yield hx(o),t=yield E0(o);return e.setNetworkEnabled(!0),function(a){const u=An(a);return u.L_.delete(0),Ch(u)}(t)}))}(io(o=Mi(o,br)))}(this._delegate)}disableNetwork(){return function bx(o){return function Th(o){return o.asyncQueue.enqueue((0,O.Z)(function*(){const e=yield hx(o),t=yield E0(o);return e.setNetworkEnabled(!1),(i=(0,O.Z)(function*(u){const p=An(u);p.L_.add(0),yield ed(p),p.q_.set("Offline")}),function a(u){return i.apply(this,arguments)})(t);var i}))}(io(o=Mi(o,br)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,ib("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ub(o){return function(t){const i=new wr;return t.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return function rx(o,e){return l0.apply(this,arguments)}(yield qy(t),i)})),i.promise}(io(o=Mi(o,br)))}(this._delegate)}onSnapshotsInSync(e){return function Tb(o,e){return function Qy(o,e){const t=new ap(e);return o.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return a=yield Ah(o),u=t,An(a).Y_.add(u),void u.next();var a,u})),()=>{t.za(),o.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return a=yield Ah(o),u=t,void An(a).Y_.delete(u);var a,u}))}}(io(o=Mi(o,br)),T0(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new hn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new md(this,ob(this._delegate,e))}catch(t){throw ds(t,"collection()","Firestore.collection()")}}doc(e){try{return new qa(this,ug(this._delegate,e))}catch(t){throw ds(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Us(this,function gx(o,e){if(o=Mi(o,Mh),w0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new hn(Kt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cs(o,null,(i=e,new Br(Si.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw ds(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Dg(o,e,t){o=Mi(o,br);const i=Object.assign(Object.assign({},Hx),t);return function(u){if(u.maxAttempts<1)throw new hn(Kt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(u,p,x){const M=new wr;return u.asyncQueue.enqueueAndForget((0,O.Z)(function*(){const H=yield function fi(o){return b0(o).then(e=>e.datastore)}(u);new Zy(u.asyncQueue,H,x,p,M).ru()})),M.promise}(io(o),a=>e(new Ig(o,a)),i)}(this._delegate,t=>e(new Y0(this,t)))}batch(){return io(this._delegate),new Sg(new Rb(this._delegate,e=>pd(this._delegate,e)))}loadBundle(e){return function Ex(o,e){const t=io(o=Mi(o,br)),i=new ab;return function Xy(o,e,t,i){const a=function(p,x){let M;return M="string"==typeof p?Tv().encode(p):p,ue=function(ue,Ie){if(ue instanceof Uint8Array)return v0(ue,void 0);if(ue instanceof ArrayBuffer)return v0(new Uint8Array(ue),void 0);if(ue instanceof ReadableStream)return ue.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new Gy(ue,x);var ue}(t,Nl(e));o.asyncQueue.enqueueAndForget((0,O.Z)(function*(){!function ux(o,e,t){const i=An(o);var a;(a=(0,O.Z)(function*(p,x,M){try{const H=yield x.getMetadata();if(yield function(Ot,Yt){const qt=An(Ot),En=Co(Yt.createTime);return qt.persistence.runTransaction("hasNewerBundle","readonly",kn=>qt.Gr.getBundleMetadata(kn,Yt.id)).then(kn=>!!kn&&kn.createTime.compareTo(En)>=0)}(p.localStore,H))return yield x.close(),M._completeWith({taskState:"Success",documentsLoaded:(Ot=H).totalDocuments,bytesLoaded:Ot.totalBytes,totalDocuments:Ot.totalDocuments,totalBytes:Ot.totalBytes}),Promise.resolve(new Set);M._updateProgress(ky(H));const ue=new qE(H,p.localStore,x.serializer);let Ie=yield x.Ua();for(;Ie;){const vt=yield ue.la(Ie);vt&&M._updateProgress(vt),Ie=yield x.Ua()}const Qe=yield ue.complete();return yield Ya(p,Qe.Ia,void 0),yield function(Ot,Yt){const qt=An(Ot);return qt.persistence.runTransaction("Save bundle","readwrite",En=>qt.Gr.saveBundleMetadata(En,Yt))}(p.localStore,H),M._completeWith(Qe.progress),Promise.resolve(Qe.Pa)}catch(H){return bo("SyncEngine",`Loading bundle failed with ${H}`),M._failWith(H),Promise.resolve(new Set)}var Ot}),function u(p,x,M){return a.apply(this,arguments)})(i,e,t).then(a=>{i.sharedClientState.notifyBundleLoaded(a)})}(yield qy(o),a,i)}))}(t,o._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function xx(o,e){return function mx(o,e){return o.asyncQueue.enqueue((0,O.Z)(function*(){return function(i,a){const u=An(i);return u.persistence.runTransaction("Get named query","readonly",p=>u.Gr.getNamedQuery(p,a))}(yield ld(o),e)}))}(io(o=Mi(o,br)),e).then(t=>t?new cs(o,null,t.query):null)}(this._delegate,e).then(t=>t?new Us(this,t):null)}}class K0 extends U0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lh(new Bl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return qa.forKey(t,this.firestore,null)}}class Y0{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new K0(e)}get(e){const t=Ul(e);return this._delegate.get(t).then(i=>new Dp(this._firestore,new hu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const a=Ul(e);return i?(Tg("Transaction.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const u=Ul(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,i,...a),this}delete(e){const t=Ul(e);return this._delegate.delete(t),this}}class Sg{constructor(e){this._delegate=e}set(e,t,i){const a=Ul(e);return i?(Tg("WriteBatch.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const u=Ul(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,i,...a),this}delete(e){const t=Ul(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class hl{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new wp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ap(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=hl.INSTANCES;let a=i.get(e);a||(a=new WeakMap,i.set(e,a));let u=a.get(t);return u||(u=new hl(e,new K0(e),t),a.set(t,u)),u}}hl.INSTANCES=new WeakMap;class qa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new K0(e)}static forPath(e,t,i){if(e.length%2!=0)throw new hn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new qa(t,new mr(t._delegate,i,new Rn(e)))}static forKey(e,t,i){return new qa(t,new mr(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new md(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new md(this.firestore,ob(this._delegate,e))}catch(t){throw ds(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,di.m9)(e))instanceof mr&&A0(this._delegate,e)}set(e,t){t=Tg("DocumentReference.set",t);try{return t?Ib(this._delegate,e,t):Ib(this._delegate,e)}catch(i){throw ds(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Nh(this._delegate,e):Nh(this._delegate,e,t,...i)}catch(a){throw ds(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Db(o){return pd(Mi(o.firestore,br),[new th(o._key,Vr.none())])}(this._delegate)}onSnapshot(...e){const t=jb(e),i=q0(e,a=>new Dp(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return H0(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function kx(o){o=Mi(o,mr);const e=Mi(o.firestore,br),t=io(e),i=new pu(e);return function px(o,e){const t=new wr;return o.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return(i=(0,O.Z)(function*(u,p,x){try{const M=yield function(ue,Ie){const Qe=An(ue);return Qe.persistence.runTransaction("read document","readonly",vt=>Qe.localDocuments.getDocument(vt,Ie))}(u,p);M.isFoundDocument()?x.resolve(M):M.isNoDocument()?x.resolve(null):x.reject(new hn(Kt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const H=rd(M,`Failed to get document '${p} from cache`);x.reject(H)}}),function a(u,p,x){return i.apply(this,arguments)})(yield ld(o),e,t);var i})),t.promise}(t,o._key).then(a=>new hu(e,i,o._key,a,new fd(null!==a&&a.hasLocalMutations,!0),o.converter))}(this._delegate):"server"===e?.source?function Fx(o){o=Mi(o,mr);const e=Mi(o.firestore,br);return dp(io(e),o._key,{source:"server"}).then(t=>Eg(e,o,t))}(this._delegate):function wb(o){o=Mi(o,mr);const e=Mi(o.firestore,br);return dp(io(e),o._key).then(t=>Eg(e,o,t))}(this._delegate),t.then(i=>new Dp(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new qa(this.firestore,this._delegate.withConverter(e?hl.getInstance(this.firestore,e):null))}}function ds(o,e,t){return o.message=o.message.replace(e,t),o}function jb(o){for(const e of o)if("object"==typeof e&&!us(e))return e;return{}}function q0(o,e){var t,i;let a;return a=us(o[0])?o[0]:us(o[1])?o[1]:"function"==typeof o[0]?{next:o[0],error:o[1],complete:o[2]}:{next:o[1],error:o[2],complete:o[3]},{next:u=>{a.next&&a.next(e(u))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(i=a.complete)||void 0===i?void 0:i.bind(a)}}class Dp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new qa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return z0(this._delegate,e._delegate)}}class Ap extends Dp{data(e){const t=this._delegate.data(e);return this._delegate._converter||function Id(o,e){o||Ln()}(void 0!==t),t}}class Us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new K0(e)}where(e,t,i){try{return new Us(this.firestore,vc(this._delegate,function Ax(o,e,t){const i=e,a=_g("where",o);return hd._create(a,i,t)}(e,t,i)))}catch(a){throw ds(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Us(this.firestore,vc(this._delegate,function kh(o,e="asc"){const t=e,i=_g("orderBy",o);return vg._create(i,t)}(e,t)))}catch(i){throw ds(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Us(this.firestore,vc(this._delegate,function Tx(o){return hp("limit",o),xp._create("limit",o,"F")}(e)))}catch(t){throw ds(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Us(this.firestore,vc(this._delegate,function FC(o){return hp("limitToLast",o),xp._create("limitToLast",o,"L")}(e)))}catch(t){throw ds(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Us(this.firestore,vc(this._delegate,function F0(...o){return Cp._create("startAt",o,!0)}(...e)))}catch(t){throw ds(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Us(this.firestore,vc(this._delegate,function Sx(...o){return Cp._create("startAfter",o,!1)}(...e)))}catch(t){throw ds(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Us(this.firestore,vc(this._delegate,function Mx(...o){return Fh._create("endBefore",o,!1)}(...e)))}catch(t){throw ds(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Us(this.firestore,vc(this._delegate,function xb(...o){return Fh._create("endAt",o,!0)}(...e)))}catch(t){throw ds(t,"endAt()","Query.endAt()")}}isEqual(e){return dg(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Lx(o){o=Mi(o,cs);const e=Mi(o.firestore,br),t=io(e),i=new pu(e);return function lg(o,e){const t=new wr;return o.asyncQueue.enqueueAndForget((0,O.Z)(function*(){return(i=(0,O.Z)(function*(u,p,x){try{const M=yield Mm(u,p,!0),H=new n0(p,M.Ts),ue=H.ma(M.documents),Ie=H.applyChanges(ue,!1);x.resolve(Ie.snapshot)}catch(M){const H=rd(M,`Failed to execute query '${p} against cache`);x.reject(H)}}),function a(u,p,x){return i.apply(this,arguments)})(yield ld(o),e,t);var i})),t.promise}(t,o._query).then(a=>new fu(e,i,o,a))}(this._delegate):"server"===e?.source?function Bx(o){o=Mi(o,cs);const e=Mi(o.firestore,br),t=io(e),i=new pu(e);return no(t,o._query,{source:"server"}).then(a=>new fu(e,i,o,a))}(this._delegate):function Nx(o){o=Mi(o,cs);const e=Mi(o.firestore,br),t=io(e),i=new pu(e);return bb(o._query),no(t,o._query).then(a=>new fu(e,i,o,a))}(this._delegate),t.then(i=>new Mg(this.firestore,new fu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=jb(e),i=q0(e,a=>new Mg(this.firestore,new fu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return H0(this._delegate,t,i)}withConverter(e){return new Us(this.firestore,this._delegate.withConverter(e?hl.getInstance(this.firestore,e):null))}}class Q0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ap(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Mg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ap(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Q0(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Ap(this._firestore,i))})}isEqual(e){return z0(this._delegate,e._delegate)}}class md extends Us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new qa(this.firestore,e):null}doc(e){try{return new qa(this.firestore,void 0===e?ug(this._delegate):ug(this._delegate,e))}catch(t){throw ds(t,"doc()","CollectionReference.doc()")}}add(e){return function Ab(o,e){const t=Mi(o.firestore,br),i=ug(o),a=bg(o.converter,e);return pd(t,[gp(du(o.firestore),"addDoc",i._key,a,null!==o.converter,{}).toMutation(i._key,Vr.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new qa(this.firestore,t))}isEqual(e){return A0(this._delegate,e._delegate)}withConverter(e){return new md(this.firestore,this._delegate.withConverter(e?hl.getInstance(this.firestore,e):null))}}function Ul(o){return Mi(o,mr)}class Tp{constructor(...e){this._delegate=new _c(...e)}static documentId(){return new Tp(Ki.keyField().canonicalString())}isEqual(e){return(e=(0,di.m9)(e))instanceof _c&&this._delegate._internalPath.isEqual(e._internalPath)}}class Vh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function $x(){return new M0("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Vh(e)}static delete(){const e=function jx(){return new _p("deleteField")}();return e._methodName="FieldValue.delete",new Vh(e)}static arrayUnion(...e){const t=function Ob(...o){return new vp("arrayUnion",o)}(...e);return t._methodName="FieldValue.arrayUnion",new Vh(t)}static arrayRemove(...e){const t=function kb(...o){return new P0("arrayRemove",o)}(...e);return t._methodName="FieldValue.arrayRemove",new Vh(t)}static increment(e){const t=function j0(o){return new mg("increment",o)}(e);return t._methodName="FieldValue.increment",new Vh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const $b={Firestore:Hb,GeoPoint:mp,Timestamp:tr,Blob:Lh,Transaction:Y0,WriteBatch:Sg,DocumentReference:qa,DocumentSnapshot:Dp,Query:Us,QueryDocumentSnapshot:Ap,QuerySnapshot:Mg,CollectionReference:md,FieldPath:Tp,FieldValue:Vh,setLogLevel:function WC(o){!function xa(o){fr.setLogLevel(o)}(o)},CACHE_SIZE_UNLIMITED:-1};function Wb(o,e){return function Uh(o,e=er.z){return new Kl.y(t=>{let i;return null!=e?e.schedule(()=>{i=o.onSnapshot({includeMetadataChanges:!0},t)}):i=o.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(o,e)}function Sp(o,e){return Wb(o,e).pipe((0,Bo.U)(t=>({payload:t,type:"query"})))}!function Gb(o){(function qx(o,e){o.INTERNAL.registerComponent(new Cu.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(i,a)},"PUBLIC").setServiceProps(Object.assign({},$b)))})(o,(e,t)=>new Hb(e,t,new Yx)),o.registerVersion("@firebase/firestore-compat","0.3.36")}(wd.Z);class Qx{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:a,query:u}=iv(i,t);return new ev(a,u,this.afs)}snapshotChanges(){return function Zb(o,e){return Wb(o,e).pipe((0,Kh.O)(void 0),Qs(),(0,Bo.U)(t=>{const[i,a]=t;return a.exists?i?.exists?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Bo.U)(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return(0,va.D)(this.ref.get(e)).pipe(Cr.iC)}}function Pg(o,e){return Sp(o,e).pipe((0,Kh.O)(void 0),Qs(),(0,Bo.U)(t=>{const[i,a]=t,u=a.payload.docChanges(),p=u.map(x=>({type:x.type,payload:x}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((x,M)=>{const H=u.find(Ie=>Ie.doc.ref.isEqual(x.ref)),ue=i?.payload.docs.find(Ie=>Ie.ref.isEqual(x.ref));H&&JSON.stringify(H.doc.metadata)===JSON.stringify(x.metadata)||!H&&ue&&JSON.stringify(ue.metadata)===JSON.stringify(x.metadata)||p.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:x}})}),p}))}function Xx(o,e,t){return Pg(o,t).pipe((0,Nc.R)((i,a)=>function Jx(o,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(o=function eC(o,e){switch(e.type){case"added":if(!o[e.newIndex]||!o[e.newIndex].doc.ref.isEqual(e.doc.ref))return X0(o,e.newIndex,0,e);break;case"modified":if(null==o[e.oldIndex]||o[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=o.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return X0(o,e.newIndex,1,e)}break;case"removed":if(o[e.oldIndex]&&o[e.oldIndex].doc.ref.isEqual(e.doc.ref))return X0(o,e.oldIndex,1)}return o}(o,i))}),o}(i,a.map(u=>u.payload),e),[]),(0,Yh.x)(),(0,Bo.U)(i=>i.map(a=>({type:a.type,payload:a}))))}function X0(o,e,t,...i){const a=o.slice();return a.splice(e,t,...i),a}function J0(o){return(!o||0===o.length)&&(o=["added","removed","modified"]),o}class ev{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=Pg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Bo.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Kh.O)(void 0),Qs(),(0,kc.h)(([i,a])=>a.length>0||!i),(0,Bo.U)(([,i])=>i),Cr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Nc.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=J0(e);return Xx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return Sp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Bo.U)(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),Cr.iC)}get(e){return(0,va.D)(this.query.get(e)).pipe(Cr.iC)}add(e){return this.ref.add(e)}doc(e){return new Qx(this.ref.doc(e),this.afs)}}class tC{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Pg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Bo.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,kc.h)(t=>t.length>0),Cr.iC):Pg(this.query,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Nc.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=J0(e);return Xx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Cr.iC)}valueChanges(e={}){return Sp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Bo.U)(i=>i.payload.docs.map(a=>e.idField?{[e.idField]:a.id,...a.data()}:a.data())),Cr.iC)}get(e){return(0,va.D)(this.query.get(e)).pipe(Cr.iC)}}const tv=new m.OlP("angularfire2.enableFirestorePersistence"),nv=new m.OlP("angularfire2.firestore.persistenceSettings"),nC=new m.OlP("angularfire2.firestore.settings"),iC=new m.OlP("angularfire2.firestore.use-emulator");function iv(o,e=(t=>t)){return{query:e(o),ref:o}}let rC=(()=>{class o{schedulers;firestore;persistenceEnabled$;constructor(t,i,a,u,p,x,M,H,ue,Ie,Qe,vt,Ot,Yt,qt,En,kn){this.schedulers=M;const yn=(0,Jr.on)(t,x,i),zn=ue;Ie&&Fc(yn,x,Qe,Ot,Yt,qt,vt,En),[this.firestore,this.persistenceEnabled$]=(0,Jr.cc)(`${yn.name}.firestore`,"AngularFirestore",yn.name,()=>{const pi=x.runOutsideAngular(()=>yn.firestore());if(u&&pi.settings(u),zn&&pi.useEmulator(...zn),a&&!(0,Xe.PM)(p)){const mi=()=>{try{return(0,va.D)(pi.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch(Ct){return typeof console<"u"&&console.warn(Ct),(0,Lr.of)(!1)}};return[pi,x.runOutsideAngular(mi)]}return[pi,(0,Lr.of)(!1)]},[u,zn,a])}collection(t,i){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:p}=iv(a,i),x=this.schedulers.ngZone.run(()=>u);return new ev(x,p,this)}collectionGroup(t,i){const a=i||(p=>p),u=this.firestore.collectionGroup(t);return new tC(a(u),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>i);return new Qx(a,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||o)(m.LFG(Jr.Dh),m.LFG(Jr.xv,8),m.LFG(tv,8),m.LFG(nC,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Cr.HU),m.LFG(nv,8),m.LFG(iC,8),m.LFG(qs,8),m.LFG(xu,8),m.LFG(il,8),m.LFG(vl,8),m.LFG(Ji,8),m.LFG(Ua,8),m.LFG(rl,8),m.LFG(Cr.Rf,8))};static \u0275prov=m.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"})}return o})(),Kb=(()=>{class o{constructor(){ao.Z.registerVersion("angularfire",Cr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:o,providers:[{provide:tv,useValue:!0},{provide:nv,useValue:t}]}}static \u0275fac=function(i){return new(i||o)};static \u0275mod=m.oAB({type:o});static \u0275inj=m.cJS({providers:[rC]})}return o})();var Yb=_(5829),qb=_(7185),Qb=_(6792);let oC=(()=>{class o{intercept(t,i){if(t.url.includes("googleapis.com")){const a=t.clone({withCredentials:!1});return i.handle(a)}if(t.url.includes("github.com/login/oauth/")){const a=t.clone({withCredentials:!1});return i.handle(a)}if(t.url.includes("westernmilling.okta.com/.well-known/openid-configuration")){const a=t.clone({withCredentials:!1});return i.handle(a)}return i.handle(t)}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275prov=m.Yz7({token:o,factory:o.\u0275fac})}return o})();var sC=_(8608);let ZC=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=m.oAB({type:o,bootstrap:[Mt]});static#n=this.\u0275inj=m.cJS({providers:[{provide:Ee.TP,useClass:oC,multi:!0},{provide:Xe.S$,useClass:Xe.b0}],imports:[l.b2,dn,qo,Qt.Ps,bu.Y4,Mc.Tx,t_.ot,ke.UX,Pc.SJ,Wh.To,Bp.AV,ks.Cq,ke.u5,Jr.hO.initializeApp(de.N.firebase),Kb,xd.TE,Vp,Yb.D,Ee.JF,qb.Rh.forRoot({positionClass:"toast-bottom-right",preventDuplicates:!0,maxOpened:3,timeOut:5e3}),Qb.zr.forRoot(),sC.v]})}return o})();l.q6().bootstrapModule(ZC).catch(o=>console.error(o))},7466:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(8319),_(9493),_(7865),_(3057),function(){var b=l,O=b.lib.BlockCipher,he=b.algo,ee=[],ie=[],j=[],K=[],Y=[],F=[],V=[],Z=[],ne=[],ce=[];!function(){for(var oe=[],fe=0;fe<256;fe++)oe[fe]=fe<128?fe<<1:fe<<1^283;var Me=0,pe=0;for(fe=0;fe<256;fe++){var de=pe^pe<<1^pe<<2^pe<<3^pe<<4;ee[Me]=de=de>>>8^255&de^99,ie[de]=Me;var Xe,Ee=oe[Me],je=oe[Ee],ke=oe[je];j[Me]=(Xe=257*oe[de]^16843008*de)<<24|Xe>>>8,K[Me]=Xe<<16|Xe>>>16,Y[Me]=Xe<<8|Xe>>>24,F[Me]=Xe,V[de]=(Xe=16843009*ke^65537*je^257*Ee^16843008*Me)<<24|Xe>>>8,Z[de]=Xe<<16|Xe>>>16,ne[de]=Xe<<8|Xe>>>24,ce[de]=Xe,Me?(Me=Ee^oe[oe[oe[ke^Ee]]],pe^=oe[oe[pe]]):Me=pe=1}}();var Ae=[0,1,2,4,8,16,32,64,128,27,54],_e=he.AES=O.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var fe=this._keyPriorReset=this._key,Me=fe.words,pe=fe.sigBytes/4,Ee=4*((this._nRounds=pe+6)+1),je=this._keySchedule=[],ke=0;ke<Ee;ke++)ke<pe?je[ke]=Me[ke]:(oe=je[ke-1],ke%pe?pe>6&&ke%pe==4&&(oe=ee[oe>>>24]<<24|ee[oe>>>16&255]<<16|ee[oe>>>8&255]<<8|ee[255&oe]):(oe=ee[(oe=oe<<8|oe>>>24)>>>24]<<24|ee[oe>>>16&255]<<16|ee[oe>>>8&255]<<8|ee[255&oe],oe^=Ae[ke/pe|0]<<24),je[ke]=je[ke-pe]^oe);for(var Xe=this._invKeySchedule=[],ut=0;ut<Ee;ut++){if(ke=Ee-ut,ut%4)var oe=je[ke];else oe=je[ke-4];Xe[ut]=ut<4||ke<=4?oe:V[ee[oe>>>24]]^Z[ee[oe>>>16&255]]^ne[ee[oe>>>8&255]]^ce[ee[255&oe]]}}},encryptBlock:function(oe,fe){this._doCryptBlock(oe,fe,this._keySchedule,j,K,Y,F,ee)},decryptBlock:function(oe,fe){var Me=oe[fe+1];oe[fe+1]=oe[fe+3],oe[fe+3]=Me,this._doCryptBlock(oe,fe,this._invKeySchedule,V,Z,ne,ce,ie),Me=oe[fe+1],oe[fe+1]=oe[fe+3],oe[fe+3]=Me},_doCryptBlock:function(oe,fe,Me,pe,de,Ee,je,ke){for(var Xe=this._nRounds,ut=oe[fe]^Me[0],Ue=oe[fe+1]^Me[1],ct=oe[fe+2]^Me[2],kt=oe[fe+3]^Me[3],lt=4,dn=1;dn<Xe;dn++){var jt=pe[ut>>>24]^de[Ue>>>16&255]^Ee[ct>>>8&255]^je[255&kt]^Me[lt++],Ht=pe[Ue>>>24]^de[ct>>>16&255]^Ee[kt>>>8&255]^je[255&ut]^Me[lt++],Zt=pe[ct>>>24]^de[kt>>>16&255]^Ee[ut>>>8&255]^je[255&Ue]^Me[lt++],Ce=pe[kt>>>24]^de[ut>>>16&255]^Ee[Ue>>>8&255]^je[255&ct]^Me[lt++];ut=jt,Ue=Ht,ct=Zt,kt=Ce}jt=(ke[ut>>>24]<<24|ke[Ue>>>16&255]<<16|ke[ct>>>8&255]<<8|ke[255&kt])^Me[lt++],Ht=(ke[Ue>>>24]<<24|ke[ct>>>16&255]<<16|ke[kt>>>8&255]<<8|ke[255&ut])^Me[lt++],Zt=(ke[ct>>>24]<<24|ke[kt>>>16&255]<<16|ke[ut>>>8&255]<<8|ke[255&Ue])^Me[lt++],Ce=(ke[kt>>>24]<<24|ke[ut>>>16&255]<<16|ke[Ue>>>8&255]<<8|ke[255&ct])^Me[lt++],oe[fe]=jt,oe[fe+1]=Ht,oe[fe+2]=Zt,oe[fe+3]=Ce},keySize:8});b.AES=O._createHelper(_e)}(),l.AES)},1302:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(8319),_(9493),_(7865),_(3057),function(){var b=l,O=b.lib.BlockCipher;const ee=16,ie=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],j=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var K={pbox:[],sbox:[]};function Y(ce,Ae){let pe=ce.sbox[0][Ae>>24&255]+ce.sbox[1][Ae>>16&255];return pe^=ce.sbox[2][Ae>>8&255],pe+=ce.sbox[3][255&Ae],pe}function F(ce,Ae,_e){let Me,oe=Ae,fe=_e;for(let pe=0;pe<ee;++pe)oe^=ce.pbox[pe],fe=Y(ce,oe)^fe,Me=oe,oe=fe,fe=Me;return Me=oe,oe=fe,fe=Me,fe^=ce.pbox[ee],oe^=ce.pbox[ee+1],{left:oe,right:fe}}var ne=b.algo.Blowfish=O.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var ce=this._keyPriorReset=this._key;!function Z(ce,Ae,_e){for(let de=0;de<4;de++){ce.sbox[de]=[];for(let Ee=0;Ee<256;Ee++)ce.sbox[de][Ee]=j[de][Ee]}let oe=0;for(let de=0;de<ee+2;de++)ce.pbox[de]=ie[de]^Ae[oe],oe++,oe>=_e&&(oe=0);let fe=0,Me=0,pe=0;for(let de=0;de<ee+2;de+=2)pe=F(ce,fe,Me),fe=pe.left,Me=pe.right,ce.pbox[de]=fe,ce.pbox[de+1]=Me;for(let de=0;de<4;de++)for(let Ee=0;Ee<256;Ee+=2)pe=F(ce,fe,Me),fe=pe.left,Me=pe.right,ce.sbox[de][Ee]=fe,ce.sbox[de][Ee+1]=Me;return!0}(K,ce.words,ce.sigBytes/4)}},encryptBlock:function(ce,Ae){var _e=F(K,ce[Ae],ce[Ae+1]);ce[Ae]=_e.left,ce[Ae+1]=_e.right},decryptBlock:function(ce,Ae){var _e=function V(ce,Ae,_e){let Me,oe=Ae,fe=_e;for(let pe=ee+1;pe>1;--pe)oe^=ce.pbox[pe],fe=Y(ce,oe)^fe,Me=oe,oe=fe,fe=Me;return Me=oe,oe=fe,fe=Me,fe^=ce.pbox[1],oe^=ce.pbox[0],{left:oe,right:fe}}(K,ce[Ae],ce[Ae+1]);ce[Ae]=_e.left,ce[Ae+1]=_e.right},blockSize:2,keySize:4,ivSize:2});b.Blowfish=O._createHelper(ne)}(),l.Blowfish)},3057:function(wt,Ne,_){var b,m,O,he,ee,ie,j,Y,V,Z,ce,Ae,_e,fe,pe,Ee,je,Xe,ut,l;wt.exports=(l=_(7585),_(7865),void(l.lib.Cipher||(m=l,O=m.lib,he=O.Base,ee=O.WordArray,ie=O.BufferedBlockAlgorithm,j=m.enc,Y=j.Base64,V=m.algo.EvpKDF,Z=O.Cipher=ie.extend({cfg:he.extend(),createEncryptor:function(Ue,ct){return this.create(this._ENC_XFORM_MODE,Ue,ct)},createDecryptor:function(Ue,ct){return this.create(this._DEC_XFORM_MODE,Ue,ct)},init:function(Ue,ct,kt){this.cfg=this.cfg.extend(kt),this._xformMode=Ue,this._key=ct,this.reset()},reset:function(){ie.reset.call(this),this._doReset()},process:function(Ue){return this._append(Ue),this._process()},finalize:function(Ue){return Ue&&this._append(Ue),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Ue(ct){return"string"==typeof ct?ut:je}return function(ct){return{encrypt:function(kt,lt,dn){return Ue(lt).encrypt(ct,kt,lt,dn)},decrypt:function(kt,lt,dn){return Ue(lt).decrypt(ct,kt,lt,dn)}}}}()}),O.StreamCipher=Z.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),ce=m.mode={},Ae=O.BlockCipherMode=he.extend({createEncryptor:function(Ue,ct){return this.Encryptor.create(Ue,ct)},createDecryptor:function(Ue,ct){return this.Decryptor.create(Ue,ct)},init:function(Ue,ct){this._cipher=Ue,this._iv=ct}}),_e=ce.CBC=function(){var Ue=Ae.extend();function ct(kt,lt,dn){var jt,Ht=this._iv;Ht?(jt=Ht,this._iv=b):jt=this._prevBlock;for(var Zt=0;Zt<dn;Zt++)kt[lt+Zt]^=jt[Zt]}return Ue.Encryptor=Ue.extend({processBlock:function(kt,lt){var dn=this._cipher,jt=dn.blockSize;ct.call(this,kt,lt,jt),dn.encryptBlock(kt,lt),this._prevBlock=kt.slice(lt,lt+jt)}}),Ue.Decryptor=Ue.extend({processBlock:function(kt,lt){var dn=this._cipher,jt=dn.blockSize,Ht=kt.slice(lt,lt+jt);dn.decryptBlock(kt,lt),ct.call(this,kt,lt,jt),this._prevBlock=Ht}}),Ue}(),fe=(m.pad={}).Pkcs7={pad:function(Ue,ct){for(var kt=4*ct,lt=kt-Ue.sigBytes%kt,dn=lt<<24|lt<<16|lt<<8|lt,jt=[],Ht=0;Ht<lt;Ht+=4)jt.push(dn);var Zt=ee.create(jt,lt);Ue.concat(Zt)},unpad:function(Ue){Ue.sigBytes-=255&Ue.words[Ue.sigBytes-1>>>2]}},O.BlockCipher=Z.extend({cfg:Z.cfg.extend({mode:_e,padding:fe}),reset:function(){var Ue;Z.reset.call(this);var ct=this.cfg,kt=ct.iv,lt=ct.mode;this._xformMode==this._ENC_XFORM_MODE?Ue=lt.createEncryptor:(Ue=lt.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Ue?this._mode.init(this,kt&&kt.words):(this._mode=Ue.call(lt,this,kt&&kt.words),this._mode.__creator=Ue)},_doProcessBlock:function(Ue,ct){this._mode.processBlock(Ue,ct)},_doFinalize:function(){var Ue,ct=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ct.pad(this._data,this.blockSize),Ue=this._process(!0)):(Ue=this._process(!0),ct.unpad(Ue)),Ue},blockSize:4}),pe=O.CipherParams=he.extend({init:function(Ue){this.mixIn(Ue)},toString:function(Ue){return(Ue||this.formatter).stringify(this)}}),Ee=(m.format={}).OpenSSL={stringify:function(Ue){var kt=Ue.ciphertext,lt=Ue.salt;return(lt?ee.create([1398893684,1701076831]).concat(lt).concat(kt):kt).toString(Y)},parse:function(Ue){var ct,kt=Y.parse(Ue),lt=kt.words;return 1398893684==lt[0]&&1701076831==lt[1]&&(ct=ee.create(lt.slice(2,4)),lt.splice(0,4),kt.sigBytes-=16),pe.create({ciphertext:kt,salt:ct})}},je=O.SerializableCipher=he.extend({cfg:he.extend({format:Ee}),encrypt:function(Ue,ct,kt,lt){lt=this.cfg.extend(lt);var dn=Ue.createEncryptor(kt,lt),jt=dn.finalize(ct),Ht=dn.cfg;return pe.create({ciphertext:jt,key:kt,iv:Ht.iv,algorithm:Ue,mode:Ht.mode,padding:Ht.padding,blockSize:Ue.blockSize,formatter:lt.format})},decrypt:function(Ue,ct,kt,lt){return lt=this.cfg.extend(lt),ct=this._parse(ct,lt.format),Ue.createDecryptor(kt,lt).finalize(ct.ciphertext)},_parse:function(Ue,ct){return"string"==typeof Ue?ct.parse(Ue,this):Ue}}),Xe=(m.kdf={}).OpenSSL={execute:function(Ue,ct,kt,lt,dn){if(lt||(lt=ee.random(8)),dn)var jt=V.create({keySize:ct+kt,hasher:dn}).compute(Ue,lt);else jt=V.create({keySize:ct+kt}).compute(Ue,lt);var Ht=ee.create(jt.words.slice(ct),4*kt);return jt.sigBytes=4*ct,pe.create({key:jt,iv:Ht,salt:lt})}},ut=O.PasswordBasedCipher=je.extend({cfg:je.cfg.extend({kdf:Xe}),encrypt:function(Ue,ct,kt,lt){var dn=(lt=this.cfg.extend(lt)).kdf.execute(kt,Ue.keySize,Ue.ivSize,lt.salt,lt.hasher);lt.iv=dn.iv;var jt=je.encrypt.call(this,Ue,ct,dn.key,lt);return jt.mixIn(dn),jt},decrypt:function(Ue,ct,kt,lt){lt=this.cfg.extend(lt),ct=this._parse(ct,lt.format);var dn=lt.kdf.execute(kt,Ue.keySize,Ue.ivSize,ct.salt,lt.hasher);return lt.iv=dn.iv,je.decrypt.call(this,Ue,ct,dn.key,lt)}}))))},7585:function(wt,Ne,_){var l;wt.exports=(l=l||function(b,m){var O;if(typeof window<"u"&&window.crypto&&(O=window.crypto),typeof self<"u"&&self.crypto&&(O=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(O=globalThis.crypto),!O&&typeof window<"u"&&window.msCrypto&&(O=window.msCrypto),!O&&typeof global<"u"&&global.crypto&&(O=global.crypto),!O)try{O=_(2480)}catch{}var he=function(){if(O){if("function"==typeof O.getRandomValues)try{return O.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof O.randomBytes)try{return O.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},ee=Object.create||function(){function oe(){}return function(fe){var Me;return oe.prototype=fe,Me=new oe,oe.prototype=null,Me}}(),ie={},j=ie.lib={},K=j.Base={extend:function(oe){var fe=ee(this);return oe&&fe.mixIn(oe),(!fe.hasOwnProperty("init")||this.init===fe.init)&&(fe.init=function(){fe.$super.init.apply(this,arguments)}),fe.init.prototype=fe,fe.$super=this,fe},create:function(){var oe=this.extend();return oe.init.apply(oe,arguments),oe},init:function(){},mixIn:function(oe){for(var fe in oe)oe.hasOwnProperty(fe)&&(this[fe]=oe[fe]);oe.hasOwnProperty("toString")&&(this.toString=oe.toString)},clone:function(){return this.init.prototype.extend(this)}},Y=j.WordArray=K.extend({init:function(oe,fe){oe=this.words=oe||[],this.sigBytes=null!=fe?fe:4*oe.length},toString:function(oe){return(oe||V).stringify(this)},concat:function(oe){var fe=this.words,Me=oe.words,pe=this.sigBytes,de=oe.sigBytes;if(this.clamp(),pe%4)for(var Ee=0;Ee<de;Ee++)fe[pe+Ee>>>2]|=(Me[Ee>>>2]>>>24-Ee%4*8&255)<<24-(pe+Ee)%4*8;else for(var ke=0;ke<de;ke+=4)fe[pe+ke>>>2]=Me[ke>>>2];return this.sigBytes+=de,this},clamp:function(){var oe=this.words,fe=this.sigBytes;oe[fe>>>2]&=4294967295<<32-fe%4*8,oe.length=b.ceil(fe/4)},clone:function(){var oe=K.clone.call(this);return oe.words=this.words.slice(0),oe},random:function(oe){for(var fe=[],Me=0;Me<oe;Me+=4)fe.push(he());return new Y.init(fe,oe)}}),F=ie.enc={},V=F.Hex={stringify:function(oe){for(var fe=oe.words,Me=oe.sigBytes,pe=[],de=0;de<Me;de++){var Ee=fe[de>>>2]>>>24-de%4*8&255;pe.push((Ee>>>4).toString(16)),pe.push((15&Ee).toString(16))}return pe.join("")},parse:function(oe){for(var fe=oe.length,Me=[],pe=0;pe<fe;pe+=2)Me[pe>>>3]|=parseInt(oe.substr(pe,2),16)<<24-pe%8*4;return new Y.init(Me,fe/2)}},Z=F.Latin1={stringify:function(oe){for(var fe=oe.words,Me=oe.sigBytes,pe=[],de=0;de<Me;de++)pe.push(String.fromCharCode(fe[de>>>2]>>>24-de%4*8&255));return pe.join("")},parse:function(oe){for(var fe=oe.length,Me=[],pe=0;pe<fe;pe++)Me[pe>>>2]|=(255&oe.charCodeAt(pe))<<24-pe%4*8;return new Y.init(Me,fe)}},ne=F.Utf8={stringify:function(oe){try{return decodeURIComponent(escape(Z.stringify(oe)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(oe){return Z.parse(unescape(encodeURIComponent(oe)))}},ce=j.BufferedBlockAlgorithm=K.extend({reset:function(){this._data=new Y.init,this._nDataBytes=0},_append:function(oe){"string"==typeof oe&&(oe=ne.parse(oe)),this._data.concat(oe),this._nDataBytes+=oe.sigBytes},_process:function(oe){var fe,Me=this._data,pe=Me.words,de=Me.sigBytes,Ee=this.blockSize,ke=de/(4*Ee),Xe=(ke=oe?b.ceil(ke):b.max((0|ke)-this._minBufferSize,0))*Ee,ut=b.min(4*Xe,de);if(Xe){for(var Ue=0;Ue<Xe;Ue+=Ee)this._doProcessBlock(pe,Ue);fe=pe.splice(0,Xe),Me.sigBytes-=ut}return new Y.init(fe,ut)},clone:function(){var oe=K.clone.call(this);return oe._data=this._data.clone(),oe},_minBufferSize:0}),_e=(j.Hasher=ce.extend({cfg:K.extend(),init:function(oe){this.cfg=this.cfg.extend(oe),this.reset()},reset:function(){ce.reset.call(this),this._doReset()},update:function(oe){return this._append(oe),this._process(),this},finalize:function(oe){return oe&&this._append(oe),this._doFinalize()},blockSize:16,_createHelper:function(oe){return function(fe,Me){return new oe.init(Me).finalize(fe)}},_createHmacHelper:function(oe){return function(fe,Me){return new _e.HMAC.init(oe,Me).finalize(fe)}}}),ie.algo={});return ie}(Math),l)},8319:function(wt,Ne,_){var l,O;wt.exports=(l=_(7585),O=l.lib.WordArray,l.enc.Base64={stringify:function(j){var K=j.words,Y=j.sigBytes,F=this._map;j.clamp();for(var V=[],Z=0;Z<Y;Z+=3)for(var _e=(K[Z>>>2]>>>24-Z%4*8&255)<<16|(K[Z+1>>>2]>>>24-(Z+1)%4*8&255)<<8|K[Z+2>>>2]>>>24-(Z+2)%4*8&255,oe=0;oe<4&&Z+.75*oe<Y;oe++)V.push(F.charAt(_e>>>6*(3-oe)&63));var fe=F.charAt(64);if(fe)for(;V.length%4;)V.push(fe);return V.join("")},parse:function(j){var K=j.length,Y=this._map,F=this._reverseMap;if(!F){F=this._reverseMap=[];for(var V=0;V<Y.length;V++)F[Y.charCodeAt(V)]=V}var Z=Y.charAt(64);if(Z){var ne=j.indexOf(Z);-1!==ne&&(K=ne)}return function ie(j,K,Y){for(var F=[],V=0,Z=0;Z<K;Z++)if(Z%4){var ne=Y[j.charCodeAt(Z-1)]<<Z%4*2,ce=Y[j.charCodeAt(Z)]>>>6-Z%4*2;F[V>>>2]|=(ne|ce)<<24-V%4*8,V++}return O.create(F,V)}(j,K,F)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},l.enc.Base64)},4410:function(wt,Ne,_){var l,O;wt.exports=(l=_(7585),O=l.lib.WordArray,l.enc.Base64url={stringify:function(j,K){void 0===K&&(K=!0);var Y=j.words,F=j.sigBytes,V=K?this._safe_map:this._map;j.clamp();for(var Z=[],ne=0;ne<F;ne+=3)for(var oe=(Y[ne>>>2]>>>24-ne%4*8&255)<<16|(Y[ne+1>>>2]>>>24-(ne+1)%4*8&255)<<8|Y[ne+2>>>2]>>>24-(ne+2)%4*8&255,fe=0;fe<4&&ne+.75*fe<F;fe++)Z.push(V.charAt(oe>>>6*(3-fe)&63));var Me=V.charAt(64);if(Me)for(;Z.length%4;)Z.push(Me);return Z.join("")},parse:function(j,K){void 0===K&&(K=!0);var Y=j.length,F=K?this._safe_map:this._map,V=this._reverseMap;if(!V){V=this._reverseMap=[];for(var Z=0;Z<F.length;Z++)V[F.charCodeAt(Z)]=Z}var ne=F.charAt(64);if(ne){var ce=j.indexOf(ne);-1!==ce&&(Y=ce)}return function ie(j,K,Y){for(var F=[],V=0,Z=0;Z<K;Z++)if(Z%4){var ne=Y[j.charCodeAt(Z-1)]<<Z%4*2,ce=Y[j.charCodeAt(Z)]>>>6-Z%4*2;F[V>>>2]|=(ne|ce)<<24-V%4*8,V++}return O.create(F,V)}(j,Y,V)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},l.enc.Base64url)},9012:function(wt,Ne,_){var l;wt.exports=(l=_(7585),function(){var O=l.lib.WordArray,he=l.enc;function ie(j){return j<<8&4278255360|j>>>8&16711935}he.Utf16=he.Utf16BE={stringify:function(j){for(var K=j.words,Y=j.sigBytes,F=[],V=0;V<Y;V+=2)F.push(String.fromCharCode(K[V>>>2]>>>16-V%4*8&65535));return F.join("")},parse:function(j){for(var K=j.length,Y=[],F=0;F<K;F++)Y[F>>>1]|=j.charCodeAt(F)<<16-F%2*16;return O.create(Y,2*K)}},he.Utf16LE={stringify:function(j){for(var K=j.words,Y=j.sigBytes,F=[],V=0;V<Y;V+=2){var Z=ie(K[V>>>2]>>>16-V%4*8&65535);F.push(String.fromCharCode(Z))}return F.join("")},parse:function(j){for(var K=j.length,Y=[],F=0;F<K;F++)Y[F>>>1]|=ie(j.charCodeAt(F)<<16-F%2*16);return O.create(Y,2*K)}}}(),l.enc.Utf16)},7865:function(wt,Ne,_){var b,m,O,he,ee,j,l;wt.exports=(l=_(7585),_(5162),_(3764),he=(m=(b=l).lib).WordArray,j=(ee=b.algo).EvpKDF=(O=m.Base).extend({cfg:O.extend({keySize:4,hasher:ee.MD5,iterations:1}),init:function(K){this.cfg=this.cfg.extend(K)},compute:function(K,Y){for(var F,V=this.cfg,Z=V.hasher.create(),ne=he.create(),ce=ne.words,Ae=V.keySize,_e=V.iterations;ce.length<Ae;){F&&Z.update(F),F=Z.update(K).finalize(Y),Z.reset();for(var oe=1;oe<_e;oe++)F=Z.finalize(F),Z.reset();ne.concat(F)}return ne.sigBytes=4*Ae,ne}}),b.EvpKDF=function(K,Y,F){return j.create(F).compute(K,Y)},l.EvpKDF)},1847:function(wt,Ne,_){var l,he,ie;wt.exports=(l=_(7585),_(3057),he=l.lib.CipherParams,ie=l.enc.Hex,l.format.Hex={stringify:function(Y){return Y.ciphertext.toString(ie)},parse:function(Y){var F=ie.parse(Y);return he.create({ciphertext:F})}},l.format.Hex)},3764:function(wt,Ne,_){var l,ee;wt.exports=(l=_(7585),ee=l.enc.Utf8,void(l.algo.HMAC=l.lib.Base.extend({init:function(K,Y){K=this._hasher=new K.init,"string"==typeof Y&&(Y=ee.parse(Y));var F=K.blockSize,V=4*F;Y.sigBytes>V&&(Y=K.finalize(Y)),Y.clamp();for(var Z=this._oKey=Y.clone(),ne=this._iKey=Y.clone(),ce=Z.words,Ae=ne.words,_e=0;_e<F;_e++)ce[_e]^=1549556828,Ae[_e]^=909522486;Z.sigBytes=ne.sigBytes=V,this.reset()},reset:function(){var K=this._hasher;K.reset(),K.update(this._iKey)},update:function(K){return this._hasher.update(K),this},finalize:function(K){var Y=this._hasher,F=Y.finalize(K);return Y.reset(),Y.finalize(this._oKey.clone().concat(F))}})))},7206:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(401),_(7412),_(9012),_(8319),_(4410),_(9493),_(5162),_(1817),_(8769),_(3351),_(6787),_(1971),_(4973),_(3764),_(8812),_(7865),_(3057),_(4424),_(6635),_(3592),_(9354),_(7934),_(4413),_(4630),_(187),_(1691),_(3237),_(1847),_(7466),_(7243),_(486),_(8182),_(3544),_(1302),l)},7412:function(wt,Ne,_){var l;wt.exports=(l=_(7585),function(){if("function"==typeof ArrayBuffer){var O=l.lib.WordArray,he=O.init,ee=O.init=function(ie){if(ie instanceof ArrayBuffer&&(ie=new Uint8Array(ie)),(ie instanceof Int8Array||typeof Uint8ClampedArray<"u"&&ie instanceof Uint8ClampedArray||ie instanceof Int16Array||ie instanceof Uint16Array||ie instanceof Int32Array||ie instanceof Uint32Array||ie instanceof Float32Array||ie instanceof Float64Array)&&(ie=new Uint8Array(ie.buffer,ie.byteOffset,ie.byteLength)),ie instanceof Uint8Array){for(var j=ie.byteLength,K=[],Y=0;Y<j;Y++)K[Y>>>2]|=ie[Y]<<24-Y%4*8;he.call(this,K,j)}else he.apply(this,arguments)};ee.prototype=O}}(),l.lib.WordArray)},9493:function(wt,Ne,_){var l;wt.exports=(l=_(7585),function(b){var m=l,O=m.lib,he=O.WordArray,ee=O.Hasher,ie=m.algo,j=[];!function(){for(var ne=0;ne<64;ne++)j[ne]=4294967296*b.abs(b.sin(ne+1))|0}();var K=ie.MD5=ee.extend({_doReset:function(){this._hash=new he.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(ne,ce){for(var Ae=0;Ae<16;Ae++){var _e=ce+Ae,oe=ne[_e];ne[_e]=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8)}var fe=this._hash.words,Me=ne[ce+0],pe=ne[ce+1],de=ne[ce+2],Ee=ne[ce+3],je=ne[ce+4],ke=ne[ce+5],Xe=ne[ce+6],ut=ne[ce+7],Ue=ne[ce+8],ct=ne[ce+9],kt=ne[ce+10],lt=ne[ce+11],dn=ne[ce+12],jt=ne[ce+13],Ht=ne[ce+14],Zt=ne[ce+15],Ce=fe[0],Oe=fe[1],Fe=fe[2],me=fe[3];Ce=Y(Ce,Oe,Fe,me,Me,7,j[0]),me=Y(me,Ce,Oe,Fe,pe,12,j[1]),Fe=Y(Fe,me,Ce,Oe,de,17,j[2]),Oe=Y(Oe,Fe,me,Ce,Ee,22,j[3]),Ce=Y(Ce,Oe,Fe,me,je,7,j[4]),me=Y(me,Ce,Oe,Fe,ke,12,j[5]),Fe=Y(Fe,me,Ce,Oe,Xe,17,j[6]),Oe=Y(Oe,Fe,me,Ce,ut,22,j[7]),Ce=Y(Ce,Oe,Fe,me,Ue,7,j[8]),me=Y(me,Ce,Oe,Fe,ct,12,j[9]),Fe=Y(Fe,me,Ce,Oe,kt,17,j[10]),Oe=Y(Oe,Fe,me,Ce,lt,22,j[11]),Ce=Y(Ce,Oe,Fe,me,dn,7,j[12]),me=Y(me,Ce,Oe,Fe,jt,12,j[13]),Fe=Y(Fe,me,Ce,Oe,Ht,17,j[14]),Ce=F(Ce,Oe=Y(Oe,Fe,me,Ce,Zt,22,j[15]),Fe,me,pe,5,j[16]),me=F(me,Ce,Oe,Fe,Xe,9,j[17]),Fe=F(Fe,me,Ce,Oe,lt,14,j[18]),Oe=F(Oe,Fe,me,Ce,Me,20,j[19]),Ce=F(Ce,Oe,Fe,me,ke,5,j[20]),me=F(me,Ce,Oe,Fe,kt,9,j[21]),Fe=F(Fe,me,Ce,Oe,Zt,14,j[22]),Oe=F(Oe,Fe,me,Ce,je,20,j[23]),Ce=F(Ce,Oe,Fe,me,ct,5,j[24]),me=F(me,Ce,Oe,Fe,Ht,9,j[25]),Fe=F(Fe,me,Ce,Oe,Ee,14,j[26]),Oe=F(Oe,Fe,me,Ce,Ue,20,j[27]),Ce=F(Ce,Oe,Fe,me,jt,5,j[28]),me=F(me,Ce,Oe,Fe,de,9,j[29]),Fe=F(Fe,me,Ce,Oe,ut,14,j[30]),Ce=V(Ce,Oe=F(Oe,Fe,me,Ce,dn,20,j[31]),Fe,me,ke,4,j[32]),me=V(me,Ce,Oe,Fe,Ue,11,j[33]),Fe=V(Fe,me,Ce,Oe,lt,16,j[34]),Oe=V(Oe,Fe,me,Ce,Ht,23,j[35]),Ce=V(Ce,Oe,Fe,me,pe,4,j[36]),me=V(me,Ce,Oe,Fe,je,11,j[37]),Fe=V(Fe,me,Ce,Oe,ut,16,j[38]),Oe=V(Oe,Fe,me,Ce,kt,23,j[39]),Ce=V(Ce,Oe,Fe,me,jt,4,j[40]),me=V(me,Ce,Oe,Fe,Me,11,j[41]),Fe=V(Fe,me,Ce,Oe,Ee,16,j[42]),Oe=V(Oe,Fe,me,Ce,Xe,23,j[43]),Ce=V(Ce,Oe,Fe,me,ct,4,j[44]),me=V(me,Ce,Oe,Fe,dn,11,j[45]),Fe=V(Fe,me,Ce,Oe,Zt,16,j[46]),Ce=Z(Ce,Oe=V(Oe,Fe,me,Ce,de,23,j[47]),Fe,me,Me,6,j[48]),me=Z(me,Ce,Oe,Fe,ut,10,j[49]),Fe=Z(Fe,me,Ce,Oe,Ht,15,j[50]),Oe=Z(Oe,Fe,me,Ce,ke,21,j[51]),Ce=Z(Ce,Oe,Fe,me,dn,6,j[52]),me=Z(me,Ce,Oe,Fe,Ee,10,j[53]),Fe=Z(Fe,me,Ce,Oe,kt,15,j[54]),Oe=Z(Oe,Fe,me,Ce,pe,21,j[55]),Ce=Z(Ce,Oe,Fe,me,Ue,6,j[56]),me=Z(me,Ce,Oe,Fe,Zt,10,j[57]),Fe=Z(Fe,me,Ce,Oe,Xe,15,j[58]),Oe=Z(Oe,Fe,me,Ce,jt,21,j[59]),Ce=Z(Ce,Oe,Fe,me,je,6,j[60]),me=Z(me,Ce,Oe,Fe,lt,10,j[61]),Fe=Z(Fe,me,Ce,Oe,de,15,j[62]),Oe=Z(Oe,Fe,me,Ce,ct,21,j[63]),fe[0]=fe[0]+Ce|0,fe[1]=fe[1]+Oe|0,fe[2]=fe[2]+Fe|0,fe[3]=fe[3]+me|0},_doFinalize:function(){var ne=this._data,ce=ne.words,Ae=8*this._nDataBytes,_e=8*ne.sigBytes;ce[_e>>>5]|=128<<24-_e%32;var oe=b.floor(Ae/4294967296),fe=Ae;ce[15+(_e+64>>>9<<4)]=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8),ce[14+(_e+64>>>9<<4)]=16711935&(fe<<8|fe>>>24)|4278255360&(fe<<24|fe>>>8),ne.sigBytes=4*(ce.length+1),this._process();for(var Me=this._hash,pe=Me.words,de=0;de<4;de++){var Ee=pe[de];pe[de]=16711935&(Ee<<8|Ee>>>24)|4278255360&(Ee<<24|Ee>>>8)}return Me},clone:function(){var ne=ee.clone.call(this);return ne._hash=this._hash.clone(),ne}});function Y(ne,ce,Ae,_e,oe,fe,Me){var pe=ne+(ce&Ae|~ce&_e)+oe+Me;return(pe<<fe|pe>>>32-fe)+ce}function F(ne,ce,Ae,_e,oe,fe,Me){var pe=ne+(ce&_e|Ae&~_e)+oe+Me;return(pe<<fe|pe>>>32-fe)+ce}function V(ne,ce,Ae,_e,oe,fe,Me){var pe=ne+(ce^Ae^_e)+oe+Me;return(pe<<fe|pe>>>32-fe)+ce}function Z(ne,ce,Ae,_e,oe,fe,Me){var pe=ne+(Ae^(ce|~_e))+oe+Me;return(pe<<fe|pe>>>32-fe)+ce}m.MD5=ee._createHelper(K),m.HmacMD5=ee._createHmacHelper(K)}(Math),l.MD5)},4424:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(3057),l.mode.CFB=function(){var b=l.lib.BlockCipherMode.extend();function m(O,he,ee,ie){var j,K=this._iv;K?(j=K.slice(0),this._iv=void 0):j=this._prevBlock,ie.encryptBlock(j,0);for(var Y=0;Y<ee;Y++)O[he+Y]^=j[Y]}return b.Encryptor=b.extend({processBlock:function(O,he){var ee=this._cipher,ie=ee.blockSize;m.call(this,O,he,ie,ee),this._prevBlock=O.slice(he,he+ie)}}),b.Decryptor=b.extend({processBlock:function(O,he){var ee=this._cipher,ie=ee.blockSize,j=O.slice(he,he+ie);m.call(this,O,he,ie,ee),this._prevBlock=j}}),b}(),l.mode.CFB)},3592:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(3057),l.mode.CTRGladman=function(){var b=l.lib.BlockCipherMode.extend();function m(ee){if(255==(ee>>24&255)){var ie=ee>>16&255,j=ee>>8&255,K=255&ee;255===ie?(ie=0,255===j?(j=0,255===K?K=0:++K):++j):++ie,ee=0,ee+=ie<<16,ee+=j<<8,ee+=K}else ee+=1<<24;return ee}var he=b.Encryptor=b.extend({processBlock:function(ee,ie){var j=this._cipher,K=j.blockSize,Y=this._iv,F=this._counter;Y&&(F=this._counter=Y.slice(0),this._iv=void 0),function O(ee){return 0===(ee[0]=m(ee[0]))&&(ee[1]=m(ee[1])),ee}(F);var V=F.slice(0);j.encryptBlock(V,0);for(var Z=0;Z<K;Z++)ee[ie+Z]^=V[Z]}});return b.Decryptor=he,b}(),l.mode.CTRGladman)},6635:function(wt,Ne,_){var b,m,l;wt.exports=(l=_(7585),_(3057),l.mode.CTR=(m=(b=l.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(O,he){var ee=this._cipher,ie=ee.blockSize,j=this._iv,K=this._counter;j&&(K=this._counter=j.slice(0),this._iv=void 0);var Y=K.slice(0);ee.encryptBlock(Y,0),K[ie-1]=K[ie-1]+1|0;for(var F=0;F<ie;F++)O[he+F]^=Y[F]}}),b.Decryptor=m,b),l.mode.CTR)},7934:function(wt,Ne,_){var b,l;wt.exports=(l=_(7585),_(3057),l.mode.ECB=((b=l.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(m,O){this._cipher.encryptBlock(m,O)}}),b.Decryptor=b.extend({processBlock:function(m,O){this._cipher.decryptBlock(m,O)}}),b),l.mode.ECB)},9354:function(wt,Ne,_){var b,m,l;wt.exports=(l=_(7585),_(3057),l.mode.OFB=(m=(b=l.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(O,he){var ee=this._cipher,ie=ee.blockSize,j=this._iv,K=this._keystream;j&&(K=this._keystream=j.slice(0),this._iv=void 0),ee.encryptBlock(K,0);for(var Y=0;Y<ie;Y++)O[he+Y]^=K[Y]}}),b.Decryptor=m,b),l.mode.OFB)},4413:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(3057),l.pad.AnsiX923={pad:function(b,m){var O=b.sigBytes,he=4*m,ee=he-O%he,ie=O+ee-1;b.clamp(),b.words[ie>>>2]|=ee<<24-ie%4*8,b.sigBytes+=ee},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},l.pad.Ansix923)},4630:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(3057),l.pad.Iso10126={pad:function(b,m){var O=4*m,he=O-b.sigBytes%O;b.concat(l.lib.WordArray.random(he-1)).concat(l.lib.WordArray.create([he<<24],1))},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},l.pad.Iso10126)},187:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(3057),l.pad.Iso97971={pad:function(b,m){b.concat(l.lib.WordArray.create([2147483648],1)),l.pad.ZeroPadding.pad(b,m)},unpad:function(b){l.pad.ZeroPadding.unpad(b),b.sigBytes--}},l.pad.Iso97971)},3237:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(3057),l.pad.NoPadding={pad:function(){},unpad:function(){}},l.pad.NoPadding)},1691:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(3057),l.pad.ZeroPadding={pad:function(b,m){var O=4*m;b.clamp(),b.sigBytes+=O-(b.sigBytes%O||O)},unpad:function(b){var m=b.words,O=b.sigBytes-1;for(O=b.sigBytes-1;O>=0;O--)if(m[O>>>2]>>>24-O%4*8&255){b.sigBytes=O+1;break}}},l.pad.ZeroPadding)},8812:function(wt,Ne,_){var b,m,O,he,ee,j,K,l;wt.exports=(l=_(7585),_(1817),_(3764),he=(m=(b=l).lib).WordArray,j=(ee=b.algo).HMAC,K=ee.PBKDF2=(O=m.Base).extend({cfg:O.extend({keySize:4,hasher:ee.SHA256,iterations:25e4}),init:function(Y){this.cfg=this.cfg.extend(Y)},compute:function(Y,F){for(var V=this.cfg,Z=j.create(V.hasher,Y),ne=he.create(),ce=he.create([1]),Ae=ne.words,_e=ce.words,oe=V.keySize,fe=V.iterations;Ae.length<oe;){var Me=Z.update(F).finalize(ce);Z.reset();for(var pe=Me.words,de=pe.length,Ee=Me,je=1;je<fe;je++){Ee=Z.finalize(Ee),Z.reset();for(var ke=Ee.words,Xe=0;Xe<de;Xe++)pe[Xe]^=ke[Xe]}ne.concat(Me),_e[0]++}return ne.sigBytes=4*oe,ne}}),b.PBKDF2=function(Y,F,V){return K.create(V).compute(Y,F)},l.PBKDF2)},3544:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(8319),_(9493),_(7865),_(3057),function(){var b=l,O=b.lib.StreamCipher,ee=[],ie=[],j=[],K=b.algo.RabbitLegacy=O.extend({_doReset:function(){var F=this._key.words,V=this.cfg.iv,Z=this._X=[F[0],F[3]<<16|F[2]>>>16,F[1],F[0]<<16|F[3]>>>16,F[2],F[1]<<16|F[0]>>>16,F[3],F[2]<<16|F[1]>>>16],ne=this._C=[F[2]<<16|F[2]>>>16,4294901760&F[0]|65535&F[1],F[3]<<16|F[3]>>>16,4294901760&F[1]|65535&F[2],F[0]<<16|F[0]>>>16,4294901760&F[2]|65535&F[3],F[1]<<16|F[1]>>>16,4294901760&F[3]|65535&F[0]];this._b=0;for(var ce=0;ce<4;ce++)Y.call(this);for(ce=0;ce<8;ce++)ne[ce]^=Z[ce+4&7];if(V){var Ae=V.words,_e=Ae[0],oe=Ae[1],fe=16711935&(_e<<8|_e>>>24)|4278255360&(_e<<24|_e>>>8),Me=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8),pe=fe>>>16|4294901760&Me,de=Me<<16|65535&fe;for(ne[0]^=fe,ne[1]^=pe,ne[2]^=Me,ne[3]^=de,ne[4]^=fe,ne[5]^=pe,ne[6]^=Me,ne[7]^=de,ce=0;ce<4;ce++)Y.call(this)}},_doProcessBlock:function(F,V){var Z=this._X;Y.call(this),ee[0]=Z[0]^Z[5]>>>16^Z[3]<<16,ee[1]=Z[2]^Z[7]>>>16^Z[5]<<16,ee[2]=Z[4]^Z[1]>>>16^Z[7]<<16,ee[3]=Z[6]^Z[3]>>>16^Z[1]<<16;for(var ne=0;ne<4;ne++)ee[ne]=16711935&(ee[ne]<<8|ee[ne]>>>24)|4278255360&(ee[ne]<<24|ee[ne]>>>8),F[V+ne]^=ee[ne]},blockSize:4,ivSize:2});function Y(){for(var F=this._X,V=this._C,Z=0;Z<8;Z++)ie[Z]=V[Z];for(V[0]=V[0]+1295307597+this._b|0,V[1]=V[1]+3545052371+(V[0]>>>0<ie[0]>>>0?1:0)|0,V[2]=V[2]+886263092+(V[1]>>>0<ie[1]>>>0?1:0)|0,V[3]=V[3]+1295307597+(V[2]>>>0<ie[2]>>>0?1:0)|0,V[4]=V[4]+3545052371+(V[3]>>>0<ie[3]>>>0?1:0)|0,V[5]=V[5]+886263092+(V[4]>>>0<ie[4]>>>0?1:0)|0,V[6]=V[6]+1295307597+(V[5]>>>0<ie[5]>>>0?1:0)|0,V[7]=V[7]+3545052371+(V[6]>>>0<ie[6]>>>0?1:0)|0,this._b=V[7]>>>0<ie[7]>>>0?1:0,Z=0;Z<8;Z++){var ne=F[Z]+V[Z],ce=65535&ne,Ae=ne>>>16;j[Z]=((ce*ce>>>17)+ce*Ae>>>15)+Ae*Ae^((4294901760&ne)*ne|0)+((65535&ne)*ne|0)}F[0]=j[0]+(j[7]<<16|j[7]>>>16)+(j[6]<<16|j[6]>>>16)|0,F[1]=j[1]+(j[0]<<8|j[0]>>>24)+j[7]|0,F[2]=j[2]+(j[1]<<16|j[1]>>>16)+(j[0]<<16|j[0]>>>16)|0,F[3]=j[3]+(j[2]<<8|j[2]>>>24)+j[1]|0,F[4]=j[4]+(j[3]<<16|j[3]>>>16)+(j[2]<<16|j[2]>>>16)|0,F[5]=j[5]+(j[4]<<8|j[4]>>>24)+j[3]|0,F[6]=j[6]+(j[5]<<16|j[5]>>>16)+(j[4]<<16|j[4]>>>16)|0,F[7]=j[7]+(j[6]<<8|j[6]>>>24)+j[5]|0}b.RabbitLegacy=O._createHelper(K)}(),l.RabbitLegacy)},8182:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(8319),_(9493),_(7865),_(3057),function(){var b=l,O=b.lib.StreamCipher,ee=[],ie=[],j=[],K=b.algo.Rabbit=O.extend({_doReset:function(){for(var F=this._key.words,V=this.cfg.iv,Z=0;Z<4;Z++)F[Z]=16711935&(F[Z]<<8|F[Z]>>>24)|4278255360&(F[Z]<<24|F[Z]>>>8);var ne=this._X=[F[0],F[3]<<16|F[2]>>>16,F[1],F[0]<<16|F[3]>>>16,F[2],F[1]<<16|F[0]>>>16,F[3],F[2]<<16|F[1]>>>16],ce=this._C=[F[2]<<16|F[2]>>>16,4294901760&F[0]|65535&F[1],F[3]<<16|F[3]>>>16,4294901760&F[1]|65535&F[2],F[0]<<16|F[0]>>>16,4294901760&F[2]|65535&F[3],F[1]<<16|F[1]>>>16,4294901760&F[3]|65535&F[0]];for(this._b=0,Z=0;Z<4;Z++)Y.call(this);for(Z=0;Z<8;Z++)ce[Z]^=ne[Z+4&7];if(V){var Ae=V.words,_e=Ae[0],oe=Ae[1],fe=16711935&(_e<<8|_e>>>24)|4278255360&(_e<<24|_e>>>8),Me=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8),pe=fe>>>16|4294901760&Me,de=Me<<16|65535&fe;for(ce[0]^=fe,ce[1]^=pe,ce[2]^=Me,ce[3]^=de,ce[4]^=fe,ce[5]^=pe,ce[6]^=Me,ce[7]^=de,Z=0;Z<4;Z++)Y.call(this)}},_doProcessBlock:function(F,V){var Z=this._X;Y.call(this),ee[0]=Z[0]^Z[5]>>>16^Z[3]<<16,ee[1]=Z[2]^Z[7]>>>16^Z[5]<<16,ee[2]=Z[4]^Z[1]>>>16^Z[7]<<16,ee[3]=Z[6]^Z[3]>>>16^Z[1]<<16;for(var ne=0;ne<4;ne++)ee[ne]=16711935&(ee[ne]<<8|ee[ne]>>>24)|4278255360&(ee[ne]<<24|ee[ne]>>>8),F[V+ne]^=ee[ne]},blockSize:4,ivSize:2});function Y(){for(var F=this._X,V=this._C,Z=0;Z<8;Z++)ie[Z]=V[Z];for(V[0]=V[0]+1295307597+this._b|0,V[1]=V[1]+3545052371+(V[0]>>>0<ie[0]>>>0?1:0)|0,V[2]=V[2]+886263092+(V[1]>>>0<ie[1]>>>0?1:0)|0,V[3]=V[3]+1295307597+(V[2]>>>0<ie[2]>>>0?1:0)|0,V[4]=V[4]+3545052371+(V[3]>>>0<ie[3]>>>0?1:0)|0,V[5]=V[5]+886263092+(V[4]>>>0<ie[4]>>>0?1:0)|0,V[6]=V[6]+1295307597+(V[5]>>>0<ie[5]>>>0?1:0)|0,V[7]=V[7]+3545052371+(V[6]>>>0<ie[6]>>>0?1:0)|0,this._b=V[7]>>>0<ie[7]>>>0?1:0,Z=0;Z<8;Z++){var ne=F[Z]+V[Z],ce=65535&ne,Ae=ne>>>16;j[Z]=((ce*ce>>>17)+ce*Ae>>>15)+Ae*Ae^((4294901760&ne)*ne|0)+((65535&ne)*ne|0)}F[0]=j[0]+(j[7]<<16|j[7]>>>16)+(j[6]<<16|j[6]>>>16)|0,F[1]=j[1]+(j[0]<<8|j[0]>>>24)+j[7]|0,F[2]=j[2]+(j[1]<<16|j[1]>>>16)+(j[0]<<16|j[0]>>>16)|0,F[3]=j[3]+(j[2]<<8|j[2]>>>24)+j[1]|0,F[4]=j[4]+(j[3]<<16|j[3]>>>16)+(j[2]<<16|j[2]>>>16)|0,F[5]=j[5]+(j[4]<<8|j[4]>>>24)+j[3]|0,F[6]=j[6]+(j[5]<<16|j[5]>>>16)+(j[4]<<16|j[4]>>>16)|0,F[7]=j[7]+(j[6]<<8|j[6]>>>24)+j[5]|0}b.Rabbit=O._createHelper(K)}(),l.Rabbit)},486:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(8319),_(9493),_(7865),_(3057),function(){var b=l,O=b.lib.StreamCipher,he=b.algo,ee=he.RC4=O.extend({_doReset:function(){for(var K=this._key,Y=K.words,F=K.sigBytes,V=this._S=[],Z=0;Z<256;Z++)V[Z]=Z;Z=0;for(var ne=0;Z<256;Z++){var ce=Z%F,_e=V[Z];V[Z]=V[ne=(ne+V[Z]+(Y[ce>>>2]>>>24-ce%4*8&255))%256],V[ne]=_e}this._i=this._j=0},_doProcessBlock:function(K,Y){K[Y]^=ie.call(this)},keySize:8,ivSize:0});function ie(){for(var K=this._S,Y=this._i,F=this._j,V=0,Z=0;Z<4;Z++){var ne=K[Y=(Y+1)%256];K[Y]=K[F=(F+K[Y])%256],K[F]=ne,V|=K[(K[Y]+K[F])%256]<<24-8*Z}return this._i=Y,this._j=F,V}b.RC4=O._createHelper(ee);var j=he.RC4Drop=ee.extend({cfg:ee.cfg.extend({drop:192}),_doReset:function(){ee._doReset.call(this);for(var K=this.cfg.drop;K>0;K--)ie.call(this)}});b.RC4Drop=O._createHelper(j)}(),l.RC4)},4973:function(wt,Ne,_){var l;wt.exports=(l=_(7585),function(b){var m=l,O=m.lib,he=O.WordArray,ee=O.Hasher,ie=m.algo,j=he.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),K=he.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),Y=he.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),F=he.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),V=he.create([0,1518500249,1859775393,2400959708,2840853838]),Z=he.create([1352829926,1548603684,1836072691,2053994217,0]),ne=ie.RIPEMD160=ee.extend({_doReset:function(){this._hash=he.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(pe,de){for(var Ee=0;Ee<16;Ee++){var je=de+Ee,ke=pe[je];pe[je]=16711935&(ke<<8|ke>>>24)|4278255360&(ke<<24|ke>>>8)}var jt,Ht,Zt,Ce,Oe,Fe,me,Ye,W,ve,R,Xe=this._hash.words,ut=V.words,Ue=Z.words,ct=j.words,kt=K.words,lt=Y.words,dn=F.words;for(Fe=jt=Xe[0],me=Ht=Xe[1],Ye=Zt=Xe[2],W=Ce=Xe[3],ve=Oe=Xe[4],Ee=0;Ee<80;Ee+=1)R=jt+pe[de+ct[Ee]]|0,R+=Ee<16?ce(Ht,Zt,Ce)+ut[0]:Ee<32?Ae(Ht,Zt,Ce)+ut[1]:Ee<48?_e(Ht,Zt,Ce)+ut[2]:Ee<64?oe(Ht,Zt,Ce)+ut[3]:fe(Ht,Zt,Ce)+ut[4],R=(R=Me(R|=0,lt[Ee]))+Oe|0,jt=Oe,Oe=Ce,Ce=Me(Zt,10),Zt=Ht,Ht=R,R=Fe+pe[de+kt[Ee]]|0,R+=Ee<16?fe(me,Ye,W)+Ue[0]:Ee<32?oe(me,Ye,W)+Ue[1]:Ee<48?_e(me,Ye,W)+Ue[2]:Ee<64?Ae(me,Ye,W)+Ue[3]:ce(me,Ye,W)+Ue[4],R=(R=Me(R|=0,dn[Ee]))+ve|0,Fe=ve,ve=W,W=Me(Ye,10),Ye=me,me=R;R=Xe[1]+Zt+W|0,Xe[1]=Xe[2]+Ce+ve|0,Xe[2]=Xe[3]+Oe+Fe|0,Xe[3]=Xe[4]+jt+me|0,Xe[4]=Xe[0]+Ht+Ye|0,Xe[0]=R},_doFinalize:function(){var pe=this._data,de=pe.words,Ee=8*this._nDataBytes,je=8*pe.sigBytes;de[je>>>5]|=128<<24-je%32,de[14+(je+64>>>9<<4)]=16711935&(Ee<<8|Ee>>>24)|4278255360&(Ee<<24|Ee>>>8),pe.sigBytes=4*(de.length+1),this._process();for(var ke=this._hash,Xe=ke.words,ut=0;ut<5;ut++){var Ue=Xe[ut];Xe[ut]=16711935&(Ue<<8|Ue>>>24)|4278255360&(Ue<<24|Ue>>>8)}return ke},clone:function(){var pe=ee.clone.call(this);return pe._hash=this._hash.clone(),pe}});function ce(pe,de,Ee){return pe^de^Ee}function Ae(pe,de,Ee){return pe&de|~pe&Ee}function _e(pe,de,Ee){return(pe|~de)^Ee}function oe(pe,de,Ee){return pe&Ee|de&~Ee}function fe(pe,de,Ee){return pe^(de|~Ee)}function Me(pe,de){return pe<<de|pe>>>32-de}m.RIPEMD160=ee._createHelper(ne),m.HmacRIPEMD160=ee._createHmacHelper(ne)}(Math),l.RIPEMD160)},5162:function(wt,Ne,_){var b,m,O,he,ie,j,l;wt.exports=(l=_(7585),O=(m=(b=l).lib).WordArray,ie=[],j=b.algo.SHA1=(he=m.Hasher).extend({_doReset:function(){this._hash=new O.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(K,Y){for(var F=this._hash.words,V=F[0],Z=F[1],ne=F[2],ce=F[3],Ae=F[4],_e=0;_e<80;_e++){if(_e<16)ie[_e]=0|K[Y+_e];else{var oe=ie[_e-3]^ie[_e-8]^ie[_e-14]^ie[_e-16];ie[_e]=oe<<1|oe>>>31}var fe=(V<<5|V>>>27)+Ae+ie[_e];fe+=_e<20?1518500249+(Z&ne|~Z&ce):_e<40?1859775393+(Z^ne^ce):_e<60?(Z&ne|Z&ce|ne&ce)-1894007588:(Z^ne^ce)-899497514,Ae=ce,ce=ne,ne=Z<<30|Z>>>2,Z=V,V=fe}F[0]=F[0]+V|0,F[1]=F[1]+Z|0,F[2]=F[2]+ne|0,F[3]=F[3]+ce|0,F[4]=F[4]+Ae|0},_doFinalize:function(){var K=this._data,Y=K.words,F=8*this._nDataBytes,V=8*K.sigBytes;return Y[V>>>5]|=128<<24-V%32,Y[14+(V+64>>>9<<4)]=Math.floor(F/4294967296),Y[15+(V+64>>>9<<4)]=F,K.sigBytes=4*Y.length,this._process(),this._hash},clone:function(){var K=he.clone.call(this);return K._hash=this._hash.clone(),K}}),b.SHA1=he._createHelper(j),b.HmacSHA1=he._createHmacHelper(j),l.SHA1)},8769:function(wt,Ne,_){var b,O,he,ee,ie,l;wt.exports=(l=_(7585),_(1817),O=(b=l).lib.WordArray,ie=(he=b.algo).SHA224=(ee=he.SHA256).extend({_doReset:function(){this._hash=new O.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var j=ee._doFinalize.call(this);return j.sigBytes-=4,j}}),b.SHA224=ee._createHelper(ie),b.HmacSHA224=ee._createHmacHelper(ie),l.SHA224)},1817:function(wt,Ne,_){var l;wt.exports=(l=_(7585),function(b){var m=l,O=m.lib,he=O.WordArray,ee=O.Hasher,ie=m.algo,j=[],K=[];!function(){function V(Ae){for(var _e=b.sqrt(Ae),oe=2;oe<=_e;oe++)if(!(Ae%oe))return!1;return!0}function Z(Ae){return 4294967296*(Ae-(0|Ae))|0}for(var ne=2,ce=0;ce<64;)V(ne)&&(ce<8&&(j[ce]=Z(b.pow(ne,.5))),K[ce]=Z(b.pow(ne,1/3)),ce++),ne++}();var Y=[],F=ie.SHA256=ee.extend({_doReset:function(){this._hash=new he.init(j.slice(0))},_doProcessBlock:function(V,Z){for(var ne=this._hash.words,ce=ne[0],Ae=ne[1],_e=ne[2],oe=ne[3],fe=ne[4],Me=ne[5],pe=ne[6],de=ne[7],Ee=0;Ee<64;Ee++){if(Ee<16)Y[Ee]=0|V[Z+Ee];else{var je=Y[Ee-15],Xe=Y[Ee-2];Y[Ee]=((je<<25|je>>>7)^(je<<14|je>>>18)^je>>>3)+Y[Ee-7]+((Xe<<15|Xe>>>17)^(Xe<<13|Xe>>>19)^Xe>>>10)+Y[Ee-16]}var ct=ce&Ae^ce&_e^Ae&_e,dn=de+((fe<<26|fe>>>6)^(fe<<21|fe>>>11)^(fe<<7|fe>>>25))+(fe&Me^~fe&pe)+K[Ee]+Y[Ee];de=pe,pe=Me,Me=fe,fe=oe+dn|0,oe=_e,_e=Ae,Ae=ce,ce=dn+(((ce<<30|ce>>>2)^(ce<<19|ce>>>13)^(ce<<10|ce>>>22))+ct)|0}ne[0]=ne[0]+ce|0,ne[1]=ne[1]+Ae|0,ne[2]=ne[2]+_e|0,ne[3]=ne[3]+oe|0,ne[4]=ne[4]+fe|0,ne[5]=ne[5]+Me|0,ne[6]=ne[6]+pe|0,ne[7]=ne[7]+de|0},_doFinalize:function(){var V=this._data,Z=V.words,ne=8*this._nDataBytes,ce=8*V.sigBytes;return Z[ce>>>5]|=128<<24-ce%32,Z[14+(ce+64>>>9<<4)]=b.floor(ne/4294967296),Z[15+(ce+64>>>9<<4)]=ne,V.sigBytes=4*Z.length,this._process(),this._hash},clone:function(){var V=ee.clone.call(this);return V._hash=this._hash.clone(),V}});m.SHA256=ee._createHelper(F),m.HmacSHA256=ee._createHmacHelper(F)}(Math),l.SHA256)},1971:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(401),function(b){var m=l,O=m.lib,he=O.WordArray,ee=O.Hasher,j=m.x64.Word,K=m.algo,Y=[],F=[],V=[];!function(){for(var ce=1,Ae=0,_e=0;_e<24;_e++){Y[ce+5*Ae]=(_e+1)*(_e+2)/2%64;var fe=(2*ce+3*Ae)%5;ce=Ae%5,Ae=fe}for(ce=0;ce<5;ce++)for(Ae=0;Ae<5;Ae++)F[ce+5*Ae]=Ae+(2*ce+3*Ae)%5*5;for(var Me=1,pe=0;pe<24;pe++){for(var de=0,Ee=0,je=0;je<7;je++){if(1&Me){var ke=(1<<je)-1;ke<32?Ee^=1<<ke:de^=1<<ke-32}128&Me?Me=Me<<1^113:Me<<=1}V[pe]=j.create(de,Ee)}}();var Z=[];!function(){for(var ce=0;ce<25;ce++)Z[ce]=j.create()}();var ne=K.SHA3=ee.extend({cfg:ee.cfg.extend({outputLength:512}),_doReset:function(){for(var ce=this._state=[],Ae=0;Ae<25;Ae++)ce[Ae]=new j.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(ce,Ae){for(var _e=this._state,oe=this.blockSize/2,fe=0;fe<oe;fe++){var Me=ce[Ae+2*fe],pe=ce[Ae+2*fe+1];Me=16711935&(Me<<8|Me>>>24)|4278255360&(Me<<24|Me>>>8),(de=_e[fe]).high^=pe=16711935&(pe<<8|pe>>>24)|4278255360&(pe<<24|pe>>>8),de.low^=Me}for(var Ee=0;Ee<24;Ee++){for(var je=0;je<5;je++){for(var ke=0,Xe=0,ut=0;ut<5;ut++)ke^=(de=_e[je+5*ut]).high,Xe^=de.low;var Ue=Z[je];Ue.high=ke,Ue.low=Xe}for(je=0;je<5;je++){var ct=Z[(je+4)%5],kt=Z[(je+1)%5],lt=kt.high,dn=kt.low;for(ke=ct.high^(lt<<1|dn>>>31),Xe=ct.low^(dn<<1|lt>>>31),ut=0;ut<5;ut++)(de=_e[je+5*ut]).high^=ke,de.low^=Xe}for(var jt=1;jt<25;jt++){var Ht=(de=_e[jt]).high,Zt=de.low,Ce=Y[jt];Ce<32?(ke=Ht<<Ce|Zt>>>32-Ce,Xe=Zt<<Ce|Ht>>>32-Ce):(ke=Zt<<Ce-32|Ht>>>64-Ce,Xe=Ht<<Ce-32|Zt>>>64-Ce);var Oe=Z[F[jt]];Oe.high=ke,Oe.low=Xe}var Fe=Z[0],me=_e[0];for(Fe.high=me.high,Fe.low=me.low,je=0;je<5;je++)for(ut=0;ut<5;ut++){var Ye=Z[jt=je+5*ut],W=Z[(je+1)%5+5*ut],ve=Z[(je+2)%5+5*ut];(de=_e[jt]).high=Ye.high^~W.high&ve.high,de.low=Ye.low^~W.low&ve.low}var de,R=V[Ee];(de=_e[0]).high^=R.high,de.low^=R.low}},_doFinalize:function(){var ce=this._data,Ae=ce.words,oe=8*ce.sigBytes,fe=32*this.blockSize;Ae[oe>>>5]|=1<<24-oe%32,Ae[(b.ceil((oe+1)/fe)*fe>>>5)-1]|=128,ce.sigBytes=4*Ae.length,this._process();for(var Me=this._state,pe=this.cfg.outputLength/8,de=pe/8,Ee=[],je=0;je<de;je++){var ke=Me[je],Xe=ke.high,ut=ke.low;Xe=16711935&(Xe<<8|Xe>>>24)|4278255360&(Xe<<24|Xe>>>8),Ee.push(ut=16711935&(ut<<8|ut>>>24)|4278255360&(ut<<24|ut>>>8)),Ee.push(Xe)}return new he.init(Ee,pe)},clone:function(){for(var ce=ee.clone.call(this),Ae=ce._state=this._state.slice(0),_e=0;_e<25;_e++)Ae[_e]=Ae[_e].clone();return ce}});m.SHA3=ee._createHelper(ne),m.HmacSHA3=ee._createHmacHelper(ne)}(Math),l.SHA3)},6787:function(wt,Ne,_){var b,m,O,he,ee,ie,j,l;wt.exports=(l=_(7585),_(401),_(3351),O=(m=(b=l).x64).Word,he=m.WordArray,j=(ee=b.algo).SHA384=(ie=ee.SHA512).extend({_doReset:function(){this._hash=new he.init([new O.init(3418070365,3238371032),new O.init(1654270250,914150663),new O.init(2438529370,812702999),new O.init(355462360,4144912697),new O.init(1731405415,4290775857),new O.init(2394180231,1750603025),new O.init(3675008525,1694076839),new O.init(1203062813,3204075428)])},_doFinalize:function(){var K=ie._doFinalize.call(this);return K.sigBytes-=16,K}}),b.SHA384=ie._createHelper(j),b.HmacSHA384=ie._createHmacHelper(j),l.SHA384)},3351:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(401),function(){var b=l,O=b.lib.Hasher,he=b.x64,ee=he.Word,ie=he.WordArray,j=b.algo;function K(){return ee.create.apply(ee,arguments)}var Y=[K(1116352408,3609767458),K(1899447441,602891725),K(3049323471,3964484399),K(3921009573,2173295548),K(961987163,4081628472),K(1508970993,3053834265),K(2453635748,2937671579),K(2870763221,3664609560),K(3624381080,2734883394),K(310598401,1164996542),K(607225278,1323610764),K(1426881987,3590304994),K(1925078388,4068182383),K(2162078206,991336113),K(2614888103,633803317),K(3248222580,3479774868),K(3835390401,2666613458),K(4022224774,944711139),K(264347078,2341262773),K(604807628,2007800933),K(770255983,1495990901),K(1249150122,1856431235),K(1555081692,3175218132),K(1996064986,2198950837),K(2554220882,3999719339),K(2821834349,766784016),K(2952996808,2566594879),K(3210313671,3203337956),K(3336571891,1034457026),K(3584528711,2466948901),K(113926993,3758326383),K(338241895,168717936),K(666307205,1188179964),K(773529912,1546045734),K(1294757372,1522805485),K(1396182291,2643833823),K(1695183700,2343527390),K(1986661051,1014477480),K(2177026350,1206759142),K(2456956037,344077627),K(2730485921,1290863460),K(2820302411,3158454273),K(3259730800,3505952657),K(3345764771,106217008),K(3516065817,3606008344),K(3600352804,1432725776),K(4094571909,1467031594),K(275423344,851169720),K(430227734,3100823752),K(506948616,1363258195),K(659060556,3750685593),K(883997877,3785050280),K(958139571,3318307427),K(1322822218,3812723403),K(1537002063,2003034995),K(1747873779,3602036899),K(1955562222,1575990012),K(2024104815,1125592928),K(2227730452,2716904306),K(2361852424,442776044),K(2428436474,593698344),K(2756734187,3733110249),K(3204031479,2999351573),K(3329325298,3815920427),K(3391569614,3928383900),K(3515267271,566280711),K(3940187606,3454069534),K(4118630271,4000239992),K(116418474,1914138554),K(174292421,2731055270),K(289380356,3203993006),K(460393269,320620315),K(685471733,587496836),K(852142971,1086792851),K(1017036298,365543100),K(1126000580,2618297676),K(1288033470,3409855158),K(1501505948,4234509866),K(1607167915,987167468),K(1816402316,1246189591)],F=[];!function(){for(var Z=0;Z<80;Z++)F[Z]=K()}();var V=j.SHA512=O.extend({_doReset:function(){this._hash=new ie.init([new ee.init(1779033703,4089235720),new ee.init(3144134277,2227873595),new ee.init(1013904242,4271175723),new ee.init(2773480762,1595750129),new ee.init(1359893119,2917565137),new ee.init(2600822924,725511199),new ee.init(528734635,4215389547),new ee.init(1541459225,327033209)])},_doProcessBlock:function(Z,ne){for(var ce=this._hash.words,Ae=ce[0],_e=ce[1],oe=ce[2],fe=ce[3],Me=ce[4],pe=ce[5],de=ce[6],Ee=ce[7],je=Ae.high,ke=Ae.low,Xe=_e.high,ut=_e.low,Ue=oe.high,ct=oe.low,kt=fe.high,lt=fe.low,dn=Me.high,jt=Me.low,Ht=pe.high,Zt=pe.low,Ce=de.high,Oe=de.low,Fe=Ee.high,me=Ee.low,Ye=je,W=ke,ve=Xe,R=ut,Se=Ue,qe=ct,Dt=kt,$e=lt,St=dn,$t=jt,vn=Ht,Bn=Zt,qn=Ce,Tn=Oe,Mn=Fe,Le=me,re=0;re<80;re++){var ge,He,It=F[re];if(re<16)He=It.high=0|Z[ne+2*re],ge=It.low=0|Z[ne+2*re+1];else{var Mt=F[re-15],Qt=Mt.high,Xt=Mt.low,Ke=(Xt>>>1|Qt<<31)^(Xt>>>8|Qt<<24)^(Xt>>>7|Qt<<25),Te=F[re-2],ot=Te.high,Gt=Te.low,gn=(Gt>>>19|ot<<13)^(Gt<<3|ot>>>29)^(Gt>>>6|ot<<26),ai=F[re-7],Qn=F[re-16],on=Qn.low;It.high=He=(He=(He=((Qt>>>1|Xt<<31)^(Qt>>>8|Xt<<24)^Qt>>>7)+ai.high+((ge=Ke+ai.low)>>>0<Ke>>>0?1:0))+((ot>>>19|Gt<<13)^(ot<<3|Gt>>>29)^ot>>>6)+((ge+=gn)>>>0<gn>>>0?1:0))+Qn.high+((ge+=on)>>>0<on>>>0?1:0),It.low=ge}var Rt,ht=St&vn^~St&qn,pt=$t&Bn^~$t&Tn,rt=Ye&ve^Ye&Se^ve&Se,an=(W>>>28|Ye<<4)^(W<<30|Ye>>>2)^(W<<25|Ye>>>7),Ze=Y[re],Je=Ze.low,dt=Mn+((St>>>14|$t<<18)^(St>>>18|$t<<14)^(St<<23|$t>>>9))+((Rt=Le+(($t>>>14|St<<18)^($t>>>18|St<<14)^($t<<23|St>>>9)))>>>0<Le>>>0?1:0),et=an+(W&R^W&qe^R&qe);Mn=qn,Le=Tn,qn=vn,Tn=Bn,vn=St,Bn=$t,St=Dt+(dt=(dt=(dt=dt+ht+((Rt+=pt)>>>0<pt>>>0?1:0))+Ze.high+((Rt+=Je)>>>0<Je>>>0?1:0))+He+((Rt+=ge)>>>0<ge>>>0?1:0))+(($t=$e+Rt|0)>>>0<$e>>>0?1:0)|0,Dt=Se,$e=qe,Se=ve,qe=R,ve=Ye,R=W,Ye=dt+(((Ye>>>28|W<<4)^(Ye<<30|W>>>2)^(Ye<<25|W>>>7))+rt+(et>>>0<an>>>0?1:0))+((W=Rt+et|0)>>>0<Rt>>>0?1:0)|0}ke=Ae.low=ke+W,Ae.high=je+Ye+(ke>>>0<W>>>0?1:0),ut=_e.low=ut+R,_e.high=Xe+ve+(ut>>>0<R>>>0?1:0),ct=oe.low=ct+qe,oe.high=Ue+Se+(ct>>>0<qe>>>0?1:0),lt=fe.low=lt+$e,fe.high=kt+Dt+(lt>>>0<$e>>>0?1:0),jt=Me.low=jt+$t,Me.high=dn+St+(jt>>>0<$t>>>0?1:0),Zt=pe.low=Zt+Bn,pe.high=Ht+vn+(Zt>>>0<Bn>>>0?1:0),Oe=de.low=Oe+Tn,de.high=Ce+qn+(Oe>>>0<Tn>>>0?1:0),me=Ee.low=me+Le,Ee.high=Fe+Mn+(me>>>0<Le>>>0?1:0)},_doFinalize:function(){var Z=this._data,ne=Z.words,ce=8*this._nDataBytes,Ae=8*Z.sigBytes;return ne[Ae>>>5]|=128<<24-Ae%32,ne[30+(Ae+128>>>10<<5)]=Math.floor(ce/4294967296),ne[31+(Ae+128>>>10<<5)]=ce,Z.sigBytes=4*ne.length,this._process(),this._hash.toX32()},clone:function(){var Z=O.clone.call(this);return Z._hash=this._hash.clone(),Z},blockSize:32});b.SHA512=O._createHelper(V),b.HmacSHA512=O._createHmacHelper(V)}(),l.SHA512)},7243:function(wt,Ne,_){var l;wt.exports=(l=_(7585),_(8319),_(9493),_(7865),_(3057),function(){var b=l,m=b.lib,O=m.WordArray,he=m.BlockCipher,ee=b.algo,ie=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],j=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],K=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],Y=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],F=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],V=ee.DES=he.extend({_doReset:function(){for(var _e=this._key.words,oe=[],fe=0;fe<56;fe++){var Me=ie[fe]-1;oe[fe]=_e[Me>>>5]>>>31-Me%32&1}for(var pe=this._subKeys=[],de=0;de<16;de++){var Ee=pe[de]=[],je=K[de];for(fe=0;fe<24;fe++)Ee[fe/6|0]|=oe[(j[fe]-1+je)%28]<<31-fe%6,Ee[4+(fe/6|0)]|=oe[28+(j[fe+24]-1+je)%28]<<31-fe%6;for(Ee[0]=Ee[0]<<1|Ee[0]>>>31,fe=1;fe<7;fe++)Ee[fe]=Ee[fe]>>>4*(fe-1)+3;Ee[7]=Ee[7]<<5|Ee[7]>>>27}var ke=this._invSubKeys=[];for(fe=0;fe<16;fe++)ke[fe]=pe[15-fe]},encryptBlock:function(Ae,_e){this._doCryptBlock(Ae,_e,this._subKeys)},decryptBlock:function(Ae,_e){this._doCryptBlock(Ae,_e,this._invSubKeys)},_doCryptBlock:function(Ae,_e,oe){this._lBlock=Ae[_e],this._rBlock=Ae[_e+1],Z.call(this,4,252645135),Z.call(this,16,65535),ne.call(this,2,858993459),ne.call(this,8,16711935),Z.call(this,1,1431655765);for(var fe=0;fe<16;fe++){for(var Me=oe[fe],pe=this._lBlock,de=this._rBlock,Ee=0,je=0;je<8;je++)Ee|=Y[je][((de^Me[je])&F[je])>>>0];this._lBlock=de,this._rBlock=pe^Ee}var ke=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ke,Z.call(this,1,1431655765),ne.call(this,8,16711935),ne.call(this,2,858993459),Z.call(this,16,65535),Z.call(this,4,252645135),Ae[_e]=this._lBlock,Ae[_e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function Z(Ae,_e){var oe=(this._lBlock>>>Ae^this._rBlock)&_e;this._rBlock^=oe,this._lBlock^=oe<<Ae}function ne(Ae,_e){var oe=(this._rBlock>>>Ae^this._lBlock)&_e;this._lBlock^=oe,this._rBlock^=oe<<Ae}b.DES=he._createHelper(V);var ce=ee.TripleDES=he.extend({_doReset:function(){var _e=this._key.words;if(2!==_e.length&&4!==_e.length&&_e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var oe=_e.slice(0,2),fe=_e.length<4?_e.slice(0,2):_e.slice(2,4),Me=_e.length<6?_e.slice(0,2):_e.slice(4,6);this._des1=V.createEncryptor(O.create(oe)),this._des2=V.createEncryptor(O.create(fe)),this._des3=V.createEncryptor(O.create(Me))},encryptBlock:function(Ae,_e){this._des1.encryptBlock(Ae,_e),this._des2.decryptBlock(Ae,_e),this._des3.encryptBlock(Ae,_e)},decryptBlock:function(Ae,_e){this._des3.decryptBlock(Ae,_e),this._des2.encryptBlock(Ae,_e),this._des1.decryptBlock(Ae,_e)},keySize:6,ivSize:2,blockSize:2});b.TripleDES=he._createHelper(ce)}(),l.TripleDES)},401:function(wt,Ne,_){var O,he,ee,ie,l;wt.exports=(l=_(7585),he=(O=l.lib).Base,ee=O.WordArray,(ie=l.x64={}).Word=he.extend({init:function(Y,F){this.high=Y,this.low=F}}),ie.WordArray=he.extend({init:function(Y,F){Y=this.words=Y||[],this.sigBytes=null!=F?F:8*Y.length},toX32:function(){for(var Y=this.words,F=Y.length,V=[],Z=0;Z<F;Z++){var ne=Y[Z];V.push(ne.high),V.push(ne.low)}return ee.create(V,this.sigBytes)},clone:function(){for(var Y=he.clone.call(this),F=Y.words=this.words.slice(0),V=F.length,Z=0;Z<V;Z++)F[Z]=F[Z].clone();return Y}}),l)},1135:(wt,Ne,_)=>{"use strict";_.d(Ne,{X:()=>b});var l=_(7579);class b extends l.x{constructor(O){super(),this._value=O}get value(){return this.getValue()}_subscribe(O){const he=super._subscribe(O);return!he.closed&&O.next(this._value),he}getValue(){const{hasError:O,thrownError:he,_value:ee}=this;if(O)throw he;return this._throwIfClosed(),ee}next(O){super.next(this._value=O)}}},9751:(wt,Ne,_)=>{"use strict";_.d(Ne,{y:()=>j});var l=_(930),b=_(727),m=_(8822),O=_(9635),he=_(2416),ee=_(576),ie=_(2806);let j=(()=>{class V{constructor(ne){ne&&(this._subscribe=ne)}lift(ne){const ce=new V;return ce.source=this,ce.operator=ne,ce}subscribe(ne,ce,Ae){const _e=function F(V){return V&&V instanceof l.Lv||function Y(V){return V&&(0,ee.m)(V.next)&&(0,ee.m)(V.error)&&(0,ee.m)(V.complete)}(V)&&(0,b.Nn)(V)}(ne)?ne:new l.Hp(ne,ce,Ae);return(0,ie.x)(()=>{const{operator:oe,source:fe}=this;_e.add(oe?oe.call(_e,fe):fe?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(ne){try{return this._subscribe(ne)}catch(ce){ne.error(ce)}}forEach(ne,ce){return new(ce=K(ce))((Ae,_e)=>{const oe=new l.Hp({next:fe=>{try{ne(fe)}catch(Me){_e(Me),oe.unsubscribe()}},error:_e,complete:Ae});this.subscribe(oe)})}_subscribe(ne){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(ne)}[m.L](){return this}pipe(...ne){return(0,O.U)(ne)(this)}toPromise(ne){return new(ne=K(ne))((ce,Ae)=>{let _e;this.subscribe(oe=>_e=oe,oe=>Ae(oe),()=>ce(_e))})}}return V.create=Z=>new V(Z),V})();function K(V){var Z;return null!==(Z=V??he.v.Promise)&&void 0!==Z?Z:Promise}},7579:(wt,Ne,_)=>{"use strict";_.d(Ne,{x:()=>ie});var l=_(9751),b=_(727);const O=(0,_(3888).d)(K=>function(){K(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=_(8737),ee=_(2806);let ie=(()=>{class K extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const V=new j(this,this);return V.operator=F,V}_throwIfClosed(){if(this.closed)throw new O}next(F){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const V of this.currentObservers)V.next(F)}})}error(F){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:V}=this;for(;V.length;)V.shift().error(F)}})}complete(){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:V,isStopped:Z,observers:ne}=this;return V||Z?b.Lc:(this.currentObservers=null,ne.push(F),new b.w0(()=>{this.currentObservers=null,(0,he.P)(ne,F)}))}_checkFinalizedStatuses(F){const{hasError:V,thrownError:Z,isStopped:ne}=this;V?F.error(Z):ne&&F.complete()}asObservable(){const F=new l.y;return F.source=this,F}}return K.create=(Y,F)=>new j(Y,F),K})();class j extends ie{constructor(Y,F){super(),this.destination=Y,this.source=F}next(Y){var F,V;null===(V=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===V||V.call(F,Y)}error(Y){var F,V;null===(V=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===V||V.call(F,Y)}complete(){var Y,F;null===(F=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===F||F.call(Y)}_subscribe(Y){var F,V;return null!==(V=null===(F=this.source)||void 0===F?void 0:F.subscribe(Y))&&void 0!==V?V:b.Lc}}},930:(wt,Ne,_)=>{"use strict";_.d(Ne,{Hp:()=>Ae,Lv:()=>V});var l=_(576),b=_(727),m=_(2416),O=_(7849),he=_(5032);const ee=K("C",void 0,void 0);function K(pe,de,Ee){return{kind:pe,value:de,error:Ee}}var Y=_(3410),F=_(2806);class V extends b.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,b.Nn)(de)&&de.add(this)):this.destination=Me}static create(de,Ee,je){return new Ae(de,Ee,je)}next(de){this.isStopped?fe(function j(pe){return K("N",pe,void 0)}(de),this):this._next(de)}error(de){this.isStopped?fe(function ie(pe){return K("E",void 0,pe)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?fe(ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Z=Function.prototype.bind;function ne(pe,de){return Z.call(pe,de)}class ce{constructor(de){this.partialObserver=de}next(de){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(de)}catch(je){_e(je)}}error(de){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(de)}catch(je){_e(je)}else _e(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(Ee){_e(Ee)}}}class Ae extends V{constructor(de,Ee,je){let ke;if(super(),(0,l.m)(de)||!de)ke={next:de??void 0,error:Ee??void 0,complete:je??void 0};else{let Xe;this&&m.v.useDeprecatedNextContext?(Xe=Object.create(de),Xe.unsubscribe=()=>this.unsubscribe(),ke={next:de.next&&ne(de.next,Xe),error:de.error&&ne(de.error,Xe),complete:de.complete&&ne(de.complete,Xe)}):ke=de}this.destination=new ce(ke)}}function _e(pe){m.v.useDeprecatedSynchronousErrorHandling?(0,F.O)(pe):(0,O.h)(pe)}function fe(pe,de){const{onStoppedNotification:Ee}=m.v;Ee&&Y.z.setTimeout(()=>Ee(pe,de))}const Me={closed:!0,next:he.Z,error:function oe(pe){throw pe},complete:he.Z}},727:(wt,Ne,_)=>{"use strict";_.d(Ne,{Lc:()=>ee,w0:()=>he,Nn:()=>ie});var l=_(576);const m=(0,_(3888).d)(K=>function(F){K(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((V,Z)=>`${Z+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var O=_(8737);class he{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const ne of F)ne.remove(this);else F.remove(this);const{initialTeardown:V}=this;if((0,l.m)(V))try{V()}catch(ne){Y=ne instanceof m?ne.errors:[ne]}const{_finalizers:Z}=this;if(Z){this._finalizers=null;for(const ne of Z)try{j(ne)}catch(ce){Y=Y??[],ce instanceof m?Y=[...Y,...ce.errors]:Y.push(ce)}}if(Y)throw new m(Y)}}add(Y){var F;if(Y&&Y!==this)if(this.closed)j(Y);else{if(Y instanceof he){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(F=this._finalizers)&&void 0!==F?F:[]).push(Y)}}_hasParent(Y){const{_parentage:F}=this;return F===Y||Array.isArray(F)&&F.includes(Y)}_addParent(Y){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(Y),F):F?[F,Y]:Y}_removeParent(Y){const{_parentage:F}=this;F===Y?this._parentage=null:Array.isArray(F)&&(0,O.P)(F,Y)}remove(Y){const{_finalizers:F}=this;F&&(0,O.P)(F,Y),Y instanceof he&&Y._removeParent(this)}}he.EMPTY=(()=>{const K=new he;return K.closed=!0,K})();const ee=he.EMPTY;function ie(K){return K instanceof he||K&&"closed"in K&&(0,l.m)(K.remove)&&(0,l.m)(K.add)&&(0,l.m)(K.unsubscribe)}function j(K){(0,l.m)(K)?K():K.unsubscribe()}},2416:(wt,Ne,_)=>{"use strict";_.d(Ne,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(wt,Ne,_)=>{"use strict";_.d(Ne,{a:()=>Y});var l=_(9751),b=_(4742),m=_(8996),O=_(4671),he=_(3268),ee=_(3269),ie=_(1810),j=_(5403),K=_(9672);function Y(...Z){const ne=(0,ee.yG)(Z),ce=(0,ee.jO)(Z),{args:Ae,keys:_e}=(0,b.D)(Z);if(0===Ae.length)return(0,m.D)([],ne);const oe=new l.y(function F(Z,ne,ce=O.y){return Ae=>{V(ne,()=>{const{length:_e}=Z,oe=new Array(_e);let fe=_e,Me=_e;for(let pe=0;pe<_e;pe++)V(ne,()=>{const de=(0,m.D)(Z[pe],ne);let Ee=!1;de.subscribe((0,j.x)(Ae,je=>{oe[pe]=je,Ee||(Ee=!0,Me--),Me||Ae.next(ce(oe.slice()))},()=>{--fe||Ae.complete()}))},Ae)},Ae)}}(Ae,ne,_e?fe=>(0,ie.n)(_e,fe):O.y));return ce?oe.pipe((0,he.Z)(ce)):oe}function V(Z,ne,ce){Z?(0,K.f)(ce,Z,ne):ne()}},7272:(wt,Ne,_)=>{"use strict";_.d(Ne,{z:()=>he});var l=_(8189),m=_(3269),O=_(8996);function he(...ee){return function b(){return(0,l.J)(1)}()((0,O.D)(ee,(0,m.yG)(ee)))}},515:(wt,Ne,_)=>{"use strict";_.d(Ne,{E:()=>b});const b=new(_(9751).y)(he=>he.complete())},4128:(wt,Ne,_)=>{"use strict";_.d(Ne,{D:()=>j});var l=_(9751),b=_(4742),m=_(8421),O=_(3269),he=_(5403),ee=_(3268),ie=_(1810);function j(...K){const Y=(0,O.jO)(K),{args:F,keys:V}=(0,b.D)(K),Z=new l.y(ne=>{const{length:ce}=F;if(!ce)return void ne.complete();const Ae=new Array(ce);let _e=ce,oe=ce;for(let fe=0;fe<ce;fe++){let Me=!1;(0,m.Xf)(F[fe]).subscribe((0,he.x)(ne,pe=>{Me||(Me=!0,oe--),Ae[fe]=pe},()=>_e--,void 0,()=>{(!_e||!Me)&&(oe||ne.next(V?(0,ie.n)(V,Ae):Ae),ne.complete())}))}});return Y?Z.pipe((0,ee.Z)(Y)):Z}},8996:(wt,Ne,_)=>{"use strict";_.d(Ne,{D:()=>de});var l=_(8421),b=_(5363),m=_(9468),ee=_(9751),j=_(2202),K=_(576),Y=_(9672);function V(Ee,je){if(!Ee)throw new Error("Iterable cannot be null");return new ee.y(ke=>{(0,Y.f)(ke,je,()=>{const Xe=Ee[Symbol.asyncIterator]();(0,Y.f)(ke,je,()=>{Xe.next().then(ut=>{ut.done?ke.complete():ke.next(ut.value)})},0,!0)})})}var Z=_(3670),ne=_(8239),ce=_(1144),Ae=_(6495),_e=_(2206),oe=_(4532),fe=_(3260);function de(Ee,je){return je?function pe(Ee,je){if(null!=Ee){if((0,Z.c)(Ee))return function O(Ee,je){return(0,l.Xf)(Ee).pipe((0,m.R)(je),(0,b.Q)(je))}(Ee,je);if((0,ce.z)(Ee))return function ie(Ee,je){return new ee.y(ke=>{let Xe=0;return je.schedule(function(){Xe===Ee.length?ke.complete():(ke.next(Ee[Xe++]),ke.closed||this.schedule())})})}(Ee,je);if((0,ne.t)(Ee))return function he(Ee,je){return(0,l.Xf)(Ee).pipe((0,m.R)(je),(0,b.Q)(je))}(Ee,je);if((0,_e.D)(Ee))return V(Ee,je);if((0,Ae.T)(Ee))return function F(Ee,je){return new ee.y(ke=>{let Xe;return(0,Y.f)(ke,je,()=>{Xe=Ee[j.h](),(0,Y.f)(ke,je,()=>{let ut,Ue;try{({value:ut,done:Ue}=Xe.next())}catch(ct){return void ke.error(ct)}Ue?ke.complete():ke.next(ut)},0,!0)}),()=>(0,K.m)(Xe?.return)&&Xe.return()})}(Ee,je);if((0,fe.L)(Ee))return function Me(Ee,je){return V((0,fe.Q)(Ee),je)}(Ee,je)}throw(0,oe.z)(Ee)}(Ee,je):(0,l.Xf)(Ee)}},4968:(wt,Ne,_)=>{"use strict";_.d(Ne,{R:()=>Y});var l=_(8421),b=_(9751),m=_(5577),O=_(1144),he=_(576),ee=_(3268);const ie=["addListener","removeListener"],j=["addEventListener","removeEventListener"],K=["on","off"];function Y(ce,Ae,_e,oe){if((0,he.m)(_e)&&(oe=_e,_e=void 0),oe)return Y(ce,Ae,_e).pipe((0,ee.Z)(oe));const[fe,Me]=function ne(ce){return(0,he.m)(ce.addEventListener)&&(0,he.m)(ce.removeEventListener)}(ce)?j.map(pe=>de=>ce[pe](Ae,de,_e)):function V(ce){return(0,he.m)(ce.addListener)&&(0,he.m)(ce.removeListener)}(ce)?ie.map(F(ce,Ae)):function Z(ce){return(0,he.m)(ce.on)&&(0,he.m)(ce.off)}(ce)?K.map(F(ce,Ae)):[];if(!fe&&(0,O.z)(ce))return(0,m.z)(pe=>Y(pe,Ae,_e))((0,l.Xf)(ce));if(!fe)throw new TypeError("Invalid event target");return new b.y(pe=>{const de=(...Ee)=>pe.next(1<Ee.length?Ee:Ee[0]);return fe(de),()=>Me(de)})}function F(ce,Ae){return _e=>oe=>ce[_e](Ae,oe)}},8421:(wt,Ne,_)=>{"use strict";_.d(Ne,{Xf:()=>Z});var l=_(7582),b=_(1144),m=_(8239),O=_(9751),he=_(3670),ee=_(2206),ie=_(4532),j=_(6495),K=_(3260),Y=_(576),F=_(7849),V=_(8822);function Z(pe){if(pe instanceof O.y)return pe;if(null!=pe){if((0,he.c)(pe))return function ne(pe){return new O.y(de=>{const Ee=pe[V.L]();if((0,Y.m)(Ee.subscribe))return Ee.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pe);if((0,b.z)(pe))return function ce(pe){return new O.y(de=>{for(let Ee=0;Ee<pe.length&&!de.closed;Ee++)de.next(pe[Ee]);de.complete()})}(pe);if((0,m.t)(pe))return function Ae(pe){return new O.y(de=>{pe.then(Ee=>{de.closed||(de.next(Ee),de.complete())},Ee=>de.error(Ee)).then(null,F.h)})}(pe);if((0,ee.D)(pe))return oe(pe);if((0,j.T)(pe))return function _e(pe){return new O.y(de=>{for(const Ee of pe)if(de.next(Ee),de.closed)return;de.complete()})}(pe);if((0,K.L)(pe))return function fe(pe){return oe((0,K.Q)(pe))}(pe)}throw(0,ie.z)(pe)}function oe(pe){return new O.y(de=>{(function Me(pe,de){var Ee,je,ke,Xe;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,l.KL)(pe);!(je=yield Ee.next()).done;)if(de.next(je.value),de.closed)return}catch(ut){ke={error:ut}}finally{try{je&&!je.done&&(Xe=Ee.return)&&(yield Xe.call(Ee))}finally{if(ke)throw ke.error}}de.complete()})})(pe,de).catch(Ee=>de.error(Ee))})}},6451:(wt,Ne,_)=>{"use strict";_.d(Ne,{T:()=>ee});var l=_(8189),b=_(8421),m=_(515),O=_(3269),he=_(8996);function ee(...ie){const j=(0,O.yG)(ie),K=(0,O._6)(ie,1/0),Y=ie;return Y.length?1===Y.length?(0,b.Xf)(Y[0]):(0,l.J)(K)((0,he.D)(Y,j)):m.E}},9646:(wt,Ne,_)=>{"use strict";_.d(Ne,{of:()=>m});var l=_(3269),b=_(8996);function m(...O){const he=(0,l.yG)(O);return(0,b.D)(O,he)}},2843:(wt,Ne,_)=>{"use strict";_.d(Ne,{_:()=>m});var l=_(9751),b=_(576);function m(O,he){const ee=(0,b.m)(O)?O:()=>O,ie=j=>j.error(ee());return new l.y(he?j=>he.schedule(ie,0,j):ie)}},2805:(wt,Ne,_)=>{"use strict";_.d(Ne,{H:()=>he});var l=_(9751),b=_(4986),m=_(3532),O=_(1165);function he(ee=0,ie,j=b.P){let K=-1;return null!=ie&&((0,m.K)(ie)?j=ie:K=ie),new l.y(Y=>{let F=(0,O.q)(ee)?+ee-j.now():ee;F<0&&(F=0);let V=0;return j.schedule(function(){Y.closed||(Y.next(V++),0<=K?this.schedule(void 0,K):Y.complete())},F)})}},5403:(wt,Ne,_)=>{"use strict";_.d(Ne,{x:()=>b});var l=_(930);function b(O,he,ee,ie,j){return new m(O,he,ee,ie,j)}class m extends l.Lv{constructor(he,ee,ie,j,K,Y){super(he),this.onFinalize=K,this.shouldUnsubscribe=Y,this._next=ee?function(F){try{ee(F)}catch(V){he.error(V)}}:super._next,this._error=j?function(F){try{j(F)}catch(V){he.error(V)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(F){he.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},262:(wt,Ne,_)=>{"use strict";_.d(Ne,{K:()=>O});var l=_(8421),b=_(5403),m=_(4482);function O(he){return(0,m.e)((ee,ie)=>{let Y,j=null,K=!1;j=ee.subscribe((0,b.x)(ie,void 0,void 0,F=>{Y=(0,l.Xf)(he(F,O(he)(ee))),j?(j.unsubscribe(),j=null,Y.subscribe(ie)):K=!0})),K&&(j.unsubscribe(),j=null,Y.subscribe(ie))})}},4351:(wt,Ne,_)=>{"use strict";_.d(Ne,{b:()=>m});var l=_(5577),b=_(576);function m(O,he){return(0,b.m)(he)?(0,l.z)(O,he,1):(0,l.z)(O,1)}},8372:(wt,Ne,_)=>{"use strict";_.d(Ne,{b:()=>O});var l=_(4986),b=_(4482),m=_(5403);function O(he,ee=l.z){return(0,b.e)((ie,j)=>{let K=null,Y=null,F=null;const V=()=>{if(K){K.unsubscribe(),K=null;const ne=Y;Y=null,j.next(ne)}};function Z(){const ne=F+he,ce=ee.now();if(ce<ne)return K=this.schedule(void 0,ne-ce),void j.add(K);V()}ie.subscribe((0,m.x)(j,ne=>{Y=ne,F=ee.now(),K||(K=ee.schedule(Z,he),j.add(K))},()=>{V(),j.complete()},void 0,()=>{Y=K=null}))})}},6590:(wt,Ne,_)=>{"use strict";_.d(Ne,{d:()=>m});var l=_(4482),b=_(5403);function m(O){return(0,l.e)((he,ee)=>{let ie=!1;he.subscribe((0,b.x)(ee,j=>{ie=!0,ee.next(j)},()=>{ie||ee.next(O),ee.complete()}))})}},1884:(wt,Ne,_)=>{"use strict";_.d(Ne,{x:()=>O});var l=_(4671),b=_(4482),m=_(5403);function O(ee,ie=l.y){return ee=ee??he,(0,b.e)((j,K)=>{let Y,F=!0;j.subscribe((0,m.x)(K,V=>{const Z=ie(V);(F||!ee(Y,Z))&&(F=!1,Y=Z,K.next(V))}))})}function he(ee,ie){return ee===ie}},9300:(wt,Ne,_)=>{"use strict";_.d(Ne,{h:()=>m});var l=_(4482),b=_(5403);function m(O,he){return(0,l.e)((ee,ie)=>{let j=0;ee.subscribe((0,b.x)(ie,K=>O.call(he,K,j++)&&ie.next(K)))})}},8746:(wt,Ne,_)=>{"use strict";_.d(Ne,{x:()=>b});var l=_(4482);function b(m){return(0,l.e)((O,he)=>{try{O.subscribe(he)}finally{he.add(m)}})}},590:(wt,Ne,_)=>{"use strict";_.d(Ne,{P:()=>ie});var l=_(6805),b=_(9300),m=_(5698),O=_(6590),he=_(8068),ee=_(4671);function ie(j,K){const Y=arguments.length>=2;return F=>F.pipe(j?(0,b.h)((V,Z)=>j(V,Z,F)):ee.y,(0,m.q)(1),Y?(0,O.d)(K):(0,he.T)(()=>new l.K))}},4004:(wt,Ne,_)=>{"use strict";_.d(Ne,{U:()=>m});var l=_(4482),b=_(5403);function m(O,he){return(0,l.e)((ee,ie)=>{let j=0;ee.subscribe((0,b.x)(ie,K=>{ie.next(O.call(he,K,j++))}))})}},9718:(wt,Ne,_)=>{"use strict";_.d(Ne,{h:()=>b});var l=_(4004);function b(m){return(0,l.U)(()=>m)}},8189:(wt,Ne,_)=>{"use strict";_.d(Ne,{J:()=>m});var l=_(5577),b=_(4671);function m(O=1/0){return(0,l.z)(b.y,O)}},5577:(wt,Ne,_)=>{"use strict";_.d(Ne,{z:()=>j});var l=_(4004),b=_(8421),m=_(4482),O=_(9672),he=_(5403),ie=_(576);function j(K,Y,F=1/0){return(0,ie.m)(Y)?j((V,Z)=>(0,l.U)((ne,ce)=>Y(V,ne,Z,ce))((0,b.Xf)(K(V,Z))),F):("number"==typeof Y&&(F=Y),(0,m.e)((V,Z)=>function ee(K,Y,F,V,Z,ne,ce,Ae){const _e=[];let oe=0,fe=0,Me=!1;const pe=()=>{Me&&!_e.length&&!oe&&Y.complete()},de=je=>oe<V?Ee(je):_e.push(je),Ee=je=>{ne&&Y.next(je),oe++;let ke=!1;(0,b.Xf)(F(je,fe++)).subscribe((0,he.x)(Y,Xe=>{Z?.(Xe),ne?de(Xe):Y.next(Xe)},()=>{ke=!0},void 0,()=>{if(ke)try{for(oe--;_e.length&&oe<V;){const Xe=_e.shift();ce?(0,O.f)(Y,ce,()=>Ee(Xe)):Ee(Xe)}pe()}catch(Xe){Y.error(Xe)}}))};return K.subscribe((0,he.x)(Y,de,()=>{Me=!0,pe()})),()=>{Ae?.()}}(V,Z,K,F)))}},5363:(wt,Ne,_)=>{"use strict";_.d(Ne,{Q:()=>O});var l=_(9672),b=_(4482),m=_(5403);function O(he,ee=0){return(0,b.e)((ie,j)=>{ie.subscribe((0,m.x)(j,K=>(0,l.f)(j,he,()=>j.next(K),ee),()=>(0,l.f)(j,he,()=>j.complete(),ee),K=>(0,l.f)(j,he,()=>j.error(K),ee)))})}},5026:(wt,Ne,_)=>{"use strict";_.d(Ne,{R:()=>O});var l=_(4482),b=_(5403);function O(he,ee){return(0,l.e)(function m(he,ee,ie,j,K){return(Y,F)=>{let V=ie,Z=ee,ne=0;Y.subscribe((0,b.x)(F,ce=>{const Ae=ne++;Z=V?he(Z,ce,Ae):(V=!0,ce),j&&F.next(Z)},K&&(()=>{V&&F.next(Z),F.complete()})))}}(he,ee,arguments.length>=2,!0))}},3099:(wt,Ne,_)=>{"use strict";_.d(Ne,{B:()=>he});var l=_(8421),b=_(7579),m=_(930),O=_(4482);function he(ie={}){const{connector:j=(()=>new b.x),resetOnError:K=!0,resetOnComplete:Y=!0,resetOnRefCountZero:F=!0}=ie;return V=>{let Z,ne,ce,Ae=0,_e=!1,oe=!1;const fe=()=>{ne?.unsubscribe(),ne=void 0},Me=()=>{fe(),Z=ce=void 0,_e=oe=!1},pe=()=>{const de=Z;Me(),de?.unsubscribe()};return(0,O.e)((de,Ee)=>{Ae++,!oe&&!_e&&fe();const je=ce=ce??j();Ee.add(()=>{Ae--,0===Ae&&!oe&&!_e&&(ne=ee(pe,F))}),je.subscribe(Ee),!Z&&Ae>0&&(Z=new m.Hp({next:ke=>je.next(ke),error:ke=>{oe=!0,fe(),ne=ee(Me,K,ke),je.error(ke)},complete:()=>{_e=!0,fe(),ne=ee(Me,Y),je.complete()}}),(0,l.Xf)(de).subscribe(Z))})(V)}}function ee(ie,j,...K){if(!0===j)return void ie();if(!1===j)return;const Y=new m.Hp({next:()=>{Y.unsubscribe(),ie()}});return(0,l.Xf)(j(...K)).subscribe(Y)}},8675:(wt,Ne,_)=>{"use strict";_.d(Ne,{O:()=>O});var l=_(7272),b=_(3269),m=_(4482);function O(...he){const ee=(0,b.yG)(he);return(0,m.e)((ie,j)=>{(ee?(0,l.z)(he,ie,ee):(0,l.z)(he,ie)).subscribe(j)})}},9468:(wt,Ne,_)=>{"use strict";_.d(Ne,{R:()=>b});var l=_(4482);function b(m,O=0){return(0,l.e)((he,ee)=>{ee.add(m.schedule(()=>he.subscribe(ee),O))})}},3900:(wt,Ne,_)=>{"use strict";_.d(Ne,{w:()=>O});var l=_(8421),b=_(4482),m=_(5403);function O(he,ee){return(0,b.e)((ie,j)=>{let K=null,Y=0,F=!1;const V=()=>F&&!K&&j.complete();ie.subscribe((0,m.x)(j,Z=>{K?.unsubscribe();let ne=0;const ce=Y++;(0,l.Xf)(he(Z,ce)).subscribe(K=(0,m.x)(j,Ae=>j.next(ee?ee(Z,Ae,ce,ne++):Ae),()=>{K=null,V()}))},()=>{F=!0,V()}))})}},5698:(wt,Ne,_)=>{"use strict";_.d(Ne,{q:()=>O});var l=_(515),b=_(4482),m=_(5403);function O(he){return he<=0?()=>l.E:(0,b.e)((ee,ie)=>{let j=0;ee.subscribe((0,m.x)(ie,K=>{++j<=he&&(ie.next(K),he<=j&&ie.complete())}))})}},2722:(wt,Ne,_)=>{"use strict";_.d(Ne,{R:()=>he});var l=_(4482),b=_(5403),m=_(8421),O=_(5032);function he(ee){return(0,l.e)((ie,j)=>{(0,m.Xf)(ee).subscribe((0,b.x)(j,()=>j.complete(),O.Z)),!j.closed&&ie.subscribe(j)})}},8505:(wt,Ne,_)=>{"use strict";_.d(Ne,{b:()=>he});var l=_(576),b=_(4482),m=_(5403),O=_(4671);function he(ee,ie,j){const K=(0,l.m)(ee)||ie||j?{next:ee,error:ie,complete:j}:ee;return K?(0,b.e)((Y,F)=>{var V;null===(V=K.subscribe)||void 0===V||V.call(K);let Z=!0;Y.subscribe((0,m.x)(F,ne=>{var ce;null===(ce=K.next)||void 0===ce||ce.call(K,ne),F.next(ne)},()=>{var ne;Z=!1,null===(ne=K.complete)||void 0===ne||ne.call(K),F.complete()},ne=>{var ce;Z=!1,null===(ce=K.error)||void 0===ce||ce.call(K,ne),F.error(ne)},()=>{var ne,ce;Z&&(null===(ne=K.unsubscribe)||void 0===ne||ne.call(K)),null===(ce=K.finalize)||void 0===ce||ce.call(K)}))}):O.y}},8068:(wt,Ne,_)=>{"use strict";_.d(Ne,{T:()=>O});var l=_(6805),b=_(4482),m=_(5403);function O(ee=he){return(0,b.e)((ie,j)=>{let K=!1;ie.subscribe((0,m.x)(j,Y=>{K=!0,j.next(Y)},()=>K?j.complete():j.error(ee())))})}function he(){return new l.K}},4408:(wt,Ne,_)=>{"use strict";_.d(Ne,{o:()=>he});var l=_(727);class b extends l.w0{constructor(ie,j){super()}schedule(ie,j=0){return this}}const m={setInterval(ee,ie,...j){const{delegate:K}=m;return K?.setInterval?K.setInterval(ee,ie,...j):setInterval(ee,ie,...j)},clearInterval(ee){const{delegate:ie}=m;return(ie?.clearInterval||clearInterval)(ee)},delegate:void 0};var O=_(8737);class he extends b{constructor(ie,j){super(ie,j),this.scheduler=ie,this.work=j,this.pending=!1}schedule(ie,j=0){var K;if(this.closed)return this;this.state=ie;const Y=this.id,F=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(F,Y,j)),this.pending=!0,this.delay=j,this.id=null!==(K=this.id)&&void 0!==K?K:this.requestAsyncId(F,this.id,j),this}requestAsyncId(ie,j,K=0){return m.setInterval(ie.flush.bind(ie,this),K)}recycleAsyncId(ie,j,K=0){if(null!=K&&this.delay===K&&!1===this.pending)return j;null!=j&&m.clearInterval(j)}execute(ie,j){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const K=this._execute(ie,j);if(K)return K;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,j){let Y,K=!1;try{this.work(ie)}catch(F){K=!0,Y=F||new Error("Scheduled action threw falsy error")}if(K)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:ie,scheduler:j}=this,{actions:K}=j;this.work=this.state=this.scheduler=null,this.pending=!1,(0,O.P)(K,this),null!=ie&&(this.id=this.recycleAsyncId(j,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(wt,Ne,_)=>{"use strict";_.d(Ne,{v:()=>m});var l=_(6063);class b{constructor(he,ee=b.now){this.schedulerActionCtor=he,this.now=ee}schedule(he,ee=0,ie){return new this.schedulerActionCtor(this,he).schedule(ie,ee)}}b.now=l.l.now;class m extends b{constructor(he,ee=b.now){super(he,ee),this.actions=[],this._active=!1}flush(he){const{actions:ee}=this;if(this._active)return void ee.push(he);let ie;this._active=!0;do{if(ie=he.execute(he.state,he.delay))break}while(he=ee.shift());if(this._active=!1,ie){for(;he=ee.shift();)he.unsubscribe();throw ie}}}},4986:(wt,Ne,_)=>{"use strict";_.d(Ne,{P:()=>O,z:()=>m});var l=_(4408);const m=new(_(7565).v)(l.o),O=m},6063:(wt,Ne,_)=>{"use strict";_.d(Ne,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(wt,Ne,_)=>{"use strict";_.d(Ne,{z:()=>l});const l={setTimeout(b,m,...O){const{delegate:he}=l;return he?.setTimeout?he.setTimeout(b,m,...O):setTimeout(b,m,...O)},clearTimeout(b){const{delegate:m}=l;return(m?.clearTimeout||clearTimeout)(b)},delegate:void 0}},2202:(wt,Ne,_)=>{"use strict";_.d(Ne,{h:()=>b});const b=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,Ne,_)=>{"use strict";_.d(Ne,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(wt,Ne,_)=>{"use strict";_.d(Ne,{K:()=>b});const b=(0,_(3888).d)(m=>function(){m(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(wt,Ne,_)=>{"use strict";_.d(Ne,{_6:()=>ee,jO:()=>O,yG:()=>he});var l=_(576),b=_(3532);function m(ie){return ie[ie.length-1]}function O(ie){return(0,l.m)(m(ie))?ie.pop():void 0}function he(ie){return(0,b.K)(m(ie))?ie.pop():void 0}function ee(ie,j){return"number"==typeof m(ie)?ie.pop():j}},4742:(wt,Ne,_)=>{"use strict";_.d(Ne,{D:()=>he});const{isArray:l}=Array,{getPrototypeOf:b,prototype:m,keys:O}=Object;function he(ie){if(1===ie.length){const j=ie[0];if(l(j))return{args:j,keys:null};if(function ee(ie){return ie&&"object"==typeof ie&&b(ie)===m}(j)){const K=O(j);return{args:K.map(Y=>j[Y]),keys:K}}}return{args:ie,keys:null}}},8737:(wt,Ne,_)=>{"use strict";function l(b,m){if(b){const O=b.indexOf(m);0<=O&&b.splice(O,1)}}_.d(Ne,{P:()=>l})},3888:(wt,Ne,_)=>{"use strict";function l(b){const O=b(he=>{Error.call(he),he.stack=(new Error).stack});return O.prototype=Object.create(Error.prototype),O.prototype.constructor=O,O}_.d(Ne,{d:()=>l})},1810:(wt,Ne,_)=>{"use strict";function l(b,m){return b.reduce((O,he,ee)=>(O[he]=m[ee],O),{})}_.d(Ne,{n:()=>l})},2806:(wt,Ne,_)=>{"use strict";_.d(Ne,{O:()=>O,x:()=>m});var l=_(2416);let b=null;function m(he){if(l.v.useDeprecatedSynchronousErrorHandling){const ee=!b;if(ee&&(b={errorThrown:!1,error:null}),he(),ee){const{errorThrown:ie,error:j}=b;if(b=null,ie)throw j}}else he()}function O(he){l.v.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=he)}},9672:(wt,Ne,_)=>{"use strict";function l(b,m,O,he=0,ee=!1){const ie=m.schedule(function(){O(),ee?b.add(this.schedule(null,he)):this.unsubscribe()},he);if(b.add(ie),!ee)return ie}_.d(Ne,{f:()=>l})},4671:(wt,Ne,_)=>{"use strict";function l(b){return b}_.d(Ne,{y:()=>l})},1144:(wt,Ne,_)=>{"use strict";_.d(Ne,{z:()=>l});const l=b=>b&&"number"==typeof b.length&&"function"!=typeof b},2206:(wt,Ne,_)=>{"use strict";_.d(Ne,{D:()=>b});var l=_(576);function b(m){return Symbol.asyncIterator&&(0,l.m)(m?.[Symbol.asyncIterator])}},1165:(wt,Ne,_)=>{"use strict";function l(b){return b instanceof Date&&!isNaN(b)}_.d(Ne,{q:()=>l})},576:(wt,Ne,_)=>{"use strict";function l(b){return"function"==typeof b}_.d(Ne,{m:()=>l})},3670:(wt,Ne,_)=>{"use strict";_.d(Ne,{c:()=>m});var l=_(8822),b=_(576);function m(O){return(0,b.m)(O[l.L])}},6495:(wt,Ne,_)=>{"use strict";_.d(Ne,{T:()=>m});var l=_(2202),b=_(576);function m(O){return(0,b.m)(O?.[l.h])}},8239:(wt,Ne,_)=>{"use strict";_.d(Ne,{t:()=>b});var l=_(576);function b(m){return(0,l.m)(m?.then)}},3260:(wt,Ne,_)=>{"use strict";_.d(Ne,{L:()=>O,Q:()=>m});var l=_(7582),b=_(576);function m(he){return(0,l.FC)(this,arguments,function*(){const ie=he.getReader();try{for(;;){const{value:j,done:K}=yield(0,l.qq)(ie.read());if(K)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(j)}}finally{ie.releaseLock()}})}function O(he){return(0,b.m)(he?.getReader)}},3532:(wt,Ne,_)=>{"use strict";_.d(Ne,{K:()=>b});var l=_(576);function b(m){return m&&(0,l.m)(m.schedule)}},4482:(wt,Ne,_)=>{"use strict";_.d(Ne,{A:()=>b,e:()=>m});var l=_(576);function b(O){return(0,l.m)(O?.lift)}function m(O){return he=>{if(b(he))return he.lift(function(ee){try{return O(ee,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(wt,Ne,_)=>{"use strict";_.d(Ne,{Z:()=>O});var l=_(4004);const{isArray:b}=Array;function O(he){return(0,l.U)(ee=>function m(he,ee){return b(ee)?he(...ee):he(ee)}(he,ee))}},5032:(wt,Ne,_)=>{"use strict";function l(){}_.d(Ne,{Z:()=>l})},9635:(wt,Ne,_)=>{"use strict";_.d(Ne,{U:()=>m,z:()=>b});var l=_(4671);function b(...O){return m(O)}function m(O){return 0===O.length?l.y:1===O.length?O[0]:function(ee){return O.reduce((ie,j)=>j(ie),ee)}}},7849:(wt,Ne,_)=>{"use strict";_.d(Ne,{h:()=>m});var l=_(2416),b=_(3410);function m(O){b.z.setTimeout(()=>{const{onUnhandledError:he}=l.v;if(!he)throw O;he(O)})}},4532:(wt,Ne,_)=>{"use strict";function l(b){return new TypeError(`You provided ${null!==b&&"object"==typeof b?"an invalid object":`'${b}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}_.d(Ne,{z:()=>l})},2480:()=>{},7340:(wt,Ne,_)=>{"use strict";_.d(Ne,{LC:()=>b,SB:()=>K,X$:()=>O,ZE:()=>fe,ZN:()=>oe,_j:()=>l,eR:()=>F,jt:()=>he,k1:()=>Me,l3:()=>m,oB:()=>j,vP:()=>ie});class l{}class b{}const m="*";function O(pe,de){return{type:7,name:pe,definitions:de,options:{}}}function he(pe,de=null){return{type:4,styles:de,timings:pe}}function ie(pe,de=null){return{type:2,steps:pe,options:de}}function j(pe){return{type:6,styles:pe,offset:null}}function K(pe,de,Ee){return{type:0,name:pe,styles:de,options:Ee}}function F(pe,de,Ee=null){return{type:1,expr:pe,animation:de,options:Ee}}function _e(pe){Promise.resolve().then(pe)}class oe{constructor(de=0,Ee=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=de+Ee}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(de=>de()),this._onDoneFns=[])}onStart(de){this._originalOnStartFns.push(de),this._onStartFns.push(de)}onDone(de){this._originalOnDoneFns.push(de),this._onDoneFns.push(de)}onDestroy(de){this._onDestroyFns.push(de)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_e(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(de=>de()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(de=>de()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(de){this._position=this.totalTime?de*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(de){const Ee="start"==de?this._onStartFns:this._onDoneFns;Ee.forEach(je=>je()),Ee.length=0}}class fe{constructor(de){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=de;let Ee=0,je=0,ke=0;const Xe=this.players.length;0==Xe?_e(()=>this._onFinish()):this.players.forEach(ut=>{ut.onDone(()=>{++Ee==Xe&&this._onFinish()}),ut.onDestroy(()=>{++je==Xe&&this._onDestroy()}),ut.onStart(()=>{++ke==Xe&&this._onStart()})}),this.totalTime=this.players.reduce((ut,Ue)=>Math.max(ut,Ue.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(de=>de()),this._onDoneFns=[])}init(){this.players.forEach(de=>de.init())}onStart(de){this._onStartFns.push(de)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(de=>de()),this._onStartFns=[])}onDone(de){this._onDoneFns.push(de)}onDestroy(de){this._onDestroyFns.push(de)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(de=>de.play())}pause(){this.players.forEach(de=>de.pause())}restart(){this.players.forEach(de=>de.restart())}finish(){this._onFinish(),this.players.forEach(de=>de.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(de=>de.destroy()),this._onDestroyFns.forEach(de=>de()),this._onDestroyFns=[])}reset(){this.players.forEach(de=>de.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(de){const Ee=de*this.totalTime;this.players.forEach(je=>{const ke=je.totalTime?Math.min(1,Ee/je.totalTime):1;je.setPosition(ke)})}getPosition(){const de=this.players.reduce((Ee,je)=>null===Ee||je.totalTime>Ee.totalTime?je:Ee,null);return null!=de?de.getPosition():0}beforeDestroy(){this.players.forEach(de=>{de.beforeDestroy&&de.beforeDestroy()})}triggerCallback(de){const Ee="start"==de?this._onStartFns:this._onDoneFns;Ee.forEach(je=>je()),Ee.length=0}}const Me="!"},7253:(wt,Ne,_)=>{"use strict";_.d(Ne,{rt:()=>et,Em:()=>qe,tE:()=>Nn,qV:()=>Qt,qm:()=>dt,ic:()=>$e,X6:()=>sn,yG:()=>gn});var l=_(6895),b=_(4650),m=_(3353),O=_(7579),he=_(727),ee=_(1135),ie=_(9646),j=_(9521),K=_(8505),Y=_(8372),F=_(9300),V=_(4004),Z=_(5698);function ne(X){return(0,F.h)((N,D)=>X<=D)}var ce=_(1884),Ae=_(2722),_e=_(1281),oe=_(9643),fe=_(9841),Me=_(7272),pe=_(9751),de=_(8675);const je=new Set;let ke,Xe=(()=>{class X{constructor(D){this._platform=D,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ue}matchMedia(D){return(this._platform.WEBKIT||this._platform.BLINK)&&function ut(X){if(!je.has(X))try{ke||(ke=document.createElement("style"),ke.setAttribute("type","text/css"),document.head.appendChild(ke)),ke.sheet&&(ke.sheet.insertRule(`@media ${X} {body{ }}`,0),je.add(X))}catch(N){console.error(N)}}(D),this._matchMedia(D)}}return X.\u0275fac=function(D){return new(D||X)(b.LFG(m.t4))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();function Ue(X){return{matches:"all"===X||""===X,media:X,addListener:()=>{},removeListener:()=>{}}}let ct=(()=>{class X{constructor(D,z){this._mediaMatcher=D,this._zone=z,this._queries=new Map,this._destroySubject=new O.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(D){return kt((0,_e.Eq)(D)).some(be=>this._registerQuery(be).mql.matches)}observe(D){const be=kt((0,_e.Eq)(D)).map(at=>this._registerQuery(at).observable);let Pe=(0,fe.a)(be);return Pe=(0,Me.z)(Pe.pipe((0,Z.q)(1)),Pe.pipe(ne(1),(0,Y.b)(0))),Pe.pipe((0,V.U)(at=>{const gt={matches:!1,breakpoints:{}};return at.forEach(({matches:rn,query:bn})=>{gt.matches=gt.matches||rn,gt.breakpoints[bn]=rn}),gt}))}_registerQuery(D){if(this._queries.has(D))return this._queries.get(D);const z=this._mediaMatcher.matchMedia(D),Pe={observable:new pe.y(at=>{const gt=rn=>this._zone.run(()=>at.next(rn));return z.addListener(gt),()=>{z.removeListener(gt)}}).pipe((0,de.O)(z),(0,V.U)(({matches:at})=>({query:D,matches:at})),(0,Ae.R)(this._destroySubject)),mql:z};return this._queries.set(D,Pe),Pe}}return X.\u0275fac=function(D){return new(D||X)(b.LFG(Xe),b.LFG(b.R0b))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();function kt(X){return X.map(N=>N.split(",")).reduce((N,D)=>N.concat(D)).map(N=>N.trim())}class R{constructor(N){this._items=N,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new O.x,this._typeaheadSubscription=he.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=D=>D.disabled,this._pressedLetters=[],this.tabOut=new O.x,this.change=new O.x,N instanceof b.n_E&&(this._itemChangesSubscription=N.changes.subscribe(D=>{if(this._activeItem){const be=D.toArray().indexOf(this._activeItem);be>-1&&be!==this._activeItemIndex&&(this._activeItemIndex=be)}}))}skipPredicate(N){return this._skipPredicateFn=N,this}withWrap(N=!0){return this._wrap=N,this}withVerticalOrientation(N=!0){return this._vertical=N,this}withHorizontalOrientation(N){return this._horizontal=N,this}withAllowedModifierKeys(N){return this._allowedModifierKeys=N,this}withTypeAhead(N=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,K.b)(D=>this._pressedLetters.push(D)),(0,Y.b)(N),(0,F.h)(()=>this._pressedLetters.length>0),(0,V.U)(()=>this._pressedLetters.join(""))).subscribe(D=>{const z=this._getItemsArray();for(let be=1;be<z.length+1;be++){const Pe=(this._activeItemIndex+be)%z.length,at=z[Pe];if(!this._skipPredicateFn(at)&&0===at.getLabel().toUpperCase().trim().indexOf(D)){this.setActiveItem(Pe);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(N=!0){return this._homeAndEnd=N,this}withPageUpDown(N=!0,D=10){return this._pageUpAndDown={enabled:N,delta:D},this}setActiveItem(N){const D=this._activeItem;this.updateActiveItem(N),this._activeItem!==D&&this.change.next(this._activeItemIndex)}onKeydown(N){const D=N.keyCode,be=["altKey","ctrlKey","metaKey","shiftKey"].every(Pe=>!N[Pe]||this._allowedModifierKeys.indexOf(Pe)>-1);switch(D){case j.Mf:return void this.tabOut.next();case j.JH:if(this._vertical&&be){this.setNextItemActive();break}return;case j.LH:if(this._vertical&&be){this.setPreviousItemActive();break}return;case j.SV:if(this._horizontal&&be){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case j.oh:if(this._horizontal&&be){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case j.Sd:if(this._homeAndEnd&&be){this.setFirstItemActive();break}return;case j.uR:if(this._homeAndEnd&&be){this.setLastItemActive();break}return;case j.Ku:if(this._pageUpAndDown.enabled&&be){const Pe=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Pe>0?Pe:0,1);break}return;case j.VM:if(this._pageUpAndDown.enabled&&be){const Pe=this._activeItemIndex+this._pageUpAndDown.delta,at=this._getItemsArray().length;this._setActiveItemByIndex(Pe<at?Pe:at-1,-1);break}return;default:return void((be||(0,j.Vb)(N,"shiftKey"))&&(N.key&&1===N.key.length?this._letterKeyStream.next(N.key.toLocaleUpperCase()):(D>=j.A&&D<=j.Z||D>=j.xE&&D<=j.aO)&&this._letterKeyStream.next(String.fromCharCode(D))))}this._pressedLetters=[],N.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(N){const D=this._getItemsArray(),z="number"==typeof N?N:D.indexOf(N);this._activeItem=D[z]??null,this._activeItemIndex=z}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(N){this._wrap?this._setActiveInWrapMode(N):this._setActiveInDefaultMode(N)}_setActiveInWrapMode(N){const D=this._getItemsArray();for(let z=1;z<=D.length;z++){const be=(this._activeItemIndex+N*z+D.length)%D.length;if(!this._skipPredicateFn(D[be]))return void this.setActiveItem(be)}}_setActiveInDefaultMode(N){this._setActiveItemByIndex(this._activeItemIndex+N,N)}_setActiveItemByIndex(N,D){const z=this._getItemsArray();if(z[N]){for(;this._skipPredicateFn(z[N]);)if(!z[N+=D])return;this.setActiveItem(N)}}_getItemsArray(){return this._items instanceof b.n_E?this._items.toArray():this._items}}class qe extends R{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(N){return this._origin=N,this}setActiveItem(N){super.setActiveItem(N),this.activeItem&&this.activeItem.focus(this._origin)}}let $e=(()=>{class X{constructor(D){this._platform=D}isDisabled(D){return D.hasAttribute("disabled")}isVisible(D){return function $t(X){return!!(X.offsetWidth||X.offsetHeight||"function"==typeof X.getClientRects&&X.getClientRects().length)}(D)&&"visible"===getComputedStyle(D).visibility}isTabbable(D){if(!this._platform.isBrowser)return!1;const z=function St(X){try{return X.frameElement}catch{return null}}(function It(X){return X.ownerDocument&&X.ownerDocument.defaultView||window}(D));if(z&&(-1===re(z)||!this.isVisible(z)))return!1;let be=D.nodeName.toLowerCase(),Pe=re(D);return D.hasAttribute("contenteditable")?-1!==Pe:!("iframe"===be||"object"===be||this._platform.WEBKIT&&this._platform.IOS&&!function ge(X){let N=X.nodeName.toLowerCase(),D="input"===N&&X.type;return"text"===D||"password"===D||"select"===N||"textarea"===N}(D))&&("audio"===be?!!D.hasAttribute("controls")&&-1!==Pe:"video"===be?-1!==Pe&&(null!==Pe||this._platform.FIREFOX||D.hasAttribute("controls")):D.tabIndex>=0)}isFocusable(D,z){return function He(X){return!function Bn(X){return function Tn(X){return"input"==X.nodeName.toLowerCase()}(X)&&"hidden"==X.type}(X)&&(function vn(X){let N=X.nodeName.toLowerCase();return"input"===N||"select"===N||"button"===N||"textarea"===N}(X)||function qn(X){return function Mn(X){return"a"==X.nodeName.toLowerCase()}(X)&&X.hasAttribute("href")}(X)||X.hasAttribute("contenteditable")||Le(X))}(D)&&!this.isDisabled(D)&&(z?.ignoreVisibility||this.isVisible(D))}}return X.\u0275fac=function(D){return new(D||X)(b.LFG(m.t4))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();function Le(X){if(!X.hasAttribute("tabindex")||void 0===X.tabIndex)return!1;let N=X.getAttribute("tabindex");return!(!N||isNaN(parseInt(N,10)))}function re(X){if(!Le(X))return null;const N=parseInt(X.getAttribute("tabindex")||"",10);return isNaN(N)?-1:N}class Mt{get enabled(){return this._enabled}set enabled(N){this._enabled=N,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(N,this._startAnchor),this._toggleAnchorTabIndex(N,this._endAnchor))}constructor(N,D,z,be,Pe=!1){this._element=N,this._checker=D,this._ngZone=z,this._document=be,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Pe||this.attachAnchors()}destroy(){const N=this._startAnchor,D=this._endAnchor;N&&(N.removeEventListener("focus",this.startAnchorListener),N.remove()),D&&(D.removeEventListener("focus",this.endAnchorListener),D.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(N){return new Promise(D=>{this._executeOnStable(()=>D(this.focusInitialElement(N)))})}focusFirstTabbableElementWhenReady(N){return new Promise(D=>{this._executeOnStable(()=>D(this.focusFirstTabbableElement(N)))})}focusLastTabbableElementWhenReady(N){return new Promise(D=>{this._executeOnStable(()=>D(this.focusLastTabbableElement(N)))})}_getRegionBoundary(N){const D=this._element.querySelectorAll(`[cdk-focus-region-${N}], [cdkFocusRegion${N}], [cdk-focus-${N}]`);return"start"==N?D.length?D[0]:this._getFirstTabbableElement(this._element):D.length?D[D.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(N){const D=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(D){if(!this._checker.isFocusable(D)){const z=this._getFirstTabbableElement(D);return z?.focus(N),!!z}return D.focus(N),!0}return this.focusFirstTabbableElement(N)}focusFirstTabbableElement(N){const D=this._getRegionBoundary("start");return D&&D.focus(N),!!D}focusLastTabbableElement(N){const D=this._getRegionBoundary("end");return D&&D.focus(N),!!D}hasAttached(){return this._hasAttached}_getFirstTabbableElement(N){if(this._checker.isFocusable(N)&&this._checker.isTabbable(N))return N;const D=N.children;for(let z=0;z<D.length;z++){const be=D[z].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(D[z]):null;if(be)return be}return null}_getLastTabbableElement(N){if(this._checker.isFocusable(N)&&this._checker.isTabbable(N))return N;const D=N.children;for(let z=D.length-1;z>=0;z--){const be=D[z].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(D[z]):null;if(be)return be}return null}_createAnchor(){const N=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,N),N.classList.add("cdk-visually-hidden"),N.classList.add("cdk-focus-trap-anchor"),N.setAttribute("aria-hidden","true"),N}_toggleAnchorTabIndex(N,D){N?D.setAttribute("tabindex","0"):D.removeAttribute("tabindex")}toggleAnchors(N){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(N,this._startAnchor),this._toggleAnchorTabIndex(N,this._endAnchor))}_executeOnStable(N){this._ngZone.isStable?N():this._ngZone.onStable.pipe((0,Z.q)(1)).subscribe(N)}}let Qt=(()=>{class X{constructor(D,z,be){this._checker=D,this._ngZone=z,this._document=be}create(D,z=!1){return new Mt(D,this._checker,this._ngZone,this._document,z)}}return X.\u0275fac=function(D){return new(D||X)(b.LFG($e),b.LFG(b.R0b),b.LFG(l.K0))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();function sn(X){return 0===X.buttons||0===X.offsetX&&0===X.offsetY}function gn(X){const N=X.touches&&X.touches[0]||X.changedTouches&&X.changedTouches[0];return!(!N||-1!==N.identifier||null!=N.radiusX&&1!==N.radiusX||null!=N.radiusY&&1!==N.radiusY)}const ai=new b.OlP("cdk-input-modality-detector-options"),jn={ignoreKeys:[j.zL,j.jx,j.b2,j.MW,j.JU]},Qn=(0,m.i$)({passive:!0,capture:!0});let Ii=(()=>{class X{get mostRecentModality(){return this._modality.value}constructor(D,z,be,Pe){this._platform=D,this._mostRecentTarget=null,this._modality=new ee.X(null),this._lastTouchMs=0,this._onKeydown=at=>{this._options?.ignoreKeys?.some(gt=>gt===at.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,m.sA)(at))},this._onMousedown=at=>{Date.now()-this._lastTouchMs<650||(this._modality.next(sn(at)?"keyboard":"mouse"),this._mostRecentTarget=(0,m.sA)(at))},this._onTouchstart=at=>{gn(at)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,m.sA)(at))},this._options={...jn,...Pe},this.modalityDetected=this._modality.pipe(ne(1)),this.modalityChanged=this.modalityDetected.pipe((0,ce.x)()),D.isBrowser&&z.runOutsideAngular(()=>{be.addEventListener("keydown",this._onKeydown,Qn),be.addEventListener("mousedown",this._onMousedown,Qn),be.addEventListener("touchstart",this._onTouchstart,Qn)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qn),document.removeEventListener("mousedown",this._onMousedown,Qn),document.removeEventListener("touchstart",this._onTouchstart,Qn))}}return X.\u0275fac=function(D){return new(D||X)(b.LFG(m.t4),b.LFG(b.R0b),b.LFG(l.K0),b.LFG(ai,8))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();const an=new b.OlP("cdk-focus-monitor-default-options"),en=(0,m.i$)({passive:!0,capture:!0});let Nn=(()=>{class X{constructor(D,z,be,Pe,at){this._ngZone=D,this._platform=z,this._inputModalityDetector=be,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new O.x,this._rootNodeFocusAndBlurListener=gt=>{for(let bn=(0,m.sA)(gt);bn;bn=bn.parentElement)"focus"===gt.type?this._onFocus(gt,bn):this._onBlur(gt,bn)},this._document=Pe,this._detectionMode=at?.detectionMode||0}monitor(D,z=!1){const be=(0,_e.fI)(D);if(!this._platform.isBrowser||1!==be.nodeType)return(0,ie.of)(null);const Pe=(0,m.kV)(be)||this._getDocument(),at=this._elementInfo.get(be);if(at)return z&&(at.checkChildren=!0),at.subject;const gt={checkChildren:z,subject:new O.x,rootNode:Pe};return this._elementInfo.set(be,gt),this._registerGlobalListeners(gt),gt.subject}stopMonitoring(D){const z=(0,_e.fI)(D),be=this._elementInfo.get(z);be&&(be.subject.complete(),this._setClasses(z),this._elementInfo.delete(z),this._removeGlobalListeners(be))}focusVia(D,z,be){const Pe=(0,_e.fI)(D);Pe===this._getDocument().activeElement?this._getClosestElementsInfo(Pe).forEach(([gt,rn])=>this._originChanged(gt,z,rn)):(this._setOrigin(z),"function"==typeof Pe.focus&&Pe.focus(be))}ngOnDestroy(){this._elementInfo.forEach((D,z)=>this.stopMonitoring(z))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(D){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(D)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:D&&this._isLastInteractionFromInputLabel(D)?"mouse":"program"}_shouldBeAttributedToTouch(D){return 1===this._detectionMode||!!D?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(D,z){D.classList.toggle("cdk-focused",!!z),D.classList.toggle("cdk-touch-focused","touch"===z),D.classList.toggle("cdk-keyboard-focused","keyboard"===z),D.classList.toggle("cdk-mouse-focused","mouse"===z),D.classList.toggle("cdk-program-focused","program"===z)}_setOrigin(D,z=!1){this._ngZone.runOutsideAngular(()=>{this._origin=D,this._originFromTouchInteraction="touch"===D&&z,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(D,z){const be=this._elementInfo.get(z),Pe=(0,m.sA)(D);!be||!be.checkChildren&&z!==Pe||this._originChanged(z,this._getFocusOrigin(Pe),be)}_onBlur(D,z){const be=this._elementInfo.get(z);!be||be.checkChildren&&D.relatedTarget instanceof Node&&z.contains(D.relatedTarget)||(this._setClasses(z),this._emitOrigin(be,null))}_emitOrigin(D,z){D.subject.observers.length&&this._ngZone.run(()=>D.subject.next(z))}_registerGlobalListeners(D){if(!this._platform.isBrowser)return;const z=D.rootNode,be=this._rootNodeFocusListenerCount.get(z)||0;be||this._ngZone.runOutsideAngular(()=>{z.addEventListener("focus",this._rootNodeFocusAndBlurListener,en),z.addEventListener("blur",this._rootNodeFocusAndBlurListener,en)}),this._rootNodeFocusListenerCount.set(z,be+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ae.R)(this._stopInputModalityDetector)).subscribe(Pe=>{this._setOrigin(Pe,!0)}))}_removeGlobalListeners(D){const z=D.rootNode;if(this._rootNodeFocusListenerCount.has(z)){const be=this._rootNodeFocusListenerCount.get(z);be>1?this._rootNodeFocusListenerCount.set(z,be-1):(z.removeEventListener("focus",this._rootNodeFocusAndBlurListener,en),z.removeEventListener("blur",this._rootNodeFocusAndBlurListener,en),this._rootNodeFocusListenerCount.delete(z))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(D,z,be){this._setClasses(D,z),this._emitOrigin(be,z),this._lastFocusOrigin=z}_getClosestElementsInfo(D){const z=[];return this._elementInfo.forEach((be,Pe)=>{(Pe===D||be.checkChildren&&Pe.contains(D))&&z.push([Pe,be])}),z}_isLastInteractionFromInputLabel(D){const{_mostRecentTarget:z,mostRecentModality:be}=this._inputModalityDetector;if("mouse"!==be||!z||z===D||"INPUT"!==D.nodeName&&"TEXTAREA"!==D.nodeName||D.disabled)return!1;const Pe=D.labels;if(Pe)for(let at=0;at<Pe.length;at++)if(Pe[at].contains(z))return!0;return!1}}return X.\u0275fac=function(D){return new(D||X)(b.LFG(b.R0b),b.LFG(m.t4),b.LFG(Ii),b.LFG(l.K0,8),b.LFG(an,8))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})();const Ve="cdk-high-contrast-black-on-white",Je="cdk-high-contrast-white-on-black",Rt="cdk-high-contrast-active";let dt=(()=>{class X{constructor(D,z){this._platform=D,this._document=z,this._breakpointSubscription=(0,b.f3M)(ct).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const D=this._document.createElement("div");D.style.backgroundColor="rgb(1,2,3)",D.style.position="absolute",this._document.body.appendChild(D);const z=this._document.defaultView||window,be=z&&z.getComputedStyle?z.getComputedStyle(D):null,Pe=(be&&be.backgroundColor||"").replace(/ /g,"");switch(D.remove(),Pe){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const D=this._document.body.classList;D.remove(Rt,Ve,Je),this._hasCheckedHighContrastMode=!0;const z=this.getHighContrastMode();1===z?D.add(Rt,Ve):2===z&&D.add(Rt,Je)}}}return X.\u0275fac=function(D){return new(D||X)(b.LFG(m.t4),b.LFG(l.K0))},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),et=(()=>{class X{constructor(D){D._applyBodyHighContrastModeCssClasses()}}return X.\u0275fac=function(D){return new(D||X)(b.LFG(dt))},X.\u0275mod=b.oAB({type:X}),X.\u0275inj=b.cJS({imports:[oe.Q8]}),X})()},445:(wt,Ne,_)=>{"use strict";_.d(Ne,{Is:()=>ie,vT:()=>K});var l=_(4650),b=_(6895);const m=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function O(){return(0,l.f3M)(b.K0)}}),he=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ie=(()=>{class Y{constructor(V){this.value="ltr",this.change=new l.vpe,V&&(this.value=function ee(Y){const F=Y?.toLowerCase()||"";return"auto"===F&&typeof navigator<"u"&&navigator?.language?he.test(navigator.language)?"rtl":"ltr":"rtl"===F?"rtl":"ltr"}((V.body?V.body.dir:null)||(V.documentElement?V.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return Y.\u0275fac=function(V){return new(V||Y)(l.LFG(m,8))},Y.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),K=(()=>{class Y{}return Y.\u0275fac=function(V){return new(V||Y)},Y.\u0275mod=l.oAB({type:Y}),Y.\u0275inj=l.cJS({}),Y})()},1281:(wt,Ne,_)=>{"use strict";_.d(Ne,{Eq:()=>he,HM:()=>ee,Ig:()=>b,fI:()=>ie,su:()=>m});var l=_(4650);function b(K){return null!=K&&"false"!=`${K}`}function m(K,Y=0){return function O(K){return!isNaN(parseFloat(K))&&!isNaN(Number(K))}(K)?Number(K):Y}function he(K){return Array.isArray(K)?K:[K]}function ee(K){return null==K?"":"string"==typeof K?K:`${K}px`}function ie(K){return K instanceof l.SBq?K.nativeElement:K}},9521:(wt,Ne,_)=>{"use strict";_.d(Ne,{A:()=>me,JH:()=>Me,JU:()=>ee,K5:()=>he,Ku:()=>Z,LH:()=>oe,L_:()=>V,MW:()=>Te,Mf:()=>m,SV:()=>fe,Sd:()=>Ae,VM:()=>ne,Vb:()=>Yi,Z:()=>Ke,aO:()=>Ht,b2:()=>Hi,hY:()=>F,jx:()=>ie,oh:()=>_e,uR:()=>ce,xE:()=>ke,zL:()=>j});const m=9,he=13,ee=16,ie=17,j=18,F=27,V=32,Z=33,ne=34,ce=35,Ae=36,_e=37,oe=38,fe=39,Me=40,ke=48,Ht=57,me=65,Ke=90,Te=91,Hi=224;function Yi(li,...cr){return cr.length?cr.some(jo=>li[jo]):li.altKey||li.shiftKey||li.ctrlKey||li.metaKey}},9643:(wt,Ne,_)=>{"use strict";_.d(Ne,{Q8:()=>he});var l=_(4650);let b=(()=>{class ee{create(j){return typeof MutationObserver>"u"?null:new MutationObserver(j)}}return ee.\u0275fac=function(j){return new(j||ee)},ee.\u0275prov=l.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})(),he=(()=>{class ee{}return ee.\u0275fac=function(j){return new(j||ee)},ee.\u0275mod=l.oAB({type:ee}),ee.\u0275inj=l.cJS({providers:[b]}),ee})()},8184:(wt,Ne,_)=>{"use strict";_.d(Ne,{U8:()=>Tn,aV:()=>Dt});var l=_(8605),b=_(6895),m=_(4650),O=_(1281),he=_(3353),ee=_(9300),ie=_(5698),j=_(2722),K=_(445),Y=_(4080),F=_(7579),V=_(727),Z=_(6451);const ne=(0,he.Mq)();class ce{constructor(re,ge){this._viewportRuler=re,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ge}attach(){}enable(){if(this._canBeEnabled()){const re=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=re.style.left||"",this._previousHTMLStyles.top=re.style.top||"",re.style.left=(0,O.HM)(-this._previousScrollPosition.left),re.style.top=(0,O.HM)(-this._previousScrollPosition.top),re.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const re=this._document.documentElement,He=re.style,It=this._document.body.style,Mt=He.scrollBehavior||"",Qt=It.scrollBehavior||"";this._isEnabled=!1,He.left=this._previousHTMLStyles.left,He.top=this._previousHTMLStyles.top,re.classList.remove("cdk-global-scrollblock"),ne&&(He.scrollBehavior=It.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ne&&(He.scrollBehavior=Mt,It.scrollBehavior=Qt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ge=this._document.body,He=this._viewportRuler.getViewportSize();return ge.scrollHeight>He.height||ge.scrollWidth>He.width}}class _e{constructor(re,ge,He,It){this._scrollDispatcher=re,this._ngZone=ge,this._viewportRuler=He,this._config=It,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(re){this._overlayRef=re}enable(){if(this._scrollSubscription)return;const re=this._scrollDispatcher.scrolled(0).pipe((0,ee.h)(ge=>!ge||!this._overlayRef.overlayElement.contains(ge.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=re.subscribe(()=>{const ge=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ge-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=re.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class oe{enable(){}disable(){}attach(){}}function fe(Le,re){return re.some(ge=>Le.bottom<ge.top||Le.top>ge.bottom||Le.right<ge.left||Le.left>ge.right)}function Me(Le,re){return re.some(ge=>Le.top<ge.top||Le.bottom>ge.bottom||Le.left<ge.left||Le.right>ge.right)}class pe{constructor(re,ge,He,It){this._scrollDispatcher=re,this._viewportRuler=ge,this._ngZone=He,this._config=It,this._scrollSubscription=null}attach(re){this._overlayRef=re}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ge=this._overlayRef.overlayElement.getBoundingClientRect(),{width:He,height:It}=this._viewportRuler.getViewportSize();fe(ge,[{width:He,height:It,bottom:It,right:He,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let de=(()=>{class Le{constructor(ge,He,It,Mt){this._scrollDispatcher=ge,this._viewportRuler=He,this._ngZone=It,this.noop=()=>new oe,this.close=Qt=>new _e(this._scrollDispatcher,this._ngZone,this._viewportRuler,Qt),this.block=()=>new ce(this._viewportRuler,this._document),this.reposition=Qt=>new pe(this._scrollDispatcher,this._viewportRuler,this._ngZone,Qt),this._document=Mt}}return Le.\u0275fac=function(ge){return new(ge||Le)(m.LFG(l.mF),m.LFG(l.rL),m.LFG(m.R0b),m.LFG(b.K0))},Le.\u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();class Ee{constructor(re){if(this.scrollStrategy=new oe,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,re){const ge=Object.keys(re);for(const He of ge)void 0!==re[He]&&(this[He]=re[He])}}}class Xe{constructor(re,ge){this.connectionPair=re,this.scrollableViewProperties=ge}}let ct=(()=>{class Le{constructor(ge){this._attachedOverlays=[],this._document=ge}ngOnDestroy(){this.detach()}add(ge){this.remove(ge),this._attachedOverlays.push(ge)}remove(ge){const He=this._attachedOverlays.indexOf(ge);He>-1&&this._attachedOverlays.splice(He,1),0===this._attachedOverlays.length&&this.detach()}}return Le.\u0275fac=function(ge){return new(ge||Le)(m.LFG(b.K0))},Le.\u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),kt=(()=>{class Le extends ct{constructor(ge,He){super(ge),this._ngZone=He,this._keydownListener=It=>{const Mt=this._attachedOverlays;for(let Qt=Mt.length-1;Qt>-1;Qt--)if(Mt[Qt]._keydownEvents.observers.length>0){const Xt=Mt[Qt]._keydownEvents;this._ngZone?this._ngZone.run(()=>Xt.next(It)):Xt.next(It);break}}}add(ge){super.add(ge),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Le.\u0275fac=function(ge){return new(ge||Le)(m.LFG(b.K0),m.LFG(m.R0b,8))},Le.\u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),lt=(()=>{class Le extends ct{constructor(ge,He,It){super(ge),this._platform=He,this._ngZone=It,this._cursorStyleIsSet=!1,this._pointerDownListener=Mt=>{this._pointerDownEventTarget=(0,he.sA)(Mt)},this._clickListener=Mt=>{const Qt=(0,he.sA)(Mt),Xt="click"===Mt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Qt;this._pointerDownEventTarget=null;const yt=this._attachedOverlays.slice();for(let Ke=yt.length-1;Ke>-1;Ke--){const Te=yt[Ke];if(Te._outsidePointerEvents.observers.length<1||!Te.hasAttached())continue;if(Te.overlayElement.contains(Qt)||Te.overlayElement.contains(Xt))break;const ot=Te._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ot.next(Mt)):ot.next(Mt)}}}add(ge){if(super.add(ge),!this._isAttached){const He=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(He)):this._addEventListeners(He),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=He.style.cursor,He.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ge=this._document.body;ge.removeEventListener("pointerdown",this._pointerDownListener,!0),ge.removeEventListener("click",this._clickListener,!0),ge.removeEventListener("auxclick",this._clickListener,!0),ge.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ge.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ge){ge.addEventListener("pointerdown",this._pointerDownListener,!0),ge.addEventListener("click",this._clickListener,!0),ge.addEventListener("auxclick",this._clickListener,!0),ge.addEventListener("contextmenu",this._clickListener,!0)}}return Le.\u0275fac=function(ge){return new(ge||Le)(m.LFG(b.K0),m.LFG(he.t4),m.LFG(m.R0b,8))},Le.\u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),dn=(()=>{class Le{constructor(ge,He){this._platform=He,this._document=ge}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ge="cdk-overlay-container";if(this._platform.isBrowser||(0,he.Oy)()){const It=this._document.querySelectorAll(`.${ge}[platform="server"], .${ge}[platform="test"]`);for(let Mt=0;Mt<It.length;Mt++)It[Mt].remove()}const He=this._document.createElement("div");He.classList.add(ge),(0,he.Oy)()?He.setAttribute("platform","test"):this._platform.isBrowser||He.setAttribute("platform","server"),this._document.body.appendChild(He),this._containerElement=He}}return Le.\u0275fac=function(ge){return new(ge||Le)(m.LFG(b.K0),m.LFG(he.t4))},Le.\u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();class jt{constructor(re,ge,He,It,Mt,Qt,Xt,yt,Ke,Te=!1){this._portalOutlet=re,this._host=ge,this._pane=He,this._config=It,this._ngZone=Mt,this._keyboardDispatcher=Qt,this._document=Xt,this._location=yt,this._outsideClickDispatcher=Ke,this._animationsDisabled=Te,this._backdropElement=null,this._backdropClick=new F.x,this._attachments=new F.x,this._detachments=new F.x,this._locationChanges=V.w0.EMPTY,this._backdropClickHandler=ot=>this._backdropClick.next(ot),this._backdropTransitionendHandler=ot=>{this._disposeBackdrop(ot.target)},this._keydownEvents=new F.x,this._outsidePointerEvents=new F.x,It.scrollStrategy&&(this._scrollStrategy=It.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=It.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(re){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ge=this._portalOutlet.attach(re);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ie.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ge?.onDestroy&&ge.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ge}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const re=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),re}dispose(){const re=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,re&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(re){re!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=re,this.hasAttached()&&(re.attach(this),this.updatePosition()))}updateSize(re){this._config={...this._config,...re},this._updateElementSize()}setDirection(re){this._config={...this._config,direction:re},this._updateElementDirection()}addPanelClass(re){this._pane&&this._toggleClasses(this._pane,re,!0)}removePanelClass(re){this._pane&&this._toggleClasses(this._pane,re,!1)}getDirection(){const re=this._config.direction;return re?"string"==typeof re?re:re.value:"ltr"}updateScrollStrategy(re){re!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=re,this.hasAttached()&&(re.attach(this),re.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const re=this._pane.style;re.width=(0,O.HM)(this._config.width),re.height=(0,O.HM)(this._config.height),re.minWidth=(0,O.HM)(this._config.minWidth),re.minHeight=(0,O.HM)(this._config.minHeight),re.maxWidth=(0,O.HM)(this._config.maxWidth),re.maxHeight=(0,O.HM)(this._config.maxHeight)}_togglePointerEvents(re){this._pane.style.pointerEvents=re?"":"none"}_attachBackdrop(){const re="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(re)})}):this._backdropElement.classList.add(re)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const re=this._backdropElement;if(re){if(this._animationsDisabled)return void this._disposeBackdrop(re);re.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{re.addEventListener("transitionend",this._backdropTransitionendHandler)}),re.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(re)},500))}}_toggleClasses(re,ge,He){const It=(0,O.Eq)(ge||[]).filter(Mt=>!!Mt);It.length&&(He?re.classList.add(...It):re.classList.remove(...It))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const re=this._ngZone.onStable.pipe((0,j.R)((0,Z.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),re.unsubscribe())})})}_disposeScrollStrategy(){const re=this._scrollStrategy;re&&(re.disable(),re.detach&&re.detach())}_disposeBackdrop(re){re&&(re.removeEventListener("click",this._backdropClickHandler),re.removeEventListener("transitionend",this._backdropTransitionendHandler),re.remove(),this._backdropElement===re&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Ht="cdk-overlay-connected-position-bounding-box",Zt=/([A-Za-z%]+)$/;class Ce{get positions(){return this._preferredPositions}constructor(re,ge,He,It,Mt){this._viewportRuler=ge,this._document=He,this._platform=It,this._overlayContainer=Mt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new F.x,this._resizeSubscription=V.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(re)}attach(re){this._validatePositions(),re.hostElement.classList.add(Ht),this._overlayRef=re,this._boundingBox=re.hostElement,this._pane=re.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const re=this._originRect,ge=this._overlayRect,He=this._viewportRect,It=this._containerRect,Mt=[];let Qt;for(let Xt of this._preferredPositions){let yt=this._getOriginPoint(re,It,Xt),Ke=this._getOverlayPoint(yt,ge,Xt),Te=this._getOverlayFit(Ke,ge,He,Xt);if(Te.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Xt,yt);this._canFitWithFlexibleDimensions(Te,Ke,He)?Mt.push({position:Xt,origin:yt,overlayRect:ge,boundingBoxRect:this._calculateBoundingBoxRect(yt,Xt)}):(!Qt||Qt.overlayFit.visibleArea<Te.visibleArea)&&(Qt={overlayFit:Te,overlayPoint:Ke,originPoint:yt,position:Xt,overlayRect:ge})}if(Mt.length){let Xt=null,yt=-1;for(const Ke of Mt){const Te=Ke.boundingBoxRect.width*Ke.boundingBoxRect.height*(Ke.position.weight||1);Te>yt&&(yt=Te,Xt=Ke)}return this._isPushed=!1,void this._applyPosition(Xt.position,Xt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Qt.position,Qt.originPoint);this._applyPosition(Qt.position,Qt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Oe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ht),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const re=this._lastPosition;if(re){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ge=this._getOriginPoint(this._originRect,this._containerRect,re);this._applyPosition(re,ge)}else this.apply()}withScrollableContainers(re){return this._scrollables=re,this}withPositions(re){return this._preferredPositions=re,-1===re.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(re){return this._viewportMargin=re,this}withFlexibleDimensions(re=!0){return this._hasFlexibleDimensions=re,this}withGrowAfterOpen(re=!0){return this._growAfterOpen=re,this}withPush(re=!0){return this._canPush=re,this}withLockedPosition(re=!0){return this._positionLocked=re,this}setOrigin(re){return this._origin=re,this}withDefaultOffsetX(re){return this._offsetX=re,this}withDefaultOffsetY(re){return this._offsetY=re,this}withTransformOriginOn(re){return this._transformOriginSelector=re,this}_getOriginPoint(re,ge,He){let It,Mt;if("center"==He.originX)It=re.left+re.width/2;else{const Qt=this._isRtl()?re.right:re.left,Xt=this._isRtl()?re.left:re.right;It="start"==He.originX?Qt:Xt}return ge.left<0&&(It-=ge.left),Mt="center"==He.originY?re.top+re.height/2:"top"==He.originY?re.top:re.bottom,ge.top<0&&(Mt-=ge.top),{x:It,y:Mt}}_getOverlayPoint(re,ge,He){let It,Mt;return It="center"==He.overlayX?-ge.width/2:"start"===He.overlayX?this._isRtl()?-ge.width:0:this._isRtl()?0:-ge.width,Mt="center"==He.overlayY?-ge.height/2:"top"==He.overlayY?0:-ge.height,{x:re.x+It,y:re.y+Mt}}_getOverlayFit(re,ge,He,It){const Mt=me(ge);let{x:Qt,y:Xt}=re,yt=this._getOffset(It,"x"),Ke=this._getOffset(It,"y");yt&&(Qt+=yt),Ke&&(Xt+=Ke);let Gt=0-Xt,sn=Xt+Mt.height-He.height,gn=this._subtractOverflows(Mt.width,0-Qt,Qt+Mt.width-He.width),ai=this._subtractOverflows(Mt.height,Gt,sn),jn=gn*ai;return{visibleArea:jn,isCompletelyWithinViewport:Mt.width*Mt.height===jn,fitsInViewportVertically:ai===Mt.height,fitsInViewportHorizontally:gn==Mt.width}}_canFitWithFlexibleDimensions(re,ge,He){if(this._hasFlexibleDimensions){const It=He.bottom-ge.y,Mt=He.right-ge.x,Qt=Fe(this._overlayRef.getConfig().minHeight),Xt=Fe(this._overlayRef.getConfig().minWidth);return(re.fitsInViewportVertically||null!=Qt&&Qt<=It)&&(re.fitsInViewportHorizontally||null!=Xt&&Xt<=Mt)}return!1}_pushOverlayOnScreen(re,ge,He){if(this._previousPushAmount&&this._positionLocked)return{x:re.x+this._previousPushAmount.x,y:re.y+this._previousPushAmount.y};const It=me(ge),Mt=this._viewportRect,Qt=Math.max(re.x+It.width-Mt.width,0),Xt=Math.max(re.y+It.height-Mt.height,0),yt=Math.max(Mt.top-He.top-re.y,0),Ke=Math.max(Mt.left-He.left-re.x,0);let Te=0,ot=0;return Te=It.width<=Mt.width?Ke||-Qt:re.x<this._viewportMargin?Mt.left-He.left-re.x:0,ot=It.height<=Mt.height?yt||-Xt:re.y<this._viewportMargin?Mt.top-He.top-re.y:0,this._previousPushAmount={x:Te,y:ot},{x:re.x+Te,y:re.y+ot}}_applyPosition(re,ge){if(this._setTransformOrigin(re),this._setOverlayElementStyles(ge,re),this._setBoundingBoxStyles(ge,re),re.panelClass&&this._addPanelClasses(re.panelClass),this._lastPosition=re,this._positionChanges.observers.length){const He=this._getScrollVisibility(),It=new Xe(re,He);this._positionChanges.next(It)}this._isInitialRender=!1}_setTransformOrigin(re){if(!this._transformOriginSelector)return;const ge=this._boundingBox.querySelectorAll(this._transformOriginSelector);let He,It=re.overlayY;He="center"===re.overlayX?"center":this._isRtl()?"start"===re.overlayX?"right":"left":"start"===re.overlayX?"left":"right";for(let Mt=0;Mt<ge.length;Mt++)ge[Mt].style.transformOrigin=`${He} ${It}`}_calculateBoundingBoxRect(re,ge){const He=this._viewportRect,It=this._isRtl();let Mt,Qt,Xt,Te,ot,Gt;if("top"===ge.overlayY)Qt=re.y,Mt=He.height-Qt+this._viewportMargin;else if("bottom"===ge.overlayY)Xt=He.height-re.y+2*this._viewportMargin,Mt=He.height-Xt+this._viewportMargin;else{const sn=Math.min(He.bottom-re.y+He.top,re.y),gn=this._lastBoundingBoxSize.height;Mt=2*sn,Qt=re.y-sn,Mt>gn&&!this._isInitialRender&&!this._growAfterOpen&&(Qt=re.y-gn/2)}if("end"===ge.overlayX&&!It||"start"===ge.overlayX&&It)Gt=He.width-re.x+this._viewportMargin,Te=re.x-this._viewportMargin;else if("start"===ge.overlayX&&!It||"end"===ge.overlayX&&It)ot=re.x,Te=He.right-re.x;else{const sn=Math.min(He.right-re.x+He.left,re.x),gn=this._lastBoundingBoxSize.width;Te=2*sn,ot=re.x-sn,Te>gn&&!this._isInitialRender&&!this._growAfterOpen&&(ot=re.x-gn/2)}return{top:Qt,left:ot,bottom:Xt,right:Gt,width:Te,height:Mt}}_setBoundingBoxStyles(re,ge){const He=this._calculateBoundingBoxRect(re,ge);!this._isInitialRender&&!this._growAfterOpen&&(He.height=Math.min(He.height,this._lastBoundingBoxSize.height),He.width=Math.min(He.width,this._lastBoundingBoxSize.width));const It={};if(this._hasExactPosition())It.top=It.left="0",It.bottom=It.right=It.maxHeight=It.maxWidth="",It.width=It.height="100%";else{const Mt=this._overlayRef.getConfig().maxHeight,Qt=this._overlayRef.getConfig().maxWidth;It.height=(0,O.HM)(He.height),It.top=(0,O.HM)(He.top),It.bottom=(0,O.HM)(He.bottom),It.width=(0,O.HM)(He.width),It.left=(0,O.HM)(He.left),It.right=(0,O.HM)(He.right),It.alignItems="center"===ge.overlayX?"center":"end"===ge.overlayX?"flex-end":"flex-start",It.justifyContent="center"===ge.overlayY?"center":"bottom"===ge.overlayY?"flex-end":"flex-start",Mt&&(It.maxHeight=(0,O.HM)(Mt)),Qt&&(It.maxWidth=(0,O.HM)(Qt))}this._lastBoundingBoxSize=He,Oe(this._boundingBox.style,It)}_resetBoundingBoxStyles(){Oe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Oe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(re,ge){const He={},It=this._hasExactPosition(),Mt=this._hasFlexibleDimensions,Qt=this._overlayRef.getConfig();if(It){const Te=this._viewportRuler.getViewportScrollPosition();Oe(He,this._getExactOverlayY(ge,re,Te)),Oe(He,this._getExactOverlayX(ge,re,Te))}else He.position="static";let Xt="",yt=this._getOffset(ge,"x"),Ke=this._getOffset(ge,"y");yt&&(Xt+=`translateX(${yt}px) `),Ke&&(Xt+=`translateY(${Ke}px)`),He.transform=Xt.trim(),Qt.maxHeight&&(It?He.maxHeight=(0,O.HM)(Qt.maxHeight):Mt&&(He.maxHeight="")),Qt.maxWidth&&(It?He.maxWidth=(0,O.HM)(Qt.maxWidth):Mt&&(He.maxWidth="")),Oe(this._pane.style,He)}_getExactOverlayY(re,ge,He){let It={top:"",bottom:""},Mt=this._getOverlayPoint(ge,this._overlayRect,re);return this._isPushed&&(Mt=this._pushOverlayOnScreen(Mt,this._overlayRect,He)),"bottom"===re.overlayY?It.bottom=this._document.documentElement.clientHeight-(Mt.y+this._overlayRect.height)+"px":It.top=(0,O.HM)(Mt.y),It}_getExactOverlayX(re,ge,He){let Qt,It={left:"",right:""},Mt=this._getOverlayPoint(ge,this._overlayRect,re);return this._isPushed&&(Mt=this._pushOverlayOnScreen(Mt,this._overlayRect,He)),Qt=this._isRtl()?"end"===re.overlayX?"left":"right":"end"===re.overlayX?"right":"left","right"===Qt?It.right=this._document.documentElement.clientWidth-(Mt.x+this._overlayRect.width)+"px":It.left=(0,O.HM)(Mt.x),It}_getScrollVisibility(){const re=this._getOriginRect(),ge=this._pane.getBoundingClientRect(),He=this._scrollables.map(It=>It.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Me(re,He),isOriginOutsideView:fe(re,He),isOverlayClipped:Me(ge,He),isOverlayOutsideView:fe(ge,He)}}_subtractOverflows(re,...ge){return ge.reduce((He,It)=>He-Math.max(It,0),re)}_getNarrowedViewportRect(){const re=this._document.documentElement.clientWidth,ge=this._document.documentElement.clientHeight,He=this._viewportRuler.getViewportScrollPosition();return{top:He.top+this._viewportMargin,left:He.left+this._viewportMargin,right:He.left+re-this._viewportMargin,bottom:He.top+ge-this._viewportMargin,width:re-2*this._viewportMargin,height:ge-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(re,ge){return"x"===ge?null==re.offsetX?this._offsetX:re.offsetX:null==re.offsetY?this._offsetY:re.offsetY}_validatePositions(){}_addPanelClasses(re){this._pane&&(0,O.Eq)(re).forEach(ge=>{""!==ge&&-1===this._appliedPanelClasses.indexOf(ge)&&(this._appliedPanelClasses.push(ge),this._pane.classList.add(ge))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(re=>{this._pane.classList.remove(re)}),this._appliedPanelClasses=[])}_getOriginRect(){const re=this._origin;if(re instanceof m.SBq)return re.nativeElement.getBoundingClientRect();if(re instanceof Element)return re.getBoundingClientRect();const ge=re.width||0,He=re.height||0;return{top:re.y,bottom:re.y+He,left:re.x,right:re.x+ge,height:He,width:ge}}}function Oe(Le,re){for(let ge in re)re.hasOwnProperty(ge)&&(Le[ge]=re[ge]);return Le}function Fe(Le){if("number"!=typeof Le&&null!=Le){const[re,ge]=Le.split(Zt);return ge&&"px"!==ge?null:parseFloat(re)}return Le||null}function me(Le){return{top:Math.floor(Le.top),right:Math.floor(Le.right),bottom:Math.floor(Le.bottom),left:Math.floor(Le.left),width:Math.floor(Le.width),height:Math.floor(Le.height)}}const ve="cdk-global-overlay-wrapper";class R{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(re){const ge=re.getConfig();this._overlayRef=re,this._width&&!ge.width&&re.updateSize({width:this._width}),this._height&&!ge.height&&re.updateSize({height:this._height}),re.hostElement.classList.add(ve),this._isDisposed=!1}top(re=""){return this._bottomOffset="",this._topOffset=re,this._alignItems="flex-start",this}left(re=""){return this._xOffset=re,this._xPosition="left",this}bottom(re=""){return this._topOffset="",this._bottomOffset=re,this._alignItems="flex-end",this}right(re=""){return this._xOffset=re,this._xPosition="right",this}start(re=""){return this._xOffset=re,this._xPosition="start",this}end(re=""){return this._xOffset=re,this._xPosition="end",this}width(re=""){return this._overlayRef?this._overlayRef.updateSize({width:re}):this._width=re,this}height(re=""){return this._overlayRef?this._overlayRef.updateSize({height:re}):this._height=re,this}centerHorizontally(re=""){return this.left(re),this._xPosition="center",this}centerVertically(re=""){return this.top(re),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const re=this._overlayRef.overlayElement.style,ge=this._overlayRef.hostElement.style,He=this._overlayRef.getConfig(),{width:It,height:Mt,maxWidth:Qt,maxHeight:Xt}=He,yt=!("100%"!==It&&"100vw"!==It||Qt&&"100%"!==Qt&&"100vw"!==Qt),Ke=!("100%"!==Mt&&"100vh"!==Mt||Xt&&"100%"!==Xt&&"100vh"!==Xt),Te=this._xPosition,ot=this._xOffset,Gt="rtl"===this._overlayRef.getConfig().direction;let sn="",gn="",ai="";yt?ai="flex-start":"center"===Te?(ai="center",Gt?gn=ot:sn=ot):Gt?"left"===Te||"end"===Te?(ai="flex-end",sn=ot):("right"===Te||"start"===Te)&&(ai="flex-start",gn=ot):"left"===Te||"start"===Te?(ai="flex-start",sn=ot):("right"===Te||"end"===Te)&&(ai="flex-end",gn=ot),re.position=this._cssPosition,re.marginLeft=yt?"0":sn,re.marginTop=Ke?"0":this._topOffset,re.marginBottom=this._bottomOffset,re.marginRight=yt?"0":gn,ge.justifyContent=ai,ge.alignItems=Ke?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const re=this._overlayRef.overlayElement.style,ge=this._overlayRef.hostElement,He=ge.style;ge.classList.remove(ve),He.justifyContent=He.alignItems=re.marginTop=re.marginBottom=re.marginLeft=re.marginRight=re.position="",this._overlayRef=null,this._isDisposed=!0}}let Se=(()=>{class Le{constructor(ge,He,It,Mt){this._viewportRuler=ge,this._document=He,this._platform=It,this._overlayContainer=Mt}global(){return new R}flexibleConnectedTo(ge){return new Ce(ge,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Le.\u0275fac=function(ge){return new(ge||Le)(m.LFG(l.rL),m.LFG(b.K0),m.LFG(he.t4),m.LFG(dn))},Le.\u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})(),qe=0,Dt=(()=>{class Le{constructor(ge,He,It,Mt,Qt,Xt,yt,Ke,Te,ot,Gt,sn){this.scrollStrategies=ge,this._overlayContainer=He,this._componentFactoryResolver=It,this._positionBuilder=Mt,this._keyboardDispatcher=Qt,this._injector=Xt,this._ngZone=yt,this._document=Ke,this._directionality=Te,this._location=ot,this._outsideClickDispatcher=Gt,this._animationsModuleType=sn}create(ge){const He=this._createHostElement(),It=this._createPaneElement(He),Mt=this._createPortalOutlet(It),Qt=new Ee(ge);return Qt.direction=Qt.direction||this._directionality.value,new jt(Mt,He,It,Qt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(ge){const He=this._document.createElement("div");return He.id="cdk-overlay-"+qe++,He.classList.add("cdk-overlay-pane"),ge.appendChild(He),He}_createHostElement(){const ge=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ge),ge}_createPortalOutlet(ge){return this._appRef||(this._appRef=this._injector.get(m.z2F)),new Y.u0(ge,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Le.\u0275fac=function(ge){return new(ge||Le)(m.LFG(de),m.LFG(dn),m.LFG(m._Vd),m.LFG(Se),m.LFG(kt),m.LFG(m.zs3),m.LFG(m.R0b),m.LFG(b.K0),m.LFG(K.Is),m.LFG(b.Ye),m.LFG(lt),m.LFG(m.QbO,8))},Le.\u0275prov=m.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();const qn={provide:new m.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Dt],useFactory:function Bn(Le){return()=>Le.scrollStrategies.reposition()}};let Tn=(()=>{class Le{}return Le.\u0275fac=function(ge){return new(ge||Le)},Le.\u0275mod=m.oAB({type:Le}),Le.\u0275inj=m.cJS({providers:[Dt,qn],imports:[K.vT,Y.eL,l.Cl,l.Cl]}),Le})()},3353:(wt,Ne,_)=>{"use strict";_.d(Ne,{Mq:()=>ne,Oy:()=>pe,_i:()=>ce,i$:()=>F,kV:()=>oe,sA:()=>Me,t4:()=>O});var l=_(4650),b=_(6895);let m;try{m=typeof Intl<"u"&&Intl.v8BreakIterator}catch{m=!1}let K,V,Z,Ae,O=(()=>{class de{constructor(je){this._platformId=je,this.isBrowser=this._platformId?(0,b.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!m)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return de.\u0275fac=function(je){return new(je||de)(l.LFG(l.Lbi))},de.\u0275prov=l.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})();function F(de){return function Y(){if(null==K&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>K=!0}))}finally{K=K||!1}return K}()?de:!!de.capture}function ne(){if(null==Z){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Z=!1,Z;if("scrollBehavior"in document.documentElement.style)Z=!0;else{const de=Element.prototype.scrollTo;Z=!!de&&!/\{\s*\[native code\]\s*\}/.test(de.toString())}}return Z}function ce(){if("object"!=typeof document||!document)return 0;if(null==V){const de=document.createElement("div"),Ee=de.style;de.dir="rtl",Ee.width="1px",Ee.overflow="auto",Ee.visibility="hidden",Ee.pointerEvents="none",Ee.position="absolute";const je=document.createElement("div"),ke=je.style;ke.width="2px",ke.height="1px",de.appendChild(je),document.body.appendChild(de),V=0,0===de.scrollLeft&&(de.scrollLeft=1,V=0===de.scrollLeft?1:2),de.remove()}return V}function oe(de){if(function _e(){if(null==Ae){const de=typeof document<"u"?document.head:null;Ae=!(!de||!de.createShadowRoot&&!de.attachShadow)}return Ae}()){const Ee=de.getRootNode?de.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Ee instanceof ShadowRoot)return Ee}return null}function Me(de){return de.composedPath?de.composedPath()[0]:de.target}function pe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(wt,Ne,_)=>{"use strict";_.d(Ne,{Pl:()=>fe,UE:()=>F,eL:()=>pe,u0:()=>ce});var l=_(4650),b=_(6895);class K{attach(je){return this._attachedHost=je,je.attach(this)}detach(){let je=this._attachedHost;null!=je&&(this._attachedHost=null,je.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(je){this._attachedHost=je}}class Y extends K{constructor(je,ke,Xe,ut,Ue){super(),this.component=je,this.viewContainerRef=ke,this.injector=Xe,this.componentFactoryResolver=ut,this.projectableNodes=Ue}}class F extends K{constructor(je,ke,Xe,ut){super(),this.templateRef=je,this.viewContainerRef=ke,this.context=Xe,this.injector=ut}get origin(){return this.templateRef.elementRef}attach(je,ke=this.context){return this.context=ke,super.attach(je)}detach(){return this.context=void 0,super.detach()}}class V extends K{constructor(je){super(),this.element=je instanceof l.SBq?je.nativeElement:je}}class Z{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(je){return je instanceof Y?(this._attachedPortal=je,this.attachComponentPortal(je)):je instanceof F?(this._attachedPortal=je,this.attachTemplatePortal(je)):this.attachDomPortal&&je instanceof V?(this._attachedPortal=je,this.attachDomPortal(je)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(je){this._disposeFn=je}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ce extends Z{constructor(je,ke,Xe,ut,Ue){super(),this.outletElement=je,this._componentFactoryResolver=ke,this._appRef=Xe,this._defaultInjector=ut,this.attachDomPortal=ct=>{const kt=ct.element,lt=this._document.createComment("dom-portal");kt.parentNode.insertBefore(lt,kt),this.outletElement.appendChild(kt),this._attachedPortal=ct,super.setDisposeFn(()=>{lt.parentNode&&lt.parentNode.replaceChild(kt,lt)})},this._document=Ue}attachComponentPortal(je){const Xe=(je.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(je.component);let ut;return je.viewContainerRef?(ut=je.viewContainerRef.createComponent(Xe,je.viewContainerRef.length,je.injector||je.viewContainerRef.injector,je.projectableNodes||void 0),this.setDisposeFn(()=>ut.destroy())):(ut=Xe.create(je.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(ut.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ut.hostView),ut.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ut)),this._attachedPortal=je,ut}attachTemplatePortal(je){let ke=je.viewContainerRef,Xe=ke.createEmbeddedView(je.templateRef,je.context,{injector:je.injector});return Xe.rootNodes.forEach(ut=>this.outletElement.appendChild(ut)),Xe.detectChanges(),this.setDisposeFn(()=>{let ut=ke.indexOf(Xe);-1!==ut&&ke.remove(ut)}),this._attachedPortal=je,Xe}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(je){return je.hostView.rootNodes[0]}}let fe=(()=>{class Ee extends Z{constructor(ke,Xe,ut){super(),this._componentFactoryResolver=ke,this._viewContainerRef=Xe,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=Ue=>{const ct=Ue.element,kt=this._document.createComment("dom-portal");Ue.setAttachedHost(this),ct.parentNode.insertBefore(kt,ct),this._getRootNode().appendChild(ct),this._attachedPortal=Ue,super.setDisposeFn(()=>{kt.parentNode&&kt.parentNode.replaceChild(ct,kt)})},this._document=ut}get portal(){return this._attachedPortal}set portal(ke){this.hasAttached()&&!ke&&!this._isInitialized||(this.hasAttached()&&super.detach(),ke&&super.attach(ke),this._attachedPortal=ke||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(ke){ke.setAttachedHost(this);const Xe=null!=ke.viewContainerRef?ke.viewContainerRef:this._viewContainerRef,Ue=(ke.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ke.component),ct=Xe.createComponent(Ue,Xe.length,ke.injector||Xe.injector,ke.projectableNodes||void 0);return Xe!==this._viewContainerRef&&this._getRootNode().appendChild(ct.hostView.rootNodes[0]),super.setDisposeFn(()=>ct.destroy()),this._attachedPortal=ke,this._attachedRef=ct,this.attached.emit(ct),ct}attachTemplatePortal(ke){ke.setAttachedHost(this);const Xe=this._viewContainerRef.createEmbeddedView(ke.templateRef,ke.context,{injector:ke.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ke,this._attachedRef=Xe,this.attached.emit(Xe),Xe}_getRootNode(){const ke=this._viewContainerRef.element.nativeElement;return ke.nodeType===ke.ELEMENT_NODE?ke:ke.parentNode}}return Ee.\u0275fac=function(ke){return new(ke||Ee)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(b.K0))},Ee.\u0275dir=l.lG2({type:Ee,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),Ee})(),pe=(()=>{class Ee{}return Ee.\u0275fac=function(ke){return new(ke||Ee)},Ee.\u0275mod=l.oAB({type:Ee}),Ee.\u0275inj=l.cJS({}),Ee})()},8605:(wt,Ne,_)=>{"use strict";_.d(Ne,{PQ:()=>$t,ZD:()=>Qt,mF:()=>St,Cl:()=>Xt,rL:()=>Bn});var l=_(1281),b=_(4650),m=_(7579),O=_(9646),he=_(9751),ee=_(4968),ie=_(4408),j=_(727);const K={schedule(yt){let Ke=requestAnimationFrame,Te=cancelAnimationFrame;const{delegate:ot}=K;ot&&(Ke=ot.requestAnimationFrame,Te=ot.cancelAnimationFrame);const Gt=Ke(sn=>{Te=void 0,yt(sn)});return new j.w0(()=>Te?.(Gt))},requestAnimationFrame(...yt){const{delegate:Ke}=K;return(Ke?.requestAnimationFrame||requestAnimationFrame)(...yt)},cancelAnimationFrame(...yt){const{delegate:Ke}=K;return(Ke?.cancelAnimationFrame||cancelAnimationFrame)(...yt)},delegate:void 0};var F=_(7565);const Z=new class V extends F.v{flush(Ke){this._active=!0;const Te=this._scheduled;this._scheduled=void 0;const{actions:ot}=this;let Gt;Ke=Ke||ot.shift();do{if(Gt=Ke.execute(Ke.state,Ke.delay))break}while((Ke=ot[0])&&Ke.id===Te&&ot.shift());if(this._active=!1,Gt){for(;(Ke=ot[0])&&Ke.id===Te&&ot.shift();)Ke.unsubscribe();throw Gt}}}(class Y extends ie.o{constructor(Ke,Te){super(Ke,Te),this.scheduler=Ke,this.work=Te}requestAsyncId(Ke,Te,ot=0){return null!==ot&&ot>0?super.requestAsyncId(Ke,Te,ot):(Ke.actions.push(this),Ke._scheduled||(Ke._scheduled=K.requestAnimationFrame(()=>Ke.flush(void 0))))}recycleAsyncId(Ke,Te,ot=0){var Gt;if(null!=ot?ot>0:this.delay>0)return super.recycleAsyncId(Ke,Te,ot);const{actions:sn}=Ke;null!=Te&&(null===(Gt=sn[sn.length-1])||void 0===Gt?void 0:Gt.id)!==Te&&(K.cancelAnimationFrame(Te),Ke._scheduled=void 0)}});let Ae,ce=1;const _e={};function oe(yt){return yt in _e&&(delete _e[yt],!0)}const fe={setImmediate(yt){const Ke=ce++;return _e[Ke]=!0,Ae||(Ae=Promise.resolve()),Ae.then(()=>oe(Ke)&&yt()),Ke},clearImmediate(yt){oe(yt)}},{setImmediate:pe,clearImmediate:de}=fe,Ee={setImmediate(...yt){const{delegate:Ke}=Ee;return(Ke?.setImmediate||pe)(...yt)},clearImmediate(yt){const{delegate:Ke}=Ee;return(Ke?.clearImmediate||de)(yt)},delegate:void 0},Xe=new class ke extends F.v{flush(Ke){this._active=!0;const Te=this._scheduled;this._scheduled=void 0;const{actions:ot}=this;let Gt;Ke=Ke||ot.shift();do{if(Gt=Ke.execute(Ke.state,Ke.delay))break}while((Ke=ot[0])&&Ke.id===Te&&ot.shift());if(this._active=!1,Gt){for(;(Ke=ot[0])&&Ke.id===Te&&ot.shift();)Ke.unsubscribe();throw Gt}}}(class je extends ie.o{constructor(Ke,Te){super(Ke,Te),this.scheduler=Ke,this.work=Te}requestAsyncId(Ke,Te,ot=0){return null!==ot&&ot>0?super.requestAsyncId(Ke,Te,ot):(Ke.actions.push(this),Ke._scheduled||(Ke._scheduled=Ee.setImmediate(Ke.flush.bind(Ke,void 0))))}recycleAsyncId(Ke,Te,ot=0){var Gt;if(null!=ot?ot>0:this.delay>0)return super.recycleAsyncId(Ke,Te,ot);const{actions:sn}=Ke;null!=Te&&(null===(Gt=sn[sn.length-1])||void 0===Gt?void 0:Gt.id)!==Te&&(Ee.clearImmediate(Te),Ke._scheduled===Te&&(Ke._scheduled=void 0))}});var Ue=_(4986),ct=_(4482),kt=_(8421),lt=_(5403),jt=_(2805);function Ht(yt,Ke=Ue.z){return function dn(yt){return(0,ct.e)((Ke,Te)=>{let ot=!1,Gt=null,sn=null,gn=!1;const ai=()=>{if(sn?.unsubscribe(),sn=null,ot){ot=!1;const si=Gt;Gt=null,Te.next(si)}gn&&Te.complete()},jn=()=>{sn=null,gn&&Te.complete()};Ke.subscribe((0,lt.x)(Te,si=>{ot=!0,Gt=si,sn||(0,kt.Xf)(yt(si)).subscribe(sn=(0,lt.x)(Te,ai,jn))},()=>{gn=!0,(!ot||!sn||sn.closed)&&Te.complete()}))})}(()=>(0,jt.H)(yt,Ke))}var Zt=_(9300),Ce=_(2722),Oe=_(8675),Fe=_(3353),me=_(6895),Ye=_(445);const W=["contentWrapper"],ve=["*"],R=new b.OlP("VIRTUAL_SCROLL_STRATEGY");let St=(()=>{class yt{constructor(Te,ot,Gt){this._ngZone=Te,this._platform=ot,this._scrolled=new m.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Gt}register(Te){this.scrollContainers.has(Te)||this.scrollContainers.set(Te,Te.elementScrolled().subscribe(()=>this._scrolled.next(Te)))}deregister(Te){const ot=this.scrollContainers.get(Te);ot&&(ot.unsubscribe(),this.scrollContainers.delete(Te))}scrolled(Te=20){return this._platform.isBrowser?new he.y(ot=>{this._globalSubscription||this._addGlobalListener();const Gt=Te>0?this._scrolled.pipe(Ht(Te)).subscribe(ot):this._scrolled.subscribe(ot);return this._scrolledCount++,()=>{Gt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,O.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Te,ot)=>this.deregister(ot)),this._scrolled.complete()}ancestorScrolled(Te,ot){const Gt=this.getAncestorScrollContainers(Te);return this.scrolled(ot).pipe((0,Zt.h)(sn=>!sn||Gt.indexOf(sn)>-1))}getAncestorScrollContainers(Te){const ot=[];return this.scrollContainers.forEach((Gt,sn)=>{this._scrollableContainsElement(sn,Te)&&ot.push(sn)}),ot}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Te,ot){let Gt=(0,l.fI)(ot),sn=Te.getElementRef().nativeElement;do{if(Gt==sn)return!0}while(Gt=Gt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Te=this._getWindow();return(0,ee.R)(Te.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return yt.\u0275fac=function(Te){return new(Te||yt)(b.LFG(b.R0b),b.LFG(Fe.t4),b.LFG(me.K0,8))},yt.\u0275prov=b.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt})(),$t=(()=>{class yt{constructor(Te,ot,Gt,sn){this.elementRef=Te,this.scrollDispatcher=ot,this.ngZone=Gt,this.dir=sn,this._destroyed=new m.x,this._elementScrolled=new he.y(gn=>this.ngZone.runOutsideAngular(()=>(0,ee.R)(this.elementRef.nativeElement,"scroll").pipe((0,Ce.R)(this._destroyed)).subscribe(gn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Te){const ot=this.elementRef.nativeElement,Gt=this.dir&&"rtl"==this.dir.value;null==Te.left&&(Te.left=Gt?Te.end:Te.start),null==Te.right&&(Te.right=Gt?Te.start:Te.end),null!=Te.bottom&&(Te.top=ot.scrollHeight-ot.clientHeight-Te.bottom),Gt&&0!=(0,Fe._i)()?(null!=Te.left&&(Te.right=ot.scrollWidth-ot.clientWidth-Te.left),2==(0,Fe._i)()?Te.left=Te.right:1==(0,Fe._i)()&&(Te.left=Te.right?-Te.right:Te.right)):null!=Te.right&&(Te.left=ot.scrollWidth-ot.clientWidth-Te.right),this._applyScrollToOptions(Te)}_applyScrollToOptions(Te){const ot=this.elementRef.nativeElement;(0,Fe.Mq)()?ot.scrollTo(Te):(null!=Te.top&&(ot.scrollTop=Te.top),null!=Te.left&&(ot.scrollLeft=Te.left))}measureScrollOffset(Te){const ot="left",sn=this.elementRef.nativeElement;if("top"==Te)return sn.scrollTop;if("bottom"==Te)return sn.scrollHeight-sn.clientHeight-sn.scrollTop;const gn=this.dir&&"rtl"==this.dir.value;return"start"==Te?Te=gn?"right":ot:"end"==Te&&(Te=gn?ot:"right"),gn&&2==(0,Fe._i)()?Te==ot?sn.scrollWidth-sn.clientWidth-sn.scrollLeft:sn.scrollLeft:gn&&1==(0,Fe._i)()?Te==ot?sn.scrollLeft+sn.scrollWidth-sn.clientWidth:-sn.scrollLeft:Te==ot?sn.scrollLeft:sn.scrollWidth-sn.clientWidth-sn.scrollLeft}}return yt.\u0275fac=function(Te){return new(Te||yt)(b.Y36(b.SBq),b.Y36(St),b.Y36(b.R0b),b.Y36(Ye.Is,8))},yt.\u0275dir=b.lG2({type:yt,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),yt})(),Bn=(()=>{class yt{constructor(Te,ot,Gt){this._platform=Te,this._change=new m.x,this._changeListener=sn=>{this._change.next(sn)},this._document=Gt,ot.runOutsideAngular(()=>{if(Te.isBrowser){const sn=this._getWindow();sn.addEventListener("resize",this._changeListener),sn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Te=this._getWindow();Te.removeEventListener("resize",this._changeListener),Te.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Te={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Te}getViewportRect(){const Te=this.getViewportScrollPosition(),{width:ot,height:Gt}=this.getViewportSize();return{top:Te.top,left:Te.left,bottom:Te.top+Gt,right:Te.left+ot,height:Gt,width:ot}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Te=this._document,ot=this._getWindow(),Gt=Te.documentElement,sn=Gt.getBoundingClientRect();return{top:-sn.top||Te.body.scrollTop||ot.scrollY||Gt.scrollTop||0,left:-sn.left||Te.body.scrollLeft||ot.scrollX||Gt.scrollLeft||0}}change(Te=20){return Te>0?this._change.pipe(Ht(Te)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Te=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Te.innerWidth,height:Te.innerHeight}:{width:0,height:0}}}return yt.\u0275fac=function(Te){return new(Te||yt)(b.LFG(Fe.t4),b.LFG(b.R0b),b.LFG(me.K0,8))},yt.\u0275prov=b.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"}),yt})();const qn=new b.OlP("VIRTUAL_SCROLLABLE");let Tn=(()=>{class yt extends $t{constructor(Te,ot,Gt,sn){super(Te,ot,Gt,sn)}measureViewportSize(Te){const ot=this.elementRef.nativeElement;return"horizontal"===Te?ot.clientWidth:ot.clientHeight}}return yt.\u0275fac=function(Te){return new(Te||yt)(b.Y36(b.SBq),b.Y36(St),b.Y36(b.R0b),b.Y36(Ye.Is,8))},yt.\u0275dir=b.lG2({type:yt,features:[b.qOj]}),yt})();const Le=typeof requestAnimationFrame<"u"?Z:Xe;let re=(()=>{class yt extends Tn{get orientation(){return this._orientation}set orientation(Te){this._orientation!==Te&&(this._orientation=Te,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(Te){this._appendOnly=(0,l.Ig)(Te)}constructor(Te,ot,Gt,sn,gn,ai,jn,si){super(Te,ai,Gt,gn),this.elementRef=Te,this._changeDetectorRef=ot,this._scrollStrategy=sn,this.scrollable=si,this._platform=(0,b.f3M)(Fe.t4),this._detachedSubject=new m.x,this._renderedRangeSubject=new m.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new he.y(Qn=>this._scrollStrategy.scrolledIndexChange.subscribe(Ii=>Promise.resolve().then(()=>this.ngZone.run(()=>Qn.next(Ii))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=j.w0.EMPTY,this._viewportChanges=jn.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,Oe.O)(null),Ht(0,Le)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(Te){this.ngZone.runOutsideAngular(()=>{this._forOf=Te,this._forOf.dataStream.pipe((0,Ce.R)(this._detachedSubject)).subscribe(ot=>{const Gt=ot.length;Gt!==this._dataLength&&(this._dataLength=Gt,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(Te){return this.getElementRef().nativeElement.getBoundingClientRect()[Te]}setTotalContentSize(Te){this._totalContentSize!==Te&&(this._totalContentSize=Te,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(Te){(function Mn(yt,Ke){return yt.start==Ke.start&&yt.end==Ke.end})(this._renderedRange,Te)||(this.appendOnly&&(Te={start:0,end:Math.max(this._renderedRange.end,Te.end)}),this._renderedRangeSubject.next(this._renderedRange=Te),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(Te,ot="to-start"){Te=this.appendOnly&&"to-start"===ot?0:Te;const sn="horizontal"==this.orientation,gn=sn?"X":"Y";let jn=`translate${gn}(${Number((sn&&this.dir&&"rtl"==this.dir.value?-1:1)*Te)}px)`;this._renderedContentOffset=Te,"to-end"===ot&&(jn+=` translate${gn}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=jn&&(this._renderedContentTransform=jn,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(Te,ot="auto"){const Gt={behavior:ot};"horizontal"===this.orientation?Gt.start=Te:Gt.top=Te,this.scrollable.scrollTo(Gt)}scrollToIndex(Te,ot="auto"){this._scrollStrategy.scrollToIndex(Te,ot)}measureScrollOffset(Te){let ot;return ot=this.scrollable==this?Gt=>super.measureScrollOffset(Gt):Gt=>this.scrollable.measureScrollOffset(Gt),Math.max(0,ot(Te??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(Te){let ot;const gn="rtl"==this.dir?.value;ot="start"==Te?gn?"right":"left":"end"==Te?gn?"left":"right":Te||("horizontal"===this.orientation?"left":"top");const ai=this.scrollable.measureBoundingClientRectWithScrollOffset(ot);return this.elementRef.nativeElement.getBoundingClientRect()[ot]-ai}measureRenderedContentSize(){const Te=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?Te.offsetWidth:Te.offsetHeight}measureRangeSize(Te){return this._forOf?this._forOf.measureRangeSize(Te,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(Te){Te&&this._runAfterChangeDetection.push(Te),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const Te=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const ot of Te)ot()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return yt.\u0275fac=function(Te){return new(Te||yt)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(b.R0b),b.Y36(R,8),b.Y36(Ye.Is,8),b.Y36(St),b.Y36(Bn),b.Y36(qn,8))},yt.\u0275cmp=b.Xpm({type:yt,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(Te,ot){if(1&Te&&b.Gf(W,7),2&Te){let Gt;b.iGM(Gt=b.CRH())&&(ot._contentWrapper=Gt.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(Te,ot){2&Te&&b.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===ot.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==ot.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[b._Bn([{provide:$t,useFactory:(Ke,Te)=>Ke||Te,deps:[[new b.FiY,new b.tBr(qn)],yt]}]),b.qOj,b.jDz],ngContentSelectors:ve,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(Te,ot){1&Te&&(b.F$t(),b.TgZ(0,"div",0,1),b.Hsn(2),b.qZA(),b._UZ(3,"div",2)),2&Te&&(b.xp6(3),b.Udp("width",ot._totalContentWidth)("height",ot._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),yt})(),Qt=(()=>{class yt{}return yt.\u0275fac=function(Te){return new(Te||yt)},yt.\u0275mod=b.oAB({type:yt}),yt.\u0275inj=b.cJS({}),yt})(),Xt=(()=>{class yt{}return yt.\u0275fac=function(Te){return new(Te||yt)},yt.\u0275mod=b.oAB({type:yt}),yt.\u0275inj=b.cJS({imports:[Ye.vT,Qt,re,Ye.vT,Qt]}),yt})()},6895:(wt,Ne,_)=>{"use strict";_.d(Ne,{Do:()=>fe,EM:()=>As,HT:()=>O,JF:()=>da,K0:()=>ee,Mx:()=>bi,NF:()=>Na,O5:()=>jo,PC:()=>fo,PM:()=>hr,S$:()=>Ae,V_:()=>K,Ye:()=>Me,b0:()=>oe,bD:()=>ca,ez:()=>Fa,mk:()=>ti,q:()=>m,sg:()=>Yi,tP:()=>qr,uU:()=>_r,w_:()=>he});var l=_(4650);let b=null;function m(){return b}function O(L){b||(b=L)}class he{}const ee=new l.OlP("DocumentToken");let ie=(()=>{class L{historyGo($){throw new Error("Not implemented")}}return L.\u0275fac=function($){return new($||L)},L.\u0275prov=l.Yz7({token:L,factory:function(){return function j(){return(0,l.LFG)(Y)}()},providedIn:"platform"}),L})();const K=new l.OlP("Location Initialized");let Y=(()=>{class L extends ie{constructor($){super(),this._doc=$,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return m().getBaseHref(this._doc)}onPopState($){const we=m().getGlobalEventTarget(this._doc,"window");return we.addEventListener("popstate",$,!1),()=>we.removeEventListener("popstate",$)}onHashChange($){const we=m().getGlobalEventTarget(this._doc,"window");return we.addEventListener("hashchange",$,!1),()=>we.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,we,tt){F()?this._history.pushState($,we,tt):this._location.hash=tt}replaceState($,we,tt){F()?this._history.replaceState($,we,tt):this._location.hash=tt}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return L.\u0275fac=function($){return new($||L)(l.LFG(ee))},L.\u0275prov=l.Yz7({token:L,factory:function(){return function V(){return new Y((0,l.LFG)(ee))}()},providedIn:"platform"}),L})();function F(){return!!window.history.pushState}function Z(L,le){if(0==L.length)return le;if(0==le.length)return L;let $=0;return L.endsWith("/")&&$++,le.startsWith("/")&&$++,2==$?L+le.substring(1):1==$?L+le:L+"/"+le}function ne(L){const le=L.match(/#|\?|$/),$=le&&le.index||L.length;return L.slice(0,$-("/"===L[$-1]?1:0))+L.slice($)}function ce(L){return L&&"?"!==L[0]?"?"+L:L}let Ae=(()=>{class L{historyGo($){throw new Error("Not implemented")}}return L.\u0275fac=function($){return new($||L)},L.\u0275prov=l.Yz7({token:L,factory:function(){return(0,l.f3M)(oe)},providedIn:"root"}),L})();const _e=new l.OlP("appBaseHref");let oe=(()=>{class L extends Ae{constructor($,we){super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=we??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return Z(this._baseHref,$)}path($=!1){const we=this._platformLocation.pathname+ce(this._platformLocation.search),tt=this._platformLocation.hash;return tt&&$?`${we}${tt}`:we}pushState($,we,tt,Wt){const un=this.prepareExternalUrl(tt+ce(Wt));this._platformLocation.pushState($,we,un)}replaceState($,we,tt,Wt){const un=this.prepareExternalUrl(tt+ce(Wt));this._platformLocation.replaceState($,we,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}}return L.\u0275fac=function($){return new($||L)(l.LFG(ie),l.LFG(_e,8))},L.\u0275prov=l.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),fe=(()=>{class L extends Ae{constructor($,we){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=we&&(this._baseHref=we)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let we=this._platformLocation.hash;return null==we&&(we="#"),we.length>0?we.substring(1):we}prepareExternalUrl($){const we=Z(this._baseHref,$);return we.length>0?"#"+we:we}pushState($,we,tt,Wt){let un=this.prepareExternalUrl(tt+ce(Wt));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.pushState($,we,un)}replaceState($,we,tt,Wt){let un=this.prepareExternalUrl(tt+ce(Wt));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.replaceState($,we,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}}return L.\u0275fac=function($){return new($||L)(l.LFG(ie),l.LFG(_e,8))},L.\u0275prov=l.Yz7({token:L,factory:L.\u0275fac}),L})(),Me=(()=>{class L{constructor($){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const we=this._locationStrategy.getBaseHref();this._basePath=function je(L){if(new RegExp("^(https?:)?//").test(L)){const[,$]=L.split(/\/\/[^\/]+/);return $}return L}(ne(Ee(we))),this._locationStrategy.onPopState(tt=>{this._subject.emit({url:this.path(!0),pop:!0,state:tt.state,type:tt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,we=""){return this.path()==this.normalize($+ce(we))}normalize($){return L.stripTrailingSlash(function de(L,le){if(!L||!le.startsWith(L))return le;const $=le.substring(L.length);return""===$||["/",";","?","#"].includes($[0])?$:le}(this._basePath,Ee($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,we="",tt=null){this._locationStrategy.pushState(tt,"",$,we),this._notifyUrlChangeListeners(this.prepareExternalUrl($+ce(we)),tt)}replaceState($,we="",tt=null){this._locationStrategy.replaceState(tt,"",$,we),this._notifyUrlChangeListeners(this.prepareExternalUrl($+ce(we)),tt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){this._locationStrategy.historyGo?.($)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(we=>{this._notifyUrlChangeListeners(we.url,we.state)})),()=>{const we=this._urlChangeListeners.indexOf($);this._urlChangeListeners.splice(we,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",we){this._urlChangeListeners.forEach(tt=>tt($,we))}subscribe($,we,tt){return this._subject.subscribe({next:$,error:we,complete:tt})}}return L.normalizeQueryParams=ce,L.joinWithSlash=Z,L.stripTrailingSlash=ne,L.\u0275fac=function($){return new($||L)(l.LFG(Ae))},L.\u0275prov=l.Yz7({token:L,factory:function(){return function pe(){return new Me((0,l.LFG)(Ae))}()},providedIn:"root"}),L})();function Ee(L){return L.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Format=0]="Format",Ue[Ue.Standalone=1]="Standalone",Ue))(),ct=(()=>((ct=ct||{})[ct.Narrow=0]="Narrow",ct[ct.Abbreviated=1]="Abbreviated",ct[ct.Wide=2]="Wide",ct[ct.Short=3]="Short",ct))(),kt=(()=>((kt=kt||{})[kt.Short=0]="Short",kt[kt.Medium=1]="Medium",kt[kt.Long=2]="Long",kt[kt.Full=3]="Full",kt))(),lt=(()=>((lt=lt||{})[lt.Decimal=0]="Decimal",lt[lt.Group=1]="Group",lt[lt.List=2]="List",lt[lt.PercentSign=3]="PercentSign",lt[lt.PlusSign=4]="PlusSign",lt[lt.MinusSign=5]="MinusSign",lt[lt.Exponential=6]="Exponential",lt[lt.SuperscriptingExponent=7]="SuperscriptingExponent",lt[lt.PerMille=8]="PerMille",lt[lt.Infinity=9]="Infinity",lt[lt.NaN=10]="NaN",lt[lt.TimeSeparator=11]="TimeSeparator",lt[lt.CurrencyDecimal=12]="CurrencyDecimal",lt[lt.CurrencyGroup=13]="CurrencyGroup",lt))();function Ye(L,le){return Mn((0,l.cg1)(L)[l.wAp.DateFormat],le)}function W(L,le){return Mn((0,l.cg1)(L)[l.wAp.TimeFormat],le)}function ve(L,le){return Mn((0,l.cg1)(L)[l.wAp.DateTimeFormat],le)}function R(L,le){const $=(0,l.cg1)(L),we=$[l.wAp.NumberSymbols][le];if(typeof we>"u"){if(le===lt.CurrencyDecimal)return $[l.wAp.NumberSymbols][lt.Decimal];if(le===lt.CurrencyGroup)return $[l.wAp.NumberSymbols][lt.Group]}return we}function vn(L){if(!L[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${L[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Mn(L,le){for(let $=le;$>-1;$--)if(typeof L[$]<"u")return L[$];throw new Error("Locale data API: locale data undefined")}function Le(L){const[le,$]=L.split(":");return{hours:+le,minutes:+$}}const It=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mt={},Qt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Xt=(()=>((Xt=Xt||{})[Xt.Short=0]="Short",Xt[Xt.ShortGMT=1]="ShortGMT",Xt[Xt.Long=2]="Long",Xt[Xt.Extended=3]="Extended",Xt))(),yt=(()=>((yt=yt||{})[yt.FullYear=0]="FullYear",yt[yt.Month=1]="Month",yt[yt.Date=2]="Date",yt[yt.Hours=3]="Hours",yt[yt.Minutes=4]="Minutes",yt[yt.Seconds=5]="Seconds",yt[yt.FractionalSeconds=6]="FractionalSeconds",yt[yt.Day=7]="Day",yt))(),Ke=(()=>((Ke=Ke||{})[Ke.DayPeriods=0]="DayPeriods",Ke[Ke.Days=1]="Days",Ke[Ke.Months=2]="Months",Ke[Ke.Eras=3]="Eras",Ke))();function Te(L,le,$,we){let tt=function Rt(L){if(et(L))return L;if("number"==typeof L&&!isNaN(L))return new Date(L);if("string"==typeof L){if(L=L.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(L)){const[tt,Wt=1,un=1]=L.split("-").map(Zn=>+Zn);return ot(tt,Wt-1,un)}const $=parseFloat(L);if(!isNaN(L-$))return new Date($);let we;if(we=L.match(It))return function dt(L){const le=new Date(0);let $=0,we=0;const tt=L[8]?le.setUTCFullYear:le.setFullYear,Wt=L[8]?le.setUTCHours:le.setHours;L[9]&&($=Number(L[9]+L[10]),we=Number(L[9]+L[11])),tt.call(le,Number(L[1]),Number(L[2])-1,Number(L[3]));const un=Number(L[4]||0)-$,Zn=Number(L[5]||0)-we,ji=Number(L[6]||0),Ni=Math.floor(1e3*parseFloat("0."+(L[7]||0)));return Wt.call(le,un,Zn,ji,Ni),le}(we)}const le=new Date(L);if(!et(le))throw new Error(`Unable to convert "${L}" into a date`);return le}(L);le=Gt($,le)||le;let Zn,un=[];for(;le;){if(Zn=Qt.exec(le),!Zn){un.push(le);break}{un=un.concat(Zn.slice(1));const Pi=un.pop();if(!Pi)break;le=Pi}}let ji=tt.getTimezoneOffset();we&&(ji=Ze(we,ji),tt=function Je(L,le,$){const we=$?-1:1,tt=L.getTimezoneOffset();return function Ve(L,le){return(L=new Date(L.getTime())).setMinutes(L.getMinutes()+le),L}(L,we*(Ze(le,tt)-tt))}(tt,we,!0));let Ni="";return un.forEach(Pi=>{const vi=function Nn(L){if(en[L])return en[L];let le;switch(L){case"G":case"GG":case"GGG":le=Qn(Ke.Eras,ct.Abbreviated);break;case"GGGG":le=Qn(Ke.Eras,ct.Wide);break;case"GGGGG":le=Qn(Ke.Eras,ct.Narrow);break;case"y":le=jn(yt.FullYear,1,0,!1,!0);break;case"yy":le=jn(yt.FullYear,2,0,!0,!0);break;case"yyy":le=jn(yt.FullYear,3,0,!1,!0);break;case"yyyy":le=jn(yt.FullYear,4,0,!1,!0);break;case"Y":le=an(1);break;case"YY":le=an(2,!0);break;case"YYY":le=an(3);break;case"YYYY":le=an(4);break;case"M":case"L":le=jn(yt.Month,1,1);break;case"MM":case"LL":le=jn(yt.Month,2,1);break;case"MMM":le=Qn(Ke.Months,ct.Abbreviated);break;case"MMMM":le=Qn(Ke.Months,ct.Wide);break;case"MMMMM":le=Qn(Ke.Months,ct.Narrow);break;case"LLL":le=Qn(Ke.Months,ct.Abbreviated,Ue.Standalone);break;case"LLLL":le=Qn(Ke.Months,ct.Wide,Ue.Standalone);break;case"LLLLL":le=Qn(Ke.Months,ct.Narrow,Ue.Standalone);break;case"w":le=st(1);break;case"ww":le=st(2);break;case"W":le=st(1,!0);break;case"d":le=jn(yt.Date,1);break;case"dd":le=jn(yt.Date,2);break;case"c":case"cc":le=jn(yt.Day,1);break;case"ccc":le=Qn(Ke.Days,ct.Abbreviated,Ue.Standalone);break;case"cccc":le=Qn(Ke.Days,ct.Wide,Ue.Standalone);break;case"ccccc":le=Qn(Ke.Days,ct.Narrow,Ue.Standalone);break;case"cccccc":le=Qn(Ke.Days,ct.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":le=Qn(Ke.Days,ct.Abbreviated);break;case"EEEE":le=Qn(Ke.Days,ct.Wide);break;case"EEEEE":le=Qn(Ke.Days,ct.Narrow);break;case"EEEEEE":le=Qn(Ke.Days,ct.Short);break;case"a":case"aa":case"aaa":le=Qn(Ke.DayPeriods,ct.Abbreviated);break;case"aaaa":le=Qn(Ke.DayPeriods,ct.Wide);break;case"aaaaa":le=Qn(Ke.DayPeriods,ct.Narrow);break;case"b":case"bb":case"bbb":le=Qn(Ke.DayPeriods,ct.Abbreviated,Ue.Standalone,!0);break;case"bbbb":le=Qn(Ke.DayPeriods,ct.Wide,Ue.Standalone,!0);break;case"bbbbb":le=Qn(Ke.DayPeriods,ct.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":le=Qn(Ke.DayPeriods,ct.Abbreviated,Ue.Format,!0);break;case"BBBB":le=Qn(Ke.DayPeriods,ct.Wide,Ue.Format,!0);break;case"BBBBB":le=Qn(Ke.DayPeriods,ct.Narrow,Ue.Format,!0);break;case"h":le=jn(yt.Hours,1,-12);break;case"hh":le=jn(yt.Hours,2,-12);break;case"H":le=jn(yt.Hours,1);break;case"HH":le=jn(yt.Hours,2);break;case"m":le=jn(yt.Minutes,1);break;case"mm":le=jn(yt.Minutes,2);break;case"s":le=jn(yt.Seconds,1);break;case"ss":le=jn(yt.Seconds,2);break;case"S":le=jn(yt.FractionalSeconds,1);break;case"SS":le=jn(yt.FractionalSeconds,2);break;case"SSS":le=jn(yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":le=on(Xt.Short);break;case"ZZZZZ":le=on(Xt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":le=on(Xt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":le=on(Xt.Long);break;default:return null}return en[L]=le,le}(Pi);Ni+=vi?vi(tt,$,ji):"''"===Pi?"'":Pi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ni}function ot(L,le,$){const we=new Date(0);return we.setFullYear(L,le,$),we.setHours(0,0,0),we}function Gt(L,le){const $=function jt(L){return(0,l.cg1)(L)[l.wAp.LocaleId]}(L);if(Mt[$]=Mt[$]||{},Mt[$][le])return Mt[$][le];let we="";switch(le){case"shortDate":we=Ye(L,kt.Short);break;case"mediumDate":we=Ye(L,kt.Medium);break;case"longDate":we=Ye(L,kt.Long);break;case"fullDate":we=Ye(L,kt.Full);break;case"shortTime":we=W(L,kt.Short);break;case"mediumTime":we=W(L,kt.Medium);break;case"longTime":we=W(L,kt.Long);break;case"fullTime":we=W(L,kt.Full);break;case"short":const tt=Gt(L,"shortTime"),Wt=Gt(L,"shortDate");we=sn(ve(L,kt.Short),[tt,Wt]);break;case"medium":const un=Gt(L,"mediumTime"),Zn=Gt(L,"mediumDate");we=sn(ve(L,kt.Medium),[un,Zn]);break;case"long":const ji=Gt(L,"longTime"),Ni=Gt(L,"longDate");we=sn(ve(L,kt.Long),[ji,Ni]);break;case"full":const Pi=Gt(L,"fullTime"),vi=Gt(L,"fullDate");we=sn(ve(L,kt.Full),[Pi,vi])}return we&&(Mt[$][le]=we),we}function sn(L,le){return le&&(L=L.replace(/\{([^}]+)}/g,function($,we){return null!=le&&we in le?le[we]:$})),L}function gn(L,le,$="-",we,tt){let Wt="";(L<0||tt&&L<=0)&&(tt?L=1-L:(L=-L,Wt=$));let un=String(L);for(;un.length<le;)un="0"+un;return we&&(un=un.slice(un.length-le)),Wt+un}function jn(L,le,$=0,we=!1,tt=!1){return function(Wt,un){let Zn=function si(L,le){switch(L){case yt.FullYear:return le.getFullYear();case yt.Month:return le.getMonth();case yt.Date:return le.getDate();case yt.Hours:return le.getHours();case yt.Minutes:return le.getMinutes();case yt.Seconds:return le.getSeconds();case yt.FractionalSeconds:return le.getMilliseconds();case yt.Day:return le.getDay();default:throw new Error(`Unknown DateType value "${L}".`)}}(L,Wt);if(($>0||Zn>-$)&&(Zn+=$),L===yt.Hours)0===Zn&&-12===$&&(Zn=12);else if(L===yt.FractionalSeconds)return function ai(L,le){return gn(L,3).substring(0,le)}(Zn,le);const ji=R(un,lt.MinusSign);return gn(Zn,le,ji,we,tt)}}function Qn(L,le,$=Ue.Format,we=!1){return function(tt,Wt){return function Ii(L,le,$,we,tt,Wt){switch($){case Ke.Months:return function Ce(L,le,$){const we=(0,l.cg1)(L),Wt=Mn([we[l.wAp.MonthsFormat],we[l.wAp.MonthsStandalone]],le);return Mn(Wt,$)}(le,tt,we)[L.getMonth()];case Ke.Days:return function Zt(L,le,$){const we=(0,l.cg1)(L),Wt=Mn([we[l.wAp.DaysFormat],we[l.wAp.DaysStandalone]],le);return Mn(Wt,$)}(le,tt,we)[L.getDay()];case Ke.DayPeriods:const un=L.getHours(),Zn=L.getMinutes();if(Wt){const Ni=function Bn(L){const le=(0,l.cg1)(L);return vn(le),(le[l.wAp.ExtraData][2]||[]).map(we=>"string"==typeof we?Le(we):[Le(we[0]),Le(we[1])])}(le),Pi=function qn(L,le,$){const we=(0,l.cg1)(L);vn(we);const Wt=Mn([we[l.wAp.ExtraData][0],we[l.wAp.ExtraData][1]],le)||[];return Mn(Wt,$)||[]}(le,tt,we),vi=Ni.findIndex(Zi=>{if(Array.isArray(Zi)){const[Li,Nr]=Zi,rs=un>=Li.hours&&Zn>=Li.minutes,jr=un<Nr.hours||un===Nr.hours&&Zn<Nr.minutes;if(Li.hours<Nr.hours){if(rs&&jr)return!0}else if(rs||jr)return!0}else if(Zi.hours===un&&Zi.minutes===Zn)return!0;return!1});if(-1!==vi)return Pi[vi]}return function Ht(L,le,$){const we=(0,l.cg1)(L),Wt=Mn([we[l.wAp.DayPeriodsFormat],we[l.wAp.DayPeriodsStandalone]],le);return Mn(Wt,$)}(le,tt,we)[un<12?0:1];case Ke.Eras:return function Oe(L,le){return Mn((0,l.cg1)(L)[l.wAp.Eras],le)}(le,we)[L.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${$}`)}}(tt,Wt,L,le,$,we)}}function on(L){return function(le,$,we){const tt=-1*we,Wt=R($,lt.MinusSign),un=tt>0?Math.floor(tt/60):Math.ceil(tt/60);switch(L){case Xt.Short:return(tt>=0?"+":"")+gn(un,2,Wt)+gn(Math.abs(tt%60),2,Wt);case Xt.ShortGMT:return"GMT"+(tt>=0?"+":"")+gn(un,1,Wt);case Xt.Long:return"GMT"+(tt>=0?"+":"")+gn(un,2,Wt)+":"+gn(Math.abs(tt%60),2,Wt);case Xt.Extended:return 0===we?"Z":(tt>=0?"+":"")+gn(un,2,Wt)+":"+gn(Math.abs(tt%60),2,Wt);default:throw new Error(`Unknown zone width "${L}"`)}}}const ht=0,pt=4;function ze(L){return ot(L.getFullYear(),L.getMonth(),L.getDate()+(pt-L.getDay()))}function st(L,le=!1){return function($,we){let tt;if(le){const Wt=new Date($.getFullYear(),$.getMonth(),1).getDay()-1,un=$.getDate();tt=1+Math.floor((un+Wt)/7)}else{const Wt=ze($),un=function rt(L){const le=ot(L,ht,1).getDay();return ot(L,0,1+(le<=pt?pt:pt+7)-le)}(Wt.getFullYear()),Zn=Wt.getTime()-un.getTime();tt=1+Math.round(Zn/6048e5)}return gn(tt,L,R(we,lt.MinusSign))}}function an(L,le=!1){return function($,we){return gn(ze($).getFullYear(),L,R(we,lt.MinusSign),le)}}const en={};function Ze(L,le){L=L.replace(/:/g,"");const $=Date.parse("Jan 01, 1970 00:00:00 "+L)/6e4;return isNaN($)?le:$}function et(L){return L instanceof Date&&!isNaN(L.valueOf())}function bi(L,le){le=encodeURIComponent(le);for(const $ of L.split(";")){const we=$.indexOf("="),[tt,Wt]=-1==we?[$,""]:[$.slice(0,we),$.slice(we+1)];if(tt.trim()===le)return decodeURIComponent(Wt)}return null}const hi=/\s+/,xn=[];let ti=(()=>{class L{constructor($,we,tt,Wt){this._iterableDiffers=$,this._keyValueDiffers=we,this._ngEl=tt,this._renderer=Wt,this.initialClasses=xn,this.stateMap=new Map}set klass($){this.initialClasses=null!=$?$.trim().split(hi):xn}set ngClass($){this.rawClass="string"==typeof $?$.trim().split(hi):$}ngDoCheck(){for(const we of this.initialClasses)this._updateState(we,!0);const $=this.rawClass;if(Array.isArray($)||$ instanceof Set)for(const we of $)this._updateState(we,!0);else if(null!=$)for(const we of Object.keys($))this._updateState(we,Boolean($[we]));this._applyStateDiff()}_updateState($,we){const tt=this.stateMap.get($);void 0!==tt?(tt.enabled!==we&&(tt.changed=!0,tt.enabled=we),tt.touched=!0):this.stateMap.set($,{enabled:we,changed:!0,touched:!0})}_applyStateDiff(){for(const $ of this.stateMap){const we=$[0],tt=$[1];tt.changed?(this._toggleClass(we,tt.enabled),tt.changed=!1):tt.touched||(tt.enabled&&this._toggleClass(we,!1),this.stateMap.delete(we)),tt.touched=!1}}_toggleClass($,we){($=$.trim()).length>0&&$.split(hi).forEach(tt=>{we?this._renderer.addClass(this._ngEl.nativeElement,tt):this._renderer.removeClass(this._ngEl.nativeElement,tt)})}}return L.\u0275fac=function($){return new($||L)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},L.\u0275dir=l.lG2({type:L,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),L})();class Hi{constructor(le,$,we,tt){this.$implicit=le,this.ngForOf=$,this.index=we,this.count=tt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yi=(()=>{class L{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,we,tt){this._viewContainer=$,this._template=we,this._differs=tt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const we=this._viewContainer;$.forEachOperation((tt,Wt,un)=>{if(null==tt.previousIndex)we.createEmbeddedView(this._template,new Hi(tt.item,this._ngForOf,-1,-1),null===un?void 0:un);else if(null==un)we.remove(null===Wt?void 0:Wt);else if(null!==Wt){const Zn=we.get(Wt);we.move(Zn,un),li(Zn,tt)}});for(let tt=0,Wt=we.length;tt<Wt;tt++){const Zn=we.get(tt).context;Zn.index=tt,Zn.count=Wt,Zn.ngForOf=this._ngForOf}$.forEachIdentityChange(tt=>{li(we.get(tt.currentIndex),tt)})}static ngTemplateContextGuard($,we){return!0}}return L.\u0275fac=function($){return new($||L)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},L.\u0275dir=l.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),L})();function li(L,le){L.context.$implicit=le.item}let jo=(()=>{class L{constructor($,we){this._viewContainer=$,this._context=new ri,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=we}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){wo("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){wo("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,we){return!0}}return L.\u0275fac=function($){return new($||L)(l.Y36(l.s_b),l.Y36(l.Rgc))},L.\u0275dir=l.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),L})();class ri{constructor(){this.$implicit=null,this.ngIf=null}}function wo(L,le){if(le&&!le.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,l.AaK)(le)}'.`)}let fo=(()=>{class L{constructor($,we,tt){this._ngEl=$,this._differs=we,this._renderer=tt,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,we){const[tt,Wt]=$.split("."),un=-1===tt.indexOf("-")?void 0:l.JOm.DashCase;null!=we?this._renderer.setStyle(this._ngEl.nativeElement,tt,Wt?`${we}${Wt}`:we,un):this._renderer.removeStyle(this._ngEl.nativeElement,tt,un)}_applyChanges($){$.forEachRemovedItem(we=>this._setStyle(we.key,null)),$.forEachAddedItem(we=>this._setStyle(we.key,we.currentValue)),$.forEachChangedItem(we=>this._setStyle(we.key,we.currentValue))}}return L.\u0275fac=function($){return new($||L)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},L.\u0275dir=l.lG2({type:L,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),L})(),qr=(()=>{class L{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges($){if($.ngTemplateOutlet||$.ngTemplateOutletInjector){const we=this._viewContainerRef;if(this._viewRef&&we.remove(we.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:tt,ngTemplateOutletContext:Wt,ngTemplateOutletInjector:un}=this;this._viewRef=we.createEmbeddedView(tt,Wt,un?{injector:un}:void 0)}else this._viewRef=null}else this._viewRef&&$.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return L.\u0275fac=function($){return new($||L)(l.Y36(l.s_b))},L.\u0275dir=l.lG2({type:L,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),L})();const dr=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Io=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let _r=(()=>{class L{constructor($,we,tt){this.locale=$,this.defaultTimezone=we,this.defaultOptions=tt}transform($,we,tt,Wt){if(null==$||""===$||$!=$)return null;try{return Te($,we??this.defaultOptions?.dateFormat??"mediumDate",Wt||this.locale,tt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(un){throw function Qr(L,le){return new l.vHH(2100,!1)}()}}}return L.\u0275fac=function($){return new($||L)(l.Y36(l.soG,16),l.Y36(dr,24),l.Y36(Io,24))},L.\u0275pipe=l.Yjl({name:"date",type:L,pure:!0,standalone:!0}),L})(),Fa=(()=>{class L{}return L.\u0275fac=function($){return new($||L)},L.\u0275mod=l.oAB({type:L}),L.\u0275inj=l.cJS({}),L})();const ca="browser",Go="server";function Na(L){return L===ca}function hr(L){return L===Go}let As=(()=>{class L{}return L.\u0275prov=(0,l.Yz7)({token:L,providedIn:"root",factory:()=>new Zs((0,l.LFG)(ee),window)}),L})();class Zs{constructor(le,$){this.document=le,this.window=$,this.offset=()=>[0,0]}setOffset(le){this.offset=Array.isArray(le)?()=>le:le}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(le){this.supportsScrolling()&&this.window.scrollTo(le[0],le[1])}scrollToAnchor(le){if(!this.supportsScrolling())return;const $=function Zo(L,le){const $=L.getElementById(le)||L.getElementsByName(le)[0];if($)return $;if("function"==typeof L.createTreeWalker&&L.body&&(L.body.createShadowRoot||L.body.attachShadow)){const we=L.createTreeWalker(L.body,NodeFilter.SHOW_ELEMENT);let tt=we.currentNode;for(;tt;){const Wt=tt.shadowRoot;if(Wt){const un=Wt.getElementById(le)||Wt.querySelector(`[name="${le}"]`);if(un)return un}tt=we.nextNode()}}return null}(this.document,le);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(le){if(this.supportScrollRestoration()){const $=this.window.history;$&&$.scrollRestoration&&($.scrollRestoration=le)}}scrollToElement(le){const $=le.getBoundingClientRect(),we=$.left+this.window.pageXOffset,tt=$.top+this.window.pageYOffset,Wt=this.offset();this.window.scrollTo(we-Wt[0],tt-Wt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const le=Ts(this.window.history)||Ts(Object.getPrototypeOf(this.window.history));return!(!le||!le.writable&&!le.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ts(L){return Object.getOwnPropertyDescriptor(L,"scrollRestoration")}class da{}},529:(wt,Ne,_)=>{"use strict";_.d(Ne,{JF:()=>on,LE:()=>oe,TP:()=>Oe,WM:()=>Y,eN:()=>jt});var l=_(6895),b=_(4650),m=_(9646),O=_(9751),he=_(4351),ee=_(9300),ie=_(4004);class j{}class K{}class Y{constructor(ze){this.normalizedNames=new Map,this.lazyUpdate=null,ze?this.lazyInit="string"==typeof ze?()=>{this.headers=new Map,ze.split("\n").forEach(st=>{const an=st.indexOf(":");if(an>0){const en=st.slice(0,an),Nn=en.toLowerCase(),Ze=st.slice(an+1).trim();this.maybeSetNormalizedName(en,Nn),this.headers.has(Nn)?this.headers.get(Nn).push(Ze):this.headers.set(Nn,[Ze])}})}:()=>{this.headers=new Map,Object.entries(ze).forEach(([st,an])=>{let en;if(en="string"==typeof an?[an]:"number"==typeof an?[an.toString()]:an.map(Nn=>Nn.toString()),en.length>0){const Nn=st.toLowerCase();this.headers.set(Nn,en),this.maybeSetNormalizedName(st,Nn)}})}:this.headers=new Map}has(ze){return this.init(),this.headers.has(ze.toLowerCase())}get(ze){this.init();const st=this.headers.get(ze.toLowerCase());return st&&st.length>0?st[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ze){return this.init(),this.headers.get(ze.toLowerCase())||null}append(ze,st){return this.clone({name:ze,value:st,op:"a"})}set(ze,st){return this.clone({name:ze,value:st,op:"s"})}delete(ze,st){return this.clone({name:ze,value:st,op:"d"})}maybeSetNormalizedName(ze,st){this.normalizedNames.has(st)||this.normalizedNames.set(st,ze)}init(){this.lazyInit&&(this.lazyInit instanceof Y?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ze=>this.applyUpdate(ze)),this.lazyUpdate=null))}copyFrom(ze){ze.init(),Array.from(ze.headers.keys()).forEach(st=>{this.headers.set(st,ze.headers.get(st)),this.normalizedNames.set(st,ze.normalizedNames.get(st))})}clone(ze){const st=new Y;return st.lazyInit=this.lazyInit&&this.lazyInit instanceof Y?this.lazyInit:this,st.lazyUpdate=(this.lazyUpdate||[]).concat([ze]),st}applyUpdate(ze){const st=ze.name.toLowerCase();switch(ze.op){case"a":case"s":let an=ze.value;if("string"==typeof an&&(an=[an]),0===an.length)return;this.maybeSetNormalizedName(ze.name,st);const en=("a"===ze.op?this.headers.get(st):void 0)||[];en.push(...an),this.headers.set(st,en);break;case"d":const Nn=ze.value;if(Nn){let Ze=this.headers.get(st);if(!Ze)return;Ze=Ze.filter(Ve=>-1===Nn.indexOf(Ve)),0===Ze.length?(this.headers.delete(st),this.normalizedNames.delete(st)):this.headers.set(st,Ze)}else this.headers.delete(st),this.normalizedNames.delete(st)}}forEach(ze){this.init(),Array.from(this.normalizedNames.keys()).forEach(st=>ze(this.normalizedNames.get(st),this.headers.get(st)))}}class V{encodeKey(ze){return Ae(ze)}encodeValue(ze){return Ae(ze)}decodeKey(ze){return decodeURIComponent(ze)}decodeValue(ze){return decodeURIComponent(ze)}}const ne=/%(\d[a-f0-9])/gi,ce={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ae(rt){return encodeURIComponent(rt).replace(ne,(ze,st)=>ce[st]??ze)}function _e(rt){return`${rt}`}class oe{constructor(ze={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ze.encoder||new V,ze.fromString){if(ze.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Z(rt,ze){const st=new Map;return rt.length>0&&rt.replace(/^\?/,"").split("&").forEach(en=>{const Nn=en.indexOf("="),[Ze,Ve]=-1==Nn?[ze.decodeKey(en),""]:[ze.decodeKey(en.slice(0,Nn)),ze.decodeValue(en.slice(Nn+1))],Je=st.get(Ze)||[];Je.push(Ve),st.set(Ze,Je)}),st}(ze.fromString,this.encoder)}else ze.fromObject?(this.map=new Map,Object.keys(ze.fromObject).forEach(st=>{const an=ze.fromObject[st],en=Array.isArray(an)?an.map(_e):[_e(an)];this.map.set(st,en)})):this.map=null}has(ze){return this.init(),this.map.has(ze)}get(ze){this.init();const st=this.map.get(ze);return st?st[0]:null}getAll(ze){return this.init(),this.map.get(ze)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ze,st){return this.clone({param:ze,value:st,op:"a"})}appendAll(ze){const st=[];return Object.keys(ze).forEach(an=>{const en=ze[an];Array.isArray(en)?en.forEach(Nn=>{st.push({param:an,value:Nn,op:"a"})}):st.push({param:an,value:en,op:"a"})}),this.clone(st)}set(ze,st){return this.clone({param:ze,value:st,op:"s"})}delete(ze,st){return this.clone({param:ze,value:st,op:"d"})}toString(){return this.init(),this.keys().map(ze=>{const st=this.encoder.encodeKey(ze);return this.map.get(ze).map(an=>st+"="+this.encoder.encodeValue(an)).join("&")}).filter(ze=>""!==ze).join("&")}clone(ze){const st=new oe({encoder:this.encoder});return st.cloneFrom=this.cloneFrom||this,st.updates=(this.updates||[]).concat(ze),st}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ze=>this.map.set(ze,this.cloneFrom.map.get(ze))),this.updates.forEach(ze=>{switch(ze.op){case"a":case"s":const st=("a"===ze.op?this.map.get(ze.param):void 0)||[];st.push(_e(ze.value)),this.map.set(ze.param,st);break;case"d":if(void 0===ze.value){this.map.delete(ze.param);break}{let an=this.map.get(ze.param)||[];const en=an.indexOf(_e(ze.value));-1!==en&&an.splice(en,1),an.length>0?this.map.set(ze.param,an):this.map.delete(ze.param)}}}),this.cloneFrom=this.updates=null)}}class Me{constructor(){this.map=new Map}set(ze,st){return this.map.set(ze,st),this}get(ze){return this.map.has(ze)||this.map.set(ze,ze.defaultValue()),this.map.get(ze)}delete(ze){return this.map.delete(ze),this}has(ze){return this.map.has(ze)}keys(){return this.map.keys()}}function de(rt){return typeof ArrayBuffer<"u"&&rt instanceof ArrayBuffer}function Ee(rt){return typeof Blob<"u"&&rt instanceof Blob}function je(rt){return typeof FormData<"u"&&rt instanceof FormData}class Xe{constructor(ze,st,an,en){let Nn;if(this.url=st,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ze.toUpperCase(),function pe(rt){switch(rt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||en?(this.body=void 0!==an?an:null,Nn=en):Nn=an,Nn&&(this.reportProgress=!!Nn.reportProgress,this.withCredentials=!!Nn.withCredentials,Nn.responseType&&(this.responseType=Nn.responseType),Nn.headers&&(this.headers=Nn.headers),Nn.context&&(this.context=Nn.context),Nn.params&&(this.params=Nn.params)),this.headers||(this.headers=new Y),this.context||(this.context=new Me),this.params){const Ze=this.params.toString();if(0===Ze.length)this.urlWithParams=st;else{const Ve=st.indexOf("?");this.urlWithParams=st+(-1===Ve?"?":Ve<st.length-1?"&":"")+Ze}}else this.params=new oe,this.urlWithParams=st}serializeBody(){return null===this.body?null:de(this.body)||Ee(this.body)||je(this.body)||function ke(rt){return typeof URLSearchParams<"u"&&rt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof oe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||je(this.body)?null:Ee(this.body)?this.body.type||null:de(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ze={}){const st=ze.method||this.method,an=ze.url||this.url,en=ze.responseType||this.responseType,Nn=void 0!==ze.body?ze.body:this.body,Ze=void 0!==ze.withCredentials?ze.withCredentials:this.withCredentials,Ve=void 0!==ze.reportProgress?ze.reportProgress:this.reportProgress;let Je=ze.headers||this.headers,Rt=ze.params||this.params;const dt=ze.context??this.context;return void 0!==ze.setHeaders&&(Je=Object.keys(ze.setHeaders).reduce((et,X)=>et.set(X,ze.setHeaders[X]),Je)),ze.setParams&&(Rt=Object.keys(ze.setParams).reduce((et,X)=>et.set(X,ze.setParams[X]),Rt)),new Xe(st,an,Nn,{params:Rt,headers:Je,context:dt,reportProgress:Ve,responseType:en,withCredentials:Ze})}}var ut=(()=>((ut=ut||{})[ut.Sent=0]="Sent",ut[ut.UploadProgress=1]="UploadProgress",ut[ut.ResponseHeader=2]="ResponseHeader",ut[ut.DownloadProgress=3]="DownloadProgress",ut[ut.Response=4]="Response",ut[ut.User=5]="User",ut))();class Ue{constructor(ze,st=200,an="OK"){this.headers=ze.headers||new Y,this.status=void 0!==ze.status?ze.status:st,this.statusText=ze.statusText||an,this.url=ze.url||null,this.ok=this.status>=200&&this.status<300}}class ct extends Ue{constructor(ze={}){super(ze),this.type=ut.ResponseHeader}clone(ze={}){return new ct({headers:ze.headers||this.headers,status:void 0!==ze.status?ze.status:this.status,statusText:ze.statusText||this.statusText,url:ze.url||this.url||void 0})}}class kt extends Ue{constructor(ze={}){super(ze),this.type=ut.Response,this.body=void 0!==ze.body?ze.body:null}clone(ze={}){return new kt({body:void 0!==ze.body?ze.body:this.body,headers:ze.headers||this.headers,status:void 0!==ze.status?ze.status:this.status,statusText:ze.statusText||this.statusText,url:ze.url||this.url||void 0})}}class lt extends Ue{constructor(ze){super(ze,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ze.url||"(unknown url)"}`:`Http failure response for ${ze.url||"(unknown url)"}: ${ze.status} ${ze.statusText}`,this.error=ze.error||null}}function dn(rt,ze){return{body:ze,headers:rt.headers,context:rt.context,observe:rt.observe,params:rt.params,reportProgress:rt.reportProgress,responseType:rt.responseType,withCredentials:rt.withCredentials}}let jt=(()=>{class rt{constructor(st){this.handler=st}request(st,an,en={}){let Nn;if(st instanceof Xe)Nn=st;else{let Je,Rt;Je=en.headers instanceof Y?en.headers:new Y(en.headers),en.params&&(Rt=en.params instanceof oe?en.params:new oe({fromObject:en.params})),Nn=new Xe(st,an,void 0!==en.body?en.body:null,{headers:Je,context:en.context,params:Rt,reportProgress:en.reportProgress,responseType:en.responseType||"json",withCredentials:en.withCredentials})}const Ze=(0,m.of)(Nn).pipe((0,he.b)(Je=>this.handler.handle(Je)));if(st instanceof Xe||"events"===en.observe)return Ze;const Ve=Ze.pipe((0,ee.h)(Je=>Je instanceof kt));switch(en.observe||"body"){case"body":switch(Nn.responseType){case"arraybuffer":return Ve.pipe((0,ie.U)(Je=>{if(null!==Je.body&&!(Je.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Je.body}));case"blob":return Ve.pipe((0,ie.U)(Je=>{if(null!==Je.body&&!(Je.body instanceof Blob))throw new Error("Response is not a Blob.");return Je.body}));case"text":return Ve.pipe((0,ie.U)(Je=>{if(null!==Je.body&&"string"!=typeof Je.body)throw new Error("Response is not a string.");return Je.body}));default:return Ve.pipe((0,ie.U)(Je=>Je.body))}case"response":return Ve;default:throw new Error(`Unreachable: unhandled observe type ${en.observe}}`)}}delete(st,an={}){return this.request("DELETE",st,an)}get(st,an={}){return this.request("GET",st,an)}head(st,an={}){return this.request("HEAD",st,an)}jsonp(st,an){return this.request("JSONP",st,{params:(new oe).append(an,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(st,an={}){return this.request("OPTIONS",st,an)}patch(st,an,en={}){return this.request("PATCH",st,dn(en,an))}post(st,an,en={}){return this.request("POST",st,dn(en,an))}put(st,an,en={}){return this.request("PUT",st,dn(en,an))}}return rt.\u0275fac=function(st){return new(st||rt)(b.LFG(j))},rt.\u0275prov=b.Yz7({token:rt,factory:rt.\u0275fac}),rt})();function Ht(rt,ze){return ze(rt)}function Zt(rt,ze){return(st,an)=>ze.intercept(st,{handle:en=>rt(en,an)})}const Oe=new b.OlP("HTTP_INTERCEPTORS"),Fe=new b.OlP("HTTP_INTERCEPTOR_FNS");function me(){let rt=null;return(ze,st)=>(null===rt&&(rt=((0,b.f3M)(Oe,{optional:!0})??[]).reduceRight(Zt,Ht)),rt(ze,st))}let Ye=(()=>{class rt extends j{constructor(st,an){super(),this.backend=st,this.injector=an,this.chain=null}handle(st){if(null===this.chain){const an=Array.from(new Set(this.injector.get(Fe)));this.chain=an.reduceRight((en,Nn)=>function Ce(rt,ze,st){return(an,en)=>st.runInContext(()=>ze(an,Nn=>rt(Nn,en)))}(en,Nn,this.injector),Ht)}return this.chain(st,an=>this.backend.handle(an))}}return rt.\u0275fac=function(st){return new(st||rt)(b.LFG(K),b.LFG(b.lqb))},rt.\u0275prov=b.Yz7({token:rt,factory:rt.\u0275fac}),rt})();const qn=/^\)\]\}',?\n/;let Mn=(()=>{class rt{constructor(st){this.xhrFactory=st}handle(st){if("JSONP"===st.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new O.y(an=>{const en=this.xhrFactory.build();if(en.open(st.method,st.urlWithParams),st.withCredentials&&(en.withCredentials=!0),st.headers.forEach((N,D)=>en.setRequestHeader(N,D.join(","))),st.headers.has("Accept")||en.setRequestHeader("Accept","application/json, text/plain, */*"),!st.headers.has("Content-Type")){const N=st.detectContentTypeHeader();null!==N&&en.setRequestHeader("Content-Type",N)}if(st.responseType){const N=st.responseType.toLowerCase();en.responseType="json"!==N?N:"text"}const Nn=st.serializeBody();let Ze=null;const Ve=()=>{if(null!==Ze)return Ze;const N=en.statusText||"OK",D=new Y(en.getAllResponseHeaders()),z=function Tn(rt){return"responseURL"in rt&&rt.responseURL?rt.responseURL:/^X-Request-URL:/m.test(rt.getAllResponseHeaders())?rt.getResponseHeader("X-Request-URL"):null}(en)||st.url;return Ze=new ct({headers:D,status:en.status,statusText:N,url:z}),Ze},Je=()=>{let{headers:N,status:D,statusText:z,url:be}=Ve(),Pe=null;204!==D&&(Pe=typeof en.response>"u"?en.responseText:en.response),0===D&&(D=Pe?200:0);let at=D>=200&&D<300;if("json"===st.responseType&&"string"==typeof Pe){const gt=Pe;Pe=Pe.replace(qn,"");try{Pe=""!==Pe?JSON.parse(Pe):null}catch(rn){Pe=gt,at&&(at=!1,Pe={error:rn,text:Pe})}}at?(an.next(new kt({body:Pe,headers:N,status:D,statusText:z,url:be||void 0})),an.complete()):an.error(new lt({error:Pe,headers:N,status:D,statusText:z,url:be||void 0}))},Rt=N=>{const{url:D}=Ve(),z=new lt({error:N,status:en.status||0,statusText:en.statusText||"Unknown Error",url:D||void 0});an.error(z)};let dt=!1;const et=N=>{dt||(an.next(Ve()),dt=!0);let D={type:ut.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(D.total=N.total),"text"===st.responseType&&en.responseText&&(D.partialText=en.responseText),an.next(D)},X=N=>{let D={type:ut.UploadProgress,loaded:N.loaded};N.lengthComputable&&(D.total=N.total),an.next(D)};return en.addEventListener("load",Je),en.addEventListener("error",Rt),en.addEventListener("timeout",Rt),en.addEventListener("abort",Rt),st.reportProgress&&(en.addEventListener("progress",et),null!==Nn&&en.upload&&en.upload.addEventListener("progress",X)),en.send(Nn),an.next({type:ut.Sent}),()=>{en.removeEventListener("error",Rt),en.removeEventListener("abort",Rt),en.removeEventListener("load",Je),en.removeEventListener("timeout",Rt),st.reportProgress&&(en.removeEventListener("progress",et),null!==Nn&&en.upload&&en.upload.removeEventListener("progress",X)),en.readyState!==en.DONE&&en.abort()}})}}return rt.\u0275fac=function(st){return new(st||rt)(b.LFG(l.JF))},rt.\u0275prov=b.Yz7({token:rt,factory:rt.\u0275fac}),rt})();const Le=new b.OlP("XSRF_ENABLED"),ge=new b.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),It=new b.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Mt{}let Qt=(()=>{class rt{constructor(st,an,en){this.doc=st,this.platform=an,this.cookieName=en,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const st=this.doc.cookie||"";return st!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,l.Mx)(st,this.cookieName),this.lastCookieString=st),this.lastToken}}return rt.\u0275fac=function(st){return new(st||rt)(b.LFG(l.K0),b.LFG(b.Lbi),b.LFG(ge))},rt.\u0275prov=b.Yz7({token:rt,factory:rt.\u0275fac}),rt})();function Xt(rt,ze){const st=rt.url.toLowerCase();if(!(0,b.f3M)(Le)||"GET"===rt.method||"HEAD"===rt.method||st.startsWith("http://")||st.startsWith("https://"))return ze(rt);const an=(0,b.f3M)(Mt).getToken(),en=(0,b.f3M)(It);return null!=an&&!rt.headers.has(en)&&(rt=rt.clone({headers:rt.headers.set(en,an)})),ze(rt)}var Ke=(()=>((Ke=Ke||{})[Ke.Interceptors=0]="Interceptors",Ke[Ke.LegacyInterceptors=1]="LegacyInterceptors",Ke[Ke.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ke[Ke.NoXsrfProtection=3]="NoXsrfProtection",Ke[Ke.JsonpSupport=4]="JsonpSupport",Ke[Ke.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ke))();function Te(rt,ze){return{\u0275kind:rt,\u0275providers:ze}}function ot(...rt){const ze=[jt,Mn,Ye,{provide:j,useExisting:Ye},{provide:K,useExisting:Mn},{provide:Fe,useValue:Xt,multi:!0},{provide:Le,useValue:!0},{provide:Mt,useClass:Qt}];for(const st of rt)ze.push(...st.\u0275providers);return(0,b.MR2)(ze)}const sn=new b.OlP("LEGACY_INTERCEPTOR_FN");let on=(()=>{class rt{}return rt.\u0275fac=function(st){return new(st||rt)},rt.\u0275mod=b.oAB({type:rt}),rt.\u0275inj=b.cJS({providers:[ot(Te(Ke.LegacyInterceptors,[{provide:sn,useFactory:me},{provide:Fe,useExisting:sn,multi:!0}]))]}),rt})()},4650:(wt,Ne,_)=>{"use strict";_.d(Ne,{$8M:()=>il,$WT:()=>Jt,$Z:()=>cc,AFp:()=>vt,ALo:()=>Eg,AaK:()=>j,AsE:()=>op,BQk:()=>nd,CHM:()=>_i,CRH:()=>Ip,CZH:()=>Qe,CqO:()=>Sy,D6c:()=>Np,DdM:()=>Cb,EJc:()=>it,EiD:()=>Kd,EpF:()=>Z_,F$t:()=>jm,F4k:()=>Vm,FYo:()=>cm,FiY:()=>Kn,Gf:()=>Zx,GfV:()=>zi,GkF:()=>qf,Gpc:()=>F,Hsn:()=>Oy,JOm:()=>Eo,JVY:()=>yf,JZr:()=>Ae,KtG:()=>Fi,L6k:()=>jd,LAX:()=>Bu,LFG:()=>on,LSH:()=>Tl,Lbi:()=>kn,Lck:()=>Tx,MAs:()=>G_,MGl:()=>Xf,MMx:()=>Fh,MR2:()=>Ta,NdJ:()=>K_,O4$:()=>Tc,OlP:()=>er,Oqu:()=>rp,P3R:()=>ye,PXZ:()=>zs,Q6J:()=>W_,QGY:()=>cu,QbO:()=>zn,Qsj:()=>Av,R0b:()=>Ho,RDi:()=>h_,Rgc:()=>wg,SBq:()=>Gu,Sil:()=>ft,Suo:()=>Ag,TTD:()=>Ws,TgZ:()=>wh,Tol:()=>Qm,Udp:()=>np,VKq:()=>z0,W1O:()=>Lh,WFA:()=>Um,WLB:()=>wb,X6Q:()=>Vg,XFs:()=>Le,Xpm:()=>at,Xts:()=>Sn,Y36:()=>Ga,YKP:()=>xp,YNc:()=>Lm,Yjl:()=>Yn,Yz7:()=>R,Z0I:()=>$e,ZZ4:()=>Kg,_Bn:()=>vg,_UZ:()=>Yf,_Vd:()=>eh,_c5:()=>zr,_uU:()=>Vy,aQg:()=>xc,c2e:()=>pi,cJS:()=>qe,cg1:()=>up,d8E:()=>cp,dDg:()=>Xb,dqk:()=>Qt,eBb:()=>$d,eFA:()=>zh,eJc:()=>Sg,ekj:()=>ip,eoX:()=>sv,f3M:()=>pt,g9A:()=>En,h0i:()=>kh,hGG:()=>qg,hij:()=>Ya,iGM:()=>Wx,ifc:()=>Je,ip1:()=>Ie,jDz:()=>xb,kL8:()=>ld,kcU:()=>gl,lG2:()=>wn,lcZ:()=>Sb,lnq:()=>c0,lqb:()=>Xc,lri:()=>Og,mCW:()=>Wc,n5z:()=>kc,n_E:()=>Cg,oAB:()=>Pn,oJD:()=>Yc,oxw:()=>Hm,pB0:()=>bf,q3G:()=>Or,q4F:()=>y_,qLn:()=>ih,qOj:()=>su,qZA:()=>Bm,qzn:()=>Bi,rWj:()=>kg,s9C:()=>Qf,sBO:()=>oE,s_b:()=>Dg,soG:()=>Ct,tBr:()=>Ln,tb:()=>Ng,tp0:()=>An,uIk:()=>Jo,uOi:()=>y,vHH:()=>_e,vpe:()=>Vl,wAp:()=>fi,xi3:()=>Mb,xp6:()=>Vv,ynx:()=>Ih,z2F:()=>jh,z3N:()=>xi,zSh:()=>ul,zs3:()=>ia});var l=_(7579),b=_(727),m=_(9751),O=_(6451),he=_(3099);function ee(n){for(let r in n)if(n[r]===ee)return r;throw Error("Could not find renamed property on target object.")}function ie(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function j(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(j).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function K(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Y=ee({__forward_ref__:ee});function F(n){return n.__forward_ref__=F,n.toString=function(){return j(this())},n}function V(n){return Z(n)?n():n}function Z(n){return"function"==typeof n&&n.hasOwnProperty(Y)&&n.__forward_ref__===F}function ne(n){return n&&!!n.\u0275providers}const Ae="https://g.co/ng/security#xss";class _e extends Error{constructor(r,s){super(oe(r,s)),this.code=r}}function oe(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function fe(n){return"string"==typeof n?n:null==n?"":String(n)}function je(n,r){throw new _e(-201,!1)}function Fe(n,r){null==n&&function me(n,r,s,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${s} ${c} ${r} <=Actual]`))}(r,n,null,"!=")}function R(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Dt(n){return St(n,Bn)||St(n,Tn)}function $e(n){return null!==Dt(n)}function St(n,r){return n.hasOwnProperty(r)?n[r]:null}function vn(n){return n&&(n.hasOwnProperty(qn)||n.hasOwnProperty(Mn))?n[qn]:null}const Bn=ee({\u0275prov:ee}),qn=ee({\u0275inj:ee}),Tn=ee({ngInjectableDef:ee}),Mn=ee({ngInjectorDef:ee});var Le=(()=>((Le=Le||{})[Le.Default=0]="Default",Le[Le.Host=1]="Host",Le[Le.Self=2]="Self",Le[Le.SkipSelf=4]="SkipSelf",Le[Le.Optional=8]="Optional",Le))();let re;function He(n){const r=re;return re=n,r}function It(n,r,s){const c=Dt(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&Le.Optional?null:void 0!==r?r:void je(j(n))}const Qt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Te={},ot="__NG_DI_FLAG__",Gt="ngTempTokenPath",sn="ngTokenPath",gn=/\n/gm,ai="\u0275",jn="__source";let si;function Qn(n){const r=si;return si=n,r}function Ii(n,r=Le.Default){if(void 0===si)throw new _e(-203,!1);return null===si?It(n,void 0,r):si.get(n,r&Le.Optional?null:void 0,r)}function on(n,r=Le.Default){return(function ge(){return re}()||Ii)(V(n),r)}function pt(n,r=Le.Default){return on(n,rt(r))}function rt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ze(n){const r=[];for(let s=0;s<n.length;s++){const c=V(n[s]);if(Array.isArray(c)){if(0===c.length)throw new _e(900,!1);let d,g=Le.Default;for(let w=0;w<c.length;w++){const k=c[w],U=an(k);"number"==typeof U?-1===U?d=k.token:g|=U:d=k}r.push(on(d,g))}else r.push(on(c))}return r}function st(n,r){return n[ot]=r,n.prototype[ot]=r,n}function an(n){return n[ot]}function Ze(n){return{toString:n}.toString()}var Ve=(()=>((Ve=Ve||{})[Ve.OnPush=0]="OnPush",Ve[Ve.Default=1]="Default",Ve))(),Je=(()=>{return(n=Je||(Je={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Je;var n})();const Rt={},dt=[],et=ee({\u0275cmp:ee}),X=ee({\u0275dir:ee}),N=ee({\u0275pipe:ee}),D=ee({\u0275mod:ee}),z=ee({\u0275fac:ee}),be=ee({__NG_ELEMENT_ID__:ee});let Pe=0;function at(n){return Ze(()=>{const r=ii(n),s={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ve.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Je.Emulated,id:"c"+Pe++,styles:n.styles||dt,_:null,schemas:n.schemas||null,tView:null};ui(s);const c=n.dependencies;return s.directiveDefs=bi(c,!1),s.pipeDefs=bi(c,!0),s})}function rn(n){return bt(n)||Et(n)}function bn(n){return null!==n}function Pn(n){return Ze(()=>({type:n.type,bootstrap:n.bootstrap||dt,declarations:n.declarations||dt,imports:n.imports||dt,exports:n.exports||dt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function $n(n,r){if(null==n)return Rt;const s={};for(const c in n)if(n.hasOwnProperty(c)){let d=n[c],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),s[d]=c,r&&(r[d]=g)}return s}function wn(n){return Ze(()=>{const r=ii(n);return ui(r),r})}function Yn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function bt(n){return n[et]||null}function Et(n){return n[X]||null}function Vt(n){return n[N]||null}function Jt(n){const r=bt(n)||Et(n)||Vt(n);return null!==r&&r.standalone}function Vn(n,r){const s=n[D]||null;if(!s&&!0===r)throw new Error(`Type ${j(n)} does not have '\u0275mod' property.`);return s}function ii(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||dt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$n(n.inputs,r),outputs:$n(n.outputs)}}function ui(n){n.features?.forEach(r=>r(n))}function bi(n,r){if(!n)return null;const s=r?Vt:rn;return()=>("function"==typeof n?n():n).map(c=>s(c)).filter(bn)}const hi=0,xn=1,ti=2,Jn=3,Ar=4,lr=5,Hi=6,Yi=7,li=8,cr=9,jo=10,ri=11,wo=12,hs=13,Is=14,Tr=15,ur=16,ho=17,Kr=18,Yr=19,fo=20,qr=21,Ai=22,po=1,Ra=2,$o=7,fs=8,ro=9,qi=10;function Er(n){return Array.isArray(n)&&"object"==typeof n[po]}function gr(n){return Array.isArray(n)&&!0===n[po]}function rr(n){return 0!=(4&n.flags)}function dr(n){return n.componentOffset>-1}function Io(n){return 1==(1&n.flags)}function _r(n){return!!n.template}function la(n){return 0!=(256&n[ti])}function Wo(n,r){return n.hasOwnProperty(z)?n[z]:null}class Fo{constructor(r,s,c){this.previousValue=r,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ws(){return As}function As(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ts),Zs}function Zs(){const n=ua(this),r=n?.current;if(r){const s=n.previous;if(s===Rt)n.previous=r;else for(let c in r)s[c]=r[c];n.current=null,this.ngOnChanges(r)}}function Ts(n,r,s,c){const d=this.declaredInputs[s],g=ua(n)||function da(n,r){return n[Zo]=r}(n,{previous:Rt,current:null}),w=g.current||(g.current={}),k=g.previous,U=k[d];w[d]=new Fo(U&&U.currentValue,r,k===Rt),n[c]=r}Ws.ngInherit=!0;const Zo="__ngSimpleChanges__";function ua(n){return n[Zo]||null}const Xr=function(n,r,s){},gs="svg";function Ri(n){for(;Array.isArray(n);)n=n[hi];return n}function vo(n,r){return Ri(r[n])}function Oi(n,r){return Ri(r[n.index])}function Ss(n,r){return n.data[r]}function Do(n,r){return n[r]}function Mr(n,r){const s=r[n];return Er(s)?s:s[hi]}function Ps(n){return 64==(64&n[ti])}function Fr(n,r){return null==r?null:n[r]}function ha(n){n[Kr]=0}function ns(n,r){n[lr]+=r;let s=n,c=n[Jn];for(;null!==c&&(1===r&&1===s[lr]||-1===r&&0===s[lr]);)c[lr]+=r,s=c,c=c[Jn]}const Wn={lFrame:Va(null),bindingsEnabled:!0};function Ge(){return Wn.bindingsEnabled}function _t(){return Wn.lFrame.lView}function Cn(){return Wn.lFrame.tView}function _i(n){return Wn.lFrame.contextLView=n,n[li]}function Fi(n){return Wn.lFrame.contextLView=null,n}function Ei(){let n=$i();for(;null!==n&&64===n.type;)n=n.parent;return n}function $i(){return Wn.lFrame.currentTNode}function Qi(n,r){const s=Wn.lFrame;s.currentTNode=n,s.isParent=r}function Wi(){return Wn.lFrame.isParent}function yo(){Wn.lFrame.isParent=!1}function Xi(){const n=Wn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Rr(){return Wn.lFrame.bindingIndex}function Yo(){return Wn.lFrame.bindingIndex++}function so(n){const r=Wn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Ic(n,r){const s=Wn.lFrame;s.bindingIndex=s.bindingRootIndex=n,fa(r)}function fa(n){Wn.lFrame.currentDirectiveIndex=n}function No(n){const r=Wn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function ml(){return Wn.lFrame.currentQueryIndex}function el(n){Wn.lFrame.currentQueryIndex=n}function jl(n){const r=n[xn];return 2===r.type?r.declTNode:1===r.type?n[Hi]:null}function Ks(n,r,s){if(s&Le.SkipSelf){let d=r,g=n;for(;!(d=d.parent,null!==d||s&Le.Host||(d=jl(g),null===d||(g=g[Tr],10&d.type))););if(null===d)return!1;r=d,n=g}const c=Wn.lFrame=pa();return c.currentTNode=r,c.lView=n,!0}function $l(n){const r=pa(),s=n[xn];Wn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function pa(){const n=Wn.lFrame,r=null===n?null:n.child;return null===r?Va(n):r}function Va(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Gl(){const n=Wn.lFrame;return Wn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Dc=Gl;function tl(){const n=Gl();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function xr(){return Wn.lFrame.selectedIndex}function ma(n){Wn.lFrame.selectedIndex=n}function or(){const n=Wn.lFrame;return Ss(n.tView,n.selectedIndex)}function Tc(){Wn.lFrame.currentNamespace=gs}function gl(){!function Wl(){Wn.lFrame.currentNamespace=null}()}function ga(n,r){for(let s=r.directiveStart,c=r.directiveEnd;s<c;s++){const g=n.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:k,ngAfterViewInit:U,ngAfterViewChecked:se,ngOnDestroy:De}=g;w&&(n.contentHooks??(n.contentHooks=[])).push(-s,w),k&&((n.contentHooks??(n.contentHooks=[])).push(s,k),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(s,k)),U&&(n.viewHooks??(n.viewHooks=[])).push(-s,U),se&&((n.viewHooks??(n.viewHooks=[])).push(s,se),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(s,se)),null!=De&&(n.destroyHooks??(n.destroyHooks=[])).push(s,De)}}function _l(n,r,s){le(n,r,3,s)}function _a(n,r,s,c){(3&n[ti])===s&&le(n,r,s,c)}function L(n,r){let s=n[ti];(3&s)===r&&(s&=2047,s+=1,n[ti]=s)}function le(n,r,s,c){const g=c??-1,w=r.length-1;let k=0;for(let U=void 0!==c?65535&n[Kr]:0;U<w;U++)if("number"==typeof r[U+1]){if(k=r[U],null!=c&&k>=c)break}else r[U]<0&&(n[Kr]+=65536),(k<g||-1==g)&&($(n,s,r,U),n[Kr]=(4294901760&n[Kr])+U+2),U++}function $(n,r,s,c){const d=s[c]<0,g=s[c+1],k=n[d?-s[c]:s[c]];if(d){if(n[ti]>>11<n[Kr]>>16&&(3&n[ti])===r){n[ti]+=2048,Xr(4,k,g);try{g.call(k)}finally{Xr(5,k,g)}}}else{Xr(4,k,g);try{g.call(k)}finally{Xr(5,k,g)}}}const we=-1;class tt{constructor(r,s,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function Li(n,r,s){let c=0;for(;c<s.length;){const d=s[c];if("number"==typeof d){if(0!==d)break;c++;const g=s[c++],w=s[c++],k=s[c++];n.setAttribute(r,w,k,g)}else{const g=d,w=s[++c];rs(g)?n.setProperty(r,g,w):n.setAttribute(r,g,w),c++}}return c}function Nr(n){return 3===n||4===n||6===n}function rs(n){return 64===n.charCodeAt(0)}function jr(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let c=0;c<r.length;c++){const d=r[c];"number"==typeof d?s=d:0===s||os(n,s,d,null,-1===s||2===s?r[++c]:null)}}return n}function os(n,r,s,c,d){let g=0,w=n.length;if(-1===r)w=-1;else for(;g<n.length;){const k=n[g++];if("number"==typeof k){if(k===r){w=-1;break}if(k>r){w=g-1;break}}}for(;g<n.length;){const k=n[g];if("number"==typeof k)break;if(k===s){if(null===c)return void(null!==d&&(n[g+1]=d));if(c===n[g+1])return void(n[g+2]=d)}g++,null!==c&&g++,null!==d&&g++}-1!==w&&(n.splice(w,0,r),g=w+1),n.splice(g++,0,s),null!==c&&n.splice(g++,0,c),null!==d&&n.splice(g++,0,d)}function qo(n){return n!==we}function Os(n){return 32767&n}function _s(n,r){let s=function nl(n){return n>>16}(n),c=r;for(;s>0;)c=c[Tr],s--;return c}let bu=!0;function Mc(n){const r=bu;return bu=n,r}const Pc=255,Wh=5;let Bp=0;const ks={};function Cr(n,r){const s=Zl(n,r);if(-1!==s)return s;const c=r[xn];c.firstCreatePass&&(n.injectorIndex=r.length,Jr(c.data,n),Jr(r,null),Jr(c.blueprint,null));const d=Lr(n,r),g=n.injectorIndex;if(qo(d)){const w=Os(d),k=_s(d,r),U=k[xn].data;for(let se=0;se<8;se++)r[g+se]=k[w+se]|U[w+se]}return r[g+8]=d,g}function Jr(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Zl(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Lr(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,c=null,d=r;for(;null!==d;){if(c=xu(d),null===c)return we;if(s++,d=d[Tr],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return we}function Kl(n,r,s){!function n_(n,r,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(be)&&(c=s[be]),null==c&&(c=s[be]=Bp++);const d=c&Pc;r.data[n+(d>>Wh)]|=1<<d}(n,r,s)}function Zh(n,r,s){if(s&Le.Optional||void 0!==n)return n;je()}function Yl(n,r,s,c){if(s&Le.Optional&&void 0===c&&(c=null),!(s&(Le.Self|Le.Host))){const d=n[cr],g=He(void 0);try{return d?d.get(r,c,s&Le.Optional):It(r,c,s&Le.Optional)}finally{He(g)}}return Zh(c,0,s)}function Ys(n,r,s,c=Le.Default,d){if(null!==n){if(1024&r[ti]){const w=function Eu(n,r,s,c,d){let g=n,w=r;for(;null!==g&&null!==w&&1024&w[ti]&&!(256&w[ti]);){const k=Bo(g,w,s,c|Le.Self,ks);if(k!==ks)return k;let U=g.parent;if(!U){const se=w[qr];if(se){const De=se.get(s,ks,c);if(De!==ks)return De}U=xu(w),w=w[Tr]}g=U}return d}(n,r,s,c,ks);if(w!==ks)return w}const g=Bo(n,r,s,c,ks);if(g!==ks)return g}return Yl(r,s,c,d)}function Bo(n,r,s,c,d){const g=function Oc(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(be)?n[be]:void 0;return"number"==typeof r?r>=0?r&Pc:ql:r}(s);if("function"==typeof g){if(!Ks(r,n,c))return c&Le.Host?Zh(d,0,c):Yl(r,s,c,d);try{const w=g(c);if(null!=w||c&Le.Optional)return w;je()}finally{Dc()}}else if("number"==typeof g){let w=null,k=Zl(n,r),U=we,se=c&Le.Host?r[ur][Hi]:null;for((-1===k||c&Le.SkipSelf)&&(U=-1===k?Lr(n,r):r[k+8],U!==we&&Ed(c,!1)?(w=r[xn],k=Os(U),r=_s(U,r)):k=-1);-1!==k;){const De=r[xn];if(Qo(g,k,De.data)){const We=bd(k,r,s,w,c,se);if(We!==ks)return We}U=r[k+8],U!==we&&Ed(c,r[xn].data[k+8]===se)&&Qo(g,k,r)?(w=De,k=Os(U),r=_s(U,r)):k=-1}}return d}function bd(n,r,s,c,d,g){const w=r[xn],k=w.data[n+8],De=Rc(k,w,s,null==c?dr(k)&&bu:c!=w&&0!=(3&k.type),d&Le.Host&&g===k);return null!==De?vs(r,w,De,k):ks}function Rc(n,r,s,c,d){const g=n.providerIndexes,w=r.data,k=1048575&g,U=n.directiveStart,De=g>>20,xt=d?k+De:n.directiveEnd;for(let Lt=c?k:k+De;Lt<xt;Lt++){const cn=w[Lt];if(Lt<U&&s===cn||Lt>=U&&cn.type===s)return Lt}if(d){const Lt=w[U];if(Lt&&_r(Lt)&&Lt.type===s)return U}return null}function vs(n,r,s,c){let d=n[s];const g=r.data;if(function Wt(n){return n instanceof tt}(d)){const w=d;w.resolving&&function pe(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new _e(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Me(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():fe(n)}(g[s]));const k=Mc(w.canSeeViewProviders);w.resolving=!0;const U=w.injectImpl?He(w.injectImpl):null;Ks(n,c,Le.Default);try{d=n[s]=w.factory(void 0,g,n,c),r.firstCreatePass&&s>=c.directiveStart&&function yu(n,r,s){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:g}=r.type.prototype;if(c){const w=As(r);(s.preOrderHooks??(s.preOrderHooks=[])).push(n,w),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,w)}d&&(s.preOrderHooks??(s.preOrderHooks=[])).push(0-n,d),g&&((s.preOrderHooks??(s.preOrderHooks=[])).push(n,g),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,g))}(s,g[s],r)}finally{null!==U&&He(U),Mc(k),w.resolving=!1,Dc()}}return d}function Qo(n,r,s){return!!(s[r+(n>>Wh)]&1<<n)}function Ed(n,r){return!(n&Le.Self||n&Le.Host&&r)}class Fs{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,c){return Ys(this._tNode,this._lView,r,rt(c),s)}}function ql(){return new Fs(Ei(),_t())}function kc(n){return Ze(()=>{const r=n.prototype.constructor,s=r[z]||ao(r),c=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==c;){const g=d[z]||ao(d);if(g&&g!==s)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function ao(n){return Z(n)?()=>{const r=ao(V(n));return r&&r()}:Wo(n)}function xu(n){const r=n[xn],s=r.type;return 2===s?r.declTNode:1===s?n[Hi]:null}function il(n){return function va(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const c=s.length;let d=0;for(;d<c;){const g=s[d];if(Nr(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<c&&"string"==typeof s[d];)d++;else{if(g===r)return s[d+1];d+=2}}}return null}(Ei(),n)}const Ji="__parameters__";function qs(n,r,s){return Ze(()=>{const c=function Fc(n){return function(...s){if(n){const c=n(...s);for(const d in c)this[d]=c[d]}}}(r);function d(...g){if(this instanceof d)return c.apply(this,g),this;const w=new d(...g);return k.annotation=w,k;function k(U,se,De){const We=U.hasOwnProperty(Ji)?U[Ji]:Object.defineProperty(U,Ji,{value:[]})[Ji];for(;We.length<=De;)We.push(null);return(We[De]=We[De]||[]).push(w),U}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class er{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=R({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Vo(n,r){n.forEach(s=>Array.isArray(s)?Vo(s,r):r(s))}function Ea(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function S(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function P(n,r){const s=[];for(let c=0;c<n;c++)s.push(r);return s}function Re(n,r,s){let c=ln(n,r);return c>=0?n[1|c]=s:(c=~c,function J(n,r,s,c){let d=n.length;if(d==r)n.push(s,c);else if(1===d)n.push(c,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>r;)n[d]=n[d-2],d--;n[r]=s,n[r+1]=c}}(n,c,r,s)),c}function At(n,r){const s=ln(n,r);if(s>=0)return n[1|s]}function ln(n,r){return function In(n,r,s){let c=0,d=n.length>>s;for(;d!==c;){const g=c+(d-c>>1),w=n[g<<s];if(r===w)return g<<s;w>r?d=g:c=g+1}return~(d<<s)}(n,r,1)}const Ln=st(qs("Inject",n=>({token:n})),-1),Kn=st(qs("Optional"),8),An=st(qs("SkipSelf"),4);var Eo=(()=>((Eo=Eo||{})[Eo.Important=1]="Important",Eo[Eo.DashCase=2]="DashCase",Eo))();const Su=new Map;let nc=0;const So="__ngContext__";function Mo(n,r){Er(r)?(n[So]=r[fo],function Pd(n){Su.set(n[fo],n)}(r)):n[So]=r}let tf;function nf(n,r){return tf(n,r)}function Mu(n){const r=n[Jn];return gr(r)?r[Jn]:r}function sf(n){return lf(n[hs])}function af(n){return lf(n[Ar])}function lf(n){for(;null!==n&&!gr(n);)n=n[Ar];return n}function rc(n,r,s,c,d){if(null!=c){let g,w=!1;gr(c)?g=c:Er(c)&&(w=!0,c=c[hi]);const k=Ri(c);0===n&&null!==s?null==d?mf(r,s,k):to(r,s,k,d||null,!0):1===n&&null!==s?to(r,s,k,d||null,!0):2===n?function na(n,r,s){const c=ea(n,r);c&&function $r(n,r,s,c){n.removeChild(r,s,c)}(n,c,r,s)}(r,k,w):3===n&&r.destroyNode(k),null!=g&&function Cl(n,r,s,c,d){const g=s[$o];g!==Ri(s)&&rc(r,n,c,g,d);for(let k=qi;k<s.length;k++){const U=s[k];bs(U[xn],U,n,r,c,g)}}(r,n,g,s,d)}}function Pu(n,r,s){return n.createElement(r,s)}function pf(n,r){const s=n[ro],c=s.indexOf(r),d=r[Jn];512&r[ti]&&(r[ti]&=-513,ns(d,-1)),s.splice(c,1)}function Hc(n,r){if(n.length<=qi)return;const s=qi+r,c=n[s];if(c){const d=c[ho];null!==d&&d!==n&&pf(d,c),r>0&&(n[s-1][Ar]=c[Ar]);const g=S(n,qi+r);!function df(n,r){bs(n,r,r[ri],2,null,null),r[hi]=null,r[Hi]=null}(c[xn],c);const w=g[Yr];null!==w&&w.detachView(g[xn]),c[Jn]=null,c[Ar]=null,c[ti]&=-65}return c}function pr(n,r){if(!(128&r[ti])){const s=r[ri];s.destroyNode&&bs(n,r,s,3,null,null),function eo(n){let r=n[hs];if(!r)return Ru(n[xn],n);for(;r;){let s=null;if(Er(r))s=r[hs];else{const c=r[qi];c&&(s=c)}if(!s){for(;r&&!r[Ar]&&r!==n;)Er(r)&&Ru(r[xn],r),r=r[Jn];null===r&&(r=n),Er(r)&&Ru(r[xn],r),s=r&&r[Ar]}r=s}}(r)}}function Ru(n,r){if(!(128&r[ti])){r[ti]&=-65,r[ti]|=128,function nr(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let c=0;c<s.length;c+=2){const d=r[s[c]];if(!(d instanceof tt)){const g=s[c+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const k=d[g[w]],U=g[w+1];Xr(4,k,U);try{U.call(k)}finally{Xr(5,k,U)}}else{Xr(4,d,g);try{g.call(d)}finally{Xr(5,d,g)}}}}}(n,r),function xo(n,r){const s=n.cleanup,c=r[Yi];let d=-1;if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const w=s[g+3];w>=0?c[d=w]():c[d=-w].unsubscribe(),g+=2}else{const w=c[d=s[g+1]];s[g].call(w)}if(null!==c){for(let g=d+1;g<c.length;g++)(0,c[g])();r[Yi]=null}}(n,r),1===r[xn].type&&r[ri].destroy();const s=r[ho];if(null!==s&&gr(r[Jn])){s!==r[Jn]&&pf(s,r);const c=r[Yr];null!==c&&c.detachView(n)}!function o_(n){Su.delete(n[fo])}(r)}}function jc(n,r,s){return function xl(n,r,s){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return s[hi];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:g}=n.data[c.directiveStart+d];if(g===Je.None||g===Je.Emulated)return null}return Oi(c,s)}}(n,r.parent,s)}function to(n,r,s,c,d){n.insertBefore(r,s,c,d)}function mf(n,r,s){n.appendChild(r,s)}function Qp(n,r,s,c,d){null!==c?to(n,r,s,c,d):mf(n,r,s)}function ea(n,r){return n.parentNode(r)}function ja(n,r,s){return Ou(n,r,s)}let Ns,Il,Ud,Lu,Ou=function kd(n,r,s){return 40&n.type?Oi(n,s):null};function Ia(n,r,s,c){const d=jc(n,c,r),g=r[ri],k=ja(c.parent||r[Hi],c,r);if(null!=d)if(Array.isArray(s))for(let U=0;U<s.length;U++)Qp(g,d,s[U],k,!1);else Qp(g,d,s,k,!1);void 0!==Ns&&Ns(g,c,r,s,d)}function Ls(n,r){if(null!==r){const s=r.type;if(3&s)return Oi(r,n);if(4&s)return ta(-1,n[r.index]);if(8&s){const c=r.child;if(null!==c)return Ls(n,c);{const d=n[r.index];return gr(d)?ta(-1,d):Ri(d)}}if(32&s)return nf(r,n)()||Ri(n[r.index]);{const c=ku(n,r);return null!==c?Array.isArray(c)?c[0]:Ls(Mu(n[ur]),c):Ls(n,r.next)}}return null}function ku(n,r){return null!==r?n[ur][Hi].projection[r.projection]:null}function ta(n,r){const s=qi+n+1;if(s<r.length){const c=r[s],d=c[xn].firstChild;if(null!==d)return Ls(c,d)}return r[$o]}function oc(n,r,s,c,d,g,w){for(;null!=s;){const k=c[s.index],U=s.type;if(w&&0===r&&(k&&Mo(Ri(k),c),s.flags|=2),32!=(32&s.flags))if(8&U)oc(n,r,s.child,c,d,g,!1),rc(r,n,d,k,g);else if(32&U){const se=nf(s,c);let De;for(;De=se();)rc(r,n,d,De,g);rc(r,n,d,k,g)}else 16&U?gf(n,r,c,s,d,g):rc(r,n,d,k,g);s=w?s.projectionNext:s.next}}function bs(n,r,s,c,d,g){oc(s,c,n.firstChild,r,d,g,!1)}function gf(n,r,s,c,d,g){const w=s[ur],U=w[Hi].projection[c.projection];if(Array.isArray(U))for(let se=0;se<U.length;se++)rc(r,n,d,U[se],g);else oc(n,r,U,w[Jn],d,g,!0)}function wl(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function Nd(n,r,s){const{mergedAttrs:c,classes:d,styles:g}=s;null!==c&&Li(n,r,c),null!==d&&wl(n,r,d),null!==g&&function Fd(n,r,s){n.setAttribute(r,"style",s)}(n,r,g)}function al(n){return function Fu(){if(void 0===Il&&(Il=null,Qt.trustedTypes))try{Il=Qt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Il}()?.createHTML(n)||n}function h_(n){Ud=n}function zd(){if(void 0===Lu&&(Lu=null,Qt.trustedTypes))try{Lu=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Lu}function Po(n){return zd()?.createHTML(n)||n}function yr(n){return zd()?.createScriptURL(n)||n}class Es{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ae})`}}class em extends Es{getTypeName(){return"HTML"}}class tm extends Es{getTypeName(){return"Style"}}class ll extends Es{getTypeName(){return"Script"}}class f_ extends Es{getTypeName(){return"URL"}}class vf extends Es{getTypeName(){return"ResourceURL"}}function xi(n){return n instanceof Es?n.changingThisBreaksApplicationSecurity:n}function Bi(n,r){const s=function Gc(n){return n instanceof Es&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Ae})`)}return s===r}function yf(n){return new em(n)}function jd(n){return new tm(n)}function $d(n){return new ll(n)}function Bu(n){return new f_(n)}function bf(n){return new vf(n)}class Gd{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(al(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class p_{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=al(r),s}}const Vu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wc(n){return(n=String(n)).match(Vu)?n:"unsafe:"+n}function cl(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Dl(...n){const r={};for(const s of n)for(const c in s)s.hasOwnProperty(c)&&(r[c]=!0);return r}const Wd=cl("area,br,col,hr,img,wbr"),nm=cl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xf=cl("rp,rt"),Zc=Dl(Wd,Dl(nm,cl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dl(xf,cl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dl(xf,nm)),Kc=cl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Br=Dl(Kc,cl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zd=cl("script,style,template");class Al{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Zc.hasOwnProperty(s))return this.sanitizedSomething=!0,!Zd.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=r.attributes;for(let d=0;d<c.length;d++){const g=c.item(d),w=g.name,k=w.toLowerCase();if(!Br.hasOwnProperty(k)){this.sanitizedSomething=!0;continue}let U=g.value;Kc[k]&&(U=Wc(U)),this.buf.push(" ",w,'="',Aa(U),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Zc.hasOwnProperty(s)&&!Wd.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Aa(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const om=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Da=/([^\#-~ |!])/g;function Aa(n){return n.replace(/&/g,"&amp;").replace(om,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Da,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let co;function Kd(n,r){let s=null;try{co=co||function Ef(n){const r=new p_(n);return function Bs(){try{return!!(new window.DOMParser).parseFromString(al(""),"text/html")}catch{return!1}}()?new Gd(r):r}(n);let c=r?String(r):"";s=co.getInertBodyElement(c);let d=5,g=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=g,g=s.innerHTML,s=co.getInertBodyElement(c)}while(c!==g);return al((new Al).sanitizeChildren(Yd(s)||s))}finally{if(s){const c=Yd(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Yd(n){return"content"in n&&function zu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Or=(()=>((Or=Or||{})[Or.NONE=0]="NONE",Or[Or.HTML=1]="HTML",Or[Or.STYLE=2]="STYLE",Or[Or.SCRIPT=3]="SCRIPT",Or[Or.URL=4]="URL",Or[Or.RESOURCE_URL=5]="RESOURCE_URL",Or))();function Yc(n){const r=tn();return r?Po(r.sanitize(Or.HTML,n)||""):Bi(n,"HTML")?Po(xi(n)):Kd(function Nu(){return void 0!==Ud?Ud:typeof document<"u"?document:void 0}(),fe(n))}function Tl(n){const r=tn();return r?r.sanitize(Or.URL,n)||"":Bi(n,"URL")?xi(n):Wc(fe(n))}function y(n){const r=tn();if(r)return yr(r.sanitize(Or.RESOURCE_URL,n)||"");if(Bi(n,"ResourceURL"))return yr(xi(n));throw new _e(904,!1)}function ye(n,r,s){return function q(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?y:Tl}(r,s)(n)}function tn(){const n=_t();return n&&n[wo]}const Sn=new er("ENVIRONMENT_INITIALIZER"),On=new er("INJECTOR",-1),Gn=new er("INJECTOR_DEF_TYPES");class sr{get(r,s=Te){if(s===Te){const c=new Error(`NullInjectorError: No provider for ${j(r)}!`);throw c.name="NullInjectorError",c}return s}}function Ta(n){return{\u0275providers:n}}function qd(...n){return{\u0275providers:Ci(0,n),\u0275fromNgModule:!0}}function Ci(n,...r){const s=[],c=new Set;let d;return Vo(r,g=>{const w=g;qc(w,s,[],c)&&(d||(d=[]),d.push(w))}),void 0!==d&&Qd(d,s),s}function Qd(n,r){for(let s=0;s<n.length;s++){const{providers:d}=n[s];Qc(d,g=>{r.push(g)})}}function qc(n,r,s,c){if(!(n=V(n)))return!1;let d=null,g=vn(n);const w=!g&&bt(n);if(g||w){if(w&&!w.standalone)return!1;d=n}else{const U=n.ngModule;if(g=vn(U),!g)return!1;d=U}const k=c.has(d);if(w){if(k)return!1;if(c.add(d),w.dependencies){const U="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const se of U)qc(se,r,s,c)}}else{if(!g)return!1;{if(null!=g.imports&&!k){let se;c.add(d);try{Vo(g.imports,De=>{qc(De,r,s,c)&&(se||(se=[]),se.push(De))})}finally{}void 0!==se&&Qd(se,r)}if(!k){const se=Wo(d)||(()=>new d);r.push({provide:d,useFactory:se,deps:dt},{provide:Gn,useValue:d,multi:!0},{provide:Sn,useValue:()=>on(d),multi:!0})}const U=g.providers;null==U||k||Qc(U,De=>{r.push(De)})}}return d!==n&&void 0!==n.providers}function Qc(n,r){for(let s of n)ne(s)&&(s=s.\u0275providers),Array.isArray(s)?Qc(s,r):r(s)}const wf=ee({provide:String,useValue:ee});function sc(n){return null!==n&&"object"==typeof n&&wf in n}function Sl(n){return"function"==typeof n}const ul=new er("Set Injector scope."),Df={},Hu={};let am;function ac(){return void 0===am&&(am=new sr),am}class Xc{}class g_ extends Xc{get destroyed(){return this._destroyed}constructor(r,s,c,d){super(),this.parent=s,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$u(r,w=>this.processProvider(w)),this.records.set(On,lc(void 0,this)),d.has("environment")&&this.records.set(Xc,lc(void 0,this));const g=this.records.get(ul);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Gn.multi,dt,Le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Qn(this),c=He(void 0);try{return r()}finally{Qn(s),He(c)}}get(r,s=Te,c=Le.Default){this.assertNotDestroyed(),c=rt(c);const d=Qn(this),g=He(void 0);try{if(!(c&Le.SkipSelf)){let k=this.records.get(r);if(void 0===k){const U=function EE(n){return"function"==typeof n||"object"==typeof n&&n instanceof er}(r)&&Dt(r);k=U&&this.injectableDefInScope(U)?lc(ju(r),Df):null,this.records.set(r,k)}if(null!=k)return this.hydrate(r,k)}return(c&Le.Self?ac():this.parent).get(r,s=c&Le.Optional&&s===Te?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[Gt]=w[Gt]||[]).unshift(j(r)),d)throw w;return function en(n,r,s,c){const d=n[Gt];throw r[jn]&&d.unshift(r[jn]),n.message=function Nn(n,r,s,c=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==ai?n.slice(2):n;let d=j(r);if(Array.isArray(r))d=r.map(j).join(" -> ");else if("object"==typeof r){let g=[];for(let w in r)if(r.hasOwnProperty(w)){let k=r[w];g.push(w+":"+("string"==typeof k?JSON.stringify(k):j(k)))}d=`{${g.join(", ")}}`}return`${s}${c?"("+c+")":""}[${d}]: ${n.replace(gn,"\n  ")}`}("\n"+n.message,d,s,c),n[sn]=d,n[Gt]=null,n}(w,r,"R3InjectorError",this.source)}throw w}finally{He(g),Qn(d)}}resolveInjectorInitializers(){const r=Qn(this),s=He(void 0);try{const c=this.get(Sn.multi,dt,Le.Self);for(const d of c)d()}finally{Qn(r),He(s)}}toString(){const r=[],s=this.records;for(const c of s.keys())r.push(j(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(r){let s=Sl(r=V(r))?r:V(r&&r.provide);const c=function bE(n){return sc(n)?lc(void 0,n.useValue):lc(Vr(n),Df)}(r);if(Sl(r)||!0!==r.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=lc(void 0,Df,!0),d.factory=()=>ze(d.multi),this.records.set(s,d)),s=r,d.multi.push(r)}this.records.set(s,c)}hydrate(r,s){return s.value===Df&&(s.value=Hu,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Iv(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=V(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function ju(n){const r=Dt(n),s=null!==r?r.factory:Wo(n);if(null!==s)return s;if(n instanceof er)throw new _e(204,!1);if(n instanceof Function)return function yE(n){const r=n.length;if(r>0)throw P(r,"?"),new _e(204,!1);const s=function $t(n){return n&&(n[Bn]||n[Tn])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new _e(204,!1)}function Vr(n,r,s){let c;if(Sl(n)){const d=V(n);return Wo(d)||ju(d)}if(sc(n))c=()=>V(n.useValue);else if(function If(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...ze(n.deps||[]));else if(function Xd(n){return!(!n||!n.useExisting)}(n))c=()=>on(V(n.useExisting));else{const d=V(n&&(n.useClass||n.provide));if(!function lm(n){return!!n.deps}(n))return Wo(d)||ju(d);c=()=>new d(...ze(n.deps))}return c}function lc(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function $u(n,r){for(const s of n)Array.isArray(s)?$u(s,r):s&&ne(s)?$u(s.\u0275providers,r):r(s)}class xE{}class __{}class Dv{resolveComponentFactory(r){throw function Jd(n){const r=Error(`No component factory found for ${j(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let eh=(()=>{class n{}return n.NULL=new Dv,n})();function th(){return Jc(Ei(),_t())}function Jc(n,r){return new Gu(Oi(n,r))}let Gu=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=th,n})();function v_(n){return n instanceof Gu?n.nativeElement:n}class cm{}let Av=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function wE(){const n=_t(),s=Mr(Ei().index,n);return(Er(s)?s:n)[ri]}(),n})(),Ro=(()=>{class n{}return n.\u0275prov=R({token:n,providedIn:"root",factory:()=>null}),n})();class zi{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const y_=new zi("15.2.10"),um={},nh="ngOriginalError";function b_(n){return n[nh]}class ih{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&b_(r);for(;s&&b_(s);)s=b_(s);return s||null}}function Rl(n){return n instanceof Function?n():n}function Ov(n,r,s){let c=n.length;for(;;){const d=n.indexOf(r,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const g=r.length;if(d+g===c||n.charCodeAt(d+g)<=32)return d}s=d+1}}const hm="ng-template";function rh(n,r,s){let c=0,d=!0;for(;c<n.length;){let g=n[c++];if("string"==typeof g&&d){const w=n[c++];if(s&&"class"===g&&-1!==Ov(w.toLowerCase(),r,0))return!0}else{if(1===g){for(;c<n.length&&"string"==typeof(g=n[c++]);)if(g.toLowerCase()===r)return!0;return!1}"number"==typeof g&&(d=!1)}}return!1}function x_(n){return 4===n.type&&n.value!==hm}function AE(n,r,s){return r===(4!==n.type||s?n.value:hm)}function Co(n,r,s){let c=4;const d=n.attrs||[],g=function Ol(n){for(let r=0;r<n.length;r++)if(Nr(n[r]))return r;return n.length}(d);let w=!1;for(let k=0;k<r.length;k++){const U=r[k];if("number"!=typeof U){if(!w)if(4&c){if(c=2|1&c,""!==U&&!AE(n,U,s)||""===U&&1===r.length){if(Sa(c))return!1;w=!0}}else{const se=8&c?U:r[++k];if(8&c&&null!==n.attrs){if(!rh(n.attrs,se,s)){if(Sa(c))return!1;w=!0}continue}const We=C_(8&c?"class":U,d,x_(n),s);if(-1===We){if(Sa(c))return!1;w=!0;continue}if(""!==se){let xt;xt=We>g?"":d[We+1].toLowerCase();const Lt=8&c?xt:null;if(Lt&&-1!==Ov(Lt,se,0)||2&c&&se!==xt){if(Sa(c))return!1;w=!0}}}}else{if(!w&&!Sa(c)&&!Sa(U))return!1;if(w&&Sa(U))continue;w=!1,c=U|1&c}}return Sa(c)||w}function Sa(n){return 0==(1&n)}function C_(n,r,s,c){if(null===r)return-1;let d=0;if(c||!s){let g=!1;for(;d<r.length;){const w=r[d];if(w===n)return d;if(3===w||6===w)g=!0;else{if(1===w||2===w){let k=r[++d];for(;"string"==typeof k;)k=r[++d];continue}if(4===w)break;if(0===w){d+=4;continue}}d+=g?1:2}return-1}return function kv(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const c=n[s];if("number"==typeof c)return-1;if(c===r)return s;s++}return-1}(r,n)}function w_(n,r,s=!1){for(let c=0;c<r.length;c++)if(Co(n,r[c],s))return!0;return!1}function Fv(n,r){e:for(let s=0;s<r.length;s++){const c=r[s];if(n.length===c.length){for(let d=0;d<n.length;d++)if(n[d]!==c[d])continue e;return!0}}return!1}function fm(n,r){return n?":not("+r.trim()+")":r}function Nv(n){let r=n[0],s=1,c=2,d="",g=!1;for(;s<n.length;){let w=n[s];if("string"==typeof w)if(2&c){const k=n[++s];d+="["+w+(k.length>0?'="'+k+'"':"")+"]"}else 8&c?d+="."+w:4&c&&(d+=" "+w);else""!==d&&!Sa(w)&&(r+=fm(g,d),d=""),c=w,g=g||!Sa(c);s++}return""!==d&&(r+=fm(g,d)),r}const Di={};function Vv(n){oh(Cn(),_t(),xr()+n,!1)}function oh(n,r,s,c){if(!c)if(3==(3&r[ti])){const g=n.preOrderCheckHooks;null!==g&&_l(r,g,s)}else{const g=n.preOrderHooks;null!==g&&_a(r,g,0,s)}ma(s)}function jv(n,r=null,s=null,c){const d=$v(n,r,s,c);return d.resolveInjectorInitializers(),d}function $v(n,r=null,s=null,c,d=new Set){const g=[s||dt,qd(n)];return c=c||("object"==typeof n?void 0:j(n)),new g_(g,r||ac(),c||null,d)}let ia=(()=>{class n{static create(s,c){if(Array.isArray(s))return jv({name:""},c,s,"");{const d=s.name??"";return jv({name:d},s.parent,s.providers,d)}}}return n.THROW_IF_NOT_FOUND=Te,n.NULL=new sr,n.\u0275prov=R({token:n,providedIn:"any",factory:()=>on(On)}),n.__NG_ELEMENT_ID__=-1,n})();function Ga(n,r=Le.Default){const s=_t();return null===s?on(n,r):Ys(Ei(),s,V(n),r)}function cc(){throw new Error("invalid")}function P_(n,r){const s=n.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const g=s[c+1];if(-1!==g){const w=n.data[g];el(s[c]),w.contentQueries(2,r[g],g)}}}function uh(n,r,s,c,d,g,w,k,U,se,De){const We=r.blueprint.slice();return We[hi]=d,We[ti]=76|c,(null!==De||n&&1024&n[ti])&&(We[ti]|=1024),ha(We),We[Jn]=We[Tr]=n,We[li]=s,We[jo]=w||n&&n[jo],We[ri]=k||n&&n[ri],We[wo]=U||n&&n[wo]||null,We[cr]=se||n&&n[cr]||null,We[Hi]=g,We[fo]=function Xh(){return nc++}(),We[qr]=De,We[ur]=2==r.type?n[ur]:We,We}function nu(n,r,s,c,d){let g=n.data[r];if(null===g)g=function ym(n,r,s,c,d){const g=$i(),w=Wi(),U=n.data[r]=function ey(n,r,s,c,d,g){return{type:s,index:c,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,s,r,c,d);return null===n.firstChild&&(n.firstChild=U),null!==g&&(w?null==g.child&&null!==U.parent&&(g.child=U):null===g.next&&(g.next=U,U.prev=g)),U}(n,r,s,c,d),function Rs(){return Wn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=s,g.value=c,g.attrs=d;const w=function Gi(){const n=Wn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return Qi(g,!0),g}function Ku(n,r,s,c){if(0===s)return-1;const d=r.length;for(let g=0;g<s;g++)r.push(c),n.blueprint.push(c),n.data.push(null);return d}function kf(n,r,s){$l(r);try{const c=n.viewQuery;null!==c&&F_(1,c,s);const d=n.template;null!==d&&Nf(n,r,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&P_(n,r),n.staticViewQueries&&F_(2,n.viewQuery,s);const g=n.components;null!==g&&function kE(n,r){for(let s=0;s<r.length;s++)uy(n,r[s])}(r,g)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{r[ti]&=-5,tl()}}function Ff(n,r,s,c){const d=r[ti];if(128!=(128&d)){$l(r);try{ha(r),function Ao(n){return Wn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Nf(n,r,s,2,c);const w=3==(3&d);if(w){const se=n.preOrderCheckHooks;null!==se&&_l(r,se,null)}else{const se=n.preOrderHooks;null!==se&&_a(r,se,0,null),L(r,0)}if(function ly(n){for(let r=sf(n);null!==r;r=af(r)){if(!r[Ra])continue;const s=r[ro];for(let c=0;c<s.length;c++){const d=s[c];512&d[ti]||ns(d[Jn],1),d[ti]|=512}}}(r),function Uf(n){for(let r=sf(n);null!==r;r=af(r))for(let s=qi;s<r.length;s++){const c=r[s],d=c[xn];Ps(c)&&Ff(d,c,d.template,c[li])}}(r),null!==n.contentQueries&&P_(n,r),w){const se=n.contentCheckHooks;null!==se&&_l(r,se)}else{const se=n.contentHooks;null!==se&&_a(r,se,1),L(r,1)}!function Qv(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)ma(~d);else{const g=d,w=s[++c],k=s[++c];Ic(w,g),k(2,r[g])}}}finally{ma(-1)}}(n,r);const k=n.components;null!==k&&function Xv(n,r){for(let s=0;s<r.length;s++)cy(n,r[s])}(r,k);const U=n.viewQuery;if(null!==U&&F_(2,U,c),w){const se=n.viewCheckHooks;null!==se&&_l(r,se)}else{const se=n.viewHooks;null!==se&&_a(r,se,2),L(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[ti]&=-41,512&r[ti]&&(r[ti]&=-513,ns(r[Jn],-1))}finally{tl()}}}function Nf(n,r,s,c,d){const g=xr(),w=2&c;try{ma(-1),w&&r.length>Ai&&oh(n,r,Ai,!1),Xr(w?2:0,d),s(c,d)}finally{ma(g),Xr(w?3:1,d)}}function R_(n,r,s){if(rr(r)){const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const w=n.data[g];w.contentQueries&&w.contentQueries(1,s[g],g)}}}function Lf(n,r,s){Ge()&&(function iy(n,r,s,c){const d=s.directiveStart,g=s.directiveEnd;dr(s)&&function sy(n,r,s){const c=Oi(r,n),d=Jv(s),g=n[jo],w=Dm(n,uh(n,d,null,s.onPush?32:16,c,r,g,g.createRenderer(c,s),null,null,null));n[r.index]=w}(r,s,n.data[d+s.componentOffset]),n.firstCreatePass||Cr(s,r),Mo(c,r);const w=s.initialInputs;for(let k=d;k<g;k++){const U=n.data[k],se=vs(r,n,k,s);Mo(se,r),null!==w&&VE(0,k-d,se,U,0,w),_r(U)&&(Mr(s.index,r)[li]=vs(r,n,k,s))}}(n,r,s,Oi(s,r)),64==(64&s.flags)&&uc(n,r,s))}function dh(n,r,s=Oi){const c=r.localNames;if(null!==c){let d=r.index+1;for(let g=0;g<c.length;g+=2){const w=c[g+1],k=-1===w?s(r,n):n[w];n[d++]=k}}}function Jv(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=bm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function bm(n,r,s,c,d,g,w,k,U,se){const De=Ai+c,We=De+d,xt=function hh(n,r){const s=[];for(let c=0;c<r;c++)s.push(c<n?null:Di);return s}(De,We),Lt="function"==typeof se?se():se;return xt[xn]={type:n,blueprint:xt,template:s,queries:null,viewQuery:k,declTNode:r,data:xt.slice().fill(null,De),bindingStartIndex:De,expandoStartIndex:We,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:U,consts:Lt,incompleteFirstPass:!1}}function Yu(n,r,s,c){const d=dy(r);null===s?d.push(c):(d.push(s),n.firstCreatePass&&hy(n).push(c,d.length-1))}function O_(n,r,s,c){for(let d in n)if(n.hasOwnProperty(d)){s=null===s?{}:s;const g=n[d];null===c?as(s,r,d,g):c.hasOwnProperty(d)&&as(s,r,c[d],g)}return s}function as(n,r,s,c){n.hasOwnProperty(s)?n[s].push(r,c):n[s]=[r,c]}function xs(n,r,s,c,d,g,w,k){const U=Oi(r,s);let De,se=r.inputs;!k&&null!=se&&(De=se[c])?(mh(n,s,De,c,d),dr(r)&&function ny(n,r){const s=Mr(r,n);16&s[ti]||(s[ti]|=32)}(s,r.index)):3&r.type&&(c=function Em(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),d=null!=w?w(d,r.value||"",c):d,g.setProperty(U,c,d))}function xm(n,r,s,c){if(Ge()){const d=null===c?null:{"":-1},g=function NE(n,r){const s=n.directiveRegistry;let c=null,d=null;if(s)for(let g=0;g<s.length;g++){const w=s[g];if(w_(r,w.selectors,!1))if(c||(c=[]),_r(w))if(null!==w.findHostDirectiveDefs){const k=[];d=d||new Map,w.findHostDirectiveDefs(w,k,d),c.unshift(...k,w),Cm(n,r,k.length)}else c.unshift(w),Cm(n,r,0);else d=d||new Map,w.findHostDirectiveDefs?.(w,c,d),c.push(w)}return null===c?null:[c,d]}(n,s);let w,k;null===g?w=k=null:[w,k]=g,null!==w&&ru(n,r,s,w,d,k),d&&function LE(n,r,s){if(r){const c=n.localNames=[];for(let d=0;d<r.length;d+=2){const g=s[r[d+1]];if(null==g)throw new _e(-301,!1);c.push(r[d],g)}}}(s,c,d)}s.mergedAttrs=jr(s.mergedAttrs,s.attrs)}function ru(n,r,s,c,d,g){for(let se=0;se<c.length;se++)Kl(Cr(s,r),n,c[se].type);!function BE(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,c.length);for(let se=0;se<c.length;se++){const De=c[se];De.providersResolver&&De.providersResolver(De)}let w=!1,k=!1,U=Ku(n,r,c.length,null);for(let se=0;se<c.length;se++){const De=c[se];s.mergedAttrs=jr(s.mergedAttrs,De.hostAttrs),wm(n,s,r,U,De),oy(U,De,d),null!==De.contentQueries&&(s.flags|=4),(null!==De.hostBindings||null!==De.hostAttrs||0!==De.hostVars)&&(s.flags|=64);const We=De.type.prototype;!w&&(We.ngOnChanges||We.ngOnInit||We.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(s.index),w=!0),!k&&(We.ngOnChanges||We.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(s.index),k=!0),U++}!function ty(n,r,s){const d=r.directiveEnd,g=n.data,w=r.attrs,k=[];let U=null,se=null;for(let De=r.directiveStart;De<d;De++){const We=g[De],xt=s?s.get(We):null,cn=xt?xt.outputs:null;U=O_(We.inputs,De,U,xt?xt.inputs:null),se=O_(We.outputs,De,se,cn);const mn=null===U||null===w||x_(r)?null:ay(U,De,w);k.push(mn)}null!==U&&(U.hasOwnProperty("class")&&(r.flags|=8),U.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=k,r.inputs=U,r.outputs=se}(n,s,g)}function uc(n,r,s){const c=s.directiveStart,d=s.directiveEnd,g=s.index,w=function To(){return Wn.lFrame.currentDirectiveIndex}();try{ma(g);for(let k=c;k<d;k++){const U=n.data[k],se=r[k];fa(k),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&ry(U,se)}}finally{ma(-1),fa(w)}}function ry(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Cm(n,r,s){r.componentOffset=s,(n.components??(n.components=[])).push(r.index)}function oy(n,r,s){if(s){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)s[r.exportAs[c]]=n;_r(r)&&(s[""]=n)}}function wm(n,r,s,c,d){n.data[c]=d;const g=d.factory||(d.factory=Wo(d.type)),w=new tt(g,_r(d),Ga);n.blueprint[c]=w,s[c]=w,function FE(n,r,s,c,d){const g=d.hostBindings;if(g){let w=n.hostBindingOpCodes;null===w&&(w=n.hostBindingOpCodes=[]);const k=~r.index;(function fh(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(w)!=k&&w.push(k),w.push(s,c,g)}}(n,r,c,Ku(n,s,d.hostVars,Di),d)}function kl(n,r,s,c,d,g){const w=Oi(n,r);!function Im(n,r,s,c,d,g,w){if(null==g)n.removeAttribute(r,d,s);else{const k=null==w?fe(g):w(g,c||"",d);n.setAttribute(r,d,k,s)}}(r[ri],w,g,n.value,s,c,d)}function VE(n,r,s,c,d,g){const w=g[r];if(null!==w){const k=c.setInput;for(let U=0;U<w.length;){const se=w[U++],De=w[U++],We=w[U++];null!==k?c.setInput(s,We,se,De):s[De]=We}}}function ay(n,r,s){let c=null,d=0;for(;d<s.length;){const g=s[d];if(0!==g)if(5!==g){if("number"==typeof g)break;if(n.hasOwnProperty(g)){null===c&&(c=[]);const w=n[g];for(let k=0;k<w.length;k+=2)if(w[k]===r){c.push(g,w[k+1],s[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function ou(n,r,s,c){return[n,!0,!1,r,null,0,c,s,null,null]}function cy(n,r){const s=Mr(r,n);if(Ps(s)){const c=s[xn];48&s[ti]?Ff(c,s,c.template,s[li]):s[lr]>0&&k_(s)}}function k_(n){for(let c=sf(n);null!==c;c=af(c))for(let d=qi;d<c.length;d++){const g=c[d];if(Ps(g))if(512&g[ti]){const w=g[xn];Ff(w,g,w.template,g[li])}else g[lr]>0&&k_(g)}const s=n[xn].components;if(null!==s)for(let c=0;c<s.length;c++){const d=Mr(s[c],n);Ps(d)&&d[lr]>0&&k_(d)}}function uy(n,r){const s=Mr(r,n),c=s[xn];(function UE(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(c,s),kf(c,s,s[li])}function Dm(n,r){return n[hs]?n[Is][Ar]=r:n[hs]=r,n[Is]=r,r}function Am(n){for(;n;){n[ti]|=32;const r=Mu(n);if(la(n)&&!r)return n;n=r}return null}function ph(n,r,s,c=!0){const d=r[jo];d.begin&&d.begin();try{Ff(n,r,n.template,s)}catch(w){throw c&&fy(r,w),w}finally{d.end&&d.end()}}function F_(n,r,s){el(0),r(n,s)}function dy(n){return n[Yi]||(n[Yi]=[])}function hy(n){return n.cleanup||(n.cleanup=[])}function Tm(n,r,s){return(null===n||_r(n))&&(s=function ki(n){for(;Array.isArray(n);){if("object"==typeof n[po])return n;n=n[hi]}return null}(s[r.index])),s[ri]}function fy(n,r){const s=n[cr],c=s?s.get(ih,null):null;c&&c.handleError(r)}function mh(n,r,s,c,d){for(let g=0;g<s.length;){const w=s[g++],k=s[g++],U=r[w],se=n.data[w];null!==se.setInput?se.setInput(U,d,c,k):U[k]=d}}function Wa(n,r,s){const c=vo(r,n);!function uf(n,r,s){n.setValue(r,s)}(n[ri],c,s)}function Sm(n,r,s){let c=s?n.styles:null,d=s?n.classes:null,g=0;if(null!==r)for(let w=0;w<r.length;w++){const k=r[w];"number"==typeof k?g=k:1==g?d=K(d,k):2==g&&(c=K(c,k+": "+r[++w]+";"))}s?n.styles=c:n.stylesWithoutHost=c,s?n.classes=d:n.classesWithoutHost=d}function zf(n,r,s,c,d=!1){for(;null!==s;){const g=r[s.index];if(null!==g&&c.push(Ri(g)),gr(g))for(let k=qi;k<g.length;k++){const U=g[k],se=U[xn].firstChild;null!==se&&zf(U[xn],U,se,c)}const w=s.type;if(8&w)zf(n,r,s.child,c);else if(32&w){const k=nf(s,r);let U;for(;U=k();)c.push(U)}else if(16&w){const k=ku(r,s);if(Array.isArray(k))c.push(...k);else{const U=Mu(r[ur]);zf(U[xn],U,k,c,!0)}}s=d?s.projectionNext:s.next}return c}class qu{get rootNodes(){const r=this._lView,s=r[xn];return zf(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[li]}set context(r){this._lView[li]=r}get destroyed(){return 128==(128&this._lView[ti])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Jn];if(gr(r)){const s=r[fs],c=s?s.indexOf(this):-1;c>-1&&(Hc(r,c),S(s,c))}this._attachedToViewContainer=!1}pr(this._lView[xn],this._lView)}onDestroy(r){Yu(this._lView[xn],this._lView,null,r)}markForCheck(){Am(this._cdRefInjectingView||this._lView)}detach(){this._lView[ti]&=-65}reattach(){this._lView[ti]|=64}detectChanges(){ph(this._lView[xn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ff(n,r){bs(n,r,r[ri],2,null,null)}(this._lView[xn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=r}}class N_ extends qu{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;ph(r[xn],r,r[li],!1)}checkNoChanges(){}get context(){return null}}class gh extends eh{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=bt(r);return new jf(s,this.ngModule)}}function Hf(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class B_{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,c){c=rt(c);const d=this.injector.get(r,um,c);return d!==um||s===um?d:this.parentInjector.get(r,s,c)}}class jf extends __{get inputs(){return Hf(this.componentDef.inputs)}get outputs(){return Hf(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Lv(n){return n.map(Nv).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,c,d){let g=(d=d||this.ngModule)instanceof Xc?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const w=g?new B_(r,g):r,k=w.get(cm,null);if(null===k)throw new _e(407,!1);const U=w.get(Ro,null),se=k.createRenderer(null,this.componentDef),De=this.componentDef.selectors[0][0]||"div",We=c?function Bf(n,r,s){return n.selectRootElement(r,s===Je.ShadowDom)}(se,c,this.componentDef.encapsulation):Pu(se,De,function L_(n){const r=n.toLowerCase();return"svg"===r?gs:"math"===r?"math":null}(De)),xt=this.componentDef.onPush?288:272,Lt=bm(0,null,null,1,0,null,null,null,null,null),cn=uh(null,Lt,null,xt,null,null,k,se,U,w,null);let mn,Hn;$l(cn);try{const Xn=this.componentDef;let gi,_n=null;Xn.findHostDirectiveDefs?(gi=[],_n=new Map,Xn.findHostDirectiveDefs(Xn,gi,_n),gi.push(Xn)):gi=[Xn];const wi=function my(n,r){const s=n[xn],c=Ai;return n[c]=r,nu(s,c,2,"#host",null)}(cn,We),Dr=function gy(n,r,s,c,d,g,w,k){const U=d[xn];!function V_(n,r,s,c){for(const d of n)r.mergedAttrs=jr(r.mergedAttrs,d.hostAttrs);null!==r.mergedAttrs&&(Sm(r,r.mergedAttrs,!0),null!==s&&Nd(c,s,r))}(c,n,r,w);const se=g.createRenderer(r,s),De=uh(d,Jv(s),null,s.onPush?32:16,d[n.index],n,g,se,k||null,null,null);return U.firstCreatePass&&Cm(U,n,c.length-1),Dm(d,De),d[n.index]=De}(wi,We,Xn,gi,cn,k,se);Hn=Ss(Lt,Ai),We&&function _y(n,r,s,c){if(c)Li(n,s,["ng-version",y_.full]);else{const{attrs:d,classes:g}=function Bv(n){const r=[],s=[];let c=1,d=2;for(;c<n.length;){let g=n[c];if("string"==typeof g)2===d?""!==g&&r.push(g,n[++c]):8===d&&s.push(g);else{if(!Sa(d))break;d=g}c++}return{attrs:r,classes:s}}(r.selectors[0]);d&&Li(n,s,d),g&&g.length>0&&wl(n,s,g.join(" "))}}(se,Xn,We,c),void 0!==s&&function HE(n,r,s){const c=n.projection=[];for(let d=0;d<r.length;d++){const g=s[d];c.push(null!=g?Array.from(g):null)}}(Hn,this.ngContentSelectors,s),mn=function zE(n,r,s,c,d,g){const w=Ei(),k=d[xn],U=Oi(w,d);ru(k,d,w,s,null,c);for(let De=0;De<s.length;De++)Mo(vs(d,k,w.directiveStart+De,w),d);uc(k,d,w),U&&Mo(U,d);const se=vs(d,k,w.directiveStart+w.componentOffset,w);if(n[li]=d[li]=se,null!==g)for(const De of g)De(se,r);return R_(k,w,n),se}(Dr,Xn,gi,_n,cn,[vy]),kf(Lt,cn,null)}finally{tl()}return new py(this.componentType,mn,Jc(Hn,cn),cn,Hn)}}class py extends xE{constructor(r,s,c,d,g){super(),this.location=c,this._rootLView=d,this._tNode=g,this.instance=s,this.hostView=this.changeDetectorRef=new N_(d),this.componentType=r}setInput(r,s){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[r])){const g=this._rootLView;mh(g[xn],g,d,r,s),Am(Mr(this._tNode.index,g))}}get injector(){return new Fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function vy(){const n=Ei();ga(_t()[xn],n)}function su(n){let r=function yy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const c=[n];for(;r;){let d;if(_r(n))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new _e(903,!1);d=r.\u0275dir}if(d){if(s){c.push(d);const w=n;w.inputs=$f(n.inputs),w.declaredInputs=$f(n.declaredInputs),w.outputs=$f(n.outputs);const k=d.hostBindings;k&&Ey(n,k);const U=d.viewQuery,se=d.contentQueries;if(U&&Mm(n,U),se&&by(n,se),ie(n.inputs,d.inputs),ie(n.declaredInputs,d.declaredInputs),ie(n.outputs,d.outputs),_r(d)&&d.data.animation){const De=n.data;De.animation=(De.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let w=0;w<g.length;w++){const k=g[w];k&&k.ngInherit&&k(n),k===su&&(s=!1)}}r=Object.getPrototypeOf(r)}!function _h(n){let r=0,s=null;for(let c=n.length-1;c>=0;c--){const d=n[c];d.hostVars=r+=d.hostVars,d.hostAttrs=jr(d.hostAttrs,s=jr(s,d.hostAttrs))}}(c)}function $f(n){return n===Rt?{}:n===dt?[]:n}function Mm(n,r){const s=n.viewQuery;n.viewQuery=s?(c,d)=>{r(c,d),s(c,d)}:r}function by(n,r){const s=n.contentQueries;n.contentQueries=s?(c,d,g)=>{r(c,d,g),s(c,d,g)}:r}function Ey(n,r){const s=n.hostBindings;n.hostBindings=s?(c,d)=>{r(c,d),s(c,d)}:r}function Qu(n){return!!Wf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Wf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Fl(n,r,s){return n[r]=s}function Uo(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function dc(n,r,s,c){const d=Uo(n,r,s);return Uo(n,r+1,c)||d}function Jo(n,r,s,c){const d=_t();return Uo(d,Yo(),r)&&(Cn(),kl(or(),d,n,r,s,c)),Jo}function Xu(n,r,s,c){return Uo(n,Yo(),s)?r+fe(s)+c:Di}function Nl(n,r,s,c,d,g,w,k){const se=function Om(n,r,s,c,d){const g=dc(n,r,s,c);return Uo(n,r+2,d)||g}(n,Rr(),s,d,w);return so(3),se?r+fe(s)+c+fe(d)+g+fe(w)+k:Di}function Lm(n,r,s,c,d,g,w,k){const U=_t(),se=Cn(),De=n+Ai,We=se.firstCreatePass?function $_(n,r,s,c,d,g,w,k,U){const se=r.consts,De=nu(r,n,4,w||null,Fr(se,k));xm(r,s,De,Fr(se,U)),ga(r,De);const We=De.tView=bm(2,De,c,d,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,se);return null!==r.queries&&(r.queries.template(r,De),We.queries=r.queries.embeddedTView(De)),De}(De,se,U,r,s,c,d,g,w):se.data[De];Qi(We,!1);const xt=U[ri].createComment("");Ia(se,U,xt,We),Mo(xt,U),Dm(U,U[De]=ou(xt,U,xt,We)),Io(We)&&Lf(se,U,We),null!=w&&dh(U,We,k)}function G_(n){return Do(function is(){return Wn.lFrame.contextLView}(),Ai+n)}function W_(n,r,s){const c=_t();return Uo(c,Yo(),r)&&xs(Cn(),or(),c,n,r,c[ri],s,!1),W_}function Kf(n,r,s,c,d){const w=d?"class":"style";mh(n,s,r.inputs[w],w,c)}function wh(n,r,s,c){const d=_t(),g=Cn(),w=Ai+n,k=d[ri],U=g.firstCreatePass?function GE(n,r,s,c,d,g){const w=r.consts,U=nu(r,n,2,c,Fr(w,d));return xm(r,s,U,Fr(w,g)),null!==U.attrs&&Sm(U,U.attrs,!1),null!==U.mergedAttrs&&Sm(U,U.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,U),U}(w,g,d,r,s,c):g.data[w],se=d[w]=Pu(k,r,function Sc(){return Wn.lFrame.currentNamespace}()),De=Io(U);return Qi(U,!0),Nd(k,se,U),32!=(32&U.flags)&&Ia(g,d,se,U),0===function A(){return Wn.lFrame.elementDepthCount}()&&Mo(se,d),function T(){Wn.lFrame.elementDepthCount++}(),De&&(Lf(g,d,U),R_(g,U,d)),null!==c&&dh(d,U),wh}function Bm(){let n=Ei();Wi()?yo():(n=n.parent,Qi(n,!1));const r=n;!function Q(){Wn.lFrame.elementDepthCount--}();const s=Cn();return s.firstCreatePass&&(ga(s,n),rr(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Ni(n){return 0!=(8&n.flags)}(r)&&Kf(s,r,_t(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Pi(n){return 0!=(16&n.flags)}(r)&&Kf(s,r,_t(),r.stylesWithoutHost,!1),Bm}function Yf(n,r,s,c){return wh(n,r,s,c),Bm(),Yf}function Ih(n,r,s){const c=_t(),d=Cn(),g=n+Ai,w=d.firstCreatePass?function WE(n,r,s,c,d){const g=r.consts,w=Fr(g,c),k=nu(r,n,8,"ng-container",w);return null!==w&&Sm(k,w,!0),xm(r,s,k,Fr(g,d)),null!==r.queries&&r.queries.elementStart(r,k),k}(g,d,c,r,s):d.data[g];Qi(w,!0);const k=c[g]=c[ri].createComment("");return Ia(d,c,k,w),Mo(k,c),Io(w)&&(Lf(d,c,w),R_(d,w,c)),null!=s&&dh(c,w),Ih}function nd(){let n=Ei();const r=Cn();return Wi()?yo():(n=n.parent,Qi(n,!1)),r.firstCreatePass&&(ga(r,n),rr(n)&&r.queries.elementEnd(n)),nd}function qf(n,r,s){return Ih(n,r,s),nd(),qf}function Z_(){return _t()}function cu(n){return!!n&&"function"==typeof n.then}function Vm(n){return!!n&&"function"==typeof n.subscribe}const Sy=Vm;function K_(n,r,s,c){const d=_t(),g=Cn(),w=Ei();return Py(g,d,d[ri],w,n,r,c),K_}function Um(n,r){const s=Ei(),c=_t(),d=Cn();return Py(d,c,Tm(No(d.data),s,c),s,n,r),Um}function Py(n,r,s,c,d,g,w){const k=Io(c),se=n.firstCreatePass&&hy(n),De=r[li],We=dy(r);let xt=!0;if(3&c.type||w){const mn=Oi(c,r),Hn=w?w(mn):mn,Xn=We.length,gi=w?wi=>w(Ri(wi[c.index])):c.index;let _n=null;if(!w&&k&&(_n=function My(n,r,s,c){const d=n.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const w=d[g];if(w===s&&d[g+1]===c){const k=r[Yi],U=d[g+2];return k.length>U?k[U]:null}"string"==typeof w&&(g+=2)}return null}(n,r,d,c.index)),null!==_n)(_n.__ngLastListenerFn__||_n).__ngNextListenerFn__=g,_n.__ngLastListenerFn__=g,xt=!1;else{g=Ry(c,r,De,g,!1);const wi=s.listen(Hn,d,g);We.push(g,wi),se&&se.push(d,gi,Xn,Xn+1)}}else g=Ry(c,r,De,g,!1);const Lt=c.outputs;let cn;if(xt&&null!==Lt&&(cn=Lt[d])){const mn=cn.length;if(mn)for(let Hn=0;Hn<mn;Hn+=2){const Dr=r[cn[Hn]][cn[Hn+1]].subscribe(g),uo=We.length;We.push(g,Dr),se&&se.push(d,c.index,uo,-(uo+1))}}}function zm(n,r,s,c){try{return Xr(6,r,s),!1!==s(c)}catch(d){return fy(n,d),!1}finally{Xr(7,r,s)}}function Ry(n,r,s,c,d){return function g(w){if(w===Function)return c;Am(n.componentOffset>-1?Mr(n.index,r):r);let U=zm(r,s,c,w),se=g.__ngNextListenerFn__;for(;se;)U=zm(r,s,se,w)&&U,se=se.__ngNextListenerFn__;return d&&!1===U&&(w.preventDefault(),w.returnValue=!1),U}}function Hm(n=1){return function Ac(n){return(Wn.lFrame.contextLView=function Lo(n,r){for(;n>0;)r=r[Tr],n--;return r}(n,Wn.lFrame.contextLView))[li]}(n)}function ZE(n,r){let s=null;const c=function Mf(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(n);for(let d=0;d<r.length;d++){const g=r[d];if("*"!==g){if(null===c?w_(n,g,!0):Fv(c,g))return d}else s=d}return s}function jm(n){const r=_t()[ur][Hi];if(!r.projection){const c=r.projection=P(n?n.length:1,null),d=c.slice();let g=r.child;for(;null!==g;){const w=n?ZE(g,n):0;null!==w&&(d[w]?d[w].projectionNext=g:c[w]=g,d[w]=g),g=g.next}}}function Oy(n,r=0,s){const c=_t(),d=Cn(),g=nu(d,Ai+n,16,null,s||null);null===g.projection&&(g.projection=r),yo(),32!=(32&g.flags)&&function Jp(n,r,s){gf(r[ri],0,r,s,jc(n,s,r),ja(s.parent||r[Hi],s,r))}(d,c,g)}function Qf(n,r,s){return Xf(n,"",r,"",s),Qf}function Xf(n,r,s,c,d){const g=_t(),w=Xu(g,r,s,c);return w!==Di&&xs(Cn(),or(),g,n,w,g[ri],d,!1),Xf}function Jf(n,r){return n<<17|r<<2}function Ma(n){return n>>17&32767}function Km(n){return 2|n}function pc(n){return(131068&n)>>2}function ep(n,r){return-131069&n|r<<2}function tp(n){return 1|n}function X_(n,r,s,c,d){const g=n[s+1],w=null===r;let k=c?Ma(g):pc(g),U=!1;for(;0!==k&&(!1===U||w);){const De=n[k+1];J_(n[k],r)&&(U=!0,n[k+1]=c?tp(De):Km(De)),k=c?Ma(De):pc(De)}U&&(n[s+1]=c?Km(g):tp(g))}function J_(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ln(n,r)>=0}const zo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function e0(n){return n.substring(zo.key,zo.keyEnd)}function t0(n,r){const s=zo.textEnd;return s===r?-1:(r=zo.keyEnd=function QE(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,zo.key=r,s),Dh(n,r,s))}function Dh(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function np(n,r,s){return Pa(n,r,s,!1),np}function ip(n,r){return Pa(n,r,null,!0),ip}function Qm(n){!function dl(n,r,s,c){const d=Cn(),g=so(2);d.firstUpdatePass&&r0(d,null,g,c);const w=_t();if(s!==Di&&Uo(w,g,s)){const k=d.data[xr()];if(ng(k,c)&&!Xm(d,g)){let U=c?k.classesWithoutHost:k.stylesWithoutHost;null!==U&&(s=K(U,s||"")),Kf(d,k,w,s,c)}else!function l0(n,r,s,c,d,g,w,k){d===Di&&(d=dt);let U=0,se=0,De=0<d.length?d[0]:null,We=0<g.length?g[0]:null;for(;null!==De||null!==We;){const xt=U<d.length?d[U+1]:void 0,Lt=se<g.length?g[se+1]:void 0;let mn,cn=null;De===We?(U+=2,se+=2,xt!==Lt&&(cn=We,mn=Lt)):null===We||null!==De&&De<We?(U+=2,cn=De):(se+=2,cn=We,mn=Lt),null!==cn&&eg(n,r,s,c,cn,mn,w,k),De=U<d.length?d[U]:null,We=se<g.length?g[se]:null}}(d,k,w,w[ri],w[g+1],w[g+1]=function ix(n,r,s){if(null==s||""===s)return dt;const c=[],d=xi(s);if(Array.isArray(d))for(let g=0;g<d.length;g++)n(c,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&n(c,g,d[g]);else"string"==typeof d&&r(c,d);return c}(n,r,s),c,g)}}(rx,Ll,n,!0)}function Ll(n,r){for(let s=function ky(n){return function Ny(n){zo.key=0,zo.keyEnd=0,zo.value=0,zo.valueEnd=0,zo.textEnd=n.length}(n),t0(n,Dh(n,0,zo.textEnd))}(r);s>=0;s=t0(r,s))Re(n,e0(r),!0)}function Pa(n,r,s,c){const d=_t(),g=Cn(),w=so(2);g.firstUpdatePass&&r0(g,n,w,c),r!==Di&&Uo(d,w,r)&&eg(g,g.data[xr()],d,d[ri],n,d[w+1]=function By(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=j(xi(n)))),n}(r,s),c,w)}function Xm(n,r){return r>=n.expandoStartIndex}function r0(n,r,s,c){const d=n.data;if(null===d[s+1]){const g=d[xr()],w=Xm(n,s);ng(g,c)&&null===r&&!w&&(r=!1),r=function o0(n,r,s,c){const d=No(n);let g=c?r.residualClasses:r.residualStyles;if(null===d)0===(c?r.classBindings:r.styleBindings)&&(s=sd(s=a0(null,n,r,s,c),r.attrs,c),g=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==d)if(s=a0(d,n,r,s,c),null===g){let U=function Ly(n,r,s){const c=s?r.classBindings:r.styleBindings;if(0!==pc(c))return n[Ma(c)]}(n,r,c);void 0!==U&&Array.isArray(U)&&(U=a0(null,n,r,U[1],c),U=sd(U,r.attrs,c),function nx(n,r,s,c){n[Ma(s?r.classBindings:r.styleBindings)]=c}(n,r,c,U))}else g=function s0(n,r,s){let c;const d=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<d;g++)c=sd(c,n[g].hostAttrs,s);return sd(c,r.attrs,s)}(n,r,c)}return void 0!==g&&(c?r.residualClasses=g:r.residualStyles=g),s}(d,g,r,c),function q_(n,r,s,c,d,g){let w=g?r.classBindings:r.styleBindings,k=Ma(w),U=pc(w);n[c]=s;let De,se=!1;if(Array.isArray(s)?(De=s[1],(null===De||ln(s,De)>0)&&(se=!0)):De=s,d)if(0!==U){const xt=Ma(n[k+1]);n[c+1]=Jf(xt,k),0!==xt&&(n[xt+1]=ep(n[xt+1],c)),n[k+1]=function YE(n,r){return 131071&n|r<<17}(n[k+1],c)}else n[c+1]=Jf(k,0),0!==k&&(n[k+1]=ep(n[k+1],c)),k=c;else n[c+1]=Jf(U,0),0===k?k=c:n[U+1]=ep(n[U+1],c),U=c;se&&(n[c+1]=Km(n[c+1])),X_(n,De,c,!0),X_(n,De,c,!1),function Q_(n,r,s,c,d){const g=d?n.residualClasses:n.residualStyles;null!=g&&"string"==typeof r&&ln(g,r)>=0&&(s[c+1]=tp(s[c+1]))}(r,De,n,c,g),w=Jf(k,U),g?r.classBindings=w:r.styleBindings=w}(d,g,r,s,w,c)}}function a0(n,r,s,c,d){let g=null;const w=s.directiveEnd;let k=s.directiveStylingLast;for(-1===k?k=s.directiveStart:k++;k<w&&(g=r[k],c=sd(c,g.hostAttrs,d),g!==n);)k++;return null!==n&&(s.directiveStylingLast=k),c}function sd(n,r,s){const c=s?1:2;let d=-1;if(null!==r)for(let g=0;g<r.length;g++){const w=r[g];"number"==typeof w?d=w:d===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Re(n,w,!!s||r[++g]))}return void 0===n?null:n}function rx(n,r,s){const c=String(r);""!==c&&!c.includes(" ")&&Re(n,c,s)}function eg(n,r,s,c,d,g,w,k){if(!(3&r.type))return;const U=n.data,se=U[k+1],De=function Y_(n){return 1==(1&n)}(se)?tg(U,r,s,d,pc(se),w):void 0;mc(De)||(mc(g)||function KE(n){return 2==(2&n)}(se)&&(g=tg(U,null,s,d,k,w)),function _f(n,r,s,c,d){if(r)d?n.addClass(s,c):n.removeClass(s,c);else{let g=-1===c.indexOf("-")?void 0:Eo.DashCase;null==d?n.removeStyle(s,c,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=Eo.Important),n.setStyle(s,c,d,g))}}(c,w,vo(xr(),s),d,g))}function tg(n,r,s,c,d,g){const w=null===r;let k;for(;d>0;){const U=n[d],se=Array.isArray(U),De=se?U[1]:U,We=null===De;let xt=s[d+1];xt===Di&&(xt=We?dt:void 0);let Lt=We?At(xt,c):De===c?xt:void 0;if(se&&!mc(Lt)&&(Lt=At(U,c)),mc(Lt)&&(k=Lt,w))return k;const cn=n[d+1];d=w?Ma(cn):pc(cn)}if(null!==r){let U=g?r.residualClasses:r.residualStyles;null!=U&&(k=At(U,c))}return k}function mc(n){return void 0!==n}function ng(n,r){return 0!=(n.flags&(r?8:16))}function Vy(n,r=""){const s=_t(),c=Cn(),d=n+Ai,g=c.firstCreatePass?nu(c,d,1,r,null):c.data[d],w=s[d]=function cf(n,r){return n.createText(r)}(s[ri],r);Ia(c,s,w,g),Qi(g,!1)}function rp(n){return Ya("",n,""),rp}function Ya(n,r,s){const c=_t(),d=Xu(c,n,r,s);return d!==Di&&Wa(c,xr(),d),Ya}function op(n,r,s,c,d){const g=_t(),w=function hc(n,r,s,c,d,g){const k=dc(n,Rr(),s,d);return so(2),k?r+fe(s)+c+fe(d)+g:Di}(g,n,r,s,c,d);return w!==Di&&Wa(g,xr(),w),op}function c0(n,r,s,c,d,g,w){const k=_t(),U=Nl(k,n,r,s,c,d,g,w);return U!==Di&&Wa(k,xr(),U),c0}function cp(n,r,s){const c=_t();if(Uo(c,Yo(),r)){const g=Cn(),w=or();xs(g,w,c,n,r,Tm(No(g.data),w,c),s,!0)}return cp}const gc=void 0;var y0=["en",[["a","p"],["AM","PM"],gc],[["AM","PM"],gc,gc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gc,"{1} 'at' {0}",gc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Yy(n){const s=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let uu={};function up(n){const r=function Ah(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=E0(r);if(s)return s;const c=r.split("-")[0];if(s=E0(c),s)return s;if("en"===c)return y0;throw new _e(701,!1)}function ld(n){return up(n)[fi.PluralCase]}function E0(n){return n in uu||(uu[n]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[n]),uu[n]}var fi=(()=>((fi=fi||{})[fi.LocaleId=0]="LocaleId",fi[fi.DayPeriodsFormat=1]="DayPeriodsFormat",fi[fi.DayPeriodsStandalone=2]="DayPeriodsStandalone",fi[fi.DaysFormat=3]="DaysFormat",fi[fi.DaysStandalone=4]="DaysStandalone",fi[fi.MonthsFormat=5]="MonthsFormat",fi[fi.MonthsStandalone=6]="MonthsStandalone",fi[fi.Eras=7]="Eras",fi[fi.FirstDayOfWeek=8]="FirstDayOfWeek",fi[fi.WeekendRange=9]="WeekendRange",fi[fi.DateFormat=10]="DateFormat",fi[fi.TimeFormat=11]="TimeFormat",fi[fi.DateTimeFormat=12]="DateTimeFormat",fi[fi.NumberSymbols=13]="NumberSymbols",fi[fi.NumberFormats=14]="NumberFormats",fi[fi.CurrencyCode=15]="CurrencyCode",fi[fi.CurrencySymbol=16]="CurrencySymbol",fi[fi.CurrencyName=17]="CurrencyName",fi[fi.Currencies=18]="Currencies",fi[fi.Directionality=19]="Directionality",fi[fi.PluralCase=20]="PluralCase",fi[fi.ExtraData=21]="ExtraData",fi))();const Th="en-US";let Qy=Th;function Ep(n,r,s,c,d){if(n=V(n),Array.isArray(n))for(let g=0;g<n.length;g++)Ep(n[g],r,s,c,d);else{const g=Cn(),w=_t();let k=Sl(n)?n:V(n.provide),U=Vr(n);const se=Ei(),De=1048575&se.providerIndexes,We=se.directiveStart,xt=se.providerIndexes>>20;if(Sl(n)||!n.multi){const Lt=new tt(U,d,Ga),cn=hd(k,r,d?De:De+xt,We);-1===cn?(Kl(Cr(se,w),g,k),dd(g,n,r.length),r.push(k),se.directiveStart++,se.directiveEnd++,d&&(se.providerIndexes+=1048576),s.push(Lt),w.push(Lt)):(s[cn]=Lt,w[cn]=Lt)}else{const Lt=hd(k,r,De+xt,We),cn=hd(k,r,De,De+xt),Hn=cn>=0&&s[cn];if(d&&!Hn||!d&&!(Lt>=0&&s[Lt])){Kl(Cr(se,w),g,k);const Xn=function kC(n,r,s,c,d){const g=new tt(n,s,Ga);return g.multi=[],g.index=r,g.componentProviders=0,vc(g,d,c&&!s),g}(d?Oh:Ax,s.length,d,c,U);!d&&Hn&&(s[cn].providerFactory=Xn),dd(g,n,r.length,0),r.push(k),se.directiveStart++,se.directiveEnd++,d&&(se.providerIndexes+=1048576),s.push(Xn),w.push(Xn)}else dd(g,n,Lt>-1?Lt:cn,vc(s[d?cn:Lt],U,!d&&c));!d&&c&&Hn&&s[cn].componentProviders++}}}function dd(n,r,s,c){const d=Sl(r),g=function Ml(n){return!!n.useClass}(r);if(d||g){const U=(g?V(r.useClass):r).prototype.ngOnDestroy;if(U){const se=n.destroyHooks||(n.destroyHooks=[]);if(!d&&r.multi){const De=se.indexOf(s);-1===De?se.push(s,[c,U]):se[De+1].push(c,U)}else se.push(s,U)}}}function vc(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function hd(n,r,s,c){for(let d=s;d<c;d++)if(r[d]===n)return d;return-1}function Ax(n,r,s,c){return Eb(this.multi,[])}function Oh(n,r,s,c){const d=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,k=vs(s,s[xn],this.providerFactory.index,c);g=k.slice(0,w),Eb(d,g);for(let U=w;U<k.length;U++)g.push(k[U])}else g=[],Eb(d,g);return g}function Eb(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function vg(n,r=[]){return s=>{s.providersResolver=(c,d)=>function bb(n,r,s){const c=Cn();if(c.firstCreatePass){const d=_r(n);Ep(s,c.data,c.blueprint,d,!0),Ep(r,c.data,c.blueprint,d,!1)}}(c,d?d(n):n,r)}}class kh{}class xp{}function Tx(n,r){return new Cp(n,r??null)}class Cp extends kh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gh(this);const c=Vn(r);this._bootstrapComponents=Rl(c.bootstrap),this._r3Injector=$v(r,s,[{provide:kh,useValue:this},{provide:eh,useValue:this.componentFactoryResolver}],j(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class F0 extends xp{constructor(r){super(),this.moduleType=r}create(r){return new Cp(this.moduleType,r)}}class Sx extends kh{constructor(r,s,c){super(),this.componentFactoryResolver=new gh(this),this.instance=null;const d=new g_([...r,{provide:kh,useValue:this},{provide:eh,useValue:this.componentFactoryResolver}],s||ac(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Fh(n,r,s=null){return new Sx(n,r,s).injector}let Mx=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const c=Ci(0,s.type),d=c.length>0?Fh([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,d)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=R({token:n,providedIn:"environment",factory:()=>new n(on(Xc))}),n})();function xb(n){n.getStandaloneInjector=r=>r.get(Mx).getOrCreateStandaloneInjector(n)}function Cb(n,r,s){const c=Xi()+n,d=_t();return d[c]===Di?Fl(d,c,s?r.call(s):r()):function vh(n,r){return n[r]}(d,c)}function z0(n,r,s,c){return Db(_t(),Xi(),n,r,s,c)}function wb(n,r,s,c,d){return Ab(_t(),Xi(),n,r,s,c,d)}function Nh(n,r){const s=n[r];return s===Di?void 0:s}function Db(n,r,s,c,d,g){const w=r+s;return Uo(n,w,d)?Fl(n,w+1,g?c.call(g,d):c(d)):Nh(n,w+1)}function Ab(n,r,s,c,d,g,w){const k=r+s;return dc(n,k,d,g)?Fl(n,k+2,w?c.call(w,d,g):c(d,g)):Nh(n,k+2)}function Eg(n,r){const s=Cn();let c;const d=n+Ai;s.firstCreatePass?(c=function VC(n,r){if(r)for(let s=r.length-1;s>=0;s--){const c=r[s];if(n===c.name)return c}}(r,s.pipeRegistry),s.data[d]=c,c.onDestroy&&(s.destroyHooks??(s.destroyHooks=[])).push(d,c.onDestroy)):c=s.data[d];const g=c.factory||(c.factory=Wo(c.type)),w=He(Ga);try{const k=Mc(!1),U=g();return Mc(k),function lu(n,r,s,c){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=c}(s,_t(),d,U),U}finally{He(w)}}function Sb(n,r,s){const c=n+Ai,d=_t(),g=Do(d,c);return xg(d,c)?Db(d,Xi(),r,g.transform,s,g):g.transform(s)}function Mb(n,r,s,c){const d=n+Ai,g=_t(),w=Do(g,d);return xg(g,d)?Ab(g,Xi(),r,w.transform,s,c,w):w.transform(s,c)}function xg(n,r){return n[xn].data[r].pure}function Pb(n){return r=>{setTimeout(n,void 0,r)}}const Vl=class HC extends l.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,c){let d=r,g=s||(()=>null),w=c;if(r&&"object"==typeof r){const U=r;d=U.next?.bind(U),g=U.error?.bind(U),w=U.complete?.bind(U)}this.__isAsync&&(g=Pb(g),d&&(d=Pb(d)),w&&(w=Pb(w)));const k=super.subscribe({next:d,error:g,complete:w});return r instanceof b.w0&&r.add(k),k}};function zx(){return this._results[Symbol.iterator]()}class Cg{get changes(){return this._changes||(this._changes=new Vl)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Cg.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=zx)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const c=this;c.dirty=!1;const d=function ss(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function ol(n,r,s){if(n.length!==r.length)return!1;for(let c=0;c<n.length;c++){let d=n[c],g=r[c];if(s&&(d=s(d),g=s(g)),g!==d)return!1}return!0}(c._results,d,s))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wg=(()=>{class n{}return n.__NG_ELEMENT_ID__=mu,n})();const Hx=wg,Rb=class extends Hx{constructor(r,s,c){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=c}createEmbeddedView(r,s){const c=this._declarationTContainer.tView,d=uh(this._declarationLView,c,r,16,null,c.declTNode,null,null,null,null,s||null);d[ho]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[Yr];return null!==w&&(d[Yr]=w.createEmbeddedView(c)),kf(c,d,r),new qu(d)}};function mu(){return Ig(Ei(),_t())}function Ig(n,r){return 4&n.type?new Rb(r,n,Jc(n,r)):null}let Dg=(()=>{class n{}return n.__NG_ELEMENT_ID__=jx,n})();function jx(){return Gx(Ei(),_t())}const $x=Dg,Ob=class extends $x{constructor(r,s,c){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=c}get element(){return Jc(this._hostTNode,this._hostLView)}get injector(){return new Fs(this._hostTNode,this._hostLView)}get parentInjector(){const r=Lr(this._hostTNode,this._hostLView);if(qo(r)){const s=_s(r,this._hostLView),c=Os(r);return new Fs(s[xn].data[c+8],s)}return new Fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=kb(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-qi}createEmbeddedView(r,s,c){let d,g;"number"==typeof c?d=c:null!=c&&(d=c.index,g=c.injector);const w=r.createEmbeddedView(s||{},g);return this.insert(w,d),w}createComponent(r,s,c,d,g){const w=r&&!function yl(n){return"function"==typeof n}(r);let k;if(w)k=s;else{const We=s||{};k=We.index,c=We.injector,d=We.projectableNodes,g=We.environmentInjector||We.ngModuleRef}const U=w?r:new jf(bt(r)),se=c||this.parentInjector;if(!g&&null==U.ngModule){const xt=(w?se:this.parentInjector).get(Xc,null);xt&&(g=xt)}const De=U.create(se,d,void 0,g);return this.insert(De.hostView,k),De}insert(r,s){const c=r._lView,d=c[xn];if(function Ko(n){return gr(n[Jn])}(c)){const De=this.indexOf(r);if(-1!==De)this.detach(De);else{const We=c[Jn],xt=new Ob(We,We[Hi],We[Jn]);xt.detach(xt.indexOf(r))}}const g=this._adjustIndex(s),w=this._lContainer;!function qp(n,r,s,c){const d=qi+c,g=s.length;c>0&&(s[d-1][Ar]=r),c<g-qi?(r[Ar]=s[d],Ea(s,qi+c,r)):(s.push(r),r[Ar]=null),r[Jn]=s;const w=r[ho];null!==w&&s!==w&&function sl(n,r){const s=n[ro];r[ur]!==r[Jn][Jn][ur]&&(n[Ra]=!0),null===s?n[ro]=[r]:s.push(r)}(w,r);const k=r[Yr];null!==k&&k.insertView(n),r[ti]|=64}(d,c,w,g);const k=ta(g,w),U=c[ri],se=ea(U,w[$o]);return null!==se&&function hf(n,r,s,c,d,g){c[hi]=d,c[Hi]=r,bs(n,c,s,1,d,g)}(d,w[Hi],U,c,se,k),r.attachToViewContainerRef(),Ea(j0(w),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=kb(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),c=Hc(this._lContainer,s);c&&(S(j0(this._lContainer),s),pr(c[xn],c))}detach(r){const s=this._adjustIndex(r,-1),c=Hc(this._lContainer,s);return c&&null!=S(j0(this._lContainer),s)?new qu(c):null}_adjustIndex(r,s=0){return r??this.length+s}};function kb(n){return n[fs]}function j0(n){return n[fs]||(n[fs]=[])}function Gx(n,r){let s;const c=r[n.index];if(gr(c))s=c;else{let d;if(8&n.type)d=Ri(c);else{const g=r[ri];d=g.createComment("");const w=Oi(n,r);to(g,ea(g,w),d,function Ir(n,r){return n.nextSibling(r)}(g,w),!1)}r[n.index]=s=ou(c,r,d,n),Dm(r,s)}return new Ob(s,n,r)}class Fb{constructor(r){this.queryList=r,this.matches=null}clone(){return new Fb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nb{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const c=null!==r.contentQueries?r.contentQueries[0]:s.length,d=[];for(let g=0;g<c;g++){const w=s.getByIndex(g);d.push(this.queries[w.indexInDeclarationView].clone())}return new Nb(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==Z0(r,s).matches&&this.queries[s].setDirty()}}class $0{constructor(r,s,c=null){this.predicate=r,this.flags=s,this.read=c}}class G0{constructor(r=[]){this.queries=r}elementStart(r,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let c=0;c<this.length;c++){const d=null!==s?s.length:0,g=this.getByIndex(c).embeddedTView(r,d);g&&(g.indexInDeclarationView=c,null!==s?s.push(g):s=[g])}return null!==s?new G0(s):null}template(r,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Lb{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Lb(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const g=c[d];this.matchTNodeWithReadOption(r,s,jC(s,g)),this.matchTNodeWithReadOption(r,s,Rc(s,r,g,!1,!1))}else c===wg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Rc(s,r,c,!1,!1))}matchTNodeWithReadOption(r,s,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Gu||d===Dg||d===wg&&4&s.type)this.addMatch(s.index,-2);else{const g=Rc(s,r,d,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,c)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function jC(n,r){const s=n.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===r)return s[c+1];return null}function GC(n,r,s,c){return-1===s?function $C(n,r){return 11&n.type?Jc(n,r):4&n.type?Ig(n,r):null}(r,n):-2===s?function Bb(n,r,s){return s===Gu?Jc(r,n):s===wg?Ig(r,n):s===Dg?Gx(r,n):void 0}(n,r,c):vs(n,n[xn],s,r)}function W0(n,r,s,c){const d=r[Yr].queries[c];if(null===d.matches){const g=n.data,w=s.matches,k=[];for(let U=0;U<w.length;U+=2){const se=w[U];k.push(se<0?null:GC(r,g[se],w[U+1],s.metadata.read))}d.matches=k}return d.matches}function Vb(n,r,s,c){const d=n.queries.getByIndex(s),g=d.matches;if(null!==g){const w=W0(n,r,d,s);for(let k=0;k<g.length;k+=2){const U=g[k];if(U>0)c.push(w[k/2]);else{const se=g[k+1],De=r[-U];for(let We=qi;We<De.length;We++){const xt=De[We];xt[ho]===xt[Jn]&&Vb(xt[xn],xt,se,c)}if(null!==De[ro]){const We=De[ro];for(let xt=0;xt<We.length;xt++){const Lt=We[xt];Vb(Lt[xn],Lt,se,c)}}}}}return c}function Wx(n){const r=_t(),s=Cn(),c=ml();el(c+1);const d=Z0(s,c);if(n.dirty&&function Ms(n){return 4==(4&n[ti])}(r)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const g=d.crossesNgTemplate?Vb(s,r,c,[]):W0(s,r,d,c);n.reset(g,v_),n.notifyOnChanges()}return!0}return!1}function Zx(n,r,s){const c=Cn();c.firstCreatePass&&(Tg(c,new $0(n,r,s),-1),2==(2&r)&&(c.staticViewQueries=!0)),Ub(c,_t(),r)}function Ag(n,r,s,c){const d=Cn();if(d.firstCreatePass){const g=Ei();Tg(d,new $0(r,s,c),g.index),function zb(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}Ub(d,_t(),s)}function Ip(){return function Kx(n,r){return n[Yr].queries[r].queryList}(_t(),ml())}function Ub(n,r,s){const c=new Cg(4==(4&s));Yu(n,r,c,c.destroy),null===r[Yr]&&(r[Yr]=new Nb),r[Yr].queries.push(new Fb(c))}function Tg(n,r,s){null===n.queries&&(n.queries=new G0),n.queries.track(new Lb(r,s))}function Z0(n,r){return n.queries.getByIndex(r)}function Lh(n,r){return Ig(n,r)}function Sg(n){return!!Vn(n)}function H(...n){}const Ie=new er("Application Initializer");let Qe=(()=>{class n{constructor(s){this.appInits=s,this.resolve=H,this.reject=H,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(cu(g))s.push(g);else if(Sy(g)){const w=new Promise((k,U)=>{g.subscribe({complete:k,error:U})});s.push(w)}}Promise.all(s).then(()=>{c()}).catch(d=>{this.reject(d)}),0===s.length&&c(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(on(Ie,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vt=new er("AppId",{providedIn:"root",factory:function Ot(){return`${qt()}${qt()}${qt()}`}});function qt(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const En=new er("Platform Initializer"),kn=new er("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zn=new er("AnimationModuleType");let pi=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ct=new er("LocaleId",{providedIn:"root",factory:()=>pt(Ct,Le.Optional|Le.SkipSelf)||function mi(){return typeof $localize<"u"&&$localize.locale||Th}()}),it=new er("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zt{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let ft=(()=>{class n{compileModuleSync(s){return new F0(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),g=Rl(Vn(s).declarations).reduce((w,k)=>{const U=bt(k);return U&&w.push(new jf(U)),w},[]);return new zt(c,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xa=(()=>Promise.resolve(0))();function Gr(n){typeof Zone>"u"?Xa.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ho{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vl(!1),this.onMicrotaskEmpty=new Vl(!1),this.onStable=new Vl(!1),this.onError=new Vl(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&s,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Ur(){let n=Qt.requestAnimationFrame,r=Qt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function oa(n){const r=()=>{!function yc(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Qt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,fl(n),n.isCheckStableRunning=!0,Zr(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),fl(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,d,g,w,k)=>{try{return bc(n),s.invokeTask(d,g,w,k)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||n.shouldCoalesceRunChangeDetection)&&r(),Rg(n)}},onInvoke:(s,c,d,g,w,k,U)=>{try{return bc(n),s.invoke(d,g,w,k,U)}finally{n.shouldCoalesceRunChangeDetection&&r(),Rg(n)}},onHasTask:(s,c,d,g)=>{s.hasTask(d,g),c===d&&("microTask"==g.change?(n._hasPendingMicrotasks=g.microTask,fl(n),Zr(n)):"macroTask"==g.change&&(n.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,c,d,g)=>(s.handleError(d,g),n.runOutsideAngular(()=>n.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ho.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(Ho.isInAngularZone())throw new _e(909,!1)}run(r,s,c){return this._inner.run(r,s,c)}runTask(r,s,c,d){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+d,r,rv,H,H);try{return g.runTask(w,s,c)}finally{g.cancelTask(w)}}runGuarded(r,s,c){return this._inner.runGuarded(r,s,c)}runOutsideAngular(r){return this._outer.run(r)}}const rv={};function Zr(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function fl(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function bc(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Rg(n){n._nesting--,Zr(n)}class ov{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vl,this.onMicrotaskEmpty=new Vl,this.onStable=new Vl,this.onError=new Vl}run(r,s,c){return r.apply(s,c)}runGuarded(r,s,c){return r.apply(s,c)}runOutsideAngular(r){return r()}runTask(r,s,c,d){return r.apply(s,c)}}const Og=new er(""),kg=new er("");let Fg,Xb=(()=>{class n{constructor(s,c,d){this._ngZone=s,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fg||(function aC(n){Fg=n}(d),d.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ho.assertNotInAngularZone(),Gr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gr(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,d){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==g),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:d})}whenStable(s,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(on(Ho),on(sv),on(kg))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),sv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return Fg?.findTestabilityInTree(this,s,c)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const zl=!1;let Hl=null;const av=new er("AllowMultipleToken"),lv=new er("PlatformDestroyListeners"),Ng=new er("appBootstrapListener");class zs{constructor(r,s){this.name=r,this.token=s}}function zh(n,r,s=[]){const c=`Platform: ${r}`,d=new er(c);return(g=[])=>{let w=hv();if(!w||w.injector.get(av,!1)){const k=[...s,...g,{provide:d,useValue:!0}];n?n(k):function Lg(n){if(Hl&&!Hl.get(av,!1))throw new _e(400,!1);Hl=n;const r=n.get(iE);(function uv(n){const r=n.get(En,null);r&&r.forEach(s=>s())})(n)}(function dv(n=[],r){return ia.create({name:r,providers:[{provide:ul,useValue:"platform"},{provide:lv,useValue:new Set([()=>Hl=null])},...n]})}(k,c))}return function tE(n){const r=hv();if(!r)throw new _e(401,!1);return r}()}}function hv(){return Hl?.get(iE)??null}let iE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const d=function fv(n,r){let s;return s="noop"===n?new ov:("zone.js"===n?void 0:n)||new Ho(r),s}(c?.ngZone,function Bg(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(c)),g=[{provide:Ho,useValue:d}];return d.run(()=>{const w=ia.create({providers:g,parent:this.injector,name:s.moduleType.name}),k=s.create(w),U=k.injector.get(ih,null);if(!U)throw new _e(402,!1);return d.runOutsideAngular(()=>{const se=d.onError.subscribe({next:De=>{U.handleError(De)}});k.onDestroy(()=>{$h(this._modules,k),se.unsubscribe()})}),function pv(n,r,s){try{const c=s();return cu(c)?c.catch(d=>{throw r.runOutsideAngular(()=>n.handleError(d)),d}):c}catch(c){throw r.runOutsideAngular(()=>n.handleError(c)),c}}(U,d,()=>{const se=k.injector.get(Qe);return se.runInitializers(),se.donePromise.then(()=>(function Xy(n){Fe(n,"Expected localeId to be defined"),"string"==typeof n&&(Qy=n.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Ct,Th)||Th),this._moduleDoBootstrap(k),k))})})}bootstrapModule(s,c=[]){const d=Hh({},c);return function cv(n,r,s){const c=new F0(s);return Promise.resolve(c)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(s){const c=s.injector.get(jh);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new _e(-403,!1);s.instance.ngDoBootstrap(c)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(lv,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(on(ia))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Hh(n,r){return Array.isArray(r)?r.reduce(Hh,n):{...n,...r}}let jh=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,c,d){this._zone=s,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new m.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),w=new m.y(k=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{Ho.assertNotInAngularZone(),Gr(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const se=this._zone.onUnstable.subscribe(()=>{Ho.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{U.unsubscribe(),se.unsubscribe()}});this.isStable=(0,O.T)(g,w.pipe((0,he.B)()))}bootstrap(s,c){const d=s instanceof __;if(!this._injector.get(Qe).done){!d&&Jt(s);throw new _e(405,zl)}let w;w=d?s:this._injector.get(eh).resolveComponentFactory(s),this.componentTypes.push(w.componentType);const k=function Cs(n){return n.isBoundToModule}(w)?void 0:this._injector.get(kh),se=w.create(ia.NULL,[],c||w.selector,k),De=se.location.nativeElement,We=se.injector.get(Og,null);return We?.registerApplication(De),se.onDestroy(()=>{this.detachView(se.hostView),$h(this.components,se),We?.unregisterApplication(De)}),this._loadComponent(se),se}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;$h(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(Ng,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>$h(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new _e(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(on(Ho),on(Xc),on(ih))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $h(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}function Vg(){return!1}let oE=(()=>{class n{}return n.__NG_ELEMENT_ID__=Mp,n})();function Mp(n){return function Pp(n,r,s){if(dr(n)&&!s){const c=Mr(n.index,r);return new qu(c,c)}return 47&n.type?new qu(r[ur],r):null}(Ei(),_t(),16==(16&n))}class Gg{constructor(){}supports(r){return Qu(r)}create(r){return new lE(r)}}const dC=(n,r)=>r;class lE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||dC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,c=this._removalsHead,d=0,g=null;for(;s||c;){const w=!c||s&&s.currentIndex<Zg(c,d,g)?s:c,k=Zg(w,d,g),U=w.currentIndex;if(w===c)d--,c=c._nextRemoved;else if(s=s._next,null==w.previousIndex)d++;else{g||(g=[]);const se=k-d,De=U-d;if(se!=De){for(let xt=0;xt<se;xt++){const Lt=xt<g.length?g[xt]:g[xt]=0,cn=Lt+xt;De<=cn&&cn<se&&(g[xt]=Lt+1)}g[w.previousIndex]=De-se}}k!==U&&r(w,k,U)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Qu(r))throw new _e(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,g,w,s=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let k=0;k<this.length;k++)g=r[k],w=this._trackByFn(k,g),null!==s&&Object.is(s.trackById,w)?(c&&(s=this._verifyReinsertion(s,g,w,k)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,w,k),c=!0),s=s._next}else d=0,function j_(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Symbol.iterator]();let c;for(;!(c=s.next()).done;)r(c.value)}}(r,k=>{w=this._trackByFn(d,k),null!==s&&Object.is(s.trackById,w)?(c&&(s=this._verifyReinsertion(s,k,w,d)),Object.is(s.item,k)||this._addIdentityChange(s,k)):(s=this._mismatch(s,k,w,d),c=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,c,d){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,g,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,g,d)):r=this._addAfter(new cE(s,c),g,d),r}_verifyReinsertion(r,s,c,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?r=this._reinsertAfter(g,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,g=r._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(r,s,c),this._addToMoves(r,c),r}_moveAfter(r,s,c){return this._unlink(r),this._insertAfter(r,s,c),this._addToMoves(r,c),r}_addAfter(r,s,c){return this._insertAfter(r,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,c){const d=null===s?this._itHead:s._next;return r._next=d,r._prev=s,null===d?this._itTail=r:d._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Wg),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,c=r._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wg),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class cE{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const s=r._prevDup,c=r._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class Wg{constructor(){this.map=new Map}put(r){const s=r.trackById;let c=this.map.get(s);c||(c=new uE,this.map.set(s,c)),c.add(r)}get(r,s){const d=this.map.get(r);return d?d.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zg(n,r,s){const c=n.previousIndex;if(null===c)return c;let d=0;return s&&c<s.length&&(d=s[c]),c+r+d}class vv{constructor(){}supports(r){return r instanceof Map||Wf(r)}create(){return new dE}}class dE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Wf(r)))throw new _e(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(d,c);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const c=r._prev;return s._next=r,s._prev=c,r._prev=s,c&&(c._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,s);const g=d._prev,w=d._next;return g&&(g._next=w),w&&(w._prev=g),d._next=null,d._prev=null,d}const c=new hC(r);return this._records.set(r,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(c=>s(r[c],c))}}class hC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hE(){return new Kg([new Gg])}let Kg=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(null!=c){const d=c.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||hE()),deps:[[n,new An,new Kn]]}}find(s){const c=this.factories.find(d=>d.supports(s));if(null!=c)return c;throw new _e(901,!1)}}return n.\u0275prov=R({token:n,providedIn:"root",factory:hE}),n})();function fE(){return new xc([new vv])}let xc=(()=>{class n{constructor(s){this.factories=s}static create(s,c){if(c){const d=c.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||fE()),deps:[[n,new An,new Kn]]}}find(s){const c=this.factories.find(d=>d.supports(s));if(c)return c;throw new _e(901,!1)}}return n.\u0275prov=R({token:n,providedIn:"root",factory:fE}),n})();const zr=zh(null,"core",[]);let qg=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(on(jh))},n.\u0275mod=Pn({type:n}),n.\u0275inj=qe({}),n})();function Np(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4081:(wt,Ne,_)=>{"use strict";_.d(Ne,{Q1:()=>Fr,TE:()=>Wn});var l=_(9618),b=_(9751),m=_(9646),O=_(8996),he=_(8372),ee=_(4004),ie=_(3900),j=_(4650),K=_(3593),Y=_(3942),F=_(5861),V=_(6881),Z=_(2090),ne=_(4859);const ce="firebasestorage.googleapis.com",Ae="storageBucket";class Me extends Z.ZR{constructor(E,A,T=0){super(de(E),`Firebase Storage: ${A} (${de(E)})`),this.status_=T,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Me.prototype)}get status(){return this.status_}set status(E){this.status_=E}_codeEquals(E){return de(E)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(E){this.customData.serverResponse=E,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var pe=(()=>{return(te=pe||(pe={})).UNKNOWN="unknown",te.OBJECT_NOT_FOUND="object-not-found",te.BUCKET_NOT_FOUND="bucket-not-found",te.PROJECT_NOT_FOUND="project-not-found",te.QUOTA_EXCEEDED="quota-exceeded",te.UNAUTHENTICATED="unauthenticated",te.UNAUTHORIZED="unauthorized",te.UNAUTHORIZED_APP="unauthorized-app",te.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",te.INVALID_CHECKSUM="invalid-checksum",te.CANCELED="canceled",te.INVALID_EVENT_NAME="invalid-event-name",te.INVALID_URL="invalid-url",te.INVALID_DEFAULT_BUCKET="invalid-default-bucket",te.NO_DEFAULT_BUCKET="no-default-bucket",te.CANNOT_SLICE_BLOB="cannot-slice-blob",te.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",te.NO_DOWNLOAD_URL="no-download-url",te.INVALID_ARGUMENT="invalid-argument",te.INVALID_ARGUMENT_COUNT="invalid-argument-count",te.APP_DELETED="app-deleted",te.INVALID_ROOT_OPERATION="invalid-root-operation",te.INVALID_FORMAT="invalid-format",te.INTERNAL_ERROR="internal-error",te.UNSUPPORTED_ENVIRONMENT="unsupported-environment",pe;var te})();function de(te){return"storage/"+te}function Ee(){return new Me(pe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ct(){return new Me(pe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kt(){return new Me(pe.CANCELED,"User canceled the upload/download.")}function Ht(){return new Me(pe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Fe(te){return new Me(pe.INVALID_ARGUMENT,te)}function me(){return new Me(pe.APP_DELETED,"The Firebase app was deleted.")}function Ye(te){return new Me(pe.INVALID_ROOT_OPERATION,"The operation '"+te+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function W(te,E){return new Me(pe.INVALID_FORMAT,"String does not match format '"+te+"': "+E)}function ve(te){throw new Me(pe.INTERNAL_ERROR,"Internal error: "+te)}class R{constructor(E,A){this.bucket=E,this.path_=A}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const E=encodeURIComponent;return"/b/"+E(this.bucket)+"/o/"+E(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(E,A){let T;try{T=R.makeFromUrl(E,A)}catch{return new R(E,"")}if(""===T.path)return T;throw function dn(te){return new Me(pe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+te+"'.")}(E)}static makeFromUrl(E,A){let T=null;const Q="([A-Za-z0-9.\\-_]+)",Dn=new RegExp("^gs://"+Q+"(/(.*))?$","i");function Cn(vr){vr.path_=decodeURIComponent(vr.path)}const Fi=A.replace(/[.]/g,"\\."),Pr=[{regex:Dn,indices:{bucket:1,path:3},postModify:function Ge(vr){"/"===vr.path.charAt(vr.path.length-1)&&(vr.path_=vr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Fi}/v[A-Za-z0-9_]+/b/${Q}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Cn},{regex:new RegExp(`^https?://${A===ce?"(?:storage.googleapis.com|storage.cloud.google.com)":A}/${Q}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Cn}];for(let vr=0;vr<Pr.length;vr++){const Xi=Pr[vr],Rr=Xi.regex.exec(E);if(Rr){let Yo=Rr[Xi.indices.path];Yo||(Yo=""),T=new R(Rr[Xi.indices.bucket],Yo),Xi.postModify(T);break}}if(null==T)throw function lt(te){return new Me(pe.INVALID_URL,"Invalid URL '"+te+"'.")}(E);return T}}class Se{constructor(E){this.promise_=Promise.reject(E)}getPromise(){return this.promise_}cancel(E=!1){}}function vn(te){return"string"==typeof te||te instanceof String}function Bn(te){return qn()&&te instanceof Blob}function qn(){return typeof Blob<"u"}function Tn(te,E,A,T){if(T<E)throw Fe(`Invalid value for '${te}'. Expected ${E} or greater.`);if(T>A)throw Fe(`Invalid value for '${te}'. Expected ${A} or less.`)}function Mn(te,E,A){let T=E;return null==A&&(T=`https://${E}`),`${A}://${T}/v0${te}`}function Le(te){const E=encodeURIComponent;let A="?";for(const T in te)te.hasOwnProperty(T)&&(A=A+(E(T)+"=")+E(te[T])+"&");return A=A.slice(0,-1),A}var re=(()=>{return(te=re||(re={}))[te.NO_ERROR=0]="NO_ERROR",te[te.NETWORK_ERROR=1]="NETWORK_ERROR",te[te.ABORT=2]="ABORT",re;var te})();function ge(te,E){const A=te>=500&&te<600,Q=-1!==[408,429].indexOf(te),Ge=-1!==E.indexOf(te);return A||Q||Ge}class He{constructor(E,A,T,Q,Ge,Ut,Dn,_t,Cn,_i,Fi,Ei=!0){this.url_=E,this.method_=A,this.headers_=T,this.body_=Q,this.successCodes_=Ge,this.additionalRetryCodes_=Ut,this.callback_=Dn,this.errorCallback_=_t,this.timeout_=Cn,this.progressCallback_=_i,this.connectionFactory_=Fi,this.retry=Ei,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($i,Gi)=>{this.resolve_=$i,this.reject_=Gi,this.start_()})}start_(){const A=(T,Q)=>{const Ge=this.resolve_,Ut=this.reject_,Dn=Q.connection;if(Q.wasSuccessCode)try{const _t=this.callback_(Dn,Dn.getResponse());!function $e(te){return void 0!==te}(_t)?Ge():Ge(_t)}catch(_t){Ut(_t)}else if(null!==Dn){const _t=Ee();_t.serverResponse=Dn.getErrorText(),Ut(this.errorCallback_?this.errorCallback_(Dn,_t):_t)}else Ut(Q.canceled?this.appDelete_?me():kt():ct())};this.canceled_?A(0,new It(!1,null,!0)):this.backoffId_=function qe(te,E,A){let T=1,Q=null,Ge=null,Ut=!1,Dn=0;function _t(){return 2===Dn}let Cn=!1;function _i(...Wi){Cn||(Cn=!0,E.apply(null,Wi))}function Fi(Wi){Q=setTimeout(()=>{Q=null,te($i,_t())},Wi)}function Ei(){Ge&&clearTimeout(Ge)}function $i(Wi,...yo){if(Cn)return void Ei();if(Wi)return Ei(),void _i.call(null,Wi,...yo);if(_t()||Ut)return Ei(),void _i.call(null,Wi,...yo);let Pr;T<64&&(T*=2),1===Dn?(Dn=2,Pr=0):Pr=1e3*(T+Math.random()),Fi(Pr)}let Gi=!1;function Qi(Wi){Gi||(Gi=!0,Ei(),!Cn&&(null!==Q?(Wi||(Dn=2),clearTimeout(Q),Fi(0)):Wi||(Dn=1)))}return Fi(0),Ge=setTimeout(()=>{Ut=!0,Qi(!0)},A),Qi}((T,Q)=>{if(Q)return void T(!1,new It(!1,null,!0));const Ge=this.connectionFactory_();this.pendingConnection_=Ge;const Ut=Dn=>{null!==this.progressCallback_&&this.progressCallback_(Dn.loaded,Dn.lengthComputable?Dn.total:-1)};null!==this.progressCallback_&&Ge.addUploadProgressListener(Ut),Ge.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ge.removeUploadProgressListener(Ut),this.pendingConnection_=null;const Dn=Ge.getErrorCode()===re.NO_ERROR,_t=Ge.getStatus();if(!Dn||ge(_t,this.additionalRetryCodes_)&&this.retry){const _i=Ge.getErrorCode()===re.ABORT;return void T(!1,new It(!1,null,_i))}const Cn=-1!==this.successCodes_.indexOf(_t);T(!0,new It(Cn,Ge))})},A,this.timeout_)}getPromise(){return this.promise_}cancel(E){this.canceled_=!0,this.appDelete_=E||!1,null!==this.backoffId_&&function Dt(te){te(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class It{constructor(E,A,T){this.wasSuccessCode=E,this.connection=A,this.canceled=!!T}}function ot(...te){const E=function Te(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==E){const A=new E;for(let T=0;T<te.length;T++)A.append(te[T]);return A.getBlob()}if(qn())return new Blob(te);throw new Me(pe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const gn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ai{constructor(E,A){this.data=E,this.contentType=A||null}}function jn(te,E){switch(te){case gn.RAW:return new ai(si(E));case gn.BASE64:case gn.BASE64URL:return new ai(Ii(te,E));case gn.DATA_URL:return new ai(function ht(te){const E=new on(te);return E.base64?Ii(gn.BASE64,E.rest):function Qn(te){let E;try{E=decodeURIComponent(te)}catch{throw W(gn.DATA_URL,"Malformed data URL.")}return si(E)}(E.rest)}(E),function pt(te){return new on(te).contentType}(E))}throw Ee()}function si(te){const E=[];for(let A=0;A<te.length;A++){let T=te.charCodeAt(A);T<=127?E.push(T):T<=2047?E.push(192|T>>6,128|63&T):55296==(64512&T)?A<te.length-1&&56320==(64512&te.charCodeAt(A+1))?(T=65536|(1023&T)<<10|1023&te.charCodeAt(++A),E.push(240|T>>18,128|T>>12&63,128|T>>6&63,128|63&T)):E.push(239,191,189):56320==(64512&T)?E.push(239,191,189):E.push(224|T>>12,128|T>>6&63,128|63&T)}return new Uint8Array(E)}function Ii(te,E){switch(te){case gn.BASE64:{const Q=-1!==E.indexOf("-"),Ge=-1!==E.indexOf("_");if(Q||Ge)throw W(te,"Invalid character '"+(Q?"-":"_")+"' found: is it base64url encoded?");break}case gn.BASE64URL:{const Q=-1!==E.indexOf("+"),Ge=-1!==E.indexOf("/");if(Q||Ge)throw W(te,"Invalid character '"+(Q?"+":"/")+"' found: is it base64 encoded?");E=E.replace(/-/g,"+").replace(/_/g,"/");break}}let A;try{A=function sn(te){if(typeof atob>"u")throw function Oe(te){return new Me(pe.UNSUPPORTED_ENVIRONMENT,`${te} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(te)}(E)}catch(Q){throw Q.message.includes("polyfill")?Q:W(te,"Invalid character found")}const T=new Uint8Array(A.length);for(let Q=0;Q<A.length;Q++)T[Q]=A.charCodeAt(Q);return T}class on{constructor(E){this.base64=!1,this.contentType=null;const A=E.match(/^data:([^,]+)?,/);if(null===A)throw W(gn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const T=A[1]||null;null!=T&&(this.base64=function rt(te,E){return te.length>=E.length&&te.substring(te.length-E.length)===E}(T,";base64"),this.contentType=this.base64?T.substring(0,T.length-7):T),this.rest=E.substring(E.indexOf(",")+1)}}class ze{constructor(E,A){let T=0,Q="";Bn(E)?(this.data_=E,T=E.size,Q=E.type):E instanceof ArrayBuffer?(A?this.data_=new Uint8Array(E):(this.data_=new Uint8Array(E.byteLength),this.data_.set(new Uint8Array(E))),T=this.data_.length):E instanceof Uint8Array&&(A?this.data_=E:(this.data_=new Uint8Array(E.length),this.data_.set(E)),T=E.length),this.size_=T,this.type_=Q}size(){return this.size_}type(){return this.type_}slice(E,A){if(Bn(this.data_)){const Q=function Gt(te,E,A){return te.webkitSlice?te.webkitSlice(E,A):te.mozSlice?te.mozSlice(E,A):te.slice?te.slice(E,A):null}(this.data_,E,A);return null===Q?null:new ze(Q)}{const T=new Uint8Array(this.data_.buffer,E,A-E);return new ze(T,!0)}}static getBlob(...E){if(qn()){const A=E.map(T=>T instanceof ze?T.data_:T);return new ze(ot.apply(null,A))}{const A=E.map(Ut=>vn(Ut)?jn(gn.RAW,Ut).data:Ut.data_);let T=0;A.forEach(Ut=>{T+=Ut.byteLength});const Q=new Uint8Array(T);let Ge=0;return A.forEach(Ut=>{for(let Dn=0;Dn<Ut.length;Dn++)Q[Ge++]=Ut[Dn]}),new ze(Q,!0)}}uploadData(){return this.data_}}function st(te){let E;try{E=JSON.parse(te)}catch{return null}return function $t(te){return"object"==typeof te&&!Array.isArray(te)}(E)?E:null}function Nn(te){const E=te.lastIndexOf("/",te.length-2);return-1===E?te:te.slice(E+1)}function Ze(te,E){return E}class Ve{constructor(E,A,T,Q){this.server=E,this.local=A||E,this.writable=!!T,this.xform=Q||Ze}}let Je=null;function dt(){if(Je)return Je;const te=[];te.push(new Ve("bucket")),te.push(new Ve("generation")),te.push(new Ve("metageneration")),te.push(new Ve("name","fullPath",!0));const A=new Ve("name");A.xform=function E(Ge,Ut){return function Rt(te){return!vn(te)||te.length<2?te:Nn(te)}(Ut)},te.push(A);const Q=new Ve("size");return Q.xform=function T(Ge,Ut){return void 0!==Ut?Number(Ut):Ut},te.push(Q),te.push(new Ve("timeCreated")),te.push(new Ve("updated")),te.push(new Ve("md5Hash",null,!0)),te.push(new Ve("cacheControl",null,!0)),te.push(new Ve("contentDisposition",null,!0)),te.push(new Ve("contentEncoding",null,!0)),te.push(new Ve("contentLanguage",null,!0)),te.push(new Ve("contentType",null,!0)),te.push(new Ve("metadata","customMetadata",!0)),Je=te,Je}function N(te,E,A){const T=st(E);return null===T?null:function X(te,E,A){const T={type:"file"},Q=A.length;for(let Ge=0;Ge<Q;Ge++){const Ut=A[Ge];T[Ut.local]=Ut.xform(T,E[Ut.server])}return function et(te,E){Object.defineProperty(te,"ref",{get:function A(){const Ge=new R(te.bucket,te.fullPath);return E._makeStorageReference(Ge)}})}(T,te),T}(te,T,A)}function z(te,E){const A={},T=E.length;for(let Q=0;Q<T;Q++){const Ge=E[Q];Ge.writable&&(A[Ge.server]=te[Ge.local])}return JSON.stringify(A)}const be="prefixes",Pe="items";class rn{constructor(E,A,T,Q){this.url=E,this.method=A,this.handler=T,this.timeout=Q,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function bn(te){if(!te)throw Ee()}function Pn(te,E){return function A(T,Q){const Ge=N(te,Q,E);return bn(null!==Ge),Ge}}function wn(te){return function E(A,T){let Q;return Q=401===A.getStatus()?A.getErrorText().includes("Firebase App Check token is invalid")?function ut(){return new Me(pe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Xe(){return new Me(pe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===A.getStatus()?function ke(te){return new Me(pe.QUOTA_EXCEEDED,"Quota for bucket '"+te+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(te.bucket):403===A.getStatus()?function Ue(te){return new Me(pe.UNAUTHORIZED,"User does not have permission to access '"+te+"'.")}(te.path):T,Q.status=A.getStatus(),Q.serverResponse=T.serverResponse,Q}}function Yn(te){const E=wn(te);return function A(T,Q){let Ge=E(T,Q);return 404===T.getStatus()&&(Ge=function je(te){return new Me(pe.OBJECT_NOT_FOUND,"Object '"+te+"' does not exist.")}(te.path)),Ge.serverResponse=Q.serverResponse,Ge}}function bt(te,E,A){const Q=Mn(E.fullServerUrl(),te.host,te._protocol),Ut=te.maxOperationRetryTime,Dn=new rn(Q,"GET",Pn(te,A),Ut);return Dn.errorHandler=Yn(E),Dn}function Et(te,E,A,T,Q){const Ge={};Ge.prefix=E.isRoot?"":E.path+"/",A&&A.length>0&&(Ge.delimiter=A),T&&(Ge.pageToken=T),Q&&(Ge.maxResults=Q);const Dn=Mn(E.bucketOnlyServerUrl(),te.host,te._protocol),Cn=te.maxOperationRetryTime,_i=new rn(Dn,"GET",function pn(te,E){return function A(T,Q){const Ge=function gt(te,E,A){const T=st(A);return null===T?null:function at(te,E,A){const T={prefixes:[],items:[],nextPageToken:A.nextPageToken};if(A[be])for(const Q of A[be]){const Ge=Q.replace(/\/$/,""),Ut=te._makeStorageReference(new R(E,Ge));T.prefixes.push(Ut)}if(A[Pe])for(const Q of A[Pe]){const Ge=te._makeStorageReference(new R(E,Q.name));T.items.push(Ge)}return T}(te,E,T)}(te,E,Q);return bn(null!==Ge),Ge}}(te,E.bucket),Cn);return _i.urlParams=Ge,_i.errorHandler=wn(E),_i}function bi(te,E,A){const T=Object.assign({},A);return T.fullPath=te.path,T.size=E.size(),T.contentType||(T.contentType=function ui(te,E){return te&&te.contentType||E&&E.type()||"application/octet-stream"}(null,E)),T}class xn{constructor(E,A,T,Q){this.current=E,this.total=A,this.finalized=!!T,this.metadata=Q||null}}function ti(te,E){let A=null;try{A=te.getResponseHeader("X-Goog-Upload-Status")}catch{bn(!1)}return bn(!!A&&-1!==(E||["active"]).indexOf(A)),A}const Yi={STATE_CHANGED:"state_changed"},li={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cr(te){switch(te){case"running":case"pausing":case"canceling":return li.RUNNING;case"paused":return li.PAUSED;case"success":return li.SUCCESS;case"canceled":return li.CANCELED;default:return li.ERROR}}class jo{constructor(E,A,T){if(function St(te){return"function"==typeof te}(E)||null!=A||null!=T)this.next=E,this.error=A??void 0,this.complete=T??void 0;else{const Ge=E;this.next=Ge.next,this.error=Ge.error,this.complete=Ge.complete}}}function ri(te){return(...E)=>{Promise.resolve().then(()=>te(...E))}}let wo=null;class hs{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=re.NO_ERROR,this.sendPromise_=new Promise(E=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=re.ABORT,E()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=re.NETWORK_ERROR,E()}),this.xhr_.addEventListener("load",()=>{E()})})}send(E,A,T,Q){if(this.sent_)throw ve("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(A,E,!0),void 0!==Q)for(const Ge in Q)Q.hasOwnProperty(Ge)&&this.xhr_.setRequestHeader(Ge,Q[Ge].toString());return void 0!==T?this.xhr_.send(T):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ve("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ve("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ve("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ve("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(E){return this.xhr_.getResponseHeader(E)}addUploadProgressListener(E){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",E)}removeUploadProgressListener(E){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",E)}}class Is extends hs{initXhr(){this.xhr_.responseType="text"}}function Tr(){return wo?wo():new Is}class fo{constructor(E,A,T=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=E,this._blob=A,this._metadata=T,this._mappings=dt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Q=>{if(this._request=void 0,this._chunkMultiplier=1,Q._codeEquals(pe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Ge=this.isExponentialBackoffExpired();if(ge(Q.status,[])){if(!Ge)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Q=ct()}this._error=Q,this._transition("error")}},this._metadataErrorHandler=Q=>{this._request=void 0,Q._codeEquals(pe.CANCELED)?this.completeTransitions_():(this._error=Q,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Q,Ge)=>{this._resolve=Q,this._reject=Ge,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const E=this._transferred;return A=>this._updateProgress(E+A)}_shouldDoResumable(E){return E.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(E){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([A,T])=>{switch(this._state){case"running":E(A,T);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((E,A)=>{const T=function Jn(te,E,A,T,Q){const Ge=E.bucketOnlyServerUrl(),Ut=bi(E,T,Q),Dn={name:Ut.fullPath},_t=Mn(Ge,te.host,te._protocol),_i={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${T.size()}`,"X-Goog-Upload-Header-Content-Type":Ut.contentType,"Content-Type":"application/json; charset=utf-8"},Fi=z(Ut,A),Gi=new rn(_t,"POST",function $i(Qi){let Wi;ti(Qi);try{Wi=Qi.getResponseHeader("X-Goog-Upload-URL")}catch{bn(!1)}return bn(vn(Wi)),Wi},te.maxUploadRetryTime);return Gi.urlParams=Dn,Gi.headers=_i,Gi.body=Fi,Gi.errorHandler=wn(E),Gi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Q=this._ref.storage._makeRequest(T,Tr,E,A);this._request=Q,Q.getPromise().then(Ge=>{this._request=void 0,this._uploadUrl=Ge,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const E=this._uploadUrl;this._resolveToken((A,T)=>{const Q=function Ar(te,E,A,T){const _t=new rn(A,"POST",function Ge(Cn){const _i=ti(Cn,["active","final"]);let Fi=null;try{Fi=Cn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{bn(!1)}Fi||bn(!1);const Ei=Number(Fi);return bn(!isNaN(Ei)),new xn(Ei,T.size(),"final"===_i)},te.maxUploadRetryTime);return _t.headers={"X-Goog-Upload-Command":"query"},_t.errorHandler=wn(E),_t}(this._ref.storage,this._ref._location,E,this._blob),Ge=this._ref.storage._makeRequest(Q,Tr,A,T);this._request=Ge,Ge.getPromise().then(Ut=>{this._request=void 0,this._updateProgress(Ut.current),this._needToFetchStatus=!1,Ut.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const E=262144*this._chunkMultiplier,A=new xn(this._transferred,this._blob.size()),T=this._uploadUrl;this._resolveToken((Q,Ge)=>{let Ut;try{Ut=function Hi(te,E,A,T,Q,Ge,Ut,Dn){const _t=new xn(0,0);if(Ut?(_t.current=Ut.current,_t.total=Ut.total):(_t.current=0,_t.total=T.size()),T.size()!==_t.total)throw function Zt(){return new Me(pe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Cn=_t.total-_t.current;let _i=Cn;Q>0&&(_i=Math.min(_i,Q));const Fi=_t.current;let $i="";$i=0===_i?"finalize":Cn===_i?"upload, finalize":"upload";const Gi={"X-Goog-Upload-Command":$i,"X-Goog-Upload-Offset":`${_t.current}`},Qi=T.slice(Fi,Fi+_i);if(null===Qi)throw Ht();const Pr=new rn(A,"POST",function Wi(vr,Xi){const Rr=ti(vr,["active","final"]),Ao=_t.current+_i,Yo=T.size();let so;return so="final"===Rr?Pn(E,Ge)(vr,Xi):null,new xn(Ao,Yo,"final"===Rr,so)},E.maxUploadRetryTime);return Pr.headers=Gi,Pr.body=Qi.uploadData(),Pr.progressCallback=Dn||null,Pr.errorHandler=wn(te),Pr}(this._ref._location,this._ref.storage,T,this._blob,E,this._mappings,A,this._makeProgressCallback())}catch(_t){return this._error=_t,void this._transition("error")}const Dn=this._ref.storage._makeRequest(Ut,Tr,Q,Ge,!1);this._request=Dn,Dn.getPromise().then(_t=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_t.current),_t.finalized?(this._metadata=_t.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((E,A)=>{const T=bt(this._ref.storage,this._ref._location,this._mappings),Q=this._ref.storage._makeRequest(T,Tr,E,A);this._request=Q,Q.getPromise().then(Ge=>{this._request=void 0,this._metadata=Ge,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((E,A)=>{const T=function hi(te,E,A,T,Q){const Ge=E.bucketOnlyServerUrl(),Ut={"X-Goog-Upload-Protocol":"multipart"},_t=function Dn(){let Pr="";for(let vr=0;vr<2;vr++)Pr+=Math.random().toString().slice(2);return Pr}();Ut["Content-Type"]="multipart/related; boundary="+_t;const Cn=bi(E,T,Q),_i=z(Cn,A),$i=ze.getBlob("--"+_t+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_i+"\r\n--"+_t+"\r\nContent-Type: "+Cn.contentType+"\r\n\r\n",T,"\r\n--"+_t+"--");if(null===$i)throw Ht();const Gi={name:Cn.fullPath},Qi=Mn(Ge,te.host,te._protocol),yo=te.maxUploadRetryTime,is=new rn(Qi,"POST",Pn(te,A),yo);return is.urlParams=Gi,is.headers=Ut,is.body=$i.uploadData(),is.errorHandler=wn(E),is}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Q=this._ref.storage._makeRequest(T,Tr,E,A);this._request=Q,Q.getPromise().then(Ge=>{this._request=void 0,this._metadata=Ge,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(E){const A=this._transferred;this._transferred=E,this._transferred!==A&&this._notifyObservers()}_transition(E){if(this._state!==E)switch(E){case"canceling":case"pausing":this._state=E,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const A="paused"===this._state;this._state=E,A&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=E,this._notifyObservers();break;case"canceled":this._error=kt(),this._state=E,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const E=cr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:E,metadata:this._metadata,task:this,ref:this._ref}}on(E,A,T,Q){const Ge=new jo(A||void 0,T||void 0,Q||void 0);return this._addObserver(Ge),()=>{this._removeObserver(Ge)}}then(E,A){return this._promise.then(E,A)}catch(E){return this.then(null,E)}_addObserver(E){this._observers.push(E),this._notifyObserver(E)}_removeObserver(E){const A=this._observers.indexOf(E);-1!==A&&this._observers.splice(A,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(A=>{this._notifyObserver(A)})}_finishPromise(){if(void 0!==this._resolve){let E=!0;switch(cr(this._state)){case li.SUCCESS:ri(this._resolve.bind(null,this.snapshot))();break;case li.CANCELED:case li.ERROR:ri(this._reject.bind(null,this._error))();break;default:E=!1}E&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(E){switch(cr(this._state)){case li.RUNNING:case li.PAUSED:E.next&&ri(E.next.bind(E,this.snapshot))();break;case li.SUCCESS:E.complete&&ri(E.complete.bind(E))();break;default:E.error&&ri(E.error.bind(E,this._error))()}}resume(){const E="paused"===this._state||"pausing"===this._state;return E&&this._transition("running"),E}pause(){const E="running"===this._state;return E&&this._transition("pausing"),E}cancel(){const E="running"===this._state||"pausing"===this._state;return E&&this._transition("canceling"),E}}class qr{constructor(E,A){this._service=E,this._location=A instanceof R?A:R.makeFromUrl(A,E.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(E,A){return new qr(E,A)}get root(){const E=new R(this._location.bucket,"");return this._newRef(this._service,E)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Nn(this._location.path)}get storage(){return this._service}get parent(){const E=function an(te){if(0===te.length)return null;const E=te.lastIndexOf("/");return-1===E?"":te.slice(0,E)}(this._location.path);if(null===E)return null;const A=new R(this._location.bucket,E);return new qr(this._service,A)}_throwIfRoot(E){if(""===this._location.path)throw Ye(E)}}function ro(te,E,A){return qi.apply(this,arguments)}function qi(){return(qi=(0,F.Z)(function*(te,E,A){const Q=yield mo(te,{pageToken:A});E.prefixes.push(...Q.prefixes),E.items.push(...Q.items),null!=Q.nextPageToken&&(yield ro(te,E,Q.nextPageToken))})).apply(this,arguments)}function mo(te,E){null!=E&&"number"==typeof E.maxResults&&Tn("options.maxResults",1,1e3,E.maxResults);const A=E||{},T=Et(te.storage,te._location,"/",A.pageToken,A.maxResults);return te.storage.makeRequestWithTokens(T,Tr)}function rr(te){te._throwIfRoot("getDownloadURL");const E=function Jt(te,E,A){const Q=Mn(E.fullServerUrl(),te.host,te._protocol),Ut=te.maxOperationRetryTime,Dn=new rn(Q,"GET",function $n(te,E){return function A(T,Q){const Ge=N(te,Q,E);return bn(null!==Ge),function D(te,E,A,T){const Q=st(E);if(null===Q||!vn(Q.downloadTokens))return null;const Ge=Q.downloadTokens;if(0===Ge.length)return null;const Ut=encodeURIComponent;return Ge.split(",").map(Cn=>{const Fi=te.fullPath;return Mn("/b/"+Ut(te.bucket)+"/o/"+Ut(Fi),A,T)+Le({alt:"media",token:Cn})})[0]}(Ge,Q,te.host,te._protocol)}}(te,A),Ut);return Dn.errorHandler=Yn(E),Dn}(te.storage,te._location,dt());return te.storage.makeRequestWithTokens(E,Tr).then(A=>{if(null===A)throw function Ce(){return new Me(pe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return A})}function Io(te,E){const A=function en(te,E){const A=E.split("/").filter(T=>T.length>0).join("/");return 0===te.length?A:te+"/"+A}(te._location.path,E),T=new R(te._location.bucket,A);return new qr(te.storage,T)}function oo(te,E){if(te instanceof es){const A=te;if(null==A._bucket)throw function jt(){return new Me(pe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ae+"' property when initializing the app?")}();const T=new qr(A,A._bucket);return null!=E?oo(T,E):T}return void 0!==E?Io(te,E):te}function Oo(te,E){if(E&&function _r(te){return/^[A-Za-z]+:\/\//.test(te)}(E)){if(te instanceof es)return function la(te,E){return new qr(te,E)}(te,E);throw Fe("To use ref(service, url), the first argument must be a Storage instance.")}return oo(te,E)}function ko(te,E){const A=E?.[Ae];return null==A?null:R.makeFromBucketSpec(A,te)}class es{constructor(E,A,T,Q,Ge){this.app=E,this._authProvider=A,this._appCheckProvider=T,this._url=Q,this._firebaseVersion=Ge,this._bucket=null,this._host=ce,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Q?R.makeFromBucketSpec(Q,this._host):ko(this._host,this.app.options)}get host(){return this._host}set host(E){this._host=E,this._bucket=null!=this._url?R.makeFromBucketSpec(this._url,E):ko(E,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(E){Tn("time",0,Number.POSITIVE_INFINITY,E),this._maxUploadRetryTime=E}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(E){Tn("time",0,Number.POSITIVE_INFINITY,E),this._maxOperationRetryTime=E}_getAuthToken(){var E=this;return(0,F.Z)(function*(){if(E._overrideAuthToken)return E._overrideAuthToken;const A=E._authProvider.getImmediate({optional:!0});if(A){const T=yield A.getToken();if(null!==T)return T.accessToken}return null})()}_getAppCheckToken(){var E=this;return(0,F.Z)(function*(){const A=E._appCheckProvider.getImmediate({optional:!0});return A?(yield A.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(E=>E.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(E){return new qr(this,E)}_makeRequest(E,A,T,Q,Ge=!0){if(this._deleted)return new Se(me());{const Ut=function Ke(te,E,A,T,Q,Ge,Ut=!0){const Dn=Le(te.urlParams),_t=te.url+Dn,Cn=Object.assign({},te.headers);return function Xt(te,E){E&&(te["X-Firebase-GMPID"]=E)}(Cn,E),function Mt(te,E){null!==E&&E.length>0&&(te.Authorization="Firebase "+E)}(Cn,A),function Qt(te,E){te["X-Firebase-Storage-Version"]="webjs/"+(E??"AppManager")}(Cn,Ge),function yt(te,E){null!==E&&(te["X-Firebase-AppCheck"]=E)}(Cn,T),new He(_t,te.method,Cn,te.body,te.successCodes,te.additionalRetryCodes,te.handler,te.errorHandler,te.timeout,te.progressCallback,Q,Ut)}(E,this._appId,T,Q,A,this._firebaseVersion,Ge);return this._requests.add(Ut),Ut.getPromise().then(()=>this._requests.delete(Ut),()=>this._requests.delete(Ut)),Ut}}makeRequestWithTokens(E,A){var T=this;return(0,F.Z)(function*(){const[Q,Ge]=yield Promise.all([T._getAuthToken(),T._getAppCheckToken()]);return T._makeRequest(E,A,Q,Ge).getPromise()})()}}const ps="@firebase/storage";function Na(te,E){return Oo(te=(0,Z.m9)(te),E)}function Zs(te,{instanceIdentifier:E}){const A=te.getProvider("app").getImmediate(),T=te.getProvider("auth-internal"),Q=te.getProvider("app-check-internal");return new es(A,T,Q,E,V.SDK_VERSION)}!function Ts(){(0,V._registerComponent)(new ne.wA("storage",Zs,"PUBLIC").setMultipleInstances(!0)),(0,V.registerVersion)(ps,"0.13.1",""),(0,V.registerVersion)(ps,"0.13.1","esm2017")}();class Zo{constructor(E,A,T){this._delegate=E,this.task=A,this.ref=T}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ua{constructor(E,A){this._delegate=E,this._ref=A,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Zo(this._delegate.snapshot,this,this._ref)}then(E,A){return this._delegate.then(T=>{if(E)return E(new Zo(T,this,this._ref))},A)}on(E,A,T,Q){let Ge;return A&&(Ge="function"==typeof A?Ut=>A(new Zo(Ut,this,this._ref)):{next:A.next?Ut=>A.next(new Zo(Ut,this,this._ref)):void 0,complete:A.complete||void 0,error:A.error||void 0}),this._delegate.on(E,Ge,T||void 0,Q||void 0)}}class da{constructor(E,A){this._delegate=E,this._service=A}get prefixes(){return this._delegate.prefixes.map(E=>new Sr(E,this._service))}get items(){return this._delegate.items.map(E=>new Sr(E,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Sr{constructor(E,A){this._delegate=E,this.storage=A}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(E){const A=function hr(te,E){return Io(te,E)}(this._delegate,E);return new Sr(A,this.storage)}get root(){return new Sr(this._delegate.root,this.storage)}get parent(){const E=this._delegate.parent;return null==E?null:new Sr(E,this.storage)}put(E,A){return this._throwIfRoot("put"),new ua(function Oa(te,E,A){return function Ra(te,E,A){return te._throwIfRoot("uploadBytesResumable"),new fo(te,new ze(E),A)}(te=(0,Z.m9)(te),E,A)}(this._delegate,E,A),this)}putString(E,A=gn.RAW,T){this._throwIfRoot("putString");const Q=jn(A,E),Ge=Object.assign({},T);return null==Ge.contentType&&null!=Q.contentType&&(Ge.contentType=Q.contentType),new ua(new fo(this._delegate,new ze(Q.data,!0),Ge),this)}listAll(){return function Go(te){return function fs(te){const E={prefixes:[],items:[]};return ro(te,E).then(()=>E)}(te=(0,Z.m9)(te))}(this._delegate).then(E=>new da(E,this.storage))}list(E){return function ca(te,E){return mo(te=(0,Z.m9)(te),E)}(this._delegate,E||void 0).then(A=>new da(A,this.storage))}getMetadata(){return function ka(te){return function Er(te){te._throwIfRoot("getMetadata");const E=bt(te.storage,te._location,dt());return te.storage.makeRequestWithTokens(E,Tr)}(te=(0,Z.m9)(te))}(this._delegate)}updateMetadata(E){return function Fa(te,E){return function gr(te,E){te._throwIfRoot("updateMetadata");const A=function Vn(te,E,A,T){const Ge=Mn(E.fullServerUrl(),te.host,te._protocol),Dn=z(A,T),Cn=te.maxOperationRetryTime,_i=new rn(Ge,"PATCH",Pn(te,T),Cn);return _i.headers={"Content-Type":"application/json; charset=utf-8"},_i.body=Dn,_i.errorHandler=Yn(E),_i}(te.storage,te._location,E,dt());return te.storage.makeRequestWithTokens(A,Tr)}(te=(0,Z.m9)(te),E)}(this._delegate,E)}getDownloadURL(){return function _o(te){return rr(te=(0,Z.m9)(te))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ts(te){return function dr(te){te._throwIfRoot("deleteObject");const E=function ii(te,E){const T=Mn(E.fullServerUrl(),te.host,te._protocol),Dn=new rn(T,"DELETE",function Ut(_t,Cn){},te.maxOperationRetryTime);return Dn.successCodes=[200,204],Dn.errorHandler=Yn(E),Dn}(te.storage,te._location);return te.storage.makeRequestWithTokens(E,Tr)}(te=(0,Z.m9)(te))}(this._delegate)}_throwIfRoot(E){if(""===this._delegate._location.path)throw Ye(E)}}class ms{constructor(E,A){this.app=E,this._delegate=A}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(E){if(Xr(E))throw Fe("ref() expected a child path but got a URL, use refFromURL instead.");return new Sr(Na(this._delegate,E),this)}refFromURL(E){if(!Xr(E))throw Fe("refFromURL() expected a full URL but got a child path, use ref() instead.");try{R.makeFromUrl(E,this._delegate.host)}catch{throw Fe("refFromUrl() expected a valid full URL but got an invalid one.")}return new Sr(Na(this._delegate,E),this)}setMaxUploadRetryTime(E){this._delegate.maxUploadRetryTime=E}setMaxOperationRetryTime(E){this._delegate.maxOperationRetryTime=E}useEmulator(E,A,T={}){!function Fo(te,E,A,T={}){!function js(te,E,A,T={}){te.host=`${E}:${A}`,te._protocol="http";const{mockUserToken:Q}=T;Q&&(te._overrideAuthToken="string"==typeof Q?Q:(0,Z.Sg)(Q,te.app.options.projectId))}(te,E,A,T)}(this._delegate,E,A,T)}}function Xr(te){return/^[A-Za-z]+:\/\//.test(te)}function ki(te,{instanceIdentifier:E}){const A=te.getProvider("app-compat").getImmediate(),T=te.getProvider("storage").getImmediate({identifier:E});return new ms(A,T)}!function vo(te){const E={TaskState:li,TaskEvent:Yi,StringFormat:gn,Storage:ms,Reference:Sr};te.INTERNAL.registerComponent(new ne.wA("storage-compat",ki,"PUBLIC").setServiceProps(E).setMultipleInstances(!0)),te.registerVersion("@firebase/storage-compat","0.3.11")}(Y.Z);var Oi=_(9260);function Ss(te){const E=function Ja(te){return new b.y(E=>{const A=Ut=>E.next(Ut);A(te.snapshot);const Ge=te.on("state_changed",A);return te.then(Ut=>{A(Ut),E.complete()},Ut=>{A(te.snapshot),(Ut=>{E.error(Ut)})(Ut)}),function(){Ge()}}).pipe((0,he.b)(0))}(te);return{task:te,then:te.then.bind(te),catch:te.catch.bind(te),pause:te.pause.bind(te),cancel:te.cancel.bind(te),resume:te.resume.bind(te),snapshotChanges:()=>E,percentageChanges:()=>E.pipe((0,ee.U)(A=>A.bytesTransferred/A.totalBytes*100))}}function Do(te){return{getDownloadURL:()=>(0,m.of)(void 0).pipe(l.fc,(0,ie.w)(()=>te.getDownloadURL()),l.iC),getMetadata:()=>(0,m.of)(void 0).pipe(l.fc,(0,ie.w)(()=>te.getMetadata()),l.iC),delete:()=>(0,O.D)(te.delete()),child:E=>Do(te.child(E)),updateMetadata:E=>(0,O.D)(te.updateMetadata(E)),put:(E,A)=>Ss(te.put(E,A)),putString:(E,A,T)=>Ss(te.putString(E,A,T)),list:E=>(0,O.D)(te.list(E)),listAll:()=>(0,O.D)(te.listAll())}}const Mr=new j.OlP("angularfire2.storageBucket"),Ms=new j.OlP("angularfire2.storage.maxUploadRetryTime"),Ps=new j.OlP("angularfire2.storage.maxOperationRetryTime"),Ko=new j.OlP("angularfire2.storage.use-emulator");let Fr=(()=>{class te{storage;constructor(A,T,Q,Ge,Ut,Dn,_t,Cn,_i,Fi){const Ei=(0,K.on)(A,Ut,T);this.storage=(0,K.cc)(`${Ei.name}.storage.${Q}`,"AngularFireStorage",Ei.name,()=>{const $i=Ut.runOutsideAngular(()=>Ei.storage(Q||void 0)),Gi=_i;return Gi&&$i.useEmulator(...Gi),_t&&$i.setMaxUploadRetryTime(_t),Cn&&$i.setMaxOperationRetryTime(Cn),$i},[_t,Cn])}ref(A){return Do(this.storage.ref(A))}refFromURL(A){return Do(this.storage.refFromURL(A))}upload(A,T,Q){return Do(this.storage.ref(A)).put(T,Q)}static \u0275fac=function(T){return new(T||te)(j.LFG(K.Dh),j.LFG(K.xv,8),j.LFG(Mr,8),j.LFG(j.Lbi),j.LFG(j.R0b),j.LFG(l.HU),j.LFG(Ms,8),j.LFG(Ps,8),j.LFG(Ko,8),j.LFG(l.Rf,8))};static \u0275prov=j.Yz7({token:te,factory:te.\u0275fac,providedIn:"any"})}return te})(),ns=(()=>{class te{static \u0275fac=function(T){return new(T||te)};static \u0275mod=j.oAB({type:te});static \u0275inj=j.cJS({})}return te})(),Wn=(()=>{class te{constructor(){Oi.Z.registerVersion("angularfire",l.q4.full,"gcs-compat")}static \u0275fac=function(T){return new(T||te)};static \u0275mod=j.oAB({type:te});static \u0275inj=j.cJS({providers:[Fr],imports:[ns]})}return te})()},3593:(wt,Ne,_)=>{"use strict";_.d(Ne,{Dh:()=>j,GT:()=>ee,cc:()=>ne,hO:()=>Z,on:()=>Y,pX:()=>he,xv:()=>K});var l=_(4650),b=_(9618),m=_(9260);const O=["ngOnDestroy"],he=(oe,fe,Me,pe={})=>new Proxy(oe,{get:(de,Ee)=>Me.runOutsideAngular(()=>{if(oe[Ee])return pe?.spy?.get&&pe.spy.get(Ee,oe[Ee]),oe[Ee];if(O.indexOf(Ee)>-1)return()=>{};const je=fe.toPromise().then(ke=>{const Xe=ke?.[Ee];return"function"==typeof Xe?Xe.bind(ke):Xe?.then?Xe.then(ut=>Me.run(()=>ut)):Me.run(()=>Xe)});return new Proxy(()=>{},{get:(ke,Xe)=>je[Xe],apply:(ke,Xe,ut)=>je.then(Ue=>{const ct=Ue?.(...ut);return pe?.spy?.apply&&pe.spy.apply(Ee,ut,ct),ct})})})}),ee=(oe,fe)=>{fe.forEach(Me=>{Object.getOwnPropertyNames(Me.prototype||Me).forEach(pe=>{Object.defineProperty(oe.prototype,pe,Object.getOwnPropertyDescriptor(Me.prototype||Me,pe))})})};class ie{constructor(fe){return fe}}const j=new l.OlP("angularfire2.app.options"),K=new l.OlP("angularfire2.app.name");function Y(oe,fe,Me){const de="object"==typeof Me&&Me||{};de.name=de.name||"string"==typeof Me&&Me||"[DEFAULT]";const je=m.Z.apps.filter(ke=>ke&&ke.name===de.name)[0]||fe.runOutsideAngular(()=>m.Z.initializeApp(oe,de));try{if(JSON.stringify(oe)!==JSON.stringify(je.options)){const ke=!!module.hot;F("error",`${je.name} Firebase App already initialized with different options${ke?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ie(je)}const F=(oe,...fe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[oe](...fe)},V={provide:ie,useFactory:Y,deps:[j,l.R0b,[new l.FiY,K]]};let Z=(()=>{class oe{static initializeApp(Me,pe){return{ngModule:oe,providers:[{provide:j,useValue:Me},{provide:K,useValue:pe}]}}constructor(Me){m.Z.registerVersion("angularfire",b.q4.full,"core"),m.Z.registerVersion("angularfire",b.q4.full,"app-compat"),m.Z.registerVersion("angular",l.q4F.full,Me.toString())}static \u0275fac=function(pe){return new(pe||oe)(l.LFG(l.Lbi))};static \u0275mod=l.oAB({type:oe});static \u0275inj=l.cJS({providers:[V]})}return oe})();function ne(oe,fe,Me,pe,de){const[,Ee,je]=globalThis.\u0275AngularfireInstanceCache.find(ke=>ke[0]===oe)||[];if(Ee)return function ce(oe,fe){try{return oe.toString()===fe.toString()}catch{return oe===fe}}(de,je)||(_e("error",`${fe} was already initialized on the ${Me} Firebase App with different settings.${Ae?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:de,was:je})),Ee;{const ke=pe();return globalThis.\u0275AngularfireInstanceCache.push([oe,ke,de]),ke}}const Ae=typeof module<"u"&&!!module.hot,_e=(oe,...fe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[oe](...fe)};globalThis.\u0275AngularfireInstanceCache||=[]},9618:(wt,Ne,_)=>{"use strict";_.d(Ne,{q4:()=>ce,iC:()=>kt,fc:()=>Ue,HU:()=>je,Rf:()=>fe});var l=_(4650),b=_(6881);(0,b.registerVersion)("firebase","10.13.1","app");var he=_(4408),ie=_(7565);const K=new class j extends ie.v{}(class ee extends he.o{constructor(Zt,Ce){super(Zt,Ce),this.scheduler=Zt,this.work=Ce}schedule(Zt,Ce=0){return Ce>0?super.schedule(Zt,Ce):(this.delay=Ce,this.state=Zt,this.scheduler.flush(this),this)}execute(Zt,Ce){return Ce>0||this.closed?super.execute(Zt,Ce):this._execute(Zt,Ce)}requestAsyncId(Zt,Ce,Oe=0){return null!=Oe&&Oe>0||null==Oe&&this.delay>0?super.requestAsyncId(Zt,Ce,Oe):(Zt.flush(this),0)}});var F=_(4986),V=_(8505),Z=_(5363),ne=_(9468);const ce=new l.GfV("ANGULARFIRE2_VERSION");class fe{constructor(){return((Ht,Zt)=>{const Ce=(0,b.getApps)(),Oe=[];return Ce.forEach(Fe=>{Fe.container.getProvider(Ht).instances.forEach(Ye=>{Oe.includes(Ye)||Oe.push(Ye)})}),Oe})(Me)}}const Me="app-check";function pe(){}class de{zone;delegate;constructor(Zt,Ce=K){this.zone=Zt,this.delegate=Ce}now(){return this.delegate.now()}schedule(Zt,Ce,Oe){const Fe=this.zone;return this.delegate.schedule(function(Ye){Fe.runGuarded(()=>{Zt.apply(this,[Ye])})},Ce,Oe)}}class Ee{zone;task=null;constructor(Zt){this.zone=Zt}call(Zt,Ce){const Oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pe,{},pe,pe)),Ce.pipe((0,V.b)({next:Oe,complete:Oe,error:Oe})).subscribe(Zt).add(Oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let je=(()=>{class Ht{ngZone;outsideAngular;insideAngular;constructor(Ce){this.ngZone=Ce,this.outsideAngular=Ce.runOutsideAngular(()=>new de(Zone.current)),this.insideAngular=Ce.run(()=>new de(Zone.current,F.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Oe){return new(Oe||Ht)(l.LFG(l.R0b))};static \u0275prov=l.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"})}return Ht})();function ke(){const Ht=globalThis.\u0275AngularFireScheduler;if(!Ht)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ht}function Ue(Ht){return Ht.pipe((0,Z.Q)(ke().outsideAngular))}function kt(Ht){return function lt(Ht){return function(Ce){return(Ce=Ce.lift(new Ee(Ht.ngZone))).pipe((0,ne.R)(Ht.outsideAngular),(0,Z.Q)(Ht.insideAngular))}}(ke())(Ht)}},4006:(wt,Ne,_)=>{"use strict";_.d(Ne,{EJ:()=>Ds,F:()=>Hi,Fj:()=>ne,JJ:()=>Mn,JL:()=>Le,Kr:()=>_o,NI:()=>cr,On:()=>qr,UX:()=>te,Wl:()=>Y,YN:()=>go,_:()=>qi,_Y:()=>Ai,cw:()=>Je,kI:()=>pe,sg:()=>_r,u:()=>ps,u5:()=>Wn,wV:()=>po});var l=_(4650),b=_(6895),m=_(8996),O=_(4128),he=_(4004);let ee=(()=>{class E{constructor(T,Q){this._renderer=T,this._elementRef=Q,this.onChange=Ge=>{},this.onTouched=()=>{}}setProperty(T,Q){this._renderer.setProperty(this._elementRef.nativeElement,T,Q)}registerOnTouched(T){this.onTouched=T}registerOnChange(T){this.onChange=T}setDisabledState(T){this.setProperty("disabled",T)}}return E.\u0275fac=function(T){return new(T||E)(l.Y36(l.Qsj),l.Y36(l.SBq))},E.\u0275dir=l.lG2({type:E}),E})(),ie=(()=>{class E extends ee{}return E.\u0275fac=function(){let A;return function(Q){return(A||(A=l.n5z(E)))(Q||E)}}(),E.\u0275dir=l.lG2({type:E,features:[l.qOj]}),E})();const j=new l.OlP("NgValueAccessor"),K={provide:j,useExisting:(0,l.Gpc)(()=>Y),multi:!0};let Y=(()=>{class E extends ie{writeValue(T){this.setProperty("checked",T)}}return E.\u0275fac=function(){let A;return function(Q){return(A||(A=l.n5z(E)))(Q||E)}}(),E.\u0275dir=l.lG2({type:E,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(T,Q){1&T&&l.NdJ("change",function(Ut){return Q.onChange(Ut.target.checked)})("blur",function(){return Q.onTouched()})},features:[l._Bn([K]),l.qOj]}),E})();const F={provide:j,useExisting:(0,l.Gpc)(()=>ne),multi:!0},Z=new l.OlP("CompositionEventMode");let ne=(()=>{class E extends ee{constructor(T,Q,Ge){super(T,Q),this._compositionMode=Ge,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function V(){const E=(0,b.q)()?(0,b.q)().getUserAgent():"";return/android (\d+)/.test(E.toLowerCase())}())}writeValue(T){this.setProperty("value",T??"")}_handleInput(T){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(T)}_compositionStart(){this._composing=!0}_compositionEnd(T){this._composing=!1,this._compositionMode&&this.onChange(T)}}return E.\u0275fac=function(T){return new(T||E)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Z,8))},E.\u0275dir=l.lG2({type:E,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(T,Q){1&T&&l.NdJ("input",function(Ut){return Q._handleInput(Ut.target.value)})("blur",function(){return Q.onTouched()})("compositionstart",function(){return Q._compositionStart()})("compositionend",function(Ut){return Q._compositionEnd(Ut.target.value)})},features:[l._Bn([F]),l.qOj]}),E})();const ce=!1;function Ae(E){return null==E||("string"==typeof E||Array.isArray(E))&&0===E.length}function _e(E){return null!=E&&"number"==typeof E.length}const oe=new l.OlP("NgValidators"),fe=new l.OlP("NgAsyncValidators"),Me=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pe{static min(A){return function de(E){return A=>{if(Ae(A.value)||Ae(E))return null;const T=parseFloat(A.value);return!isNaN(T)&&T<E?{min:{min:E,actual:A.value}}:null}}(A)}static max(A){return function Ee(E){return A=>{if(Ae(A.value)||Ae(E))return null;const T=parseFloat(A.value);return!isNaN(T)&&T>E?{max:{max:E,actual:A.value}}:null}}(A)}static required(A){return function je(E){return Ae(E.value)?{required:!0}:null}(A)}static requiredTrue(A){return function ke(E){return!0===E.value?null:{required:!0}}(A)}static email(A){return function Xe(E){return Ae(E.value)||Me.test(E.value)?null:{email:!0}}(A)}static minLength(A){return function ut(E){return A=>Ae(A.value)||!_e(A.value)?null:A.value.length<E?{minlength:{requiredLength:E,actualLength:A.value.length}}:null}(A)}static maxLength(A){return function Ue(E){return A=>_e(A.value)&&A.value.length>E?{maxlength:{requiredLength:E,actualLength:A.value.length}}:null}(A)}static pattern(A){return function ct(E){if(!E)return kt;let A,T;return"string"==typeof E?(T="","^"!==E.charAt(0)&&(T+="^"),T+=E,"$"!==E.charAt(E.length-1)&&(T+="$"),A=new RegExp(T)):(T=E.toString(),A=E),Q=>{if(Ae(Q.value))return null;const Ge=Q.value;return A.test(Ge)?null:{pattern:{requiredPattern:T,actualValue:Ge}}}}(A)}static nullValidator(A){return null}static compose(A){return Oe(A)}static composeAsync(A){return me(A)}}function kt(E){return null}function lt(E){return null!=E}function dn(E){const A=(0,l.QGY)(E)?(0,m.D)(E):E;if(ce&&!(0,l.CqO)(A)){let T="Expected async validator to return Promise or Observable.";throw"object"==typeof E&&(T+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,T)}return A}function jt(E){let A={};return E.forEach(T=>{A=null!=T?{...A,...T}:A}),0===Object.keys(A).length?null:A}function Ht(E,A){return A.map(T=>T(E))}function Ce(E){return E.map(A=>function Zt(E){return!E.validate}(A)?A:T=>A.validate(T))}function Oe(E){if(!E)return null;const A=E.filter(lt);return 0==A.length?null:function(T){return jt(Ht(T,A))}}function Fe(E){return null!=E?Oe(Ce(E)):null}function me(E){if(!E)return null;const A=E.filter(lt);return 0==A.length?null:function(T){const Q=Ht(T,A).map(dn);return(0,O.D)(Q).pipe((0,he.U)(jt))}}function Ye(E){return null!=E?me(Ce(E)):null}function W(E,A){return null===E?[A]:Array.isArray(E)?[...E,A]:[E,A]}function ve(E){return E._rawValidators}function R(E){return E._rawAsyncValidators}function Se(E){return E?Array.isArray(E)?E:[E]:[]}function qe(E,A){return Array.isArray(E)?E.includes(A):E===A}function Dt(E,A){const T=Se(A);return Se(E).forEach(Ge=>{qe(T,Ge)||T.push(Ge)}),T}function $e(E,A){return Se(A).filter(T=>!qe(E,T))}class St{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(A){this._rawValidators=A||[],this._composedValidatorFn=Fe(this._rawValidators)}_setAsyncValidators(A){this._rawAsyncValidators=A||[],this._composedAsyncValidatorFn=Ye(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(A){this._onDestroyCallbacks.push(A)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(A=>A()),this._onDestroyCallbacks=[]}reset(A){this.control&&this.control.reset(A)}hasError(A,T){return!!this.control&&this.control.hasError(A,T)}getError(A,T){return this.control?this.control.getError(A,T):null}}class $t extends St{get formDirective(){return null}get path(){return null}}class vn extends St{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bn{constructor(A){this._cd=A}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mn=(()=>{class E extends Bn{constructor(T){super(T)}}return E.\u0275fac=function(T){return new(T||E)(l.Y36(vn,2))},E.\u0275dir=l.lG2({type:E,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(T,Q){2&T&&l.ekj("ng-untouched",Q.isUntouched)("ng-touched",Q.isTouched)("ng-pristine",Q.isPristine)("ng-dirty",Q.isDirty)("ng-valid",Q.isValid)("ng-invalid",Q.isInvalid)("ng-pending",Q.isPending)},features:[l.qOj]}),E})(),Le=(()=>{class E extends Bn{constructor(T){super(T)}}return E.\u0275fac=function(T){return new(T||E)(l.Y36($t,10))},E.\u0275dir=l.lG2({type:E,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(T,Q){2&T&&l.ekj("ng-untouched",Q.isUntouched)("ng-touched",Q.isTouched)("ng-pristine",Q.isPristine)("ng-dirty",Q.isDirty)("ng-valid",Q.isValid)("ng-invalid",Q.isInvalid)("ng-pending",Q.isPending)("ng-submitted",Q.isSubmitted)},features:[l.qOj]}),E})();function gn(E,A){return E?`with name: '${A}'`:`at index: ${A}`}const Qn=!1,Ii="VALID",on="INVALID",ht="PENDING",pt="DISABLED";function rt(E){return(en(E)?E.validators:E)||null}function st(E,A){return(en(A)?A.asyncValidators:E)||null}function en(E){return null!=E&&!Array.isArray(E)&&"object"==typeof E}class Ve{constructor(A,T){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(A),this._assignAsyncValidators(T)}get validator(){return this._composedValidatorFn}set validator(A){this._rawValidators=this._composedValidatorFn=A}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(A){this._rawAsyncValidators=this._composedAsyncValidatorFn=A}get parent(){return this._parent}get valid(){return this.status===Ii}get invalid(){return this.status===on}get pending(){return this.status==ht}get disabled(){return this.status===pt}get enabled(){return this.status!==pt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(A){this._assignValidators(A)}setAsyncValidators(A){this._assignAsyncValidators(A)}addValidators(A){this.setValidators(Dt(A,this._rawValidators))}addAsyncValidators(A){this.setAsyncValidators(Dt(A,this._rawAsyncValidators))}removeValidators(A){this.setValidators($e(A,this._rawValidators))}removeAsyncValidators(A){this.setAsyncValidators($e(A,this._rawAsyncValidators))}hasValidator(A){return qe(this._rawValidators,A)}hasAsyncValidator(A){return qe(this._rawAsyncValidators,A)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(A={}){this.touched=!0,this._parent&&!A.onlySelf&&this._parent.markAsTouched(A)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(A=>A.markAllAsTouched())}markAsUntouched(A={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(T=>{T.markAsUntouched({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}markAsDirty(A={}){this.pristine=!1,this._parent&&!A.onlySelf&&this._parent.markAsDirty(A)}markAsPristine(A={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(T=>{T.markAsPristine({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}markAsPending(A={}){this.status=ht,!1!==A.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!A.onlySelf&&this._parent.markAsPending(A)}disable(A={}){const T=this._parentMarkedDirty(A.onlySelf);this.status=pt,this.errors=null,this._forEachChild(Q=>{Q.disable({...A,onlySelf:!0})}),this._updateValue(),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...A,skipPristineCheck:T}),this._onDisabledChange.forEach(Q=>Q(!0))}enable(A={}){const T=this._parentMarkedDirty(A.onlySelf);this.status=Ii,this._forEachChild(Q=>{Q.enable({...A,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent}),this._updateAncestors({...A,skipPristineCheck:T}),this._onDisabledChange.forEach(Q=>Q(!1))}_updateAncestors(A){this._parent&&!A.onlySelf&&(this._parent.updateValueAndValidity(A),A.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(A){this._parent=A}getRawValue(){return this.value}updateValueAndValidity(A={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ii||this.status===ht)&&this._runAsyncValidator(A.emitEvent)),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!A.onlySelf&&this._parent.updateValueAndValidity(A)}_updateTreeValidity(A={emitEvent:!0}){this._forEachChild(T=>T._updateTreeValidity(A)),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pt:Ii}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(A){if(this.asyncValidator){this.status=ht,this._hasOwnPendingAsyncValidator=!0;const T=dn(this.asyncValidator(this));this._asyncValidationSubscription=T.subscribe(Q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Q,{emitEvent:A})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(A,T={}){this.errors=A,this._updateControlsErrors(!1!==T.emitEvent)}get(A){let T=A;return null==T||(Array.isArray(T)||(T=T.split(".")),0===T.length)?null:T.reduce((Q,Ge)=>Q&&Q._find(Ge),this)}getError(A,T){const Q=T?this.get(T):this;return Q&&Q.errors?Q.errors[A]:null}hasError(A,T){return!!this.getError(A,T)}get root(){let A=this;for(;A._parent;)A=A._parent;return A}_updateControlsErrors(A){this.status=this._calculateStatus(),A&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(A)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?pt:this.errors?on:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ht)?ht:this._anyControlsHaveStatus(on)?on:Ii}_anyControlsHaveStatus(A){return this._anyControls(T=>T.status===A)}_anyControlsDirty(){return this._anyControls(A=>A.dirty)}_anyControlsTouched(){return this._anyControls(A=>A.touched)}_updatePristine(A={}){this.pristine=!this._anyControlsDirty(),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}_updateTouched(A={}){this.touched=this._anyControlsTouched(),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}_registerOnCollectionChange(A){this._onCollectionChange=A}_setUpdateStrategy(A){en(A)&&null!=A.updateOn&&(this._updateOn=A.updateOn)}_parentMarkedDirty(A){return!A&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(A){return null}_assignValidators(A){this._rawValidators=Array.isArray(A)?A.slice():A,this._composedValidatorFn=function ze(E){return Array.isArray(E)?Fe(E):E||null}(this._rawValidators)}_assignAsyncValidators(A){this._rawAsyncValidators=Array.isArray(A)?A.slice():A,this._composedAsyncValidatorFn=function an(E){return Array.isArray(E)?Ye(E):E||null}(this._rawAsyncValidators)}}class Je extends Ve{constructor(A,T,Q){super(rt(T),st(Q,T)),this.controls=A,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(A,T){return this.controls[A]?this.controls[A]:(this.controls[A]=T,T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange),T)}addControl(A,T,Q={}){this.registerControl(A,T),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}removeControl(A,T={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}setControl(A,T,Q={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],T&&this.registerControl(A,T),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}contains(A){return this.controls.hasOwnProperty(A)&&this.controls[A].enabled}setValue(A,T={}){(function Ze(E,A,T){E._forEachChild((Q,Ge)=>{if(void 0===T[Ge])throw new l.vHH(1002,Qn?function si(E,A){return`Must supply a value for form control ${gn(E,A)}`}(A,Ge):"")})})(this,!0,A),Object.keys(A).forEach(Q=>{(function Nn(E,A,T){const Q=E.controls;if(!(A?Object.keys(Q):Q).length)throw new l.vHH(1e3,Qn?function ai(E){return`\n    There are no form controls registered with this ${E?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(A):"");if(!Q[T])throw new l.vHH(1001,Qn?function jn(E,A){return`Cannot find form control ${gn(E,A)}`}(A,T):"")})(this,!0,Q),this.controls[Q].setValue(A[Q],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(A,T={}){null!=A&&(Object.keys(A).forEach(Q=>{const Ge=this.controls[Q];Ge&&Ge.patchValue(A[Q],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(A={},T={}){this._forEachChild((Q,Ge)=>{Q.reset(A[Ge],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this._reduceChildren({},(A,T,Q)=>(A[Q]=T.getRawValue(),A))}_syncPendingControls(){let A=this._reduceChildren(!1,(T,Q)=>!!Q._syncPendingControls()||T);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_forEachChild(A){Object.keys(this.controls).forEach(T=>{const Q=this.controls[T];Q&&A(Q,T)})}_setUpControls(){this._forEachChild(A=>{A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(A){for(const[T,Q]of Object.entries(this.controls))if(this.contains(T)&&A(Q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(T,Q,Ge)=>((Q.enabled||this.disabled)&&(T[Ge]=Q.value),T))}_reduceChildren(A,T){let Q=A;return this._forEachChild((Ge,Ut)=>{Q=T(Q,Ge,Ut)}),Q}_allControlsDisabled(){for(const A of Object.keys(this.controls))if(this.controls[A].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(A){return this.controls.hasOwnProperty(A)?this.controls[A]:null}}const N=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>D}),D="always";function z(E,A){return[...A.path,E]}function be(E,A,T=D){rn(E,A),A.valueAccessor.writeValue(E.value),(E.disabled||"always"===T)&&A.valueAccessor.setDisabledState?.(E.disabled),function Pn(E,A){A.valueAccessor.registerOnChange(T=>{E._pendingValue=T,E._pendingChange=!0,E._pendingDirty=!0,"change"===E.updateOn&&$n(E,A)})}(E,A),function wn(E,A){const T=(Q,Ge)=>{A.valueAccessor.writeValue(Q),Ge&&A.viewToModelUpdate(Q)};E.registerOnChange(T),A._registerOnDestroy(()=>{E._unregisterOnChange(T)})}(E,A),function pn(E,A){A.valueAccessor.registerOnTouched(()=>{E._pendingTouched=!0,"blur"===E.updateOn&&E._pendingChange&&$n(E,A),"submit"!==E.updateOn&&E.markAsTouched()})}(E,A),function gt(E,A){if(A.valueAccessor.setDisabledState){const T=Q=>{A.valueAccessor.setDisabledState(Q)};E.registerOnDisabledChange(T),A._registerOnDestroy(()=>{E._unregisterOnDisabledChange(T)})}}(E,A)}function Pe(E,A,T=!0){const Q=()=>{};A.valueAccessor&&(A.valueAccessor.registerOnChange(Q),A.valueAccessor.registerOnTouched(Q)),bn(E,A),E&&(A._invokeOnDestroyCallbacks(),E._registerOnCollectionChange(()=>{}))}function at(E,A){E.forEach(T=>{T.registerOnValidatorChange&&T.registerOnValidatorChange(A)})}function rn(E,A){const T=ve(E);null!==A.validator?E.setValidators(W(T,A.validator)):"function"==typeof T&&E.setValidators([T]);const Q=R(E);null!==A.asyncValidator?E.setAsyncValidators(W(Q,A.asyncValidator)):"function"==typeof Q&&E.setAsyncValidators([Q]);const Ge=()=>E.updateValueAndValidity();at(A._rawValidators,Ge),at(A._rawAsyncValidators,Ge)}function bn(E,A){let T=!1;if(null!==E){if(null!==A.validator){const Ge=ve(E);if(Array.isArray(Ge)&&Ge.length>0){const Ut=Ge.filter(Dn=>Dn!==A.validator);Ut.length!==Ge.length&&(T=!0,E.setValidators(Ut))}}if(null!==A.asyncValidator){const Ge=R(E);if(Array.isArray(Ge)&&Ge.length>0){const Ut=Ge.filter(Dn=>Dn!==A.asyncValidator);Ut.length!==Ge.length&&(T=!0,E.setAsyncValidators(Ut))}}}const Q=()=>{};return at(A._rawValidators,Q),at(A._rawAsyncValidators,Q),T}function $n(E,A){E._pendingDirty&&E.markAsDirty(),E.setValue(E._pendingValue,{emitModelToViewChange:!1}),A.viewToModelUpdate(E._pendingValue),E._pendingChange=!1}function Yn(E,A){rn(E,A)}function ui(E,A){if(!E.hasOwnProperty("model"))return!1;const T=E.model;return!!T.isFirstChange()||!Object.is(A,T.currentValue)}function hi(E,A){E._syncPendingControls(),A.forEach(T=>{const Q=T.control;"submit"===Q.updateOn&&Q._pendingChange&&(T.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1)})}function xn(E,A){if(!A)return null;let T,Q,Ge;return Array.isArray(A),A.forEach(Ut=>{Ut.constructor===ne?T=Ut:function bi(E){return Object.getPrototypeOf(E.constructor)===ie}(Ut)?Q=Ut:Ge=Ut}),Ge||Q||T||null}const Ar={provide:$t,useExisting:(0,l.Gpc)(()=>Hi)},lr=(()=>Promise.resolve())();let Hi=(()=>{class E extends $t{constructor(T,Q,Ge){super(),this.callSetDisabledState=Ge,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Je({},Fe(T),Ye(Q))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(T){lr.then(()=>{const Q=this._findContainer(T.path);T.control=Q.registerControl(T.name,T.control),be(T.control,T,this.callSetDisabledState),T.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(T)})}getControl(T){return this.form.get(T.path)}removeControl(T){lr.then(()=>{const Q=this._findContainer(T.path);Q&&Q.removeControl(T.name),this._directives.delete(T)})}addFormGroup(T){lr.then(()=>{const Q=this._findContainer(T.path),Ge=new Je({});Yn(Ge,T),Q.registerControl(T.name,Ge),Ge.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(T){lr.then(()=>{const Q=this._findContainer(T.path);Q&&Q.removeControl(T.name)})}getFormGroup(T){return this.form.get(T.path)}updateModel(T,Q){lr.then(()=>{this.form.get(T.path).setValue(Q)})}setValue(T){this.control.setValue(T)}onSubmit(T){return this.submitted=!0,hi(this.form,this._directives),this.ngSubmit.emit(T),"dialog"===T?.target?.method}onReset(){this.resetForm()}resetForm(T){this.form.reset(T),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(T){return T.pop(),T.length?this.form.get(T):this.form}}return E.\u0275fac=function(T){return new(T||E)(l.Y36(oe,10),l.Y36(fe,10),l.Y36(N,8))},E.\u0275dir=l.lG2({type:E,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(T,Q){1&T&&l.NdJ("submit",function(Ut){return Q.onSubmit(Ut)})("reset",function(){return Q.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Ar]),l.qOj]}),E})();function Yi(E,A){const T=E.indexOf(A);T>-1&&E.splice(T,1)}function li(E){return"object"==typeof E&&null!==E&&2===Object.keys(E).length&&"value"in E&&"disabled"in E}const cr=class extends Ve{constructor(A=null,T,Q){super(rt(T),st(Q,T)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(A),this._setUpdateStrategy(T),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),en(T)&&(T.nonNullable||T.initialValueIsDefault)&&(this.defaultValue=li(A)?A.value:A)}setValue(A,T={}){this.value=this._pendingValue=A,this._onChange.length&&!1!==T.emitModelToViewChange&&this._onChange.forEach(Q=>Q(this.value,!1!==T.emitViewToModelChange)),this.updateValueAndValidity(T)}patchValue(A,T={}){this.setValue(A,T)}reset(A=this.defaultValue,T={}){this._applyFormState(A),this.markAsPristine(T),this.markAsUntouched(T),this.setValue(this.value,T),this._pendingChange=!1}_updateValue(){}_anyControls(A){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(A){this._onChange.push(A)}_unregisterOnChange(A){Yi(this._onChange,A)}registerOnDisabledChange(A){this._onDisabledChange.push(A)}_unregisterOnDisabledChange(A){Yi(this._onDisabledChange,A)}_forEachChild(A){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(A){li(A)?(this.value=this._pendingValue=A.value,A.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=A}},Yr={provide:vn,useExisting:(0,l.Gpc)(()=>qr)},fo=(()=>Promise.resolve())();let qr=(()=>{class E extends vn{constructor(T,Q,Ge,Ut,Dn,_t){super(),this._changeDetectorRef=Dn,this.callSetDisabledState=_t,this.control=new cr,this._registered=!1,this.update=new l.vpe,this._parent=T,this._setValidators(Q),this._setAsyncValidators(Ge),this.valueAccessor=xn(0,Ut)}ngOnChanges(T){if(this._checkForErrors(),!this._registered||"name"in T){if(this._registered&&(this._checkName(),this.formDirective)){const Q=T.name.previousValue;this.formDirective.removeControl({name:Q,path:this._getPath(Q)})}this._setUpControl()}"isDisabled"in T&&this._updateDisabled(T),ui(T,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){be(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(T){fo.then(()=>{this.control.setValue(T,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(T){const Q=T.isDisabled.currentValue,Ge=0!==Q&&(0,l.D6c)(Q);fo.then(()=>{Ge&&!this.control.disabled?this.control.disable():!Ge&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(T){return this._parent?z(T,this._parent):[T]}}return E.\u0275fac=function(T){return new(T||E)(l.Y36($t,9),l.Y36(oe,10),l.Y36(fe,10),l.Y36(j,10),l.Y36(l.sBO,8),l.Y36(N,8))},E.\u0275dir=l.lG2({type:E,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Yr]),l.qOj,l.TTD]}),E})(),Ai=(()=>{class E{}return E.\u0275fac=function(T){return new(T||E)},E.\u0275dir=l.lG2({type:E,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),E})();const Qr={provide:j,useExisting:(0,l.Gpc)(()=>po),multi:!0};let po=(()=>{class E extends ie{writeValue(T){this.setProperty("value",T??"")}registerOnChange(T){this.onChange=Q=>{T(""==Q?null:parseFloat(Q))}}}return E.\u0275fac=function(){let A;return function(Q){return(A||(A=l.n5z(E)))(Q||E)}}(),E.\u0275dir=l.lG2({type:E,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(T,Q){1&T&&l.NdJ("input",function(Ut){return Q.onChange(Ut.target.value)})("blur",function(){return Q.onTouched()})},features:[l._Bn([Qr]),l.qOj]}),E})();const Ra={provide:j,useExisting:(0,l.Gpc)(()=>qi),multi:!0};let fs=(()=>{class E{}return E.\u0275fac=function(T){return new(T||E)},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({}),E})(),ro=(()=>{class E{constructor(){this._accessors=[]}add(T,Q){this._accessors.push([T,Q])}remove(T){for(let Q=this._accessors.length-1;Q>=0;--Q)if(this._accessors[Q][1]===T)return void this._accessors.splice(Q,1)}select(T){this._accessors.forEach(Q=>{this._isSameGroup(Q,T)&&Q[1]!==T&&Q[1].fireUncheck(T.value)})}_isSameGroup(T,Q){return!!T[0].control&&T[0]._parent===Q._control._parent&&T[1].name===Q.name}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:fs}),E})(),qi=(()=>{class E extends ie{constructor(T,Q,Ge,Ut){super(T,Q),this._registry=Ge,this._injector=Ut,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,l.f3M)(N,{optional:!0})??D}ngOnInit(){this._control=this._injector.get(vn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(T){this._state=T===this.value,this.setProperty("checked",this._state)}registerOnChange(T){this._fn=T,this.onChange=()=>{T(this.value),this._registry.select(this)}}setDisabledState(T){(this.setDisabledStateFired||T||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",T),this.setDisabledStateFired=!0}fireUncheck(T){this.writeValue(T)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return E.\u0275fac=function(T){return new(T||E)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(ro),l.Y36(l.zs3))},E.\u0275dir=l.lG2({type:E,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(T,Q){1&T&&l.NdJ("change",function(){return Q.onChange()})("blur",function(){return Q.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[l._Bn([Ra]),l.qOj]}),E})();const gr=new l.OlP("NgModelWithFormControlWarning"),Io={provide:$t,useExisting:(0,l.Gpc)(()=>_r)};let _r=(()=>{class E extends $t{constructor(T,Q,Ge){super(),this.callSetDisabledState=Ge,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(T),this._setAsyncValidators(Q)}ngOnChanges(T){this._checkFormPresent(),T.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(T){const Q=this.form.get(T.path);return be(Q,T,this.callSetDisabledState),Q.updateValueAndValidity({emitEvent:!1}),this.directives.push(T),Q}getControl(T){return this.form.get(T.path)}removeControl(T){Pe(T.control||null,T,!1),function ti(E,A){const T=E.indexOf(A);T>-1&&E.splice(T,1)}(this.directives,T)}addFormGroup(T){this._setUpFormContainer(T)}removeFormGroup(T){this._cleanUpFormContainer(T)}getFormGroup(T){return this.form.get(T.path)}addFormArray(T){this._setUpFormContainer(T)}removeFormArray(T){this._cleanUpFormContainer(T)}getFormArray(T){return this.form.get(T.path)}updateModel(T,Q){this.form.get(T.path).setValue(Q)}onSubmit(T){return this.submitted=!0,hi(this.form,this.directives),this.ngSubmit.emit(T),"dialog"===T?.target?.method}onReset(){this.resetForm()}resetForm(T){this.form.reset(T),this.submitted=!1}_updateDomValue(){this.directives.forEach(T=>{const Q=T.control,Ge=this.form.get(T.path);Q!==Ge&&(Pe(Q||null,T),(E=>E instanceof cr)(Ge)&&(be(Ge,T,this.callSetDisabledState),T.control=Ge))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(T){const Q=this.form.get(T.path);Yn(Q,T),Q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(T){if(this.form){const Q=this.form.get(T.path);Q&&function bt(E,A){return bn(E,A)}(Q,T)&&Q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rn(this.form,this),this._oldForm&&bn(this._oldForm,this)}_checkFormPresent(){}}return E.\u0275fac=function(T){return new(T||E)(l.Y36(oe,10),l.Y36(fe,10),l.Y36(N,8))},E.\u0275dir=l.lG2({type:E,selectors:[["","formGroup",""]],hostBindings:function(T,Q){1&T&&l.NdJ("submit",function(Ut){return Q.onSubmit(Ut)})("reset",function(){return Q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Io]),l.qOj,l.TTD]}),E})();const es={provide:vn,useExisting:(0,l.Gpc)(()=>ps)};let ps=(()=>{class E extends vn{set isDisabled(T){}constructor(T,Q,Ge,Ut,Dn){super(),this._ngModelWarningConfig=Dn,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=T,this._setValidators(Q),this._setAsyncValidators(Ge),this.valueAccessor=xn(0,Ut)}ngOnChanges(T){this._added||this._setUpControl(),ui(T,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}get path(){return z(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return E._ngModelWarningSentOnce=!1,E.\u0275fac=function(T){return new(T||E)(l.Y36($t,13),l.Y36(oe,10),l.Y36(fe,10),l.Y36(j,10),l.Y36(gr,8))},E.\u0275dir=l.lG2({type:E,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([es]),l.qOj,l.TTD]}),E})();const $s={provide:j,useExisting:(0,l.Gpc)(()=>Ds),multi:!0};function Gs(E,A){return null==E?`${A}`:(A&&"object"==typeof A&&(A="Object"),`${E}: ${A}`.slice(0,50))}let Ds=(()=>{class E extends ie{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(T){this._compareWith=T}writeValue(T){this.value=T;const Ge=Gs(this._getOptionId(T),T);this.setProperty("value",Ge)}registerOnChange(T){this.onChange=Q=>{this.value=this._getOptionValue(Q),T(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(T){for(const Q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Q),T))return Q;return null}_getOptionValue(T){const Q=function kr(E){return E.split(":")[0]}(T);return this._optionMap.has(Q)?this._optionMap.get(Q):T}}return E.\u0275fac=function(){let A;return function(Q){return(A||(A=l.n5z(E)))(Q||E)}}(),E.\u0275dir=l.lG2({type:E,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(T,Q){1&T&&l.NdJ("change",function(Ut){return Q.onChange(Ut.target.value)})("blur",function(){return Q.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([$s]),l.qOj]}),E})(),go=(()=>{class E{constructor(T,Q,Ge){this._element=T,this._renderer=Q,this._select=Ge,this._select&&(this.id=this._select._registerOption())}set ngValue(T){null!=this._select&&(this._select._optionMap.set(this.id,T),this._setElementValue(Gs(this.id,T)),this._select.writeValue(this._select.value))}set value(T){this._setElementValue(T),this._select&&this._select.writeValue(this._select.value)}_setElementValue(T){this._renderer.setProperty(this._element.nativeElement,"value",T)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return E.\u0275fac=function(T){return new(T||E)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Ds,9))},E.\u0275dir=l.lG2({type:E,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),E})();const Oa={provide:j,useExisting:(0,l.Gpc)(()=>Go),multi:!0};function ka(E,A){return null==E?`${A}`:("string"==typeof A&&(A=`'${A}'`),A&&"object"==typeof A&&(A="Object"),`${E}: ${A}`.slice(0,50))}let Go=(()=>{class E extends ie{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(T){this._compareWith=T}writeValue(T){let Q;if(this.value=T,Array.isArray(T)){const Ge=T.map(Ut=>this._getOptionId(Ut));Q=(Ut,Dn)=>{Ut._setSelected(Ge.indexOf(Dn.toString())>-1)}}else Q=(Ge,Ut)=>{Ge._setSelected(!1)};this._optionMap.forEach(Q)}registerOnChange(T){this.onChange=Q=>{const Ge=[],Ut=Q.selectedOptions;if(void 0!==Ut){const Dn=Ut;for(let _t=0;_t<Dn.length;_t++){const _i=this._getOptionValue(Dn[_t].value);Ge.push(_i)}}else{const Dn=Q.options;for(let _t=0;_t<Dn.length;_t++){const Cn=Dn[_t];if(Cn.selected){const _i=this._getOptionValue(Cn.value);Ge.push(_i)}}}this.value=Ge,T(Ge)}}_registerOption(T){const Q=(this._idCounter++).toString();return this._optionMap.set(Q,T),Q}_getOptionId(T){for(const Q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Q)._value,T))return Q;return null}_getOptionValue(T){const Q=function Fa(E){return E.split(":")[0]}(T);return this._optionMap.has(Q)?this._optionMap.get(Q)._value:T}}return E.\u0275fac=function(){let A;return function(Q){return(A||(A=l.n5z(E)))(Q||E)}}(),E.\u0275dir=l.lG2({type:E,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(T,Q){1&T&&l.NdJ("change",function(Ut){return Q.onChange(Ut.target)})("blur",function(){return Q.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Oa]),l.qOj]}),E})(),_o=(()=>{class E{constructor(T,Q,Ge){this._element=T,this._renderer=Q,this._select=Ge,this._select&&(this.id=this._select._registerOption(this))}set ngValue(T){null!=this._select&&(this._value=T,this._setElementValue(ka(this.id,T)),this._select.writeValue(this._select.value))}set value(T){this._select?(this._value=T,this._setElementValue(ka(this.id,T)),this._select.writeValue(this._select.value)):this._setElementValue(T)}_setElementValue(T){this._renderer.setProperty(this._element.nativeElement,"value",T)}_setSelected(T){this._renderer.setProperty(this._element.nativeElement,"selected",T)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return E.\u0275fac=function(T){return new(T||E)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Go,9))},E.\u0275dir=l.lG2({type:E,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),E})(),Ss=(()=>{class E{}return E.\u0275fac=function(T){return new(T||E)},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({imports:[fs]}),E})(),Wn=(()=>{class E{static withConfig(T){return{ngModule:E,providers:[{provide:N,useValue:T.callSetDisabledState??D}]}}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({imports:[Ss]}),E})(),te=(()=>{class E{static withConfig(T){return{ngModule:E,providers:[{provide:gr,useValue:T.warnOnNgModelWithFormControl??"always"},{provide:N,useValue:T.callSetDisabledState??D}]}}}return E.\u0275fac=function(T){return new(T||E)},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({imports:[Ss]}),E})()},7705:(wt,Ne,_)=>{"use strict";_.d(Ne,{O_:()=>ut,Y4:()=>Fe,b6:()=>Ae,ch:()=>je});var l=_(4650),b=_(6895),m=_(1135),O=_(9751),he=_(7579),ee=_(9841),ie=_(3900),j=_(5698),K=_(4004),Y=_(2722);const F=["*"];class V{_clearListeners(){for(const ve of this._listeners)ve.remove();this._listeners=[]}constructor(ve){this._ngZone=ve,this._pending=[],this._listeners=[],this._targetStream=new m.X(void 0)}getLazyEmitter(ve){return this._targetStream.pipe((0,ie.w)(R=>{const Se=new O.y(qe=>{if(!R)return void this._pending.push({observable:Se,observer:qe});const Dt=R.addListener(ve,$e=>{this._ngZone.run(()=>qe.next($e))});if(Dt)return this._listeners.push(Dt),()=>Dt.remove();qe.complete()});return Se}))}setTarget(ve){const R=this._targetStream.value;ve!==R&&(R&&(this._clearListeners(),this._pending=[]),this._targetStream.next(ve),this._pending.forEach(Se=>Se.observable.subscribe(Se.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const Z={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"};let Ae=(()=>{class W{set center(R){this._center=R}set zoom(R){this._zoom=R}set options(R){this._options=R||Z}constructor(R,Se,qe){if(this._elementRef=R,this._ngZone=Se,this._eventManager=new V(this._ngZone),this.height="500px",this.width="500px",this._options=Z,this.mapInitialized=new l.vpe,this.authFailure=new l.vpe,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=(0,b.NF)(qe),this._isBrowser){const Dt=window;this._existingAuthFailureCallback=Dt.gm_authFailure,Dt.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(R){(R.height||R.width)&&this._setSize();const Se=this.googleMap;Se&&(R.options&&Se.setOptions(this._combineOptions()),R.center&&this._center&&Se.setCenter(this._center),R.zoom&&null!=this._zoom&&Se.setZoom(this._zoom),R.mapTypeId&&this.mapTypeId&&Se.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._ngZone.runOutsideAngular(()=>{this.googleMap=new google.maps.Map(this._mapEl,this._combineOptions())}),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap))}ngOnDestroy(){this._eventManager.destroy(),this._isBrowser&&(window.gm_authFailure=this._existingAuthFailureCallback)}fitBounds(R,Se){this._assertInitialized(),this.googleMap.fitBounds(R,Se)}panBy(R,Se){this._assertInitialized(),this.googleMap.panBy(R,Se)}panTo(R){this._assertInitialized(),this.googleMap.panTo(R)}panToBounds(R,Se){this._assertInitialized(),this.googleMap.panToBounds(R,Se)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const R=this._mapEl.style;R.height=null===this.height?"":oe(this.height)||"500px",R.width=null===this.width?"":oe(this.width)||"500px"}}_combineOptions(){const R=this._options||{};return{...R,center:this._center||R.center||Z.center,zoom:this._zoom??R.zoom??Z.zoom,mapTypeId:this.mapTypeId||R.mapTypeId||Z.mapTypeId}}_assertInitialized(){}}return W.\u0275fac=function(R){return new(R||W)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.Lbi))},W.\u0275cmp=l.Xpm({type:W,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[l.TTD],ngContentSelectors:F,decls:2,vars:0,consts:[[1,"map-container"]],template:function(R,Se){1&R&&(l.F$t(),l._UZ(0,"div",0),l.Hsn(1))},encapsulation:2,changeDetection:0}),W})();const _e=/([A-Za-z%]+)$/;function oe(W){return null==W?"":_e.test(W)?W:`${W}px`}let je=(()=>{class W{set options(R){this._options.next(R||{})}set position(R){this._position.next(R)}constructor(R,Se,qe){this._googleMap=R,this._elementRef=Se,this._ngZone=qe,this._eventManager=new V(this._ngZone),this._options=new m.X({}),this._position=new m.X(void 0),this._destroy=new he.x,this.closeclick=this._eventManager.getLazyEmitter("closeclick"),this.contentChanged=this._eventManager.getLazyEmitter("content_changed"),this.domready=this._eventManager.getLazyEmitter("domready"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}ngOnInit(){this._googleMap._isBrowser&&(this._combineOptions().pipe((0,j.q)(1)).subscribe(Se=>{this._ngZone.runOutsideAngular(()=>{this.infoWindow=new google.maps.InfoWindow(Se)}),this._eventManager.setTarget(this.infoWindow)}),this._watchForOptionsChanges(),this._watchForPositionChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()||null}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()||null}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}open(R,Se){this._assertInitialized();const qe=R?R.getAnchor():void 0;(this.infoWindow.get("anchor")!==qe||!qe)&&(this._elementRef.nativeElement.style.display="",this.infoWindow.open({map:this._googleMap.googleMap,anchor:qe,shouldFocus:Se}))}_combineOptions(){return(0,ee.a)([this._options,this._position]).pipe((0,K.U)(([R,Se])=>({...R,position:Se||R.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe((0,Y.R)(this._destroy)).subscribe(R=>{this._assertInitialized(),this.infoWindow.setOptions(R)})}_watchForPositionChanges(){this._position.pipe((0,Y.R)(this._destroy)).subscribe(R=>{R&&(this._assertInitialized(),this.infoWindow.setPosition(R))})}_assertInitialized(){}}return W.\u0275fac=function(R){return new(R||W)(l.Y36(Ae),l.Y36(l.SBq),l.Y36(l.R0b))},W.\u0275dir=l.lG2({type:W,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged"},exportAs:["mapInfoWindow"]}),W})();const Xe={position:{lat:37.421995,lng:-122.084092}};let ut=(()=>{class W{set title(R){this._title=R}set position(R){this._position=R}set label(R){this._label=R}set clickable(R){this._clickable=R}set options(R){this._options=R}set icon(R){this._icon=R}set visible(R){this._visible=R}constructor(R,Se){this._googleMap=R,this._ngZone=Se,this._eventManager=new V(this._ngZone),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}ngOnInit(){this._googleMap._isBrowser&&(this._ngZone.runOutsideAngular(()=>{this.marker=new google.maps.Marker(this._combineOptions())}),this._assertInitialized(),this.marker.setMap(this._googleMap.googleMap),this._eventManager.setTarget(this.marker))}ngOnChanges(R){const{marker:Se,_title:qe,_position:Dt,_label:$e,_clickable:St,_icon:$t,_visible:vn}=this;Se&&(R.options&&Se.setOptions(this._combineOptions()),R.title&&void 0!==qe&&Se.setTitle(qe),R.position&&Dt&&Se.setPosition(Dt),R.label&&void 0!==$e&&Se.setLabel($e),R.clickable&&void 0!==St&&Se.setClickable(St),R.icon&&$t&&Se.setIcon($t),R.visible&&void 0!==vn&&Se.setVisible(vn))}ngOnDestroy(){this._eventManager.destroy(),this.marker&&this.marker.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_combineOptions(){const R=this._options||Xe;return{...R,title:this._title||R.title,position:this._position||R.position,label:this._label||R.label,clickable:this._clickable??R.clickable,map:this._googleMap.googleMap,icon:this._icon||R.icon,visible:this._visible??R.visible}}_assertInitialized(){}}return W.\u0275fac=function(R){return new(R||W)(l.Y36(Ae),l.Y36(l.R0b))},W.\u0275dir=l.lG2({type:W,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged"},exportAs:["mapMarker"],features:[l.TTD]}),W})(),Fe=(()=>{class W{}return W.\u0275fac=function(R){return new(R||W)},W.\u0275mod=l.oAB({type:W}),W.\u0275inj=l.cJS({}),W})()},9101:(wt,Ne,_)=>{"use strict";_.d(Ne,{ot:()=>Ht});var l=_(4650),b=_(3238);let Ht=(()=>{class Zt{}return Zt.\u0275fac=function(Oe){return new(Oe||Zt)},Zt.\u0275mod=l.oAB({type:Zt}),Zt.\u0275inj=l.cJS({imports:[b.BQ,b.si,b.BQ]}),Zt})()},3238:(wt,Ne,_)=>{"use strict";_.d(Ne,{BQ:()=>pe,si:()=>It,pj:()=>Xe,sb:()=>Ue});var l=_(4650),b=_(7253),m=_(445),he=_(6895),ee=_(3353),ie=_(1281);const Me=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function fe(){return!0}});let pe=(()=>{class on{constructor(pt,rt,ze){this._sanityChecks=rt,this._document=ze,this._hasDoneGlobalChecks=!1,pt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(pt){return!(0,ee.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[pt])}}return on.\u0275fac=function(pt){return new(pt||on)(l.LFG(b.qm),l.LFG(Me,8),l.LFG(he.K0))},on.\u0275mod=l.oAB({type:on}),on.\u0275inj=l.cJS({imports:[m.vT,m.vT]}),on})();function Xe(on,ht){return class extends on{get color(){return this._color}set color(pt){const rt=pt||this.defaultColor;rt!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),rt&&this._elementRef.nativeElement.classList.add(`mat-${rt}`),this._color=rt)}constructor(...pt){super(...pt),this.defaultColor=ht,this.color=ht}}}function Ue(on,ht=0){return class extends on{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(pt){this._tabIndex=null!=pt?(0,ie.su)(pt):this.defaultTabIndex}constructor(...pt){super(...pt),this._tabIndex=ht,this.defaultTabIndex=ht}}}class $e{constructor(ht,pt,rt,ze=!1){this._renderer=ht,this.element=pt,this.config=rt,this._animationForciblyDisabledThroughCss=ze,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const St=(0,ee.i$)({passive:!0,capture:!0});class $t{constructor(){this._events=new Map,this._delegateEventHandler=ht=>{const pt=(0,ee.sA)(ht);pt&&this._events.get(ht.type)?.forEach((rt,ze)=>{(ze===pt||ze.contains(pt))&&rt.forEach(st=>st.handleEvent(ht))})}}addHandler(ht,pt,rt,ze){const st=this._events.get(pt);if(st){const an=st.get(rt);an?an.add(ze):st.set(rt,new Set([ze]))}else this._events.set(pt,new Map([[rt,new Set([ze])]])),ht.runOutsideAngular(()=>{document.addEventListener(pt,this._delegateEventHandler,St)})}removeHandler(ht,pt,rt){const ze=this._events.get(ht);if(!ze)return;const st=ze.get(pt);st&&(st.delete(rt),0===st.size&&ze.delete(pt),0===ze.size&&(this._events.delete(ht),document.removeEventListener(ht,this._delegateEventHandler,St)))}}const vn={enterDuration:225,exitDuration:150},qn=(0,ee.i$)({passive:!0,capture:!0}),Tn=["mousedown","touchstart"],Mn=["mouseup","mouseleave","touchend","touchcancel"];class Le{constructor(ht,pt,rt,ze){this._target=ht,this._ngZone=pt,this._platform=ze,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ze.isBrowser&&(this._containerElement=(0,ie.fI)(rt))}fadeInRipple(ht,pt,rt={}){const ze=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),st={...vn,...rt.animation};rt.centered&&(ht=ze.left+ze.width/2,pt=ze.top+ze.height/2);const an=rt.radius||function re(on,ht,pt){const rt=Math.max(Math.abs(on-pt.left),Math.abs(on-pt.right)),ze=Math.max(Math.abs(ht-pt.top),Math.abs(ht-pt.bottom));return Math.sqrt(rt*rt+ze*ze)}(ht,pt,ze),en=ht-ze.left,Nn=pt-ze.top,Ze=st.enterDuration,Ve=document.createElement("div");Ve.classList.add("mat-ripple-element"),Ve.style.left=en-an+"px",Ve.style.top=Nn-an+"px",Ve.style.height=2*an+"px",Ve.style.width=2*an+"px",null!=rt.color&&(Ve.style.backgroundColor=rt.color),Ve.style.transitionDuration=`${Ze}ms`,this._containerElement.appendChild(Ve);const Je=window.getComputedStyle(Ve),dt=Je.transitionDuration,et="none"===Je.transitionProperty||"0s"===dt||"0s, 0s"===dt||0===ze.width&&0===ze.height,X=new $e(this,Ve,rt,et);Ve.style.transform="scale3d(1, 1, 1)",X.state=0,rt.persistent||(this._mostRecentTransientRipple=X);let N=null;return!et&&(Ze||st.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const D=()=>this._finishRippleTransition(X),z=()=>this._destroyRipple(X);Ve.addEventListener("transitionend",D),Ve.addEventListener("transitioncancel",z),N={onTransitionEnd:D,onTransitionCancel:z}}),this._activeRipples.set(X,N),(et||!Ze)&&this._finishRippleTransition(X),X}fadeOutRipple(ht){if(2===ht.state||3===ht.state)return;const pt=ht.element,rt={...vn,...ht.config.animation};pt.style.transitionDuration=`${rt.exitDuration}ms`,pt.style.opacity="0",ht.state=2,(ht._animationForciblyDisabledThroughCss||!rt.exitDuration)&&this._finishRippleTransition(ht)}fadeOutAll(){this._getActiveRipples().forEach(ht=>ht.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ht=>{ht.config.persistent||ht.fadeOut()})}setupTriggerEvents(ht){const pt=(0,ie.fI)(ht);!this._platform.isBrowser||!pt||pt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=pt,Tn.forEach(rt=>{Le._eventManager.addHandler(this._ngZone,rt,pt,this)}))}handleEvent(ht){"mousedown"===ht.type?this._onMousedown(ht):"touchstart"===ht.type?this._onTouchStart(ht):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Mn.forEach(pt=>{this._triggerElement.addEventListener(pt,this,qn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ht){0===ht.state?this._startFadeOutTransition(ht):2===ht.state&&this._destroyRipple(ht)}_startFadeOutTransition(ht){const pt=ht===this._mostRecentTransientRipple,{persistent:rt}=ht.config;ht.state=1,!rt&&(!pt||!this._isPointerDown)&&ht.fadeOut()}_destroyRipple(ht){const pt=this._activeRipples.get(ht)??null;this._activeRipples.delete(ht),this._activeRipples.size||(this._containerRect=null),ht===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ht.state=3,null!==pt&&(ht.element.removeEventListener("transitionend",pt.onTransitionEnd),ht.element.removeEventListener("transitioncancel",pt.onTransitionCancel)),ht.element.remove()}_onMousedown(ht){const pt=(0,b.X6)(ht),rt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!pt&&!rt&&(this._isPointerDown=!0,this.fadeInRipple(ht.clientX,ht.clientY,this._target.rippleConfig))}_onTouchStart(ht){if(!this._target.rippleDisabled&&!(0,b.yG)(ht)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const pt=ht.changedTouches;for(let rt=0;rt<pt.length;rt++)this.fadeInRipple(pt[rt].clientX,pt[rt].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(ht=>{!ht.config.persistent&&(1===ht.state||ht.config.terminateOnPointerUp&&0===ht.state)&&ht.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const ht=this._triggerElement;ht&&(Tn.forEach(pt=>Le._eventManager.removeHandler(pt,ht,this)),this._pointerUpEventsRegistered&&Mn.forEach(pt=>ht.removeEventListener(pt,this,qn)))}}Le._eventManager=new $t;let It=(()=>{class on{}return on.\u0275fac=function(pt){return new(pt||on)},on.\u0275mod=l.oAB({type:on}),on.\u0275inj=l.cJS({imports:[pe,pe]}),on})()},9022:(wt,Ne,_)=>{"use strict";_.d(Ne,{pp:()=>Tn,To:()=>Mn,ib:()=>Dt,yz:()=>vn,yK:()=>qn});var l=_(4650);let K=(()=>{class Le{constructor(){this._listeners=[]}notify(ge,He){for(let It of this._listeners)It(ge,He)}listen(ge){return this._listeners.push(ge),()=>{this._listeners=this._listeners.filter(He=>ge!==He)}}ngOnDestroy(){this._listeners=[]}}return Le.\u0275fac=function(ge){return new(ge||Le)},Le.\u0275prov=l.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();var F=_(1281),V=_(7579),Z=_(727);let ne=0;const ce=new l.OlP("CdkAccordion");let Ae=(()=>{class Le{constructor(){this._stateChanges=new V.x,this._openCloseAllActions=new V.x,this.id="cdk-accordion-"+ne++,this._multi=!1}get multi(){return this._multi}set multi(ge){this._multi=(0,F.Ig)(ge)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(ge){this._stateChanges.next(ge)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return Le.\u0275fac=function(ge){return new(ge||Le)},Le.\u0275dir=l.lG2({type:Le,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[l._Bn([{provide:ce,useExisting:Le}]),l.TTD]}),Le})(),_e=0,oe=(()=>{class Le{get expanded(){return this._expanded}set expanded(ge){ge=(0,F.Ig)(ge),this._expanded!==ge&&(this._expanded=ge,this.expandedChange.emit(ge),ge?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(ge){this._disabled=(0,F.Ig)(ge)}constructor(ge,He,It){this.accordion=ge,this._changeDetectorRef=He,this._expansionDispatcher=It,this._openCloseAllSubscription=Z.w0.EMPTY,this.closed=new l.vpe,this.opened=new l.vpe,this.destroyed=new l.vpe,this.expandedChange=new l.vpe,this.id="cdk-accordion-child-"+_e++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=It.listen((Mt,Qt)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===Qt&&this.id!==Mt&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(ge=>{this.disabled||(this.expanded=ge)})}}return Le.\u0275fac=function(ge){return new(ge||Le)(l.Y36(ce,12),l.Y36(l.sBO),l.Y36(K))},Le.\u0275dir=l.lG2({type:Le,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[l._Bn([{provide:ce,useValue:void 0}])]}),Le})(),fe=(()=>{class Le{}return Le.\u0275fac=function(ge){return new(ge||Le)},Le.\u0275mod=l.oAB({type:Le}),Le.\u0275inj=l.cJS({}),Le})();var Me=_(4080),pe=_(6895),de=_(3238),Ee=_(7253),je=_(1884),ke=_(8675),Xe=_(9300),ut=_(5698),Ue=_(9521),ct=_(515),kt=_(6451),lt=_(7340);const dn=["body"];function jt(Le,re){}const Ht=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Zt=["mat-expansion-panel-header","*","mat-action-row"];function Ce(Le,re){if(1&Le&&l._UZ(0,"span",2),2&Le){const ge=l.oxw();l.Q6J("@indicatorRotate",ge._getExpandedState())}}const Oe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Fe=["mat-panel-title","mat-panel-description","*"],me=new l.OlP("MAT_ACCORDION"),Ye="225ms cubic-bezier(0.4,0.0,0.2,1)",W={indicatorRotate:(0,lt.X$)("indicatorRotate",[(0,lt.SB)("collapsed, void",(0,lt.oB)({transform:"rotate(0deg)"})),(0,lt.SB)("expanded",(0,lt.oB)({transform:"rotate(180deg)"})),(0,lt.eR)("expanded <=> collapsed, void => collapsed",(0,lt.jt)(Ye))]),bodyExpansion:(0,lt.X$)("bodyExpansion",[(0,lt.SB)("collapsed, void",(0,lt.oB)({height:"0px",visibility:"hidden"})),(0,lt.SB)("expanded",(0,lt.oB)({height:"*",visibility:"visible"})),(0,lt.eR)("expanded <=> collapsed, void => collapsed",(0,lt.jt)(Ye))])},ve=new l.OlP("MAT_EXPANSION_PANEL");let R=(()=>{class Le{constructor(ge,He){this._template=ge,this._expansionPanel=He}}return Le.\u0275fac=function(ge){return new(ge||Le)(l.Y36(l.Rgc),l.Y36(ve,8))},Le.\u0275dir=l.lG2({type:Le,selectors:[["ng-template","matExpansionPanelContent",""]]}),Le})(),Se=0;const qe=new l.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Dt=(()=>{class Le extends oe{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(ge){this._hideToggle=(0,F.Ig)(ge)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(ge){this._togglePosition=ge}constructor(ge,He,It,Mt,Qt,Xt,yt){super(ge,He,It),this._viewContainerRef=Mt,this._animationMode=Xt,this._hideToggle=!1,this.afterExpand=new l.vpe,this.afterCollapse=new l.vpe,this._inputChanges=new V.x,this._headerId="mat-expansion-panel-header-"+Se++,this._bodyAnimationDone=new V.x,this.accordion=ge,this._document=Qt,this._bodyAnimationDone.pipe((0,je.x)((Ke,Te)=>Ke.fromState===Te.fromState&&Ke.toState===Te.toState)).subscribe(Ke=>{"void"!==Ke.fromState&&("expanded"===Ke.toState?this.afterExpand.emit():"collapsed"===Ke.toState&&this.afterCollapse.emit())}),yt&&(this.hideToggle=yt.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,ke.O)(null),(0,Xe.h)(()=>this.expanded&&!this._portal),(0,ut.q)(1)).subscribe(()=>{this._portal=new Me.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(ge){this._inputChanges.next(ge)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const ge=this._document.activeElement,He=this._body.nativeElement;return ge===He||He.contains(ge)}return!1}}return Le.\u0275fac=function(ge){return new(ge||Le)(l.Y36(me,12),l.Y36(l.sBO),l.Y36(K),l.Y36(l.s_b),l.Y36(pe.K0),l.Y36(l.QbO,8),l.Y36(qe,8))},Le.\u0275cmp=l.Xpm({type:Le,selectors:[["mat-expansion-panel"]],contentQueries:function(ge,He,It){if(1&ge&&l.Suo(It,R,5),2&ge){let Mt;l.iGM(Mt=l.CRH())&&(He._lazyContent=Mt.first)}},viewQuery:function(ge,He){if(1&ge&&l.Gf(dn,5),2&ge){let It;l.iGM(It=l.CRH())&&(He._body=It.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(ge,He){2&ge&&l.ekj("mat-expanded",He.expanded)("_mat-animation-noopable","NoopAnimations"===He._animationMode)("mat-expansion-panel-spacing",He._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[l._Bn([{provide:me,useValue:void 0},{provide:ve,useExisting:Le}]),l.qOj,l.TTD],ngContentSelectors:Zt,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(ge,He){1&ge&&(l.F$t(Ht),l.Hsn(0),l.TgZ(1,"div",0,1),l.NdJ("@bodyExpansion.done",function(Mt){return He._bodyAnimationDone.next(Mt)}),l.TgZ(3,"div",2),l.Hsn(4,1),l.YNc(5,jt,0,0,"ng-template",3),l.qZA(),l.Hsn(6,2),l.qZA()),2&ge&&(l.xp6(1),l.Q6J("@bodyExpansion",He._getExpandedState())("id",He.id),l.uIk("aria-labelledby",He._headerId),l.xp6(4),l.Q6J("cdkPortalOutlet",He._portal))},dependencies:[Me.Pl],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[W.bodyExpansion]},changeDetection:0}),Le})();class St{}const $t=(0,de.sb)(St);let vn=(()=>{class Le extends $t{constructor(ge,He,It,Mt,Qt,Xt,yt){super(),this.panel=ge,this._element=He,this._focusMonitor=It,this._changeDetectorRef=Mt,this._animationMode=Xt,this._parentChangeSubscription=Z.w0.EMPTY;const Ke=ge.accordion?ge.accordion._stateChanges.pipe((0,Xe.h)(Te=>!(!Te.hideToggle&&!Te.togglePosition))):ct.E;this.tabIndex=parseInt(yt||"")||0,this._parentChangeSubscription=(0,kt.T)(ge.opened,ge.closed,Ke,ge._inputChanges.pipe((0,Xe.h)(Te=>!!(Te.hideToggle||Te.disabled||Te.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),ge.closed.pipe((0,Xe.h)(()=>ge._containsFocus())).subscribe(()=>It.focusVia(He,"program")),Qt&&(this.expandedHeight=Qt.expandedHeight,this.collapsedHeight=Qt.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const ge=this._isExpanded();return ge&&this.expandedHeight?this.expandedHeight:!ge&&this.collapsedHeight?this.collapsedHeight:null}_keydown(ge){switch(ge.keyCode){case Ue.L_:case Ue.K5:(0,Ue.Vb)(ge)||(ge.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(ge))}}focus(ge,He){ge?this._focusMonitor.focusVia(this._element,ge,He):this._element.nativeElement.focus(He)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(ge=>{ge&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return Le.\u0275fac=function(ge){return new(ge||Le)(l.Y36(Dt,1),l.Y36(l.SBq),l.Y36(Ee.tE),l.Y36(l.sBO),l.Y36(qe,8),l.Y36(l.QbO,8),l.$8M("tabindex"))},Le.\u0275cmp=l.Xpm({type:Le,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(ge,He){1&ge&&l.NdJ("click",function(){return He._toggle()})("keydown",function(Mt){return He._keydown(Mt)}),2&ge&&(l.uIk("id",He.panel._headerId)("tabindex",He.tabIndex)("aria-controls",He._getPanelId())("aria-expanded",He._isExpanded())("aria-disabled",He.panel.disabled),l.Udp("height",He._getHeaderHeight()),l.ekj("mat-expanded",He._isExpanded())("mat-expansion-toggle-indicator-after","after"===He._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===He._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===He._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[l.qOj],ngContentSelectors:Fe,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(ge,He){1&ge&&(l.F$t(Oe),l.TgZ(0,"span",0),l.Hsn(1),l.Hsn(2,1),l.Hsn(3,2),l.qZA(),l.YNc(4,Ce,1,1,"span",1)),2&ge&&(l.ekj("mat-content-hide-toggle",!He._showToggle()),l.xp6(4),l.Q6J("ngIf",He._showToggle()))},dependencies:[pe.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[W.indicatorRotate]},changeDetection:0}),Le})(),qn=(()=>{class Le{}return Le.\u0275fac=function(ge){return new(ge||Le)},Le.\u0275dir=l.lG2({type:Le,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),Le})(),Tn=(()=>{class Le extends Ae{constructor(){super(...arguments),this._ownHeaders=new l.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(ge){this._hideToggle=(0,F.Ig)(ge)}ngAfterContentInit(){this._headers.changes.pipe((0,ke.O)(this._headers)).subscribe(ge=>{this._ownHeaders.reset(ge.filter(He=>He.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Ee.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(ge){this._keyManager.onKeydown(ge)}_handleHeaderFocus(ge){this._keyManager.updateActiveItem(ge)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return Le.\u0275fac=function(){let re;return function(He){return(re||(re=l.n5z(Le)))(He||Le)}}(),Le.\u0275dir=l.lG2({type:Le,selectors:[["mat-accordion"]],contentQueries:function(ge,He,It){if(1&ge&&l.Suo(It,vn,5),2&ge){let Mt;l.iGM(Mt=l.CRH())&&(He._headers=Mt)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(ge,He){2&ge&&l.ekj("mat-accordion-multi",He.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[l._Bn([{provide:me,useExisting:Le}]),l.qOj]}),Le})(),Mn=(()=>{class Le{}return Le.\u0275fac=function(ge){return new(ge||Le)},Le.\u0275mod=l.oAB({type:Le}),Le.\u0275inj=l.cJS({imports:[pe.ez,de.BQ,fe,Me.eL]}),Le})()},7392:(wt,Ne,_)=>{"use strict";_.d(Ne,{Hw:()=>me,Ps:()=>Ye});var l=_(4650),b=_(3238),m=_(1281),O=_(6895),he=_(9646),ee=_(2843),ie=_(4128),j=_(727),K=_(8505),Y=_(4004),F=_(262),V=_(8746),Z=_(3099),ne=_(5698),ce=_(529),Ae=_(1481);const _e=["*"];let oe;function Me(W){return function fe(){if(void 0===oe&&(oe=null,typeof window<"u")){const W=window;void 0!==W.trustedTypes&&(oe=W.trustedTypes.createPolicy("angular#components",{createHTML:ve=>ve}))}return oe}()?.createHTML(W)||W}function pe(W){return Error(`Unable to find icon with the name "${W}"`)}function Ee(W){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${W}".`)}function je(W){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${W}".`)}class ke{constructor(ve,R,Se){this.url=ve,this.svgText=R,this.options=Se}}let Xe=(()=>{class W{constructor(R,Se,qe,Dt){this._httpClient=R,this._sanitizer=Se,this._errorHandler=Dt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=qe}addSvgIcon(R,Se,qe){return this.addSvgIconInNamespace("",R,Se,qe)}addSvgIconLiteral(R,Se,qe){return this.addSvgIconLiteralInNamespace("",R,Se,qe)}addSvgIconInNamespace(R,Se,qe,Dt){return this._addSvgIconConfig(R,Se,new ke(qe,null,Dt))}addSvgIconResolver(R){return this._resolvers.push(R),this}addSvgIconLiteralInNamespace(R,Se,qe,Dt){const $e=this._sanitizer.sanitize(l.q3G.HTML,qe);if(!$e)throw je(qe);const St=Me($e);return this._addSvgIconConfig(R,Se,new ke("",St,Dt))}addSvgIconSet(R,Se){return this.addSvgIconSetInNamespace("",R,Se)}addSvgIconSetLiteral(R,Se){return this.addSvgIconSetLiteralInNamespace("",R,Se)}addSvgIconSetInNamespace(R,Se,qe){return this._addSvgIconSetConfig(R,new ke(Se,null,qe))}addSvgIconSetLiteralInNamespace(R,Se,qe){const Dt=this._sanitizer.sanitize(l.q3G.HTML,Se);if(!Dt)throw je(Se);const $e=Me(Dt);return this._addSvgIconSetConfig(R,new ke("",$e,qe))}registerFontClassAlias(R,Se=R){return this._fontCssClassesByAlias.set(R,Se),this}classNameForFontAlias(R){return this._fontCssClassesByAlias.get(R)||R}setDefaultFontSetClass(...R){return this._defaultFontSetClass=R,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(R){const Se=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,R);if(!Se)throw Ee(R);const qe=this._cachedIconsByUrl.get(Se);return qe?(0,he.of)(ct(qe)):this._loadSvgIconFromConfig(new ke(R,null)).pipe((0,K.b)(Dt=>this._cachedIconsByUrl.set(Se,Dt)),(0,Y.U)(Dt=>ct(Dt)))}getNamedSvgIcon(R,Se=""){const qe=kt(Se,R);let Dt=this._svgIconConfigs.get(qe);if(Dt)return this._getSvgFromConfig(Dt);if(Dt=this._getIconConfigFromResolvers(Se,R),Dt)return this._svgIconConfigs.set(qe,Dt),this._getSvgFromConfig(Dt);const $e=this._iconSetConfigs.get(Se);return $e?this._getSvgFromIconSetConfigs(R,$e):(0,ee._)(pe(qe))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(R){return R.svgText?(0,he.of)(ct(this._svgElementFromConfig(R))):this._loadSvgIconFromConfig(R).pipe((0,Y.U)(Se=>ct(Se)))}_getSvgFromIconSetConfigs(R,Se){const qe=this._extractIconWithNameFromAnySet(R,Se);if(qe)return(0,he.of)(qe);const Dt=Se.filter($e=>!$e.svgText).map($e=>this._loadSvgIconSetFromConfig($e).pipe((0,F.K)(St=>{const vn=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,$e.url)} failed: ${St.message}`;return this._errorHandler.handleError(new Error(vn)),(0,he.of)(null)})));return(0,ie.D)(Dt).pipe((0,Y.U)(()=>{const $e=this._extractIconWithNameFromAnySet(R,Se);if(!$e)throw pe(R);return $e}))}_extractIconWithNameFromAnySet(R,Se){for(let qe=Se.length-1;qe>=0;qe--){const Dt=Se[qe];if(Dt.svgText&&Dt.svgText.toString().indexOf(R)>-1){const $e=this._svgElementFromConfig(Dt),St=this._extractSvgIconFromSet($e,R,Dt.options);if(St)return St}}return null}_loadSvgIconFromConfig(R){return this._fetchIcon(R).pipe((0,K.b)(Se=>R.svgText=Se),(0,Y.U)(()=>this._svgElementFromConfig(R)))}_loadSvgIconSetFromConfig(R){return R.svgText?(0,he.of)(null):this._fetchIcon(R).pipe((0,K.b)(Se=>R.svgText=Se))}_extractSvgIconFromSet(R,Se,qe){const Dt=R.querySelector(`[id="${Se}"]`);if(!Dt)return null;const $e=Dt.cloneNode(!0);if($e.removeAttribute("id"),"svg"===$e.nodeName.toLowerCase())return this._setSvgAttributes($e,qe);if("symbol"===$e.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement($e),qe);const St=this._svgElementFromString(Me("<svg></svg>"));return St.appendChild($e),this._setSvgAttributes(St,qe)}_svgElementFromString(R){const Se=this._document.createElement("DIV");Se.innerHTML=R;const qe=Se.querySelector("svg");if(!qe)throw Error("<svg> tag not found");return qe}_toSvgElement(R){const Se=this._svgElementFromString(Me("<svg></svg>")),qe=R.attributes;for(let Dt=0;Dt<qe.length;Dt++){const{name:$e,value:St}=qe[Dt];"id"!==$e&&Se.setAttribute($e,St)}for(let Dt=0;Dt<R.childNodes.length;Dt++)R.childNodes[Dt].nodeType===this._document.ELEMENT_NODE&&Se.appendChild(R.childNodes[Dt].cloneNode(!0));return Se}_setSvgAttributes(R,Se){return R.setAttribute("fit",""),R.setAttribute("height","100%"),R.setAttribute("width","100%"),R.setAttribute("preserveAspectRatio","xMidYMid meet"),R.setAttribute("focusable","false"),Se&&Se.viewBox&&R.setAttribute("viewBox",Se.viewBox),R}_fetchIcon(R){const{url:Se,options:qe}=R,Dt=qe?.withCredentials??!1;if(!this._httpClient)throw function de(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Se)throw Error(`Cannot fetch icon from URL "${Se}".`);const $e=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,Se);if(!$e)throw Ee(Se);const St=this._inProgressUrlFetches.get($e);if(St)return St;const $t=this._httpClient.get($e,{responseType:"text",withCredentials:Dt}).pipe((0,Y.U)(vn=>Me(vn)),(0,V.x)(()=>this._inProgressUrlFetches.delete($e)),(0,Z.B)());return this._inProgressUrlFetches.set($e,$t),$t}_addSvgIconConfig(R,Se,qe){return this._svgIconConfigs.set(kt(R,Se),qe),this}_addSvgIconSetConfig(R,Se){const qe=this._iconSetConfigs.get(R);return qe?qe.push(Se):this._iconSetConfigs.set(R,[Se]),this}_svgElementFromConfig(R){if(!R.svgElement){const Se=this._svgElementFromString(R.svgText);this._setSvgAttributes(Se,R.options),R.svgElement=Se}return R.svgElement}_getIconConfigFromResolvers(R,Se){for(let qe=0;qe<this._resolvers.length;qe++){const Dt=this._resolvers[qe](Se,R);if(Dt)return lt(Dt)?new ke(Dt.url,null,Dt.options):new ke(Dt,null)}}}return W.\u0275fac=function(R){return new(R||W)(l.LFG(ce.eN,8),l.LFG(Ae.H7),l.LFG(O.K0,8),l.LFG(l.qLn))},W.\u0275prov=l.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function ct(W){return W.cloneNode(!0)}function kt(W,ve){return W+":"+ve}function lt(W){return!(!W.url||!W.options)}const dn=(0,b.pj)(class{constructor(W){this._elementRef=W}}),jt=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),Ht=new l.OlP("mat-icon-location",{providedIn:"root",factory:function Zt(){const W=(0,l.f3M)(O.K0),ve=W?W.location:null;return{getPathname:()=>ve?ve.pathname+ve.search:""}}}),Ce=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Oe=Ce.map(W=>`[${W}]`).join(", "),Fe=/^url\(['"]?#(.*?)['"]?\)$/;let me=(()=>{class W extends dn{get inline(){return this._inline}set inline(R){this._inline=(0,m.Ig)(R)}get svgIcon(){return this._svgIcon}set svgIcon(R){R!==this._svgIcon&&(R?this._updateSvgIcon(R):this._svgIcon&&this._clearSvgElement(),this._svgIcon=R)}get fontSet(){return this._fontSet}set fontSet(R){const Se=this._cleanupFontValue(R);Se!==this._fontSet&&(this._fontSet=Se,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(R){const Se=this._cleanupFontValue(R);Se!==this._fontIcon&&(this._fontIcon=Se,this._updateFontIconClasses())}constructor(R,Se,qe,Dt,$e,St){super(R),this._iconRegistry=Se,this._location=Dt,this._errorHandler=$e,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=j.w0.EMPTY,St&&(St.color&&(this.color=this.defaultColor=St.color),St.fontSet&&(this.fontSet=St.fontSet)),qe||R.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(R){if(!R)return["",""];const Se=R.split(":");switch(Se.length){case 1:return["",Se[0]];case 2:return Se;default:throw Error(`Invalid icon name: "${R}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const R=this._elementsWithExternalReferences;if(R&&R.size){const Se=this._location.getPathname();Se!==this._previousPath&&(this._previousPath=Se,this._prependPathToReferences(Se))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(R){this._clearSvgElement();const Se=this._location.getPathname();this._previousPath=Se,this._cacheChildrenWithExternalReferences(R),this._prependPathToReferences(Se),this._elementRef.nativeElement.appendChild(R)}_clearSvgElement(){const R=this._elementRef.nativeElement;let Se=R.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Se--;){const qe=R.childNodes[Se];(1!==qe.nodeType||"svg"===qe.nodeName.toLowerCase())&&qe.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const R=this._elementRef.nativeElement,Se=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(qe=>qe.length>0);this._previousFontSetClass.forEach(qe=>R.classList.remove(qe)),Se.forEach(qe=>R.classList.add(qe)),this._previousFontSetClass=Se,this.fontIcon!==this._previousFontIconClass&&!Se.includes("mat-ligature-font")&&(this._previousFontIconClass&&R.classList.remove(this._previousFontIconClass),this.fontIcon&&R.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(R){return"string"==typeof R?R.trim().split(" ")[0]:R}_prependPathToReferences(R){const Se=this._elementsWithExternalReferences;Se&&Se.forEach((qe,Dt)=>{qe.forEach($e=>{Dt.setAttribute($e.name,`url('${R}#${$e.value}')`)})})}_cacheChildrenWithExternalReferences(R){const Se=R.querySelectorAll(Oe),qe=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Dt=0;Dt<Se.length;Dt++)Ce.forEach($e=>{const St=Se[Dt],$t=St.getAttribute($e),vn=$t?$t.match(Fe):null;if(vn){let Bn=qe.get(St);Bn||(Bn=[],qe.set(St,Bn)),Bn.push({name:$e,value:vn[1]})}})}_updateSvgIcon(R){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),R){const[Se,qe]=this._splitIconName(R);Se&&(this._svgNamespace=Se),qe&&(this._svgName=qe),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(qe,Se).pipe((0,ne.q)(1)).subscribe(Dt=>this._setSvgElement(Dt),Dt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Se}:${qe}! ${Dt.message}`))})}}}return W.\u0275fac=function(R){return new(R||W)(l.Y36(l.SBq),l.Y36(Xe),l.$8M("aria-hidden"),l.Y36(Ht),l.Y36(l.qLn),l.Y36(jt,8))},W.\u0275cmp=l.Xpm({type:W,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(R,Se){2&R&&(l.uIk("data-mat-icon-type",Se._usingFontIcon()?"font":"svg")("data-mat-icon-name",Se._svgName||Se.fontIcon)("data-mat-icon-namespace",Se._svgNamespace||Se.fontSet)("fontIcon",Se._usingFontIcon()?Se.fontIcon:null),l.ekj("mat-icon-inline",Se.inline)("mat-icon-no-color","primary"!==Se.color&&"accent"!==Se.color&&"warn"!==Se.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:_e,decls:1,vars:0,template:function(R,Se){1&R&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),W})(),Ye=(()=>{class W{}return W.\u0275fac=function(R){return new(R||W)},W.\u0275mod=l.oAB({type:W}),W.\u0275inj=l.cJS({imports:[b.BQ,b.BQ]}),W})()},8255:(wt,Ne,_)=>{"use strict";_.d(Ne,{Tx:()=>Fe});var l=_(4650),b=_(3238),m=_(6895),he=(_(7340),_(8184)),ie=(_(3353),_(8605));const jt={provide:new l.OlP("mat-menu-scroll-strategy"),deps:[he.aV],useFactory:function dn(me){return()=>me.scrollStrategies.reposition()}};let Fe=(()=>{class me{}return me.\u0275fac=function(W){return new(W||me)},me.\u0275mod=l.oAB({type:me}),me.\u0275inj=l.cJS({providers:[jt],imports:[m.ez,b.si,b.BQ,he.U8,ie.ZD,b.BQ]}),me})()},1572:(wt,Ne,_)=>{"use strict";_.d(Ne,{Cq:()=>ne,Ou:()=>V});var l=_(4650),b=_(3238),m=_(1281),O=_(6895);const he=["determinateSpinner"];function ee(ce,Ae){if(1&ce&&(l.O4$(),l.TgZ(0,"svg",11),l._UZ(1,"circle",12),l.qZA()),2&ce){const _e=l.oxw();l.uIk("viewBox",_e._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",_e._strokeCircumference(),"px")("stroke-dashoffset",_e._strokeCircumference()/2,"px")("stroke-width",_e._circleStrokeWidth(),"%"),l.uIk("r",_e._circleRadius())}}const ie=(0,b.pj)(class{constructor(ce){this._elementRef=ce}},"primary"),j=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function K(){return{diameter:Y}}}),Y=100;let V=(()=>{class ce extends ie{constructor(_e,oe,fe){super(_e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=Y,this._noopAnimations="NoopAnimations"===oe&&!!fe&&!fe._forceAnimations,fe&&(fe.color&&(this.color=this.defaultColor=fe.color),fe.diameter&&(this.diameter=fe.diameter),fe.strokeWidth&&(this.strokeWidth=fe.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(_e){this._value=Math.max(0,Math.min(100,(0,m.su)(_e)))}get diameter(){return this._diameter}set diameter(_e){this._diameter=(0,m.su)(_e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(_e){this._strokeWidth=(0,m.su)(_e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const _e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${_e} ${_e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return ce.\u0275fac=function(_e){return new(_e||ce)(l.Y36(l.SBq),l.Y36(l.QbO,8),l.Y36(j))},ce.\u0275cmp=l.Xpm({type:ce,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(_e,oe){if(1&_e&&l.Gf(he,5),2&_e){let fe;l.iGM(fe=l.CRH())&&(oe._determinateCircle=fe.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(_e,oe){2&_e&&(l.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===oe.mode?oe.value:null)("mode",oe.mode),l.Udp("width",oe.diameter,"px")("height",oe.diameter,"px"),l.ekj("_mat-animation-noopable",oe._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===oe.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(_e,oe){if(1&_e&&(l.YNc(0,ee,2,8,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.O4$(),l.TgZ(4,"svg",3),l._UZ(5,"circle",4),l.qZA()(),l.kcU(),l.TgZ(6,"div",5)(7,"div",6)(8,"div",7),l.GkF(9,8),l.qZA(),l.TgZ(10,"div",9),l.GkF(11,8),l.qZA(),l.TgZ(12,"div",10),l.GkF(13,8),l.qZA()()()),2&_e){const fe=l.MAs(1);l.xp6(4),l.uIk("viewBox",oe._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",oe._strokeCircumference(),"px")("stroke-dashoffset",oe._strokeDashOffset(),"px")("stroke-width",oe._circleStrokeWidth(),"%"),l.uIk("r",oe._circleRadius()),l.xp6(4),l.Q6J("ngTemplateOutlet",fe),l.xp6(2),l.Q6J("ngTemplateOutlet",fe),l.xp6(2),l.Q6J("ngTemplateOutlet",fe)}},dependencies:[O.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),ce})(),ne=(()=>{class ce{}return ce.\u0275fac=function(_e){return new(_e||ce)},ce.\u0275mod=l.oAB({type:ce}),ce.\u0275inj=l.cJS({imports:[O.ez,b.BQ]}),ce})()},3267:(wt,Ne,_)=>{"use strict";_.d(Ne,{LW:()=>Fe,SJ:()=>Se,jA:()=>me,kh:()=>Ye});var l=_(8605),b=_(6895),m=_(4650),O=_(3238),he=_(7253),ee=_(445),ie=_(1281),j=_(9521),K=_(3353),Y=_(7579),F=_(4968),V=_(6451),Z=_(9300),ne=_(4004),ce=_(9718),Ae=_(2722),_e=_(1884),oe=_(5698),fe=_(8675),Me=_(8372),pe=_(7340);const de=["*"],Ee=["content"];function je(qe,Dt){if(1&qe){const $e=m.EpF();m.TgZ(0,"div",2),m.NdJ("click",function(){m.CHM($e);const $t=m.oxw();return m.KtG($t._onBackdropClicked())}),m.qZA()}if(2&qe){const $e=m.oxw();m.ekj("mat-drawer-shown",$e._isShowingBackdrop())}}function ke(qe,Dt){1&qe&&(m.TgZ(0,"mat-drawer-content"),m.Hsn(1,2),m.qZA())}const Xe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],ut=["mat-drawer","mat-drawer-content","*"],jt={transformDrawer:(0,pe.X$)("transform",[(0,pe.SB)("open, open-instant",(0,pe.oB)({transform:"none",visibility:"visible"})),(0,pe.SB)("void",(0,pe.oB)({"box-shadow":"none",visibility:"hidden"})),(0,pe.eR)("void => open-instant",(0,pe.jt)("0ms")),(0,pe.eR)("void <=> open, open-instant => void",(0,pe.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Zt=new m.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Oe(){return!1}}),Ce=new m.OlP("MAT_DRAWER_CONTAINER");let Fe=(()=>{class qe extends l.PQ{constructor($e,St,$t,vn,Bn){super($t,vn,Bn),this._changeDetectorRef=$e,this._container=St}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return qe.\u0275fac=function($e){return new($e||qe)(m.Y36(m.sBO),m.Y36((0,m.Gpc)(()=>Ye)),m.Y36(m.SBq),m.Y36(l.mF),m.Y36(m.R0b))},qe.\u0275cmp=m.Xpm({type:qe,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function($e,St){2&$e&&m.Udp("margin-left",St._container._contentMargins.left,"px")("margin-right",St._container._contentMargins.right,"px")},features:[m._Bn([{provide:l.PQ,useExisting:qe}]),m.qOj],ngContentSelectors:de,decls:1,vars:0,template:function($e,St){1&$e&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),qe})(),me=(()=>{class qe{get position(){return this._position}set position($e){($e="end"===$e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent($e),this._position=$e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode($e){this._mode=$e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose($e){this._disableClose=(0,ie.Ig)($e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus($e){("true"===$e||"false"===$e||null==$e)&&($e=(0,ie.Ig)($e)),this._autoFocus=$e}get opened(){return this._opened}set opened($e){this.toggle((0,ie.Ig)($e))}constructor($e,St,$t,vn,Bn,qn,Tn,Mn){this._elementRef=$e,this._focusTrapFactory=St,this._focusMonitor=$t,this._platform=vn,this._ngZone=Bn,this._interactivityChecker=qn,this._doc=Tn,this._container=Mn,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Y.x,this._animationEnd=new Y.x,this._animationState="void",this.openedChange=new m.vpe(!0),this._openedStream=this.openedChange.pipe((0,Z.h)(Le=>Le),(0,ne.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Z.h)(Le=>Le.fromState!==Le.toState&&0===Le.toState.indexOf("open")),(0,ce.h)(void 0)),this._closedStream=this.openedChange.pipe((0,Z.h)(Le=>!Le),(0,ne.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Z.h)(Le=>Le.fromState!==Le.toState&&"void"===Le.toState),(0,ce.h)(void 0)),this._destroyed=new Y.x,this.onPositionChanged=new m.vpe,this._modeChanged=new Y.x,this.openedChange.subscribe(Le=>{Le?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,F.R)(this._elementRef.nativeElement,"keydown").pipe((0,Z.h)(Le=>Le.keyCode===j.hY&&!this.disableClose&&!(0,j.Vb)(Le)),(0,Ae.R)(this._destroyed)).subscribe(Le=>this._ngZone.run(()=>{this.close(),Le.stopPropagation(),Le.preventDefault()}))}),this._animationEnd.pipe((0,_e.x)((Le,re)=>Le.fromState===re.fromState&&Le.toState===re.toState)).subscribe(Le=>{const{fromState:re,toState:ge}=Le;(0===ge.indexOf("open")&&"void"===re||"void"===ge&&0===re.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus($e,St){this._interactivityChecker.isFocusable($e)||($e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const $t=()=>{$e.removeEventListener("blur",$t),$e.removeEventListener("mousedown",$t),$e.removeAttribute("tabindex")};$e.addEventListener("blur",$t),$e.addEventListener("mousedown",$t)})),$e.focus(St)}_focusByCssSelector($e,St){let $t=this._elementRef.nativeElement.querySelector($e);$t&&this._forceFocus($t,St)}_takeFocus(){if(!this._focusTrap)return;const $e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(St=>{!St&&"function"==typeof this._elementRef.nativeElement.focus&&$e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus($e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,$e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const $e=this._doc.activeElement;return!!$e&&this._elementRef.nativeElement.contains($e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open($e){return this.toggle(!0,$e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle($e=!this.opened,St){$e&&St&&(this._openedVia=St);const $t=this._setOpen($e,!$e&&this._isFocusWithinDrawer(),this._openedVia||"program");return $e||(this._openedVia=null),$t}_setOpen($e,St,$t){return this._opened=$e,$e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",St&&this._restoreFocus($t)),this._updateFocusTrapState(),new Promise(vn=>{this.openedChange.pipe((0,oe.q)(1)).subscribe(Bn=>vn(Bn?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent($e){const St=this._elementRef.nativeElement,$t=St.parentNode;"end"===$e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),$t.insertBefore(this._anchor,St)),$t.appendChild(St)):this._anchor&&this._anchor.parentNode.insertBefore(St,this._anchor)}}return qe.\u0275fac=function($e){return new($e||qe)(m.Y36(m.SBq),m.Y36(he.qV),m.Y36(he.tE),m.Y36(K.t4),m.Y36(m.R0b),m.Y36(he.ic),m.Y36(b.K0,8),m.Y36(Ce,8))},qe.\u0275cmp=m.Xpm({type:qe,selectors:[["mat-drawer"]],viewQuery:function($e,St){if(1&$e&&m.Gf(Ee,5),2&$e){let $t;m.iGM($t=m.CRH())&&(St._content=$t.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function($e,St){1&$e&&m.WFA("@transform.start",function(vn){return St._animationStarted.next(vn)})("@transform.done",function(vn){return St._animationEnd.next(vn)}),2&$e&&(m.uIk("align",null),m.d8E("@transform",St._animationState),m.ekj("mat-drawer-end","end"===St.position)("mat-drawer-over","over"===St.mode)("mat-drawer-push","push"===St.mode)("mat-drawer-side","side"===St.mode)("mat-drawer-opened",St.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:de,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function($e,St){1&$e&&(m.F$t(),m.TgZ(0,"div",0,1),m.Hsn(2),m.qZA())},dependencies:[l.PQ],encapsulation:2,data:{animation:[jt.transformDrawer]},changeDetection:0}),qe})(),Ye=(()=>{class qe{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize($e){this._autosize=(0,ie.Ig)($e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop($e){this._backdropOverride=null==$e?null:(0,ie.Ig)($e)}get scrollable(){return this._userContent||this._content}constructor($e,St,$t,vn,Bn,qn=!1,Tn){this._dir=$e,this._element=St,this._ngZone=$t,this._changeDetectorRef=vn,this._animationMode=Tn,this._drawers=new m.n_E,this.backdropClick=new m.vpe,this._destroyed=new Y.x,this._doCheckSubject=new Y.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Y.x,$e&&$e.change.pipe((0,Ae.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Bn.change().pipe((0,Ae.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=qn}ngAfterContentInit(){this._allDrawers.changes.pipe((0,fe.O)(this._allDrawers),(0,Ae.R)(this._destroyed)).subscribe($e=>{this._drawers.reset($e.filter(St=>!St._container||St._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,fe.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach($e=>{this._watchDrawerToggle($e),this._watchDrawerPosition($e),this._watchDrawerMode($e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Me.b)(10),(0,Ae.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach($e=>$e.open())}close(){this._drawers.forEach($e=>$e.close())}updateContentMargins(){let $e=0,St=0;if(this._left&&this._left.opened)if("side"==this._left.mode)$e+=this._left._getWidth();else if("push"==this._left.mode){const $t=this._left._getWidth();$e+=$t,St-=$t}if(this._right&&this._right.opened)if("side"==this._right.mode)St+=this._right._getWidth();else if("push"==this._right.mode){const $t=this._right._getWidth();St+=$t,$e-=$t}$e=$e||null,St=St||null,($e!==this._contentMargins.left||St!==this._contentMargins.right)&&(this._contentMargins={left:$e,right:St},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle($e){$e._animationStarted.pipe((0,Z.h)(St=>St.fromState!==St.toState),(0,Ae.R)(this._drawers.changes)).subscribe(St=>{"open-instant"!==St.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==$e.mode&&$e.openedChange.pipe((0,Ae.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass($e.opened))}_watchDrawerPosition($e){$e&&$e.onPositionChanged.pipe((0,Ae.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,oe.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode($e){$e&&$e._modeChanged.pipe((0,Ae.R)((0,V.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass($e){const St=this._element.nativeElement.classList,$t="mat-drawer-container-has-open";$e?St.add($t):St.remove($t)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach($e=>{"end"==$e.position?this._end=$e:this._start=$e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter($e=>$e&&!$e.disableClose&&this._canHaveBackdrop($e)).forEach($e=>$e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop($e){return"side"!==$e.mode||!!this._backdropOverride}_isDrawerOpen($e){return null!=$e&&$e.opened}}return qe.\u0275fac=function($e){return new($e||qe)(m.Y36(ee.Is,8),m.Y36(m.SBq),m.Y36(m.R0b),m.Y36(m.sBO),m.Y36(l.rL),m.Y36(Zt),m.Y36(m.QbO,8))},qe.\u0275cmp=m.Xpm({type:qe,selectors:[["mat-drawer-container"]],contentQueries:function($e,St,$t){if(1&$e&&(m.Suo($t,Fe,5),m.Suo($t,me,5)),2&$e){let vn;m.iGM(vn=m.CRH())&&(St._content=vn.first),m.iGM(vn=m.CRH())&&(St._allDrawers=vn)}},viewQuery:function($e,St){if(1&$e&&m.Gf(Fe,5),2&$e){let $t;m.iGM($t=m.CRH())&&(St._userContent=$t.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function($e,St){2&$e&&m.ekj("mat-drawer-container-explicit-backdrop",St._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[m._Bn([{provide:Ce,useExisting:qe}])],ngContentSelectors:ut,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function($e,St){1&$e&&(m.F$t(Xe),m.YNc(0,je,1,2,"div",0),m.Hsn(1),m.Hsn(2,1),m.YNc(3,ke,2,0,"mat-drawer-content",1)),2&$e&&(m.Q6J("ngIf",St.hasBackdrop),m.xp6(3),m.Q6J("ngIf",!St._content))},dependencies:[b.O5,Fe],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),qe})(),Se=(()=>{class qe{}return qe.\u0275fac=function($e){return new($e||qe)},qe.\u0275mod=m.oAB({type:qe}),qe.\u0275inj=m.cJS({imports:[b.ez,O.BQ,l.ZD,l.ZD,O.BQ]}),qe})()},266:(wt,Ne,_)=>{"use strict";_.d(Ne,{AV:()=>kt});var l=_(4650),b=_(6895),O=(_(3353),_(7253)),he=_(8184),ie=(_(7340),_(8605)),j=_(3238);const ne={provide:new l.OlP("mat-tooltip-scroll-strategy"),deps:[he.aV],useFactory:function Z(lt){return()=>lt.scrollStrategies.reposition({scrollThrottle:20})}};let kt=(()=>{class lt{}return lt.\u0275fac=function(jt){return new(jt||lt)},lt.\u0275mod=l.oAB({type:lt}),lt.\u0275inj=l.cJS({providers:[ne],imports:[O.rt,b.ez,he.U8,j.BQ,j.BQ,ie.ZD]}),lt})()},1481:(wt,Ne,_)=>{"use strict";_.d(Ne,{Dx:()=>Xt,H7:()=>Ve,b2:()=>ge,q6:()=>Tn,se:()=>lt});var l=_(6895),b=_(4650);class m extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class O extends m{static makeCurrent(){(0,l.HT)(new O)}onAndCancel(X,N,D){return X.addEventListener(N,D,!1),()=>{X.removeEventListener(N,D,!1)}}dispatchEvent(X,N){X.dispatchEvent(N)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,N){return(N=N||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,N){return"window"===N?window:"document"===N?X:"body"===N?X.body:null}getBaseHref(X){const N=function ee(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==N?null:function j(et){ie=ie||document.createElement("a"),ie.setAttribute("href",et);const X=ie.pathname;return"/"===X.charAt(0)?X:`/${X}`}(N)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,l.Mx)(document.cookie,X)}}let ie,he=null;const K=new b.OlP("TRANSITION_ID"),F=[{provide:b.ip1,useFactory:function Y(et,X,N){return()=>{N.get(b.CZH).donePromise.then(()=>{const D=(0,l.q)(),z=X.querySelectorAll(`style[ng-transition="${et}"]`);for(let be=0;be<z.length;be++)D.remove(z[be])})}},deps:[K,l.K0,b.zs3],multi:!0}];let Z=(()=>{class et{build(){return new XMLHttpRequest}}return et.\u0275fac=function(N){return new(N||et)},et.\u0275prov=b.Yz7({token:et,factory:et.\u0275fac}),et})();const ne=new b.OlP("EventManagerPlugins");let ce=(()=>{class et{constructor(N,D){this._zone=D,this._eventNameToPlugin=new Map,N.forEach(z=>{z.manager=this}),this._plugins=N.slice().reverse()}addEventListener(N,D,z){return this._findPluginFor(D).addEventListener(N,D,z)}addGlobalEventListener(N,D,z){return this._findPluginFor(D).addGlobalEventListener(N,D,z)}getZone(){return this._zone}_findPluginFor(N){const D=this._eventNameToPlugin.get(N);if(D)return D;const z=this._plugins;for(let be=0;be<z.length;be++){const Pe=z[be];if(Pe.supports(N))return this._eventNameToPlugin.set(N,Pe),Pe}throw new Error(`No event manager plugin found for event ${N}`)}}return et.\u0275fac=function(N){return new(N||et)(b.LFG(ne),b.LFG(b.R0b))},et.\u0275prov=b.Yz7({token:et,factory:et.\u0275fac}),et})();class Ae{constructor(X){this._doc=X}addGlobalEventListener(X,N,D){const z=(0,l.q)().getGlobalEventTarget(this._doc,X);if(!z)throw new Error(`Unsupported event target ${z} for event ${N}`);return this.addEventListener(z,N,D)}}let _e=(()=>{class et{constructor(){this.usageCount=new Map}addStyles(N){for(const D of N)1===this.changeUsageCount(D,1)&&this.onStyleAdded(D)}removeStyles(N){for(const D of N)0===this.changeUsageCount(D,-1)&&this.onStyleRemoved(D)}onStyleRemoved(N){}onStyleAdded(N){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(N,D){const z=this.usageCount;let be=z.get(N)??0;return be+=D,be>0?z.set(N,be):z.delete(N),be}ngOnDestroy(){for(const N of this.getAllStyles())this.onStyleRemoved(N);this.usageCount.clear()}}return et.\u0275fac=function(N){return new(N||et)},et.\u0275prov=b.Yz7({token:et,factory:et.\u0275fac}),et})(),oe=(()=>{class et extends _e{constructor(N){super(),this.doc=N,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(N){for(const D of this.hostNodes)this.addStyleToHost(D,N)}onStyleRemoved(N){const D=this.styleRef;D.get(N)?.forEach(be=>be.remove()),D.delete(N)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(N){this.hostNodes.add(N);for(const D of this.getAllStyles())this.addStyleToHost(N,D)}removeHost(N){this.hostNodes.delete(N)}addStyleToHost(N,D){const z=this.doc.createElement("style");z.textContent=D,N.appendChild(z);const be=this.styleRef.get(D);be?be.push(z):this.styleRef.set(D,[z])}resetHostNodes(){const N=this.hostNodes;N.clear(),N.add(this.doc.head)}}return et.\u0275fac=function(N){return new(N||et)(b.LFG(l.K0))},et.\u0275prov=b.Yz7({token:et,factory:et.\u0275fac}),et})();const fe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Me=/%COMP%/g,Xe=new b.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ct(et,X){return X.flat(100).map(N=>N.replace(Me,et))}function kt(et){return X=>{if("__ngUnwrap__"===X)return et;!1===et(X)&&(X.preventDefault(),X.returnValue=!1)}}let lt=(()=>{class et{constructor(N,D,z,be){this.eventManager=N,this.sharedStylesHost=D,this.appId=z,this.removeStylesOnCompDestory=be,this.rendererByCompId=new Map,this.defaultRenderer=new dn(N)}createRenderer(N,D){if(!N||!D)return this.defaultRenderer;const z=this.getOrCreateRenderer(N,D);return z instanceof Fe?z.applyToHost(N):z instanceof Oe&&z.applyStyles(),z}getOrCreateRenderer(N,D){const z=this.rendererByCompId;let be=z.get(D.id);if(!be){const Pe=this.eventManager,at=this.sharedStylesHost,gt=this.removeStylesOnCompDestory;switch(D.encapsulation){case b.ifc.Emulated:be=new Fe(Pe,at,D,this.appId,gt);break;case b.ifc.ShadowDom:return new Ce(Pe,at,N,D);default:be=new Oe(Pe,at,D,gt)}be.onDestroy=()=>z.delete(D.id),z.set(D.id,be)}return be}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return et.\u0275fac=function(N){return new(N||et)(b.LFG(ce),b.LFG(oe),b.LFG(b.AFp),b.LFG(Xe))},et.\u0275prov=b.Yz7({token:et,factory:et.\u0275fac}),et})();class dn{constructor(X){this.eventManager=X,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,N){return N?document.createElementNS(fe[N]||N,X):document.createElement(X)}createComment(X){return document.createComment(X)}createText(X){return document.createTextNode(X)}appendChild(X,N){(Zt(X)?X.content:X).appendChild(N)}insertBefore(X,N,D){X&&(Zt(X)?X.content:X).insertBefore(N,D)}removeChild(X,N){X&&X.removeChild(N)}selectRootElement(X,N){let D="string"==typeof X?document.querySelector(X):X;if(!D)throw new Error(`The selector "${X}" did not match any elements`);return N||(D.textContent=""),D}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,N,D,z){if(z){N=z+":"+N;const be=fe[z];be?X.setAttributeNS(be,N,D):X.setAttribute(N,D)}else X.setAttribute(N,D)}removeAttribute(X,N,D){if(D){const z=fe[D];z?X.removeAttributeNS(z,N):X.removeAttribute(`${D}:${N}`)}else X.removeAttribute(N)}addClass(X,N){X.classList.add(N)}removeClass(X,N){X.classList.remove(N)}setStyle(X,N,D,z){z&(b.JOm.DashCase|b.JOm.Important)?X.style.setProperty(N,D,z&b.JOm.Important?"important":""):X.style[N]=D}removeStyle(X,N,D){D&b.JOm.DashCase?X.style.removeProperty(N):X.style[N]=""}setProperty(X,N,D){X[N]=D}setValue(X,N){X.nodeValue=N}listen(X,N,D){return"string"==typeof X?this.eventManager.addGlobalEventListener(X,N,kt(D)):this.eventManager.addEventListener(X,N,kt(D))}}function Zt(et){return"TEMPLATE"===et.tagName&&void 0!==et.content}class Ce extends dn{constructor(X,N,D,z){super(X),this.sharedStylesHost=N,this.hostEl=D,this.shadowRoot=D.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const be=ct(z.id,z.styles);for(const Pe of be){const at=document.createElement("style");at.textContent=Pe,this.shadowRoot.appendChild(at)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}appendChild(X,N){return super.appendChild(this.nodeOrShadowRoot(X),N)}insertBefore(X,N,D){return super.insertBefore(this.nodeOrShadowRoot(X),N,D)}removeChild(X,N){return super.removeChild(this.nodeOrShadowRoot(X),N)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Oe extends dn{constructor(X,N,D,z,be=D.id){super(X),this.sharedStylesHost=N,this.removeStylesOnCompDestory=z,this.rendererUsageCount=0,this.styles=ct(be,D.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Fe extends Oe{constructor(X,N,D,z,be){const Pe=z+"-"+D.id;super(X,N,D,be,Pe),this.contentAttr=function ut(et){return"_ngcontent-%COMP%".replace(Me,et)}(Pe),this.hostAttr=function Ue(et){return"_nghost-%COMP%".replace(Me,et)}(Pe)}applyToHost(X){this.applyStyles(),this.setAttribute(X,this.hostAttr,"")}createElement(X,N){const D=super.createElement(X,N);return super.setAttribute(D,this.contentAttr,""),D}}let me=(()=>{class et extends Ae{constructor(N){super(N)}supports(N){return!0}addEventListener(N,D,z){return N.addEventListener(D,z,!1),()=>this.removeEventListener(N,D,z)}removeEventListener(N,D,z){return N.removeEventListener(D,z)}}return et.\u0275fac=function(N){return new(N||et)(b.LFG(l.K0))},et.\u0275prov=b.Yz7({token:et,factory:et.\u0275fac}),et})();const Ye=["alt","control","meta","shift"],W={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ve={alt:et=>et.altKey,control:et=>et.ctrlKey,meta:et=>et.metaKey,shift:et=>et.shiftKey};let R=(()=>{class et extends Ae{constructor(N){super(N)}supports(N){return null!=et.parseEventName(N)}addEventListener(N,D,z){const be=et.parseEventName(D),Pe=et.eventCallback(be.fullKey,z,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(N,be.domEventName,Pe))}static parseEventName(N){const D=N.toLowerCase().split("."),z=D.shift();if(0===D.length||"keydown"!==z&&"keyup"!==z)return null;const be=et._normalizeKey(D.pop());let Pe="",at=D.indexOf("code");if(at>-1&&(D.splice(at,1),Pe="code."),Ye.forEach(rn=>{const bn=D.indexOf(rn);bn>-1&&(D.splice(bn,1),Pe+=rn+".")}),Pe+=be,0!=D.length||0===be.length)return null;const gt={};return gt.domEventName=z,gt.fullKey=Pe,gt}static matchEventFullKeyCode(N,D){let z=W[N.key]||N.key,be="";return D.indexOf("code.")>-1&&(z=N.code,be="code."),!(null==z||!z)&&(z=z.toLowerCase()," "===z?z="space":"."===z&&(z="dot"),Ye.forEach(Pe=>{Pe!==z&&(0,ve[Pe])(N)&&(be+=Pe+".")}),be+=z,be===D)}static eventCallback(N,D,z){return be=>{et.matchEventFullKeyCode(be,N)&&z.runGuarded(()=>D(be))}}static _normalizeKey(N){return"esc"===N?"escape":N}}return et.\u0275fac=function(N){return new(N||et)(b.LFG(l.K0))},et.\u0275prov=b.Yz7({token:et,factory:et.\u0275fac}),et})();const Tn=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:l.bD},{provide:b.g9A,useValue:function $t(){O.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function Bn(){return(0,b.RDi)(document),document},deps:[]}]),Mn=new b.OlP(""),Le=[{provide:b.rWj,useClass:class V{addToWindow(X){b.dqk.getAngularTestability=(D,z=!0)=>{const be=X.findTestabilityInTree(D,z);if(null==be)throw new Error("Could not find testability for element.");return be},b.dqk.getAllAngularTestabilities=()=>X.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>X.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(D=>{const z=b.dqk.getAllAngularTestabilities();let be=z.length,Pe=!1;const at=function(gt){Pe=Pe||gt,be--,0==be&&D(Pe)};z.forEach(function(gt){gt.whenStable(at)})})}findTestabilityInTree(X,N,D){return null==N?null:X.getTestability(N)??(D?(0,l.q)().isShadowRoot(N)?this.findTestabilityInTree(X,N.host,!0):this.findTestabilityInTree(X,N.parentElement,!0):null)}},deps:[]},{provide:b.lri,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b,b.eoX,b.rWj]}],re=[{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function vn(){return new b.qLn},deps:[]},{provide:ne,useClass:me,multi:!0,deps:[l.K0,b.R0b,b.Lbi]},{provide:ne,useClass:R,multi:!0,deps:[l.K0]},{provide:lt,useClass:lt,deps:[ce,oe,b.AFp,Xe]},{provide:b.FYo,useExisting:lt},{provide:_e,useExisting:oe},{provide:oe,useClass:oe,deps:[l.K0]},{provide:ce,useClass:ce,deps:[ne,b.R0b]},{provide:l.JF,useClass:Z,deps:[]},[]];let ge=(()=>{class et{constructor(N){}static withServerTransition(N){return{ngModule:et,providers:[{provide:b.AFp,useValue:N.appId},{provide:K,useExisting:b.AFp},F]}}}return et.\u0275fac=function(N){return new(N||et)(b.LFG(Mn,12))},et.\u0275mod=b.oAB({type:et}),et.\u0275inj=b.cJS({providers:[...re,...Le],imports:[l.ez,b.hGG]}),et})(),Xt=(()=>{class et{constructor(N){this._doc=N}getTitle(){return this._doc.title}setTitle(N){this._doc.title=N||""}}return et.\u0275fac=function(N){return new(N||et)(b.LFG(l.K0))},et.\u0275prov=b.Yz7({token:et,factory:function(N){let D=null;return D=N?new N:function Qt(){return new Xt((0,b.LFG)(l.K0))}(),D},providedIn:"root"}),et})();typeof window<"u"&&window;let Ve=(()=>{class et{}return et.\u0275fac=function(N){return new(N||et)},et.\u0275prov=b.Yz7({token:et,factory:function(N){let D=null;return D=N?new(N||et):b.LFG(Rt),D},providedIn:"root"}),et})(),Rt=(()=>{class et extends Ve{constructor(N){super(),this._doc=N}sanitize(N,D){if(null==D)return null;switch(N){case b.q3G.NONE:return D;case b.q3G.HTML:return(0,b.qzn)(D,"HTML")?(0,b.z3N)(D):(0,b.EiD)(this._doc,String(D)).toString();case b.q3G.STYLE:return(0,b.qzn)(D,"Style")?(0,b.z3N)(D):D;case b.q3G.SCRIPT:if((0,b.qzn)(D,"Script"))return(0,b.z3N)(D);throw new Error("unsafe value used in a script context");case b.q3G.URL:return(0,b.qzn)(D,"URL")?(0,b.z3N)(D):(0,b.mCW)(String(D));case b.q3G.RESOURCE_URL:if((0,b.qzn)(D,"ResourceURL"))return(0,b.z3N)(D);throw new Error(`unsafe value used in a resource URL context (see ${b.JZr})`);default:throw new Error(`Unexpected SecurityContext ${N} (see ${b.JZr})`)}}bypassSecurityTrustHtml(N){return(0,b.JVY)(N)}bypassSecurityTrustStyle(N){return(0,b.L6k)(N)}bypassSecurityTrustScript(N){return(0,b.eBb)(N)}bypassSecurityTrustUrl(N){return(0,b.LAX)(N)}bypassSecurityTrustResourceUrl(N){return(0,b.pB0)(N)}}return et.\u0275fac=function(N){return new(N||et)(b.LFG(l.K0))},et.\u0275prov=b.Yz7({token:et,factory:function(N){let D=null;return D=N?new N:function Je(et){return new Rt(et.get(l.K0))}(b.LFG(b.zs3)),D},providedIn:"root"}),et})()},1779:(wt,Ne,_)=>{"use strict";_.d(Ne,{gz:()=>oo,m2:()=>cr,F0:()=>Lr,rH:()=>va,Bz:()=>Cu,lC:()=>Fo});var l=_(4650),b=_(8996),m=_(9646),O=_(1135),he=_(6805),ee=_(9841),ie=_(7272),j=_(9751),K=_(8421);function Y(S){return new j.y(P=>{(0,K.Xf)(S()).subscribe(P)})}var F=_(9635),V=_(2843),Z=_(515),ne=_(727),ce=_(4482),Ae=_(5403);function _e(){return(0,ce.e)((S,P)=>{let C=null;S._refCount++;const B=(0,Ae.x)(P,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(C=null);const J=S._connection,xe=C;C=null,J&&(!xe||J===xe)&&J.unsubscribe(),P.unsubscribe()});S.subscribe(B),B.closed||(C=S.connect())})}class oe extends j.y{constructor(P,C){super(),this.source=P,this.subjectFactory=C,this._subject=null,this._refCount=0,this._connection=null,(0,ce.A)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,P?.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new ne.w0;const C=this.getSubject();P.add(this.source.subscribe((0,Ae.x)(C,void 0,()=>{this._teardown(),C.complete()},B=>{this._teardown(),C.error(B)},()=>this._teardown()))),P.closed&&(this._connection=null,P=ne.w0.EMPTY)}return P}refCount(){return _e()(this)}}var fe=_(7579),Me=_(6895),pe=_(4004),de=_(3900),Ee=_(5698),je=_(8675),ke=_(9300),Xe=_(5577),ut=_(590),Ue=_(4351),ct=_(8505),kt=_(262),lt=_(5026);function dn(S){return S<=0?()=>Z.E:(0,ce.e)((P,C)=>{let B=[];P.subscribe((0,Ae.x)(C,J=>{B.push(J),S<B.length&&B.shift()},()=>{for(const J of B)C.next(J);C.complete()},void 0,()=>{B=null}))})}var jt=_(8068),Ht=_(6590),Zt=_(4671);function Ce(S,P){const C=arguments.length>=2;return B=>B.pipe(S?(0,ke.h)((J,xe)=>S(J,xe,B)):Zt.y,dn(1),C?(0,Ht.d)(P):(0,jt.T)(()=>new he.K))}var Fe=_(9718),me=_(8746),Ye=_(8189),W=_(1481);const ve="primary",R=Symbol("RouteTitle");class Se{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const C=this.params[P];return Array.isArray(C)?C[0]:C}return null}getAll(P){if(this.has(P)){const C=this.params[P];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function qe(S){return new Se(S)}function Dt(S,P,C){const B=C.path.split("/");if(B.length>S.length||"full"===C.pathMatch&&(P.hasChildren()||B.length<S.length))return null;const J={};for(let xe=0;xe<B.length;xe++){const Re=B[xe],At=S[xe];if(Re.startsWith(":"))J[Re.substring(1)]=At;else if(Re!==At.path)return null}return{consumed:S.slice(0,B.length),posParams:J}}function St(S,P){const C=S?Object.keys(S):void 0,B=P?Object.keys(P):void 0;if(!C||!B||C.length!=B.length)return!1;let J;for(let xe=0;xe<C.length;xe++)if(J=C[xe],!$t(S[J],P[J]))return!1;return!0}function $t(S,P){if(Array.isArray(S)&&Array.isArray(P)){if(S.length!==P.length)return!1;const C=[...S].sort(),B=[...P].sort();return C.every((J,xe)=>B[xe]===J)}return S===P}function vn(S){return Array.prototype.concat.apply([],S)}function Bn(S){return S.length>0?S[S.length-1]:null}function Tn(S,P){for(const C in S)S.hasOwnProperty(C)&&P(S[C],C)}function Mn(S){return(0,l.CqO)(S)?S:(0,l.QGY)(S)?(0,b.D)(Promise.resolve(S)):(0,m.of)(S)}const Le=!1,re={exact:function Mt(S,P,C){if(!gn(S.segments,P.segments)||!Ke(S.segments,P.segments,C)||S.numberOfChildren!==P.numberOfChildren)return!1;for(const B in P.children)if(!S.children[B]||!Mt(S.children[B],P.children[B],C))return!1;return!0},subset:Xt},ge={exact:function It(S,P){return St(S,P)},subset:function Qt(S,P){return Object.keys(P).length<=Object.keys(S).length&&Object.keys(P).every(C=>$t(S[C],P[C]))},ignored:()=>!0};function He(S,P,C){return re[C.paths](S.root,P.root,C.matrixParams)&&ge[C.queryParams](S.queryParams,P.queryParams)&&!("exact"===C.fragment&&S.fragment!==P.fragment)}function Xt(S,P,C){return yt(S,P,P.segments,C)}function yt(S,P,C,B){if(S.segments.length>C.length){const J=S.segments.slice(0,C.length);return!(!gn(J,C)||P.hasChildren()||!Ke(J,C,B))}if(S.segments.length===C.length){if(!gn(S.segments,C)||!Ke(S.segments,C,B))return!1;for(const J in P.children)if(!S.children[J]||!Xt(S.children[J],P.children[J],B))return!1;return!0}{const J=C.slice(0,S.segments.length),xe=C.slice(S.segments.length);return!!(gn(S.segments,J)&&Ke(S.segments,J,B)&&S.children[ve])&&yt(S.children[ve],P,xe,B)}}function Ke(S,P,C){return P.every((B,J)=>ge[C](S[J].parameters,B.parameters))}class Te{constructor(P=new ot([],{}),C={},B=null){this.root=P,this.queryParams=C,this.fragment=B}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qe(this.queryParams)),this._queryParamMap}toString(){return Qn.serialize(this)}}class ot{constructor(P,C){this.segments=P,this.children=C,this.parent=null,Tn(C,(B,J)=>B.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ii(this)}}class Gt{constructor(P,C){this.path=P,this.parameters=C}get parameterMap(){return this._parameterMap||(this._parameterMap=qe(this.parameters)),this._parameterMap}toString(){return en(this)}}function gn(S,P){return S.length===P.length&&S.every((C,B)=>C.path===P[B].path)}let jn=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=l.Yz7({token:S,factory:function(){return new si},providedIn:"root"}),S})();class si{parse(P){const C=new N(P);return new Te(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(P){const C=`/${on(P.root,!0)}`,B=function Ze(S){const P=Object.keys(S).map(C=>{const B=S[C];return Array.isArray(B)?B.map(J=>`${pt(C)}=${pt(J)}`).join("&"):`${pt(C)}=${pt(B)}`}).filter(C=>!!C);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${C}${B}${"string"==typeof P.fragment?`#${function rt(S){return encodeURI(S)}(P.fragment)}`:""}`}}const Qn=new si;function Ii(S){return S.segments.map(P=>en(P)).join("/")}function on(S,P){if(!S.hasChildren())return Ii(S);if(P){const C=S.children[ve]?on(S.children[ve],!1):"",B=[];return Tn(S.children,(J,xe)=>{xe!==ve&&B.push(`${xe}:${on(J,!1)}`)}),B.length>0?`${C}(${B.join("//")})`:C}{const C=function ai(S,P){let C=[];return Tn(S.children,(B,J)=>{J===ve&&(C=C.concat(P(B,J)))}),Tn(S.children,(B,J)=>{J!==ve&&(C=C.concat(P(B,J)))}),C}(S,(B,J)=>J===ve?[on(S.children[ve],!1)]:[`${J}:${on(B,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[ve]?`${Ii(S)}/${C[0]}`:`${Ii(S)}/(${C.join("//")})`}}function ht(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pt(S){return ht(S).replace(/%3B/gi,";")}function ze(S){return ht(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function st(S){return decodeURIComponent(S)}function an(S){return st(S.replace(/\+/g,"%20"))}function en(S){return`${ze(S.path)}${function Nn(S){return Object.keys(S).map(P=>`;${ze(P)}=${ze(S[P])}`).join("")}(S.parameters)}`}const Ve=/^[^\/()?;=#]+/;function Je(S){const P=S.match(Ve);return P?P[0]:""}const Rt=/^[^=?&#]+/,et=/^[^&#]+/;class N{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ot([],{}):new ot([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let B={};return this.peekStartsWith("(")&&(B=this.parseParens(!1)),(P.length>0||Object.keys(C).length>0)&&(B[ve]=new ot(P,C)),B}parseSegment(){const P=Je(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new l.vHH(4009,Le);return this.capture(P),new Gt(st(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const C=Je(this.remaining);if(!C)return;this.capture(C);let B="";if(this.consumeOptional("=")){const J=Je(this.remaining);J&&(B=J,this.capture(B))}P[st(C)]=st(B)}parseQueryParam(P){const C=function dt(S){const P=S.match(Rt);return P?P[0]:""}(this.remaining);if(!C)return;this.capture(C);let B="";if(this.consumeOptional("=")){const Re=function X(S){const P=S.match(et);return P?P[0]:""}(this.remaining);Re&&(B=Re,this.capture(B))}const J=an(C),xe=an(B);if(P.hasOwnProperty(J)){let Re=P[J];Array.isArray(Re)||(Re=[Re],P[J]=Re),Re.push(xe)}else P[J]=xe}parseParens(P){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const B=Je(this.remaining),J=this.remaining[B.length];if("/"!==J&&")"!==J&&";"!==J)throw new l.vHH(4010,Le);let xe;B.indexOf(":")>-1?(xe=B.slice(0,B.indexOf(":")),this.capture(xe),this.capture(":")):P&&(xe=ve);const Re=this.parseChildren();C[xe]=1===Object.keys(Re).length?Re[ve]:new ot([],Re),this.consumeOptional("//")}return C}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new l.vHH(4011,Le)}}function D(S){return S.segments.length>0?new ot([],{[ve]:S}):S}function z(S){const P={};for(const B of Object.keys(S.children)){const xe=z(S.children[B]);(xe.segments.length>0||xe.hasChildren())&&(P[B]=xe)}return function be(S){if(1===S.numberOfChildren&&S.children[ve]){const P=S.children[ve];return new ot(S.segments.concat(P.segments),P.children)}return S}(new ot(S.segments,P))}function Pe(S){return S instanceof Te}const at=!1;function Pn(S,P,C,B,J){if(0===C.length)return wn(P.root,P.root,P.root,B,J);const xe=function Et(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new bt(!0,0,S);let P=0,C=!1;const B=S.reduce((J,xe,Re)=>{if("object"==typeof xe&&null!=xe){if(xe.outlets){const At={};return Tn(xe.outlets,(ln,Un)=>{At[Un]="string"==typeof ln?ln.split("/"):ln}),[...J,{outlets:At}]}if(xe.segmentPath)return[...J,xe.segmentPath]}return"string"!=typeof xe?[...J,xe]:0===Re?(xe.split("/").forEach((At,ln)=>{0==ln&&"."===At||(0==ln&&""===At?C=!0:".."===At?P++:""!=At&&J.push(At))}),J):[...J,xe]},[]);return new bt(C,P,B)}(C);return xe.toRoot()?wn(P.root,P.root,new ot([],{}),B,J):function Re(ln){const Un=function Vn(S,P,C,B){if(S.isAbsolute)return new Vt(P.root,!0,0);if(-1===B)return new Vt(C,C===P.root,0);return function ii(S,P,C){let B=S,J=P,xe=C;for(;xe>J;){if(xe-=J,B=B.parent,!B)throw new l.vHH(4005,at&&"Invalid number of '../'");J=B.segments.length}return new Vt(B,!1,J-xe)}(C,B+(pn(S.commands[0])?0:1),S.numberOfDoubleDots)}(xe,P,S.snapshot?._urlSegment,ln),In=Un.processChildren?hi(Un.segmentGroup,Un.index,xe.commands):bi(Un.segmentGroup,Un.index,xe.commands);return wn(P.root,Un.segmentGroup,In,B,J)}(S.snapshot?._lastPathIndex)}function pn(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function $n(S){return"object"==typeof S&&null!=S&&S.outlets}function wn(S,P,C,B,J){let Re,xe={};B&&Tn(B,(ln,Un)=>{xe[Un]=Array.isArray(ln)?ln.map(In=>`${In}`):`${ln}`}),Re=S===P?C:Yn(S,P,C);const At=D(z(Re));return new Te(At,xe,J)}function Yn(S,P,C){const B={};return Tn(S.children,(J,xe)=>{B[xe]=J===P?C:Yn(J,P,C)}),new ot(S.segments,B)}class bt{constructor(P,C,B){if(this.isAbsolute=P,this.numberOfDoubleDots=C,this.commands=B,P&&B.length>0&&pn(B[0]))throw new l.vHH(4003,at&&"Root segment cannot have matrix parameters");const J=B.find($n);if(J&&J!==Bn(B))throw new l.vHH(4004,at&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vt{constructor(P,C,B){this.segmentGroup=P,this.processChildren=C,this.index=B}}function bi(S,P,C){if(S||(S=new ot([],{})),0===S.segments.length&&S.hasChildren())return hi(S,P,C);const B=function xn(S,P,C){let B=0,J=P;const xe={match:!1,pathIndex:0,commandIndex:0};for(;J<S.segments.length;){if(B>=C.length)return xe;const Re=S.segments[J],At=C[B];if($n(At))break;const ln=`${At}`,Un=B<C.length-1?C[B+1]:null;if(J>0&&void 0===ln)break;if(ln&&Un&&"object"==typeof Un&&void 0===Un.outlets){if(!lr(ln,Un,Re))return xe;B+=2}else{if(!lr(ln,{},Re))return xe;B++}J++}return{match:!0,pathIndex:J,commandIndex:B}}(S,P,C),J=C.slice(B.commandIndex);if(B.match&&B.pathIndex<S.segments.length){const xe=new ot(S.segments.slice(0,B.pathIndex),{});return xe.children[ve]=new ot(S.segments.slice(B.pathIndex),S.children),hi(xe,0,J)}return B.match&&0===J.length?new ot(S.segments,{}):B.match&&!S.hasChildren()?ti(S,P,C):B.match?hi(S,0,J):ti(S,P,C)}function hi(S,P,C){if(0===C.length)return new ot(S.segments,{});{const B=function ui(S){return $n(S[0])?S[0].outlets:{[ve]:S}}(C),J={};if(!B[ve]&&S.children[ve]&&1===S.numberOfChildren&&0===S.children[ve].segments.length){const xe=hi(S.children[ve],P,C);return new ot(S.segments,xe.children)}return Tn(B,(xe,Re)=>{"string"==typeof xe&&(xe=[xe]),null!==xe&&(J[Re]=bi(S.children[Re],P,xe))}),Tn(S.children,(xe,Re)=>{void 0===B[Re]&&(J[Re]=xe)}),new ot(S.segments,J)}}function ti(S,P,C){const B=S.segments.slice(0,P);let J=0;for(;J<C.length;){const xe=C[J];if($n(xe)){const ln=Jn(xe.outlets);return new ot(B,ln)}if(0===J&&pn(C[0])){B.push(new Gt(S.segments[P].path,Ar(C[0]))),J++;continue}const Re=$n(xe)?xe.outlets[ve]:`${xe}`,At=J<C.length-1?C[J+1]:null;Re&&At&&pn(At)?(B.push(new Gt(Re,Ar(At))),J+=2):(B.push(new Gt(Re,{})),J++)}return new ot(B,{})}function Jn(S){const P={};return Tn(S,(C,B)=>{"string"==typeof C&&(C=[C]),null!==C&&(P[B]=ti(new ot([],{}),0,C))}),P}function Ar(S){const P={};return Tn(S,(C,B)=>P[B]=`${C}`),P}function lr(S,P,C){return S==C.path&&St(P,C.parameters)}const Hi="imperative";class Yi{constructor(P,C){this.id=P,this.url=C}}class li extends Yi{constructor(P,C,B="imperative",J=null){super(P,C),this.type=0,this.navigationTrigger=B,this.restoredState=J}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cr extends Yi{constructor(P,C,B){super(P,C),this.urlAfterRedirects=B,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jo extends Yi{constructor(P,C,B,J){super(P,C),this.reason=B,this.code=J,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ri extends Yi{constructor(P,C,B,J){super(P,C),this.reason=B,this.code=J,this.type=16}}class wo extends Yi{constructor(P,C,B,J){super(P,C),this.error=B,this.target=J,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hs extends Yi{constructor(P,C,B,J){super(P,C),this.urlAfterRedirects=B,this.state=J,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Is extends Yi{constructor(P,C,B,J){super(P,C),this.urlAfterRedirects=B,this.state=J,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr extends Yi{constructor(P,C,B,J,xe){super(P,C),this.urlAfterRedirects=B,this.state=J,this.shouldActivate=xe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ur extends Yi{constructor(P,C,B,J){super(P,C),this.urlAfterRedirects=B,this.state=J,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ho extends Yi{constructor(P,C,B,J){super(P,C),this.urlAfterRedirects=B,this.state=J,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kr{constructor(P){this.route=P,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yr{constructor(P){this.route=P,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fo{constructor(P){this.snapshot=P,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qr{constructor(P){this.snapshot=P,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ai{constructor(P){this.snapshot=P,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qr{constructor(P){this.snapshot=P,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class po{constructor(P,C,B){this.routerEvent=P,this.position=C,this.anchor=B,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let fs=(()=>{class S{createUrlTree(C,B,J,xe,Re,At){return Pn(C||B.root,J,xe,Re,At)}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=l.Yz7({token:S,factory:S.\u0275fac}),S})(),qi=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=l.Yz7({token:S,factory:function(P){return fs.\u0275fac(P)},providedIn:"root"}),S})();class mo{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const C=this.pathFromRoot(P);return C.length>1?C[C.length-2]:null}children(P){const C=Er(P,this._root);return C?C.children.map(B=>B.value):[]}firstChild(P){const C=Er(P,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(P){const C=gr(P,this._root);return C.length<2?[]:C[C.length-2].children.map(J=>J.value).filter(J=>J!==P)}pathFromRoot(P){return gr(P,this._root).map(C=>C.value)}}function Er(S,P){if(S===P.value)return P;for(const C of P.children){const B=Er(S,C);if(B)return B}return null}function gr(S,P){if(S===P.value)return[P];for(const C of P.children){const B=gr(S,C);if(B.length)return B.unshift(P),B}return[]}class rr{constructor(P,C){this.value=P,this.children=C}toString(){return`TreeNode(${this.value})`}}function dr(S){const P={};return S&&S.children.forEach(C=>P[C.value.outlet]=C),P}class Io extends mo{constructor(P,C){super(P),this.snapshot=C,ps(this,P)}toString(){return this.snapshot.toString()}}function _r(S,P){const C=function la(S,P){const Re=new js([],{},{},"",{},ve,P,null,S.root,-1,{});return new es("",new rr(Re,[]))}(S,P),B=new O.X([new Gt("",{})]),J=new O.X({}),xe=new O.X({}),Re=new O.X({}),At=new O.X(""),ln=new oo(B,J,Re,At,xe,ve,P,C.root);return ln.snapshot=C.root,new Io(new rr(ln,[]),C)}class oo{constructor(P,C,B,J,xe,Re,At,ln){this.url=P,this.params=C,this.queryParams=B,this.fragment=J,this.data=xe,this.outlet=Re,this.component=At,this.title=this.data?.pipe((0,pe.U)(Un=>Un[R]))??(0,m.of)(void 0),this._futureSnapshot=ln}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pe.U)(P=>qe(P)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pe.U)(P=>qe(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Oo(S,P="emptyOnly"){const C=S.pathFromRoot;let B=0;if("always"!==P)for(B=C.length-1;B>=1;){const J=C[B],xe=C[B-1];if(J.routeConfig&&""===J.routeConfig.path)B--;else{if(xe.component)break;B--}}return function ko(S){return S.reduce((P,C)=>({params:{...P.params,...C.params},data:{...P.data,...C.data},resolve:{...C.data,...P.resolve,...C.routeConfig?.data,...C._resolvedData}}),{params:{},data:{},resolve:{}})}(C.slice(B))}class js{get title(){return this.data?.[R]}constructor(P,C,B,J,xe,Re,At,ln,Un,In,Ti){this.url=P,this.params=C,this.queryParams=B,this.fragment=J,this.data=xe,this.outlet=Re,this.component=At,this.routeConfig=ln,this._urlSegment=Un,this._lastPathIndex=In,this._resolve=Ti}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(B=>B.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class es extends mo{constructor(P,C){super(C),this.url=P,ps(this,C)}toString(){return $s(this._root)}}function ps(S,P){P.value._routerState=S,P.children.forEach(C=>ps(S,C))}function $s(S){const P=S.children.length>0?` { ${S.children.map($s).join(", ")} } `:"";return`${S.value}${P}`}function Gs(S){if(S.snapshot){const P=S.snapshot,C=S._futureSnapshot;S.snapshot=C,St(P.queryParams,C.queryParams)||S.queryParams.next(C.queryParams),P.fragment!==C.fragment&&S.fragment.next(C.fragment),St(P.params,C.params)||S.params.next(C.params),function $e(S,P){if(S.length!==P.length)return!1;for(let C=0;C<S.length;++C)if(!St(S[C],P[C]))return!1;return!0}(P.url,C.url)||S.url.next(C.url),St(P.data,C.data)||S.data.next(C.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function kr(S,P){const C=St(S.params,P.params)&&function sn(S,P){return gn(S,P)&&S.every((C,B)=>St(C.parameters,P[B].parameters))}(S.url,P.url);return C&&!(!S.parent!=!P.parent)&&(!S.parent||kr(S.parent,P.parent))}function go(S,P,C){if(C&&S.shouldReuseRoute(P.value,C.value.snapshot)){const B=C.value;B._futureSnapshot=P.value;const J=function Oa(S,P,C){return P.children.map(B=>{for(const J of C.children)if(S.shouldReuseRoute(B.value,J.value.snapshot))return go(S,B,J);return go(S,B)})}(S,P,C);return new rr(B,J)}{if(S.shouldAttach(P.value)){const xe=S.retrieve(P.value);if(null!==xe){const Re=xe.route;return Re.value._futureSnapshot=P.value,Re.children=P.children.map(At=>go(S,At)),Re}}const B=function ka(S){return new oo(new O.X(S.url),new O.X(S.params),new O.X(S.queryParams),new O.X(S.fragment),new O.X(S.data),S.outlet,S.component,S)}(P.value),J=P.children.map(xe=>go(S,xe));return new rr(B,J)}}const Fa="ngNavigationCancelingError";function ca(S,P){const{redirectTo:C,navigationBehaviorOptions:B}=Pe(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,J=Go(!1,0,P);return J.url=C,J.navigationBehaviorOptions=B,J}function Go(S,P,C){const B=new Error("NavigationCancelingError: "+(S||""));return B[Fa]=!0,B.cancellationCode=P,C&&(B.url=C),B}function _o(S){return ts(S)&&Pe(S.url)}function ts(S){return S&&S[Fa]}class Na{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new hr,this.attachRef=null}}let hr=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(C,B){const J=this.getOrCreateContext(C);J.outlet=B,this.contexts.set(C,J)}onChildOutletDestroyed(C){const B=this.getContext(C);B&&(B.outlet=null,B.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let B=this.getContext(C);return B||(B=new Na,this.contexts.set(C,B)),B}getContext(C){return this.contexts.get(C)||null}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=l.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Wo=!1;let Fo=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(hr),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(C){if(C.name){const{firstChange:B,previousValue:J}=C.name;if(B)return;this.isTrackedInParentContexts(J)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(J)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(C){return this.parentContexts.getContext(C)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const C=this.parentContexts.getContext(this.name);C?.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Wo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Wo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Wo);this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,B){this.activated=C,this._activatedRoute=B,this.location.insert(C.hostView),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,B){if(this.isActivated)throw new l.vHH(4013,Wo);this._activatedRoute=C;const J=this.location,Re=C.snapshot.component,At=this.parentContexts.getOrCreateContext(this.name).children,ln=new Ws(C,At,J.injector);if(B&&function As(S){return!!S.resolveComponentFactory}(B)){const Un=B.resolveComponentFactory(Re);this.activated=J.createComponent(Un,J.length,ln)}else this.activated=J.createComponent(Re,{index:J.length,injector:ln,environmentInjector:B??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275dir=l.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),S})();class Ws{constructor(P,C,B){this.route=P,this.childContexts=C,this.parent=B}get(P,C){return P===oo?this.route:P===hr?this.childContexts:this.parent.get(P,C)}}let Zs=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275cmp=l.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(C,B){1&C&&l._UZ(0,"router-outlet")},dependencies:[Fo],encapsulation:2}),S})();function Ts(S,P){return S.providers&&!S._injector&&(S._injector=(0,l.MMx)(S.providers,P,`Route: ${S.path}`)),S._injector??P}function Ri(S){const P=S.children&&S.children.map(Ri),C=P?{...S,children:P}:{...S};return!C.component&&!C.loadComponent&&(P||C.loadChildren)&&C.outlet&&C.outlet!==ve&&(C.component=Zs),C}function ki(S){return S.outlet||ve}function vo(S,P){const C=S.filter(B=>ki(B)===P);return C.push(...S.filter(B=>ki(B)!==P)),C}function Oi(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let P=S.parent;P;P=P.parent){const C=P.routeConfig;if(C?._loadedInjector)return C._loadedInjector;if(C?._injector)return C._injector}return null}class Ss{constructor(P,C,B,J){this.routeReuseStrategy=P,this.futureState=C,this.currState=B,this.forwardEvent=J}activate(P){const C=this.futureState._root,B=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,B,P),Gs(this.futureState.root),this.activateChildRoutes(C,B,P)}deactivateChildRoutes(P,C,B){const J=dr(C);P.children.forEach(xe=>{const Re=xe.value.outlet;this.deactivateRoutes(xe,J[Re],B),delete J[Re]}),Tn(J,(xe,Re)=>{this.deactivateRouteAndItsChildren(xe,B)})}deactivateRoutes(P,C,B){const J=P.value,xe=C?C.value:null;if(J===xe)if(J.component){const Re=B.getContext(J.outlet);Re&&this.deactivateChildRoutes(P,C,Re.children)}else this.deactivateChildRoutes(P,C,B);else xe&&this.deactivateRouteAndItsChildren(C,B)}deactivateRouteAndItsChildren(P,C){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,C):this.deactivateRouteAndOutlet(P,C)}detachAndStoreRouteSubtree(P,C){const B=C.getContext(P.value.outlet),J=B&&P.value.component?B.children:C,xe=dr(P);for(const Re of Object.keys(xe))this.deactivateRouteAndItsChildren(xe[Re],J);if(B&&B.outlet){const Re=B.outlet.detach(),At=B.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:Re,route:P,contexts:At})}}deactivateRouteAndOutlet(P,C){const B=C.getContext(P.value.outlet),J=B&&P.value.component?B.children:C,xe=dr(P);for(const Re of Object.keys(xe))this.deactivateRouteAndItsChildren(xe[Re],J);B&&(B.outlet&&(B.outlet.deactivate(),B.children.onOutletDeactivated()),B.attachRef=null,B.resolver=null,B.route=null)}activateChildRoutes(P,C,B){const J=dr(C);P.children.forEach(xe=>{this.activateRoutes(xe,J[xe.value.outlet],B),this.forwardEvent(new Qr(xe.value.snapshot))}),P.children.length&&this.forwardEvent(new qr(P.value.snapshot))}activateRoutes(P,C,B){const J=P.value,xe=C?C.value:null;if(Gs(J),J===xe)if(J.component){const Re=B.getOrCreateContext(J.outlet);this.activateChildRoutes(P,C,Re.children)}else this.activateChildRoutes(P,C,B);else if(J.component){const Re=B.getOrCreateContext(J.outlet);if(this.routeReuseStrategy.shouldAttach(J.snapshot)){const At=this.routeReuseStrategy.retrieve(J.snapshot);this.routeReuseStrategy.store(J.snapshot,null),Re.children.onOutletReAttached(At.contexts),Re.attachRef=At.componentRef,Re.route=At.route.value,Re.outlet&&Re.outlet.attach(At.componentRef,At.route.value),Gs(At.route.value),this.activateChildRoutes(P,null,Re.children)}else{const At=Oi(J.snapshot),ln=At?.get(l._Vd)??null;Re.attachRef=null,Re.route=J,Re.resolver=ln,Re.injector=At,Re.outlet&&Re.outlet.activateWith(J,Re.injector),this.activateChildRoutes(P,null,Re.children)}}else this.activateChildRoutes(P,null,B)}}class Do{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class Mr{constructor(P,C){this.component=P,this.route=C}}function Ms(S,P,C){const B=S._root;return Fr(B,P?P._root:null,C,[B.value])}function Ko(S,P){const C=Symbol(),B=P.get(S,C);return B===C?"function"!=typeof S||(0,l.Z0I)(S)?P.get(S):S:B}function Fr(S,P,C,B,J={canDeactivateChecks:[],canActivateChecks:[]}){const xe=dr(P);return S.children.forEach(Re=>{(function ha(S,P,C,B,J={canDeactivateChecks:[],canActivateChecks:[]}){const xe=S.value,Re=P?P.value:null,At=C?C.getContext(S.value.outlet):null;if(Re&&xe.routeConfig===Re.routeConfig){const ln=function ns(S,P,C){if("function"==typeof C)return C(S,P);switch(C){case"pathParamsChange":return!gn(S.url,P.url);case"pathParamsOrQueryParamsChange":return!gn(S.url,P.url)||!St(S.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kr(S,P)||!St(S.queryParams,P.queryParams);default:return!kr(S,P)}}(Re,xe,xe.routeConfig.runGuardsAndResolvers);ln?J.canActivateChecks.push(new Do(B)):(xe.data=Re.data,xe._resolvedData=Re._resolvedData),Fr(S,P,xe.component?At?At.children:null:C,B,J),ln&&At&&At.outlet&&At.outlet.isActivated&&J.canDeactivateChecks.push(new Mr(At.outlet.component,Re))}else Re&&Wn(P,At,J),J.canActivateChecks.push(new Do(B)),Fr(S,null,xe.component?At?At.children:null:C,B,J)})(Re,xe[Re.value.outlet],C,B.concat([Re.value]),J),delete xe[Re.value.outlet]}),Tn(xe,(Re,At)=>Wn(Re,C.getContext(At),J)),J}function Wn(S,P,C){const B=dr(S),J=S.value;Tn(B,(xe,Re)=>{Wn(xe,J.component?P?P.children.getContext(Re):null:P,C)}),C.canDeactivateChecks.push(new Mr(J.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,J))}function te(S){return"function"==typeof S}function Cn(S){return S instanceof he.K||"EmptyError"===S?.name}const _i=Symbol("INITIAL_VALUE");function Fi(){return(0,de.w)(S=>(0,ee.a)(S.map(P=>P.pipe((0,Ee.q)(1),(0,je.O)(_i)))).pipe((0,pe.U)(P=>{for(const C of P)if(!0!==C){if(C===_i)return _i;if(!1===C||C instanceof Te)return C}return!0}),(0,ke.h)(P=>P!==_i),(0,Ee.q)(1)))}function Xi(S){return(0,F.z)((0,ct.b)(P=>{if(Pe(P))throw ca(0,P)}),(0,pe.U)(P=>!0===P))}const Ao={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yo(S,P,C,B,J){const xe=so(S,P,C);return xe.matched?function Rr(S,P,C,B){const J=P.canMatch;if(!J||0===J.length)return(0,m.of)(!0);const xe=J.map(Re=>{const At=Ko(Re,S);return Mn(function Ut(S){return S&&te(S.canMatch)}(At)?At.canMatch(P,C):S.runInContext(()=>At(P,C)))});return(0,m.of)(xe).pipe(Fi(),Xi())}(B=Ts(P,B),P,C).pipe((0,pe.U)(Re=>!0===Re?xe:{...Ao})):(0,m.of)(xe)}function so(S,P,C){if(""===P.path)return"full"===P.pathMatch&&(S.hasChildren()||C.length>0)?{...Ao}:{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const J=(P.matcher||Dt)(C,S,P);if(!J)return{...Ao};const xe={};Tn(J.posParams,(At,ln)=>{xe[ln]=At.path});const Re=J.consumed.length>0?{...xe,...J.consumed[J.consumed.length-1].parameters}:xe;return{matched:!0,consumedSegments:J.consumed,remainingSegments:C.slice(J.consumed.length),parameters:Re,positionalParamSegments:J.posParams??{}}}function Rs(S,P,C,B){if(C.length>0&&function To(S,P,C){return C.some(B=>No(S,P,B)&&ki(B)!==ve)}(S,C,B)){const xe=new ot(P,function Ic(S,P,C,B){const J={};J[ve]=B,B._sourceSegment=S,B._segmentIndexShift=P.length;for(const xe of C)if(""===xe.path&&ki(xe)!==ve){const Re=new ot([],{});Re._sourceSegment=S,Re._segmentIndexShift=P.length,J[ki(xe)]=Re}return J}(S,P,B,new ot(C,S.children)));return xe._sourceSegment=S,xe._segmentIndexShift=P.length,{segmentGroup:xe,slicedSegments:[]}}if(0===C.length&&function fa(S,P,C){return C.some(B=>No(S,P,B))}(S,C,B)){const xe=new ot(S.segments,function Ba(S,P,C,B,J){const xe={};for(const Re of B)if(No(S,C,Re)&&!J[ki(Re)]){const At=new ot([],{});At._sourceSegment=S,At._segmentIndexShift=P.length,xe[ki(Re)]=At}return{...J,...xe}}(S,P,C,B,S.children));return xe._sourceSegment=S,xe._segmentIndexShift=P.length,{segmentGroup:xe,slicedSegments:C}}const J=new ot(S.segments,S.children);return J._sourceSegment=S,J._segmentIndexShift=P.length,{segmentGroup:J,slicedSegments:C}}function No(S,P,C){return(!(S.hasChildren()||P.length>0)||"full"!==C.pathMatch)&&""===C.path}function ml(S,P,C,B){return!!(ki(S)===B||B!==ve&&No(P,C,S))&&("**"===S.path||so(P,S,C).matched)}function el(S,P,C){return 0===P.length&&!S.children[C]}const jl=!1;class Ks{constructor(P){this.segmentGroup=P||null}}class $l{constructor(P){this.urlTree=P}}function pa(S){return(0,V._)(new Ks(S))}function Va(S){return(0,V._)(new $l(S))}class Ac{constructor(P,C,B,J,xe){this.injector=P,this.configLoader=C,this.urlSerializer=B,this.urlTree=J,this.config=xe,this.allowRedirects=!0}apply(){const P=Rs(this.urlTree.root,[],[],this.config).segmentGroup,C=new ot(P.segments,P.children);return this.expandSegmentGroup(this.injector,this.config,C,ve).pipe((0,pe.U)(xe=>this.createUrlTree(z(xe),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,kt.K)(xe=>{if(xe instanceof $l)return this.allowRedirects=!1,this.match(xe.urlTree);throw xe instanceof Ks?this.noMatchError(xe):xe}))}match(P){return this.expandSegmentGroup(this.injector,this.config,P.root,ve).pipe((0,pe.U)(J=>this.createUrlTree(z(J),P.queryParams,P.fragment))).pipe((0,kt.K)(J=>{throw J instanceof Ks?this.noMatchError(J):J}))}noMatchError(P){return new l.vHH(4002,jl)}createUrlTree(P,C,B){const J=D(P);return new Te(J,C,B)}expandSegmentGroup(P,C,B,J){return 0===B.segments.length&&B.hasChildren()?this.expandChildren(P,C,B).pipe((0,pe.U)(xe=>new ot([],xe))):this.expandSegment(P,B,C,B.segments,J,!0)}expandChildren(P,C,B){const J=[];for(const xe of Object.keys(B.children))"primary"===xe?J.unshift(xe):J.push(xe);return(0,b.D)(J).pipe((0,Ue.b)(xe=>{const Re=B.children[xe],At=vo(C,xe);return this.expandSegmentGroup(P,At,Re,xe).pipe((0,pe.U)(ln=>({segment:ln,outlet:xe})))}),(0,lt.R)((xe,Re)=>(xe[Re.outlet]=Re.segment,xe),{}),Ce())}expandSegment(P,C,B,J,xe,Re){return(0,b.D)(B).pipe((0,Ue.b)(At=>this.expandSegmentAgainstRoute(P,C,B,At,J,xe,Re).pipe((0,kt.K)(Un=>{if(Un instanceof Ks)return(0,m.of)(null);throw Un}))),(0,ut.P)(At=>!!At),(0,kt.K)((At,ln)=>{if(Cn(At))return el(C,J,xe)?(0,m.of)(new ot([],{})):pa(C);throw At}))}expandSegmentAgainstRoute(P,C,B,J,xe,Re,At){return ml(J,C,xe,Re)?void 0===J.redirectTo?this.matchSegmentAgainstRoute(P,C,J,xe,Re):At&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(P,C,B,J,xe,Re):pa(C):pa(C)}expandSegmentAgainstRouteUsingRedirect(P,C,B,J,xe,Re){return"**"===J.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(P,B,J,Re):this.expandRegularSegmentAgainstRouteUsingRedirect(P,C,B,J,xe,Re)}expandWildCardWithParamsAgainstRouteUsingRedirect(P,C,B,J){const xe=this.applyRedirectCommands([],B.redirectTo,{});return B.redirectTo.startsWith("/")?Va(xe):this.lineralizeSegments(B,xe).pipe((0,Xe.z)(Re=>{const At=new ot(Re,{});return this.expandSegment(P,At,C,Re,J,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(P,C,B,J,xe,Re){const{matched:At,consumedSegments:ln,remainingSegments:Un,positionalParamSegments:In}=so(C,J,xe);if(!At)return pa(C);const Ti=this.applyRedirectCommands(ln,J.redirectTo,In);return J.redirectTo.startsWith("/")?Va(Ti):this.lineralizeSegments(J,Ti).pipe((0,Xe.z)(fr=>this.expandSegment(P,C,B,fr.concat(Un),Re,!1)))}matchSegmentAgainstRoute(P,C,B,J,xe){return"**"===B.path?(P=Ts(B,P),B.loadChildren?(B._loadedRoutes?(0,m.of)({routes:B._loadedRoutes,injector:B._loadedInjector}):this.configLoader.loadChildren(P,B)).pipe((0,pe.U)(At=>(B._loadedRoutes=At.routes,B._loadedInjector=At.injector,new ot(J,{})))):(0,m.of)(new ot(J,{}))):Yo(C,B,J,P).pipe((0,de.w)(({matched:Re,consumedSegments:At,remainingSegments:ln})=>Re?this.getChildConfig(P=B._injector??P,B,J).pipe((0,Xe.z)(In=>{const Ti=In.injector??P,fr=In.routes,{segmentGroup:Xo,slicedSegments:xa}=Rs(C,At,ln,fr),fn=new ot(Xo.segments,Xo.children);if(0===xa.length&&fn.hasChildren())return this.expandChildren(Ti,fr,fn).pipe((0,pe.U)(Ln=>new ot(At,Ln)));if(0===fr.length&&0===xa.length)return(0,m.of)(new ot(At,{}));const Ui=ki(B)===xe;return this.expandSegment(Ti,fn,fr,xa,Ui?ve:xe,!0).pipe((0,pe.U)(za=>new ot(At.concat(za.segments),za.children)))})):pa(C)))}getChildConfig(P,C,B){return C.children?(0,m.of)({routes:C.children,injector:P}):C.loadChildren?void 0!==C._loadedRoutes?(0,m.of)({routes:C._loadedRoutes,injector:C._loadedInjector}):function vr(S,P,C,B){const J=P.canLoad;if(void 0===J||0===J.length)return(0,m.of)(!0);const xe=J.map(Re=>{const At=Ko(Re,S);return Mn(function A(S){return S&&te(S.canLoad)}(At)?At.canLoad(P,C):S.runInContext(()=>At(P,C)))});return(0,m.of)(xe).pipe(Fi(),Xi())}(P,C,B).pipe((0,Xe.z)(J=>J?this.configLoader.loadChildren(P,C).pipe((0,ct.b)(xe=>{C._loadedRoutes=xe.routes,C._loadedInjector=xe.injector})):function Dc(S){return(0,V._)(Go(jl,3))}())):(0,m.of)({routes:[],injector:P})}lineralizeSegments(P,C){let B=[],J=C.root;for(;;){if(B=B.concat(J.segments),0===J.numberOfChildren)return(0,m.of)(B);if(J.numberOfChildren>1||!J.children[ve])return P.redirectTo,(0,V._)(new l.vHH(4e3,jl));J=J.children[ve]}}applyRedirectCommands(P,C,B){return this.applyRedirectCreateUrlTree(C,this.urlSerializer.parse(C),P,B)}applyRedirectCreateUrlTree(P,C,B,J){const xe=this.createSegmentGroup(P,C.root,B,J);return new Te(xe,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(P,C){const B={};return Tn(P,(J,xe)=>{if("string"==typeof J&&J.startsWith(":")){const At=J.substring(1);B[xe]=C[At]}else B[xe]=J}),B}createSegmentGroup(P,C,B,J){const xe=this.createSegments(P,C.segments,B,J);let Re={};return Tn(C.children,(At,ln)=>{Re[ln]=this.createSegmentGroup(P,At,B,J)}),new ot(xe,Re)}createSegments(P,C,B,J){return C.map(xe=>xe.path.startsWith(":")?this.findPosParam(P,xe,J):this.findOrReturn(xe,B))}findPosParam(P,C,B){const J=B[C.path.substring(1)];if(!J)throw new l.vHH(4001,jl);return J}findOrReturn(P,C){let B=0;for(const J of C){if(J.path===P.path)return C.splice(B),J;B++}return P}}class ma{}class yd{constructor(P,C,B,J,xe,Re,At){this.injector=P,this.rootComponentType=C,this.config=B,this.urlTree=J,this.url=xe,this.paramsInheritanceStrategy=Re,this.urlSerializer=At}recognize(){const P=Rs(this.urlTree.root,[],[],this.config.filter(C=>void 0===C.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,P,ve).pipe((0,pe.U)(C=>{if(null===C)return null;const B=new js([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ve,this.rootComponentType,null,this.urlTree.root,-1,{}),J=new rr(B,C),xe=new es(this.url,J);return this.inheritParamsAndData(xe._root),xe}))}inheritParamsAndData(P){const C=P.value,B=Oo(C,this.paramsInheritanceStrategy);C.params=Object.freeze(B.params),C.data=Object.freeze(B.data),P.children.forEach(J=>this.inheritParamsAndData(J))}processSegmentGroup(P,C,B,J){return 0===B.segments.length&&B.hasChildren()?this.processChildren(P,C,B):this.processSegment(P,C,B,B.segments,J)}processChildren(P,C,B){return(0,b.D)(Object.keys(B.children)).pipe((0,Ue.b)(J=>{const xe=B.children[J],Re=vo(C,J);return this.processSegmentGroup(P,Re,xe,J)}),(0,lt.R)((J,xe)=>J&&xe?(J.push(...xe),J):null),function Oe(S,P=!1){return(0,ce.e)((C,B)=>{let J=0;C.subscribe((0,Ae.x)(B,xe=>{const Re=S(xe,J++);(Re||P)&&B.next(xe),!Re&&B.complete()}))})}(J=>null!==J),(0,Ht.d)(null),Ce(),(0,pe.U)(J=>{if(null===J)return null;const xe=yu(J);return function gl(S){S.sort((P,C)=>P.value.outlet===ve?-1:C.value.outlet===ve?1:P.value.outlet.localeCompare(C.value.outlet))}(xe),xe}))}processSegment(P,C,B,J,xe){return(0,b.D)(C).pipe((0,Ue.b)(Re=>this.processSegmentAgainstRoute(Re._injector??P,Re,B,J,xe)),(0,ut.P)(Re=>!!Re),(0,kt.K)(Re=>{if(Cn(Re))return el(B,J,xe)?(0,m.of)([]):(0,m.of)(null);throw Re}))}processSegmentAgainstRoute(P,C,B,J,xe){if(C.redirectTo||!ml(C,B,J,xe))return(0,m.of)(null);let Re;if("**"===C.path){const At=J.length>0?Bn(J).parameters:{},ln=_a(B)+J.length,Un=new js(J,At,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,le(C),ki(C),C.component??C._loadedComponent??null,C,_l(B),ln,$(C));Re=(0,m.of)({snapshot:Un,consumedSegments:[],remainingSegments:[]})}else Re=Yo(B,C,J,P).pipe((0,pe.U)(({matched:At,consumedSegments:ln,remainingSegments:Un,parameters:In})=>{if(!At)return null;const Ti=_a(B)+ln.length;return{snapshot:new js(ln,In,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,le(C),ki(C),C.component??C._loadedComponent??null,C,_l(B),Ti,$(C)),consumedSegments:ln,remainingSegments:Un}}));return Re.pipe((0,de.w)(At=>{if(null===At)return(0,m.of)(null);const{snapshot:ln,consumedSegments:Un,remainingSegments:In}=At;P=C._injector??P;const Ti=C._loadedInjector??P,fr=function Wl(S){return S.children?S.children:S.loadChildren?S._loadedRoutes:[]}(C),{segmentGroup:Xo,slicedSegments:xa}=Rs(B,Un,In,fr.filter(Ui=>void 0===Ui.redirectTo));if(0===xa.length&&Xo.hasChildren())return this.processChildren(Ti,fr,Xo).pipe((0,pe.U)(Ui=>null===Ui?null:[new rr(ln,Ui)]));if(0===fr.length&&0===xa.length)return(0,m.of)([new rr(ln,[])]);const fn=ki(C)===xe;return this.processSegment(Ti,fr,Xo,xa,fn?ve:xe).pipe((0,pe.U)(Ui=>null===Ui?null:[new rr(ln,Ui)]))}))}}function Sc(S){const P=S.value.routeConfig;return P&&""===P.path&&void 0===P.redirectTo}function yu(S){const P=[],C=new Set;for(const B of S){if(!Sc(B)){P.push(B);continue}const J=P.find(xe=>B.value.routeConfig===xe.value.routeConfig);void 0!==J?(J.children.push(...B.children),C.add(J)):P.push(B)}for(const B of C){const J=yu(B.children);P.push(new rr(B.value,J))}return P.filter(B=>!C.has(B))}function _l(S){let P=S;for(;P._sourceSegment;)P=P._sourceSegment;return P}function _a(S){let P=S,C=P._segmentIndexShift??0;for(;P._sourceSegment;)P=P._sourceSegment,C+=P._segmentIndexShift??0;return C-1}function le(S){return S.data||{}}function $(S){return S.resolve||{}}function Ni(S){return"string"==typeof S.title||null===S.title}function Pi(S){return(0,de.w)(P=>{const C=S(P);return C?(0,b.D)(C).pipe((0,pe.U)(()=>P)):(0,m.of)(P)})}const Zi=new l.OlP("ROUTES");let Li=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(C){if(this.componentLoaders.get(C))return this.componentLoaders.get(C);if(C._loadedComponent)return(0,m.of)(C._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(C);const B=Mn(C.loadComponent()).pipe((0,pe.U)(rs),(0,ct.b)(xe=>{this.onLoadEndListener&&this.onLoadEndListener(C),C._loadedComponent=xe}),(0,me.x)(()=>{this.componentLoaders.delete(C)})),J=new oe(B,()=>new fe.x).pipe(_e());return this.componentLoaders.set(C,J),J}loadChildren(C,B){if(this.childrenLoaders.get(B))return this.childrenLoaders.get(B);if(B._loadedRoutes)return(0,m.of)({routes:B._loadedRoutes,injector:B._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(B);const xe=this.loadModuleFactoryOrRoutes(B.loadChildren).pipe((0,pe.U)(At=>{this.onLoadEndListener&&this.onLoadEndListener(B);let ln,Un,In=!1;Array.isArray(At)?Un=At:(ln=At.create(C).injector,Un=vn(ln.get(Zi,[],l.XFs.Self|l.XFs.Optional)));return{routes:Un.map(Ri),injector:ln}}),(0,me.x)(()=>{this.childrenLoaders.delete(B)})),Re=new oe(xe,()=>new fe.x).pipe(_e());return this.childrenLoaders.set(B,Re),Re}loadModuleFactoryOrRoutes(C){return Mn(C()).pipe((0,pe.U)(rs),(0,Xe.z)(B=>B instanceof l.YKP||Array.isArray(B)?(0,m.of)(B):(0,b.D)(this.compiler.compileModuleAsync(B))))}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=l.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function rs(S){return function Nr(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let os=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new fe.x,this.configLoader=(0,l.f3M)(Li),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(jn),this.rootContexts=(0,l.f3M)(hr),this.navigationId=0,this.afterPreactivation=()=>(0,m.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=J=>this.events.next(new Yr(J)),this.configLoader.onLoadStartListener=J=>this.events.next(new Kr(J))}complete(){this.transitions?.complete()}handleNavigationRequest(C){const B=++this.navigationId;this.transitions?.next({...this.transitions.value,...C,id:B})}setupNavigations(C){return this.transitions=new O.X({id:0,targetPageId:0,currentUrlTree:C.currentUrlTree,currentRawUrl:C.currentUrlTree,extractedUrl:C.urlHandlingStrategy.extract(C.currentUrlTree),urlAfterRedirects:C.urlHandlingStrategy.extract(C.currentUrlTree),rawUrl:C.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hi,restoredState:null,currentSnapshot:C.routerState.snapshot,targetSnapshot:null,currentRouterState:C.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ke.h)(B=>0!==B.id),(0,pe.U)(B=>({...B,extractedUrl:C.urlHandlingStrategy.extract(B.rawUrl)})),(0,de.w)(B=>{let J=!1,xe=!1;return(0,m.of)(B).pipe((0,ct.b)(Re=>{this.currentNavigation={id:Re.id,initialUrl:Re.rawUrl,extractedUrl:Re.extractedUrl,trigger:Re.source,extras:Re.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,de.w)(Re=>{const At=C.browserUrlTree.toString(),ln=!C.navigated||Re.extractedUrl.toString()!==At||At!==C.currentUrlTree.toString();if(!ln&&"reload"!==(Re.extras.onSameUrlNavigation??C.onSameUrlNavigation)){const In="";return this.events.next(new ri(Re.id,C.serializeUrl(B.rawUrl),In,0)),C.rawUrlTree=Re.rawUrl,Re.resolve(null),Z.E}if(C.urlHandlingStrategy.shouldProcessUrl(Re.rawUrl))return qo(Re.source)&&(C.browserUrlTree=Re.extractedUrl),(0,m.of)(Re).pipe((0,de.w)(In=>{const Ti=this.transitions?.getValue();return this.events.next(new li(In.id,this.urlSerializer.serialize(In.extractedUrl),In.source,In.restoredState)),Ti!==this.transitions?.getValue()?Z.E:Promise.resolve(In)}),function Lo(S,P,C,B){return(0,de.w)(J=>function tl(S,P,C,B,J){return new Ac(S,P,C,B,J).apply()}(S,P,C,J.extractedUrl,B).pipe((0,pe.U)(xe=>({...J,urlAfterRedirects:xe}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,C.config),(0,ct.b)(In=>{this.currentNavigation={...this.currentNavigation,finalUrl:In.urlAfterRedirects},B.urlAfterRedirects=In.urlAfterRedirects}),function we(S,P,C,B,J){return(0,Xe.z)(xe=>function Tc(S,P,C,B,J,xe,Re="emptyOnly"){return new yd(S,P,C,B,J,Re,xe).recognize().pipe((0,de.w)(At=>null===At?function or(S){return new j.y(P=>P.error(S))}(new ma):(0,m.of)(At)))}(S,P,C,xe.urlAfterRedirects,B.serialize(xe.urlAfterRedirects),B,J).pipe((0,pe.U)(Re=>({...xe,targetSnapshot:Re}))))}(this.environmentInjector,this.rootComponentType,C.config,this.urlSerializer,C.paramsInheritanceStrategy),(0,ct.b)(In=>{if(B.targetSnapshot=In.targetSnapshot,"eager"===C.urlUpdateStrategy){if(!In.extras.skipLocationChange){const fr=C.urlHandlingStrategy.merge(In.urlAfterRedirects,In.rawUrl);C.setBrowserUrl(fr,In)}C.browserUrlTree=In.urlAfterRedirects}const Ti=new hs(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(Ti)}));if(ln&&C.urlHandlingStrategy.shouldProcessUrl(C.rawUrlTree)){const{id:In,extractedUrl:Ti,source:fr,restoredState:Xo,extras:xa}=Re,fn=new li(In,this.urlSerializer.serialize(Ti),fr,Xo);this.events.next(fn);const Ui=_r(Ti,this.rootComponentType).snapshot;return B={...Re,targetSnapshot:Ui,urlAfterRedirects:Ti,extras:{...xa,skipLocationChange:!1,replaceUrl:!1}},(0,m.of)(B)}{const In="";return this.events.next(new ri(Re.id,C.serializeUrl(B.extractedUrl),In,1)),C.rawUrlTree=Re.rawUrl,Re.resolve(null),Z.E}}),(0,ct.b)(Re=>{const At=new Is(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next(At)}),(0,pe.U)(Re=>B={...Re,guards:Ms(Re.targetSnapshot,Re.currentSnapshot,this.rootContexts)}),function Ei(S,P){return(0,Xe.z)(C=>{const{targetSnapshot:B,currentSnapshot:J,guards:{canActivateChecks:xe,canDeactivateChecks:Re}}=C;return 0===Re.length&&0===xe.length?(0,m.of)({...C,guardsResult:!0}):function $i(S,P,C,B){return(0,b.D)(S).pipe((0,Xe.z)(J=>function Pr(S,P,C,B,J){const xe=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!xe||0===xe.length)return(0,m.of)(!0);const Re=xe.map(At=>{const ln=Oi(P)??J,Un=Ko(At,ln);return Mn(function Ge(S){return S&&te(S.canDeactivate)}(Un)?Un.canDeactivate(S,P,C,B):ln.runInContext(()=>Un(S,P,C,B))).pipe((0,ut.P)())});return(0,m.of)(Re).pipe(Fi())}(J.component,J.route,C,P,B)),(0,ut.P)(J=>!0!==J,!0))}(Re,B,J,S).pipe((0,Xe.z)(At=>At&&function E(S){return"boolean"==typeof S}(At)?function Gi(S,P,C,B){return(0,b.D)(P).pipe((0,Ue.b)(J=>(0,ie.z)(function Wi(S,P){return null!==S&&P&&P(new fo(S)),(0,m.of)(!0)}(J.route.parent,B),function Qi(S,P){return null!==S&&P&&P(new Ai(S)),(0,m.of)(!0)}(J.route,B),function is(S,P,C){const B=P[P.length-1],xe=P.slice(0,P.length-1).reverse().map(Re=>function Ps(S){const P=S.routeConfig?S.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:S,guards:P}:null}(Re)).filter(Re=>null!==Re).map(Re=>Y(()=>{const At=Re.guards.map(ln=>{const Un=Oi(Re.node)??C,In=Ko(ln,Un);return Mn(function Q(S){return S&&te(S.canActivateChild)}(In)?In.canActivateChild(B,S):Un.runInContext(()=>In(B,S))).pipe((0,ut.P)())});return(0,m.of)(At).pipe(Fi())}));return(0,m.of)(xe).pipe(Fi())}(S,J.path,C),function yo(S,P,C){const B=P.routeConfig?P.routeConfig.canActivate:null;if(!B||0===B.length)return(0,m.of)(!0);const J=B.map(xe=>Y(()=>{const Re=Oi(P)??C,At=Ko(xe,Re);return Mn(function T(S){return S&&te(S.canActivate)}(At)?At.canActivate(P,S):Re.runInContext(()=>At(P,S))).pipe((0,ut.P)())}));return(0,m.of)(J).pipe(Fi())}(S,J.route,C))),(0,ut.P)(J=>!0!==J,!0))}(B,xe,S,P):(0,m.of)(At)),(0,pe.U)(At=>({...C,guardsResult:At})))})}(this.environmentInjector,Re=>this.events.next(Re)),(0,ct.b)(Re=>{if(B.guardsResult=Re.guardsResult,Pe(Re.guardsResult))throw ca(0,Re.guardsResult);const At=new Tr(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot,!!Re.guardsResult);this.events.next(At)}),(0,ke.h)(Re=>!!Re.guardsResult||(C.restoreHistory(Re),this.cancelNavigationTransition(Re,"",3),!1)),Pi(Re=>{if(Re.guards.canActivateChecks.length)return(0,m.of)(Re).pipe((0,ct.b)(At=>{const ln=new ur(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(ln)}),(0,de.w)(At=>{let ln=!1;return(0,m.of)(At).pipe(function tt(S,P){return(0,Xe.z)(C=>{const{targetSnapshot:B,guards:{canActivateChecks:J}}=C;if(!J.length)return(0,m.of)(C);let xe=0;return(0,b.D)(J).pipe((0,Ue.b)(Re=>function Wt(S,P,C,B){const J=S.routeConfig,xe=S._resolve;return void 0!==J?.title&&!Ni(J)&&(xe[R]=J.title),function un(S,P,C,B){const J=function Zn(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===J.length)return(0,m.of)({});const xe={};return(0,b.D)(J).pipe((0,Xe.z)(Re=>function ji(S,P,C,B){const J=Oi(P)??B,xe=Ko(S,J);return Mn(xe.resolve?xe.resolve(P,C):J.runInContext(()=>xe(P,C)))}(S[Re],P,C,B).pipe((0,ut.P)(),(0,ct.b)(At=>{xe[Re]=At}))),dn(1),(0,Fe.h)(xe),(0,kt.K)(Re=>Cn(Re)?Z.E:(0,V._)(Re)))}(xe,S,P,B).pipe((0,pe.U)(Re=>(S._resolvedData=Re,S.data=Oo(S,C).resolve,J&&Ni(J)&&(S.data[R]=J.title),null)))}(Re.route,B,S,P)),(0,ct.b)(()=>xe++),dn(1),(0,Xe.z)(Re=>xe===J.length?(0,m.of)(C):Z.E))})}(C.paramsInheritanceStrategy,this.environmentInjector),(0,ct.b)({next:()=>ln=!0,complete:()=>{ln||(C.restoreHistory(At),this.cancelNavigationTransition(At,"",2))}}))}),(0,ct.b)(At=>{const ln=new ho(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(ln)}))}),Pi(Re=>{const At=ln=>{const Un=[];ln.routeConfig?.loadComponent&&!ln.routeConfig._loadedComponent&&Un.push(this.configLoader.loadComponent(ln.routeConfig).pipe((0,ct.b)(In=>{ln.component=In}),(0,pe.U)(()=>{})));for(const In of ln.children)Un.push(...At(In));return Un};return(0,ee.a)(At(Re.targetSnapshot.root)).pipe((0,Ht.d)(),(0,Ee.q)(1))}),Pi(()=>this.afterPreactivation()),(0,pe.U)(Re=>{const At=function Ds(S,P,C){const B=go(S,P._root,C?C._root:void 0);return new Io(B,P)}(C.routeReuseStrategy,Re.targetSnapshot,Re.currentRouterState);return B={...Re,targetRouterState:At}}),(0,ct.b)(Re=>{C.currentUrlTree=Re.urlAfterRedirects,C.rawUrlTree=C.urlHandlingStrategy.merge(Re.urlAfterRedirects,Re.rawUrl),C.routerState=Re.targetRouterState,"deferred"===C.urlUpdateStrategy&&(Re.extras.skipLocationChange||C.setBrowserUrl(C.rawUrlTree,Re),C.browserUrlTree=Re.urlAfterRedirects)}),((S,P,C)=>(0,pe.U)(B=>(new Ss(P,B.targetRouterState,B.currentRouterState,C).activate(S),B)))(this.rootContexts,C.routeReuseStrategy,Re=>this.events.next(Re)),(0,Ee.q)(1),(0,ct.b)({next:Re=>{J=!0,this.lastSuccessfulNavigation=this.currentNavigation,C.navigated=!0,this.events.next(new cr(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(C.currentUrlTree))),C.titleStrategy?.updateTitle(Re.targetRouterState.snapshot),Re.resolve(!0)},complete:()=>{J=!0}}),(0,me.x)(()=>{J||xe||this.cancelNavigationTransition(B,"",1),this.currentNavigation?.id===B.id&&(this.currentNavigation=null)}),(0,kt.K)(Re=>{if(xe=!0,ts(Re)){_o(Re)||(C.navigated=!0,C.restoreHistory(B,!0));const At=new jo(B.id,this.urlSerializer.serialize(B.extractedUrl),Re.message,Re.cancellationCode);if(this.events.next(At),_o(Re)){const ln=C.urlHandlingStrategy.merge(Re.url,C.rawUrlTree),Un={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===C.urlUpdateStrategy||qo(B.source)};C.scheduleNavigation(ln,Hi,null,Un,{resolve:B.resolve,reject:B.reject,promise:B.promise})}else B.resolve(!1)}else{C.restoreHistory(B,!0);const At=new wo(B.id,this.urlSerializer.serialize(B.extractedUrl),Re,B.targetSnapshot??void 0);this.events.next(At);try{B.resolve(C.errorHandler(Re))}catch(ln){B.reject(ln)}}return Z.E}))}))}cancelNavigationTransition(C,B,J){const xe=new jo(C.id,this.urlSerializer.serialize(C.extractedUrl),B,J);this.events.next(xe),C.resolve(!1)}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=l.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function qo(S){return S!==Hi}let Os=(()=>{class S{buildTitle(C){let B,J=C.root;for(;void 0!==J;)B=this.getResolvedTitleForRoute(J)??B,J=J.children.find(xe=>xe.outlet===ve);return B}getResolvedTitleForRoute(C){return C.data[R]}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=l.Yz7({token:S,factory:function(){return(0,l.f3M)(nl)},providedIn:"root"}),S})(),nl=(()=>{class S extends Os{constructor(C){super(),this.title=C}updateTitle(C){const B=this.buildTitle(C);void 0!==B&&this.title.setTitle(B)}}return S.\u0275fac=function(C){return new(C||S)(l.LFG(W.Dx))},S.\u0275prov=l.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),_s=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=l.Yz7({token:S,factory:function(){return(0,l.f3M)(Mc)},providedIn:"root"}),S})();class bu{shouldDetach(P){return!1}store(P,C){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,C){return P.routeConfig===C.routeConfig}}let Mc=(()=>{class S extends bu{}return S.\u0275fac=function(){let P;return function(B){return(P||(P=l.n5z(S)))(B||S)}}(),S.\u0275prov=l.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Pc=new l.OlP("",{providedIn:"root",factory:()=>({})});let Wh=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=l.Yz7({token:S,factory:function(){return(0,l.f3M)(Bp)},providedIn:"root"}),S})(),Bp=(()=>{class S{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,B){return C}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=l.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function n_(S){throw S}function Cr(S,P,C){return P.parse("/")}const Jr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Lr=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Pc,{optional:!0})||{},this.errorHandler=this.options.errorHandler||n_,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Cr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Wh),this.routeReuseStrategy=(0,l.f3M)(_s),this.urlCreationStrategy=(0,l.f3M)(qi),this.titleStrategy=(0,l.f3M)(Os),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=vn((0,l.f3M)(Zi,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(os),this.urlSerializer=(0,l.f3M)(jn),this.location=(0,l.f3M)(Me.Ye),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Te,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_r(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(C=>{this.lastSuccessfulId=C.id,this.currentPageId=this.browserPageId??0},C=>{this.console.warn(`Unhandled Navigation Error: ${C}`)})}resetRootComponentType(C){this.routerState.root.component=C,this.navigationTransitions.rootComponentType=C}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const C=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hi,C)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const B="popstate"===C.type?"popstate":"hashchange";"popstate"===B&&setTimeout(()=>{this.navigateToSyncWithBrowser(C.url,B,C.state)},0)}))}navigateToSyncWithBrowser(C,B,J){const xe={replaceUrl:!0},Re=J?.navigationId?J:null;if(J){const ln={...J};delete ln.navigationId,delete ln.\u0275routerPageId,0!==Object.keys(ln).length&&(xe.state=ln)}const At=this.parseUrl(C);this.scheduleNavigation(At,B,Re,xe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(C){this.config=C.map(Ri),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(C,B={}){const{relativeTo:J,queryParams:xe,fragment:Re,queryParamsHandling:At,preserveFragment:ln}=B,Un=ln?this.currentUrlTree.fragment:Re;let In=null;switch(At){case"merge":In={...this.currentUrlTree.queryParams,...xe};break;case"preserve":In=this.currentUrlTree.queryParams;break;default:In=xe||null}return null!==In&&(In=this.removeEmptyProps(In)),this.urlCreationStrategy.createUrlTree(J,this.routerState,this.currentUrlTree,C,In,Un??null)}navigateByUrl(C,B={skipLocationChange:!1}){const J=Pe(C)?C:this.parseUrl(C),xe=this.urlHandlingStrategy.merge(J,this.rawUrlTree);return this.scheduleNavigation(xe,Hi,null,B)}navigate(C,B={skipLocationChange:!1}){return function Kl(S){for(let P=0;P<S.length;P++){const C=S[P];if(null==C)throw new l.vHH(4008,false)}}(C),this.navigateByUrl(this.createUrlTree(C,B),B)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let B;try{B=this.urlSerializer.parse(C)}catch(J){B=this.malformedUriErrorHandler(J,this.urlSerializer,C)}return B}isActive(C,B){let J;if(J=!0===B?{...Jr}:!1===B?{...Zl}:B,Pe(C))return He(this.currentUrlTree,C,J);const xe=this.parseUrl(C);return He(this.currentUrlTree,xe,J)}removeEmptyProps(C){return Object.keys(C).reduce((B,J)=>{const xe=C[J];return null!=xe&&(B[J]=xe),B},{})}scheduleNavigation(C,B,J,xe,Re){if(this.disposed)return Promise.resolve(!1);let At,ln,Un,In;return Re?(At=Re.resolve,ln=Re.reject,Un=Re.promise):Un=new Promise((Ti,fr)=>{At=Ti,ln=fr}),In="computed"===this.canceledNavigationResolution?J&&J.\u0275routerPageId?J.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:In,source:B,restoredState:J,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:C,extras:xe,resolve:At,reject:ln,promise:Un,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Un.catch(Ti=>Promise.reject(Ti))}setBrowserUrl(C,B){const J=this.urlSerializer.serialize(C);if(this.location.isCurrentPathEqualTo(J)||B.extras.replaceUrl){const Re={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId)};this.location.replaceState(J,"",Re)}else{const xe={...B.extras.state,...this.generateNgRouterState(B.id,B.targetPageId)};this.location.go(J,"",xe)}}restoreHistory(C,B=!1){if("computed"===this.canceledNavigationResolution){const xe=this.currentPageId-(this.browserPageId??this.currentPageId);0!==xe?this.location.historyGo(xe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===xe&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(C,B){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:B}:{navigationId:C}}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=l.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),va=(()=>{class S{constructor(C,B,J,xe,Re,At){this.router=C,this.route=B,this.tabIndexAttribute=J,this.renderer=xe,this.el=Re,this.locationStrategy=At,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new fe.x;const ln=Re.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ln||"area"===ln,this.isAnchorElement?this.subscription=C.events.subscribe(Un=>{Un instanceof cr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(C){this._preserveFragment=(0,l.D6c)(C)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(C){this._skipLocationChange=(0,l.D6c)(C)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(C){this._replaceUrl=(0,l.D6c)(C)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(C){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",C)}ngOnChanges(C){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(C){null!=C?(this.commands=Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(C,B,J,xe,Re){return!!(null===this.urlTree||this.isAnchorElement&&(0!==C||B||J||xe||Re||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const C=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",C)}applyAttributeValue(C,B){const J=this.renderer,xe=this.el.nativeElement;null!==B?J.setAttribute(xe,C,B):J.removeAttribute(xe,C)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return S.\u0275fac=function(C){return new(C||S)(l.Y36(Lr),l.Y36(oo),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Me.S$))},S.\u0275dir=l.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,B){1&C&&l.NdJ("click",function(xe){return B.onClick(xe.button,xe.ctrlKey,xe.shiftKey,xe.altKey,xe.metaKey)}),2&C&&l.uIk("target",B.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),S})();class Ys{}let Rc=(()=>{class S{constructor(C,B,J,xe,Re){this.router=C,this.injector=J,this.preloadingStrategy=xe,this.loader=Re}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.h)(C=>C instanceof cr),(0,Ue.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,B){const J=[];for(const xe of B){xe.providers&&!xe._injector&&(xe._injector=(0,l.MMx)(xe.providers,C,`Route: ${xe.path}`));const Re=xe._injector??C,At=xe._loadedInjector??Re;(xe.loadChildren&&!xe._loadedRoutes&&void 0===xe.canLoad||xe.loadComponent&&!xe._loadedComponent)&&J.push(this.preloadConfig(Re,xe)),(xe.children||xe._loadedRoutes)&&J.push(this.processRoutes(At,xe.children??xe._loadedRoutes))}return(0,b.D)(J).pipe((0,Ye.J)())}preloadConfig(C,B){return this.preloadingStrategy.preload(B,()=>{let J;J=B.loadChildren&&void 0===B.canLoad?this.loader.loadChildren(C,B):(0,m.of)(null);const xe=J.pipe((0,Xe.z)(Re=>null===Re?(0,m.of)(void 0):(B._loadedRoutes=Re.routes,B._loadedInjector=Re.injector,this.processRoutes(Re.injector??C,Re.routes))));if(B.loadComponent&&!B._loadedComponent){const Re=this.loader.loadComponent(B);return(0,b.D)([xe,Re]).pipe((0,Ye.J)())}return xe})}}return S.\u0275fac=function(C){return new(C||S)(l.LFG(Lr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ys),l.LFG(Li))},S.\u0275prov=l.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const vs=new l.OlP("");let Oc=(()=>{class S{constructor(C,B,J,xe,Re={}){this.urlSerializer=C,this.transitions=B,this.viewportScroller=J,this.zone=xe,this.options=Re,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Re.scrollPositionRestoration=Re.scrollPositionRestoration||"disabled",Re.anchorScrolling=Re.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof li?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof cr&&(this.lastId=C.id,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof po&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,B){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new po(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return S.\u0275fac=function(C){l.$Z()},S.\u0275prov=l.Yz7({token:S,factory:S.\u0275fac}),S})();var Qo=(()=>((Qo=Qo||{})[Qo.COMPLETE=0]="COMPLETE",Qo[Qo.FAILED=1]="FAILED",Qo[Qo.REDIRECTING=2]="REDIRECTING",Qo))();const Fs=!1;function ao(S,P){return{\u0275kind:S,\u0275providers:P}}const Eu=new l.OlP("",{providedIn:"root",factory:()=>!1});function Ji(){const S=(0,l.f3M)(l.zs3);return P=>{const C=S.get(l.z2F);if(P!==C.components[0])return;const B=S.get(Lr),J=S.get(Ua);1===S.get(rl)&&B.initialNavigation(),S.get(xd,null,l.XFs.Optional)?.setUpPreloading(),S.get(vs,null,l.XFs.Optional)?.init(),B.resetRootComponentType(C.componentTypes[0]),J.closed||(J.next(),J.complete(),J.unsubscribe())}}const Ua=new l.OlP(Fs?"bootstrap done indicator":"",{factory:()=>new fe.x}),rl=new l.OlP(Fs?"initial navigation":"",{providedIn:"root",factory:()=>1});function Vp(){let S=[];return S=Fs?[{provide:l.Xts,multi:!0,useFactory:()=>{const P=(0,l.f3M)(Lr);return()=>P.events.subscribe(C=>{console.group?.(`Router Event: ${C.constructor.name}`),console.log(function Ra(S){if(!("type"in S))return`Unknown Router Event: ${S.constructor.name}`;switch(S.type){case 14:return`ActivationEnd(path: '${S.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${S.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${S.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${S.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state}, shouldActivate: ${S.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 2:return`NavigationCancel(id: ${S.id}, url: '${S.url}')`;case 16:return`NavigationSkipped(id: ${S.id}, url: '${S.url}')`;case 1:return`NavigationEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${S.id}, url: '${S.url}', error: ${S.error})`;case 0:return`NavigationStart(id: ${S.id}, url: '${S.url}')`;case 6:return`ResolveEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 5:return`ResolveStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 10:return`RouteConfigLoadEnd(path: ${S.route.path})`;case 9:return`RouteConfigLoadStart(path: ${S.route.path})`;case 4:return`RoutesRecognized(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 15:return`Scroll(anchor: '${S.anchor}', position: '${S.position?`${S.position[0]}, ${S.position[1]}`:null}')`}}(C)),console.log(C),console.groupEnd?.()})}}]:[],ao(1,S)}const xd=new l.OlP(Fs?"router preloader":"");function er(S){return ao(0,[{provide:xd,useExisting:Rc},{provide:Ys,useExisting:S}])}const Qs=!1,Yh=new l.OlP(Qs?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),wd=[Me.Ye,{provide:jn,useClass:si},Lr,hr,{provide:oo,useFactory:function kc(S){return S.routerState.root},deps:[Lr]},Li,Qs?{provide:Eu,useValue:!0}:[]];function ya(){return new l.PXZ("Router",Lr)}let Cu=(()=>{class S{constructor(C){}static forRoot(C,B){return{ngModule:S,providers:[wd,Qs&&B?.enableTracing?Vp().\u0275providers:[],{provide:Zi,multi:!0,useValue:C},{provide:Yh,useFactory:yl,deps:[[Lr,new l.FiY,new l.tp0]]},{provide:Pc,useValue:B||{}},B?.useHash?{provide:Me.S$,useClass:Me.Do}:{provide:Me.S$,useClass:Me.b0},{provide:vs,useFactory:()=>{const S=(0,l.f3M)(Me.EM),P=(0,l.f3M)(l.R0b),C=(0,l.f3M)(Pc),B=(0,l.f3M)(os),J=(0,l.f3M)(jn);return C.scrollOffset&&S.setOffset(C.scrollOffset),new Oc(J,B,S,P,C)}},B?.preloadingStrategy?er(B.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:ya},B?.initialNavigation?ol(B):[],[{provide:ss,useFactory:Ji},{provide:l.tb,multi:!0,useExisting:ss}]]}}static forChild(C){return{ngModule:S,providers:[{provide:Zi,multi:!0,useValue:C}]}}}return S.\u0275fac=function(C){return new(C||S)(l.LFG(Yh,8))},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({imports:[Zs]}),S})();function yl(S){if(Qs&&S)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ol(S){return["disabled"===S.initialNavigation?ao(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const P=(0,l.f3M)(Lr);return()=>{P.setUpLocationChangeListener()}}},{provide:rl,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?ao(2,[{provide:rl,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:P=>{const C=P.get(Me.V_,Promise.resolve());return()=>C.then(()=>new Promise(B=>{const J=P.get(Lr),xe=P.get(Ua);(function Ed(S,P){S.events.pipe((0,ke.h)(C=>C instanceof cr||C instanceof jo||C instanceof wo||C instanceof ri),(0,pe.U)(C=>C instanceof cr||C instanceof ri?Qo.COMPLETE:C instanceof jo&&(0===C.code||1===C.code)?Qo.REDIRECTING:Qo.FAILED),(0,ke.h)(C=>C!==Qo.REDIRECTING),(0,Ee.q)(1)).subscribe(()=>{P()})})(J,()=>{B(!0)}),P.get(os).afterPreactivation=()=>(B(!0),xe.closed?(0,m.of)(void 0):xe),J.initialNavigation()}))}}]).\u0275providers:[]]}const ss=new l.OlP(Qs?"Router Initializer":"")},3942:(wt,Ne,_)=>{"use strict";_.d(Ne,{Z:()=>ce});var l=_(2090),b=_(4859),m=_(6881),O=_(1877);class he{constructor(_e,oe){this._delegate=_e,this.firebase=oe,(0,m._addComponent)(_e,new b.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,m.deleteApp)(this._delegate)))}_getService(_e,oe=m._DEFAULT_ENTRY_NAME){var fe;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(_e);return!Me.isInitialized()&&"EXPLICIT"===(null===(fe=Me.getComponent())||void 0===fe?void 0:fe.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:oe})}_removeServiceInstance(_e,oe=m._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(oe)}_addComponent(_e){(0,m._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,m._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function K(){const Ae=function j(Ae){const _e={},oe={__esModule:!0,initializeApp:function pe(ke,Xe={}){const ut=m.initializeApp(ke,Xe);if((0,l.r3)(_e,ut.name))return _e[ut.name];const Ue=new Ae(ut,oe);return _e[ut.name]=Ue,Ue},app:Me,registerVersion:m.registerVersion,setLogLevel:m.setLogLevel,onLog:m.onLog,apps:null,SDK_VERSION:m.SDK_VERSION,INTERNAL:{registerComponent:function Ee(ke){const Xe=ke.name,ut=Xe.replace("-compat","");if(m._registerComponent(ke)&&"PUBLIC"===ke.type){const Ue=(ct=Me())=>{if("function"!=typeof ct[ut])throw ie.create("invalid-app-argument",{appName:Xe});return ct[ut]()};void 0!==ke.serviceProps&&(0,l.ZB)(Ue,ke.serviceProps),oe[ut]=Ue,Ae.prototype[ut]=function(...ct){return this._getService.bind(this,Xe).apply(this,ke.multipleInstances?ct:[])}}return"PUBLIC"===ke.type?oe[ut]:null},removeApp:function fe(ke){delete _e[ke]},useAsService:function je(ke,Xe){return"serverAuth"===Xe?null:Xe},modularAPIs:m}};function Me(ke){if(!(0,l.r3)(_e,ke=ke||m._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:ke});return _e[ke]}return oe.default=oe,Object.defineProperty(oe,"apps",{get:function de(){return Object.keys(_e).map(ke=>_e[ke])}}),Me.App=Ae,oe}(he);return Ae.INTERNAL=Object.assign(Object.assign({},Ae.INTERNAL),{createFirebaseNamespace:K,extendNamespace:function _e(oe){(0,l.ZB)(Ae,oe)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ae}(),F=new O.Yd("@firebase/app-compat");try{const Ae=(0,l.Rd)();if(void 0!==Ae.firebase){F.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const _e=Ae.firebase.SDK_VERSION;_e&&_e.indexOf("LITE")>=0&&F.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const ce=Y;!function ne(Ae){(0,m.registerVersion)("@firebase/app-compat","0.2.40",Ae)}()},6881:(wt,Ne,_)=>{"use strict";_.r(Ne),_.d(Ne,{FirebaseError:()=>O.ZR,SDK_VERSION:()=>pt,_DEFAULT_ENTRY_NAME:()=>Mt,_addComponent:()=>Te,_addOrOverwriteComponent:()=>ot,_apps:()=>Xt,_clearComponents:()=>si,_components:()=>Ke,_getProvider:()=>sn,_isFirebaseApp:()=>ai,_isFirebaseServerApp:()=>jn,_registerComponent:()=>Gt,_removeServiceInstance:()=>gn,_serverApps:()=>yt,deleteApp:()=>en,getApp:()=>st,getApps:()=>an,initializeApp:()=>rt,initializeServerApp:()=>ze,onLog:()=>Ve,registerVersion:()=>Ze,setLogLevel:()=>Je});var l=_(5861),b=_(4859),m=_(1877),O=_(2090);const he=(bt,Et)=>Et.some(Vt=>bt instanceof Vt);let ee,ie;const Y=new WeakMap,F=new WeakMap,V=new WeakMap,Z=new WeakMap,ne=new WeakMap;let _e={get(bt,Et,Vt){if(bt instanceof IDBTransaction){if("done"===Et)return F.get(bt);if("objectStoreNames"===Et)return bt.objectStoreNames||V.get(bt);if("store"===Et)return Vt.objectStoreNames[1]?void 0:Vt.objectStore(Vt.objectStoreNames[0])}return pe(bt[Et])},set:(bt,Et,Vt)=>(bt[Et]=Vt,!0),has:(bt,Et)=>bt instanceof IDBTransaction&&("done"===Et||"store"===Et)||Et in bt};function Me(bt){return"function"==typeof bt?function fe(bt){return bt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(bt)?function(...Et){return bt.apply(de(this),Et),pe(Y.get(this))}:function(...Et){return pe(bt.apply(de(this),Et))}:function(Et,...Vt){const Jt=bt.call(de(this),Et,...Vt);return V.set(Jt,Et.sort?Et.sort():[Et]),pe(Jt)}}(bt):(bt instanceof IDBTransaction&&function Ae(bt){if(F.has(bt))return;const Et=new Promise((Vt,Jt)=>{const Vn=()=>{bt.removeEventListener("complete",ii),bt.removeEventListener("error",ui),bt.removeEventListener("abort",ui)},ii=()=>{Vt(),Vn()},ui=()=>{Jt(bt.error||new DOMException("AbortError","AbortError")),Vn()};bt.addEventListener("complete",ii),bt.addEventListener("error",ui),bt.addEventListener("abort",ui)});F.set(bt,Et)}(bt),he(bt,function j(){return ee||(ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(bt,_e):bt)}function pe(bt){if(bt instanceof IDBRequest)return function ce(bt){const Et=new Promise((Vt,Jt)=>{const Vn=()=>{bt.removeEventListener("success",ii),bt.removeEventListener("error",ui)},ii=()=>{Vt(pe(bt.result)),Vn()},ui=()=>{Jt(bt.error),Vn()};bt.addEventListener("success",ii),bt.addEventListener("error",ui)});return Et.then(Vt=>{Vt instanceof IDBCursor&&Y.set(Vt,bt)}).catch(()=>{}),ne.set(Et,bt),Et}(bt);if(Z.has(bt))return Z.get(bt);const Et=Me(bt);return Et!==bt&&(Z.set(bt,Et),ne.set(Et,bt)),Et}const de=bt=>ne.get(bt),ke=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],ut=new Map;function Ue(bt,Et){if(!(bt instanceof IDBDatabase)||Et in bt||"string"!=typeof Et)return;if(ut.get(Et))return ut.get(Et);const Vt=Et.replace(/FromIndex$/,""),Jt=Et!==Vt,Vn=Xe.includes(Vt);if(!(Vt in(Jt?IDBIndex:IDBObjectStore).prototype)||!Vn&&!ke.includes(Vt))return;const ii=function(){var ui=(0,l.Z)(function*(bi,...hi){const xn=this.transaction(bi,Vn?"readwrite":"readonly");let ti=xn.store;return Jt&&(ti=ti.index(hi.shift())),(yield Promise.all([ti[Vt](...hi),Vn&&xn.done]))[0]});return function(hi){return ui.apply(this,arguments)}}();return ut.set(Et,ii),ii}!function oe(bt){_e=bt(_e)}(bt=>({...bt,get:(Et,Vt,Jt)=>Ue(Et,Vt)||bt.get(Et,Vt,Jt),has:(Et,Vt)=>!!Ue(Et,Vt)||bt.has(Et,Vt)}));class ct{constructor(Et){this.container=Et}getPlatformInfoString(){return this.container.getProviders().map(Vt=>{if(function kt(bt){return"VERSION"===bt.getComponent()?.type}(Vt)){const Jt=Vt.getImmediate();return`${Jt.library}/${Jt.version}`}return null}).filter(Vt=>Vt).join(" ")}}const lt="@firebase/app",dn="0.10.10",jt=new m.Yd("@firebase/app"),Mt="[DEFAULT]",Qt={[lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Xt=new Map,yt=new Map,Ke=new Map;function Te(bt,Et){try{bt.container.addComponent(Et)}catch(Vt){jt.debug(`Component ${Et.name} failed to register with FirebaseApp ${bt.name}`,Vt)}}function ot(bt,Et){bt.container.addOrOverwriteComponent(Et)}function Gt(bt){const Et=bt.name;if(Ke.has(Et))return jt.debug(`There were multiple attempts to register component ${Et}.`),!1;Ke.set(Et,bt);for(const Vt of Xt.values())Te(Vt,bt);for(const Vt of yt.values())Te(Vt,bt);return!0}function sn(bt,Et){const Vt=bt.container.getProvider("heartbeat").getImmediate({optional:!0});return Vt&&Vt.triggerHeartbeat(),bt.container.getProvider(Et)}function gn(bt,Et,Vt=Mt){sn(bt,Et).clearInstance(Vt)}function ai(bt){return void 0!==bt.options}function jn(bt){return void 0!==bt.settings}function si(){Ke.clear()}const Ii=new O.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class on{constructor(Et,Vt,Jt){this._isDeleted=!1,this._options=Object.assign({},Et),this._config=Object.assign({},Vt),this._name=Vt.name,this._automaticDataCollectionEnabled=Vt.automaticDataCollectionEnabled,this._container=Jt,this.container.addComponent(new b.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Et){this.checkDestroyed(),this._automaticDataCollectionEnabled=Et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Et){this._isDeleted=Et}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}class ht extends on{constructor(Et,Vt,Jt,Vn){const ii=void 0!==Vt.automaticDataCollectionEnabled&&Vt.automaticDataCollectionEnabled,ui={name:Jt,automaticDataCollectionEnabled:ii};super(void 0!==Et.apiKey?Et:Et.options,ui,Vn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:ii},Vt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Vt.releaseOnDeref=void 0,Ze(lt,dn,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Et){this.isDeleted||(this._refCount++,void 0!==Et&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(Et,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){en(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ii.create("server-app-deleted")}}const pt="10.13.1";function rt(bt,Et={}){let Vt=bt;"object"!=typeof Et&&(Et={name:Et});const Jt=Object.assign({name:Mt,automaticDataCollectionEnabled:!1},Et),Vn=Jt.name;if("string"!=typeof Vn||!Vn)throw Ii.create("bad-app-name",{appName:String(Vn)});if(Vt||(Vt=(0,O.aH)()),!Vt)throw Ii.create("no-options");const ii=Xt.get(Vn);if(ii){if((0,O.vZ)(Vt,ii.options)&&(0,O.vZ)(Jt,ii.config))return ii;throw Ii.create("duplicate-app",{appName:Vn})}const ui=new b.H0(Vn);for(const hi of Ke.values())ui.addComponent(hi);const bi=new on(Vt,Jt,ui);return Xt.set(Vn,bi),bi}function ze(bt,Et){if((0,O.jU)()&&!(0,O.n2)())throw Ii.create("invalid-server-app-environment");let Vt;void 0===Et.automaticDataCollectionEnabled&&(Et.automaticDataCollectionEnabled=!1),Vt=ai(bt)?bt.options:bt;const Jt=Object.assign(Object.assign({},Et),Vt);if(void 0!==Jt.releaseOnDeref&&delete Jt.releaseOnDeref,void 0!==Et.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Ii.create("finalization-registry-not-supported",{});const ii=""+(xn=JSON.stringify(Jt),[...xn].reduce((ti,Jn)=>Math.imul(31,ti)+Jn.charCodeAt(0)|0,0)),ui=yt.get(ii);var xn;if(ui)return ui.incRefCount(Et.releaseOnDeref),ui;const bi=new b.H0(ii);for(const xn of Ke.values())bi.addComponent(xn);const hi=new ht(Vt,Et,ii,bi);return yt.set(ii,hi),hi}function st(bt=Mt){const Et=Xt.get(bt);if(!Et&&bt===Mt&&(0,O.aH)())return rt();if(!Et)throw Ii.create("no-app",{appName:bt});return Et}function an(){return Array.from(Xt.values())}function en(bt){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(bt){let Et=!1;const Vt=bt.name;Xt.has(Vt)?(Et=!0,Xt.delete(Vt)):yt.has(Vt)&&bt.decRefCount()<=0&&(yt.delete(Vt),Et=!0),Et&&(yield Promise.all(bt.container.getProviders().map(Jt=>Jt.delete())),bt.isDeleted=!0)})).apply(this,arguments)}function Ze(bt,Et,Vt){var Jt;let Vn=null!==(Jt=Qt[bt])&&void 0!==Jt?Jt:bt;Vt&&(Vn+=`-${Vt}`);const ii=Vn.match(/\s|\//),ui=Et.match(/\s|\//);if(ii||ui){const bi=[`Unable to register library "${Vn}" with version "${Et}":`];return ii&&bi.push(`library name "${Vn}" contains illegal characters (whitespace or "/")`),ii&&ui&&bi.push("and"),ui&&bi.push(`version name "${Et}" contains illegal characters (whitespace or "/")`),void jt.warn(bi.join(" "))}Gt(new b.wA(`${Vn}-version`,()=>({library:Vn,version:Et}),"VERSION"))}function Ve(bt,Et){if(null!==bt&&"function"!=typeof bt)throw Ii.create("invalid-log-argument");(0,m.Am)(bt,Et)}function Je(bt){(0,m.Ub)(bt)}const Rt="firebase-heartbeat-database",dt=1,et="firebase-heartbeat-store";let X=null;function N(){return X||(X=function Ee(bt,Et,{blocked:Vt,upgrade:Jt,blocking:Vn,terminated:ii}={}){const ui=indexedDB.open(bt,Et),bi=pe(ui);return Jt&&ui.addEventListener("upgradeneeded",hi=>{Jt(pe(ui.result),hi.oldVersion,hi.newVersion,pe(ui.transaction),hi)}),Vt&&ui.addEventListener("blocked",hi=>Vt(hi.oldVersion,hi.newVersion,hi)),bi.then(hi=>{ii&&hi.addEventListener("close",()=>ii()),Vn&&hi.addEventListener("versionchange",xn=>Vn(xn.oldVersion,xn.newVersion,xn))}).catch(()=>{}),bi}(Rt,dt,{upgrade:(bt,Et)=>{if(0===Et)try{bt.createObjectStore(et)}catch(Vt){console.warn(Vt)}}}).catch(bt=>{throw Ii.create("idb-open",{originalErrorMessage:bt.message})})),X}function z(){return(z=(0,l.Z)(function*(bt){try{const Vt=(yield N()).transaction(et),Jt=yield Vt.objectStore(et).get(at(bt));return yield Vt.done,Jt}catch(Et){if(Et instanceof O.ZR)jt.warn(Et.message);else{const Vt=Ii.create("idb-get",{originalErrorMessage:Et?.message});jt.warn(Vt.message)}}})).apply(this,arguments)}function be(bt,Et){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,l.Z)(function*(bt,Et){try{const Jt=(yield N()).transaction(et,"readwrite");yield Jt.objectStore(et).put(Et,at(bt)),yield Jt.done}catch(Vt){if(Vt instanceof O.ZR)jt.warn(Vt.message);else{const Jt=Ii.create("idb-set",{originalErrorMessage:Vt?.message});jt.warn(Jt.message)}}})).apply(this,arguments)}function at(bt){return`${bt.name}!${bt.options.appId}`}class bn{constructor(Et){this.container=Et,this._heartbeatsCache=null;const Vt=this.container.getProvider("app").getImmediate();this._storage=new $n(Vt),this._heartbeatsCachePromise=this._storage.read().then(Jt=>(this._heartbeatsCache=Jt,Jt))}triggerHeartbeat(){var Et=this;return(0,l.Z)(function*(){var Vt,Jt;try{const ii=Et.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ui=Pn();return null==(null===(Vt=Et._heartbeatsCache)||void 0===Vt?void 0:Vt.heartbeats)&&(Et._heartbeatsCache=yield Et._heartbeatsCachePromise,null==(null===(Jt=Et._heartbeatsCache)||void 0===Jt?void 0:Jt.heartbeats))||Et._heartbeatsCache.lastSentHeartbeatDate===ui||Et._heartbeatsCache.heartbeats.some(bi=>bi.date===ui)?void 0:(Et._heartbeatsCache.heartbeats.push({date:ui,agent:ii}),Et._heartbeatsCache.heartbeats=Et._heartbeatsCache.heartbeats.filter(bi=>{const hi=new Date(bi.date).valueOf();return Date.now()-hi<=2592e6}),Et._storage.overwrite(Et._heartbeatsCache))}catch(Vn){jt.warn(Vn)}})()}getHeartbeatsHeader(){var Et=this;return(0,l.Z)(function*(){var Vt;try{if(null===Et._heartbeatsCache&&(yield Et._heartbeatsCachePromise),null==(null===(Vt=Et._heartbeatsCache)||void 0===Vt?void 0:Vt.heartbeats)||0===Et._heartbeatsCache.heartbeats.length)return"";const Jt=Pn(),{heartbeatsToSend:Vn,unsentEntries:ii}=function pn(bt,Et=1024){const Vt=[];let Jt=bt.slice();for(const Vn of bt){const ii=Vt.find(ui=>ui.agent===Vn.agent);if(ii){if(ii.dates.push(Vn.date),wn(Vt)>Et){ii.dates.pop();break}}else if(Vt.push({agent:Vn.agent,dates:[Vn.date]}),wn(Vt)>Et){Vt.pop();break}Jt=Jt.slice(1)}return{heartbeatsToSend:Vt,unsentEntries:Jt}}(Et._heartbeatsCache.heartbeats),ui=(0,O.L)(JSON.stringify({version:2,heartbeats:Vn}));return Et._heartbeatsCache.lastSentHeartbeatDate=Jt,ii.length>0?(Et._heartbeatsCache.heartbeats=ii,yield Et._storage.overwrite(Et._heartbeatsCache)):(Et._heartbeatsCache.heartbeats=[],Et._storage.overwrite(Et._heartbeatsCache)),ui}catch(Jt){return jt.warn(Jt),""}})()}}function Pn(){return(new Date).toISOString().substring(0,10)}class $n{constructor(Et){this.app=Et,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,O.hl)()&&(0,O.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Et=this;return(0,l.Z)(function*(){if(yield Et._canUseIndexedDBPromise){const Jt=yield function D(bt){return z.apply(this,arguments)}(Et.app);return Jt?.heartbeats?Jt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Et){var Vt=this;return(0,l.Z)(function*(){var Jt;if(yield Vt._canUseIndexedDBPromise){const ii=yield Vt.read();return be(Vt.app,{lastSentHeartbeatDate:null!==(Jt=Et.lastSentHeartbeatDate)&&void 0!==Jt?Jt:ii.lastSentHeartbeatDate,heartbeats:Et.heartbeats})}})()}add(Et){var Vt=this;return(0,l.Z)(function*(){var Jt;if(yield Vt._canUseIndexedDBPromise){const ii=yield Vt.read();return be(Vt.app,{lastSentHeartbeatDate:null!==(Jt=Et.lastSentHeartbeatDate)&&void 0!==Jt?Jt:ii.lastSentHeartbeatDate,heartbeats:[...ii.heartbeats,...Et.heartbeats]})}})()}}function wn(bt){return(0,O.L)(JSON.stringify({version:2,heartbeats:bt})).length}!function Yn(bt){Gt(new b.wA("platform-logger",Et=>new ct(Et),"PRIVATE")),Gt(new b.wA("heartbeat",Et=>new bn(Et),"PRIVATE")),Ze(lt,dn,bt),Ze(lt,dn,"esm2017"),Ze("fire-js","")}("")},4859:(wt,Ne,_)=>{"use strict";_.d(Ne,{H0:()=>j,wA:()=>m});var l=_(5861),b=_(2090);class m{constructor(Y,F,V){this.name=Y,this.instanceFactory=F,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const O="[DEFAULT]";class he{constructor(Y,F){this.name=Y,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const F=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(F)){const V=new b.BH;if(this.instancesDeferred.set(F,V),this.isInitialized(F)||this.shouldAutoInitialize())try{const Z=this.getOrInitializeService({instanceIdentifier:F});Z&&V.resolve(Z)}catch{}}return this.instancesDeferred.get(F).promise}getImmediate(Y){var F;const V=this.normalizeInstanceIdentifier(Y?.identifier),Z=null!==(F=Y?.optional)&&void 0!==F&&F;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(Z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(ne){if(Z)return null;throw ne}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function ie(K){return"EAGER"===K.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:O})}catch{}for(const[F,V]of this.instancesDeferred.entries()){const Z=this.normalizeInstanceIdentifier(F);try{const ne=this.getOrInitializeService({instanceIdentifier:Z});V.resolve(ne)}catch{}}}}clearInstance(Y=O){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,l.Z)(function*(){const F=Array.from(Y.instances.values());yield Promise.all([...F.filter(V=>"INTERNAL"in V).map(V=>V.INTERNAL.delete()),...F.filter(V=>"_delete"in V).map(V=>V._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=O){return this.instances.has(Y)}getOptions(Y=O){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:F={}}=Y,V=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(V))throw Error(`${this.name}(${V}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Z=this.getOrInitializeService({instanceIdentifier:V,options:F});for(const[ne,ce]of this.instancesDeferred.entries())V===this.normalizeInstanceIdentifier(ne)&&ce.resolve(Z);return Z}onInit(Y,F){var V;const Z=this.normalizeInstanceIdentifier(F),ne=null!==(V=this.onInitCallbacks.get(Z))&&void 0!==V?V:new Set;ne.add(Y),this.onInitCallbacks.set(Z,ne);const ce=this.instances.get(Z);return ce&&Y(ce,Z),()=>{ne.delete(Y)}}invokeOnInitCallbacks(Y,F){const V=this.onInitCallbacks.get(F);if(V)for(const Z of V)try{Z(Y,F)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:F={}}){let V=this.instances.get(Y);if(!V&&this.component&&(V=this.component.instanceFactory(this.container,{instanceIdentifier:(K=Y,K===O?void 0:K),options:F}),this.instances.set(Y,V),this.instancesOptions.set(Y,F),this.invokeOnInitCallbacks(V,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,V)}catch{}var K;return V||null}normalizeInstanceIdentifier(Y=O){return this.component?this.component.multipleInstances?Y:O:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class j{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const F=this.getProvider(Y.name);if(F.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);F.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const F=new he(Y,this);return this.providers.set(Y,F),F}getProviders(){return Array.from(this.providers.values())}}},1877:(wt,Ne,_)=>{"use strict";_.d(Ne,{Am:()=>K,Ub:()=>j,Yd:()=>ie,in:()=>b});const l=[];var b=(()=>{return(Y=b||(b={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",b;var Y})();const m={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},O=b.INFO,he={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},ee=(Y,F,...V)=>{if(F<Y.logLevel)return;const Z=(new Date).toISOString(),ne=he[F];if(!ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[ne](`[${Z}]  ${Y.name}:`,...V)};class ie{constructor(F){this.name=F,this._logLevel=O,this._logHandler=ee,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in b))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?m[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...F),this._logHandler(this,b.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...F),this._logHandler(this,b.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,b.INFO,...F),this._logHandler(this,b.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,b.WARN,...F),this._logHandler(this,b.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...F),this._logHandler(this,b.ERROR,...F)}}function j(Y){l.forEach(F=>{F.setLogLevel(Y)})}function K(Y,F){for(const V of l){let Z=null;F&&F.level&&(Z=m[F.level]),V.userLogHandler=null===Y?null:(ne,ce,...Ae)=>{const _e=Ae.map(oe=>{if(null==oe)return null;if("string"==typeof oe)return oe;if("number"==typeof oe||"boolean"==typeof oe)return oe.toString();if(oe instanceof Error)return oe.message;try{return JSON.stringify(oe)}catch{return null}}).filter(oe=>oe).join(" ");ce>=(Z??ne.logLevel)&&Y({level:b[ce].toLowerCase(),message:_e,args:Ae,type:ne.name})}}}},6792:(wt,Ne,_)=>{"use strict";_.d(Ne,{hG:()=>ve,mb:()=>St,zr:()=>Je,Ct:()=>ze,Ee:()=>Xt});var l=_(5861),b=_(4650),m=_(6895),O=_(529),he=_(7579),ee=_(9646),ie=_(8996),j=_(9751),K=_(8421);const{isArray:Y}=Array;var V=_(5403);var ce=_(2843),Ae=_(9841),_e=_(6451),oe=_(9300),fe=_(8505),Me=_(8372),pe=_(4986),de=_(7272),Ee=_(5698),je=_(4482),ke=_(5032),ut=_(9718),Ue=_(5577);function ct(X,N){return N?D=>(0,de.z)(N.pipe((0,Ee.q)(1),function Xe(){return(0,je.e)((X,N)=>{X.subscribe((0,V.x)(N,ke.Z))})}()),D.pipe(ct(X))):(0,Ue.z)((D,z)=>(0,K.Xf)(X(D,z)).pipe((0,Ee.q)(1),(0,ut.h)(D)))}var kt=_(2805);function lt(X,N=pe.z){const D=(0,kt.H)(X,N);return ct(()=>D)}var dn=_(3900),jt=_(4004),Ht=_(590),Zt=_(262),Ce=_(1165),Oe=_(3888),Fe=_(9672);const me=(0,Oe.d)(X=>function(D=null){X(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=D});function W(X){throw new me(X)}class ve{validateSignature(N){return Promise.resolve(null)}validateAtHash(N){return Promise.resolve(!0)}}class R{}class qe{}let Dt=(()=>{class X extends qe{now(){return Date.now()}new(){return new Date}static#e=this.\u0275fac=function(){let D;return function(be){return(D||(D=b.n5z(X)))(be||X)}}();static#t=this.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac})}return X})();class St{}class $t{}let vn=(()=>{class X{constructor(){this.data=new Map}getItem(D){return this.data.get(D)}removeItem(D){this.data.delete(D)}setItem(D,z){this.data.set(D,z)}static#e=this.\u0275fac=function(z){return new(z||X)};static#t=this.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac})}return X})();class qn{constructor(N){this.type=N}}class Tn extends qn{constructor(N,D=null){super(N),this.info=D}}class Mn extends qn{constructor(N,D=null){super(N),this.info=D}}class Le extends qn{constructor(N,D,z=null){super(N),this.reason=D,this.params=z}}function re(X){const N=X.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(N).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function ge(X){return btoa(X).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class He{constructor(N){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=D=>{location.href=D},N&&Object.assign(this,N)}}class It{encodeKey(N){return encodeURIComponent(N)}encodeValue(N){return encodeURIComponent(N)}decodeKey(N){return decodeURIComponent(N)}decodeValue(N){return decodeURIComponent(N)}}class Mt{}let Xt=(()=>{class X{getHashFragmentParams(D){let z=D||window.location.hash;if(z=decodeURIComponent(z),0!==z.indexOf("#"))return{};const be=z.indexOf("?");return z=z.substr(be>-1?be+1:1),this.parseQueryString(z)}parseQueryString(D){const z={};let be,Pe,at,gt,rn,bn;if(null===D)return z;const Pn=D.split("&");for(let pn=0;pn<Pn.length;pn++)be=Pn[pn],Pe=be.indexOf("="),-1===Pe?(at=be,gt=null):(at=be.substr(0,Pe),gt=be.substr(Pe+1)),rn=decodeURIComponent(at),bn=decodeURIComponent(gt),"/"===rn.substr(0,1)&&(rn=rn.substr(1)),z[rn]=bn;return z}static#e=this.\u0275fac=function(z){return new(z||X)};static#t=this.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac})}return X})();const Te=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function ot(X,N,D,z,be){let Pe,at,gt,rn,bn,Pn,pn,$n,wn,Yn,bt,Et,Vt;for(;be>=64;){for(Pe=N[0],at=N[1],gt=N[2],rn=N[3],bn=N[4],Pn=N[5],pn=N[6],$n=N[7],Yn=0;Yn<16;Yn++)bt=z+4*Yn,X[Yn]=(255&D[bt])<<24|(255&D[bt+1])<<16|(255&D[bt+2])<<8|255&D[bt+3];for(Yn=16;Yn<64;Yn++)wn=X[Yn-2],Et=(wn>>>17|wn<<15)^(wn>>>19|wn<<13)^wn>>>10,wn=X[Yn-15],Vt=(wn>>>7|wn<<25)^(wn>>>18|wn<<14)^wn>>>3,X[Yn]=(Et+X[Yn-7]|0)+(Vt+X[Yn-16]|0);for(Yn=0;Yn<64;Yn++)Et=(((bn>>>6|bn<<26)^(bn>>>11|bn<<21)^(bn>>>25|bn<<7))+(bn&Pn^~bn&pn)|0)+($n+(Te[Yn]+X[Yn]|0)|0)|0,Vt=((Pe>>>2|Pe<<30)^(Pe>>>13|Pe<<19)^(Pe>>>22|Pe<<10))+(Pe&at^Pe&gt^at&gt)|0,$n=pn,pn=Pn,Pn=bn,bn=rn+Et|0,rn=gt,gt=at,at=Pe,Pe=Et+Vt|0;N[0]+=Pe,N[1]+=at,N[2]+=gt,N[3]+=rn,N[4]+=bn,N[5]+=Pn,N[6]+=pn,N[7]+=$n,z+=64,be-=64}return z}class Gt{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let N=0;N<this.buffer.length;N++)this.buffer[N]=0;for(let N=0;N<this.temp.length;N++)this.temp[N]=0;this.reset()}update(N,D=N.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let z=0;if(this.bytesHashed+=D,this.bufferLength>0){for(;this.bufferLength<64&&D>0;)this.buffer[this.bufferLength++]=N[z++],D--;64===this.bufferLength&&(ot(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(D>=64&&(z=ot(this.temp,this.state,N,z,D),D%=64);D>0;)this.buffer[this.bufferLength++]=N[z++],D--;return this}finish(N){if(!this.finished){const D=this.bytesHashed,z=this.bufferLength,be=D/536870912|0,Pe=D<<3,at=D%64<56?64:128;this.buffer[z]=128;for(let gt=z+1;gt<at-8;gt++)this.buffer[gt]=0;this.buffer[at-8]=be>>>24&255,this.buffer[at-7]=be>>>16&255,this.buffer[at-6]=be>>>8&255,this.buffer[at-5]=be>>>0&255,this.buffer[at-4]=Pe>>>24&255,this.buffer[at-3]=Pe>>>16&255,this.buffer[at-2]=Pe>>>8&255,this.buffer[at-1]=Pe>>>0&255,ot(this.temp,this.state,this.buffer,0,at),this.finished=!0}for(let D=0;D<8;D++)N[4*D+0]=this.state[D]>>>24&255,N[4*D+1]=this.state[D]>>>16&255,N[4*D+2]=this.state[D]>>>8&255,N[4*D+3]=this.state[D]>>>0&255;return this}digest(){const N=new Uint8Array(this.digestLength);return this.finish(N),N}_saveState(N){for(let D=0;D<this.state.length;D++)N[D]=this.state[D]}_restoreState(N,D){for(let z=0;z<this.state.length;z++)this.state[z]=N[z];this.bytesHashed=D,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);class on{}let rt=(()=>{class X{calcHash(D,z){return(0,l.Z)(function*(){return function pt(X){const N=[];for(let D=0;D<X.length;D++)N.push(String.fromCharCode(X[D]));return N.join("")}(function gn(X){const N=(new Gt).update(X),D=N.digest();return N.clean(),D}(function ht(X){if("string"!=typeof X)throw new TypeError("expected string");const N=X,D=new Uint8Array(N.length);for(let z=0;z<N.length;z++)D[z]=N.charCodeAt(z);return D}(D)))})()}toHashString2(D){let z="";for(const be of D)z+=String.fromCharCode(be);return z}toHashString(D){const z=new Uint8Array(D);let be="";for(const Pe of z)be+=String.fromCharCode(Pe);return be}static#e=this.\u0275fac=function(z){return new(z||X)};static#t=this.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac})}return X})(),ze=(()=>{class X extends He{constructor(D,z,be,Pe,at,gt,rn,bn,Pn,pn){super(),this.ngZone=D,this.http=z,this.config=at,this.urlHelper=gt,this.logger=rn,this.crypto=bn,this.dateTimeService=pn,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new he.x,this.discoveryDocumentLoadedSubject=new he.x,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=Pn,at||(at={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),Pe&&(this.tokenValidationHandler=Pe),at&&this.configure(at);try{be?this.setStorage(be):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch($n){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",$n)}if(this.checkLocalStorageAccessable()){const $n=window?.navigator?.userAgent;($n?.includes("MSIE ")||$n?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;const D="test";try{return!(typeof window.localStorage>"u"||(localStorage.setItem(D,D),localStorage.removeItem(D),0))}catch{return!1}}configure(D){Object.assign(this,new He,D),this.config=Object.assign({},new He,D),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe((0,oe.h)(D=>"token_received"===D.type)).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(D={},z,be=!0){let Pe=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,fe.b)(at=>{"token_received"===at.type?Pe=!0:"logout"===at.type&&(Pe=!1)}),(0,oe.h)(at=>"token_expires"===at.type&&(null==z||"any"===z||at.info===z)),(0,Me.b)(1e3)).subscribe(()=>{Pe&&this.refreshInternal(D,be).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(D,z){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(D,z):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(D=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(D))}loadDiscoveryDocumentAndLogin(D=null){return this.loadDiscoveryDocumentAndTryLogin(D=D||{}).then(()=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof D.state?D.state:""),!1))}debug(...D){this.showDebugInformation&&this.logger.debug(...D)}validateUrlFromDiscoveryDocument(D){const z=[],be=this.validateUrlForHttps(D),Pe=this.validateUrlAgainstIssuer(D);return be||z.push("https for all urls required. Also for urls received by discovery."),Pe||z.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),z}validateUrlForHttps(D){if(!D)return!0;const z=D.toLowerCase();return!(!1!==this.requireHttps&&(!z.match(/^http:\/\/localhost($|[:/])/)&&!z.match(/^http:\/\/localhost($|[:/])/)||"remoteOnly"!==this.requireHttps))||z.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(D,z){if(!D)throw new Error(`'${z}' should not be null`);if(!this.validateUrlForHttps(D))throw new Error(`'${z}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(D){return!this.strictDiscoveryDocumentValidation||!D||D.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){typeof window>"u"?this.debug("timer not supported on this plattform"):((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe((0,oe.h)(D=>"token_received"===D.type)).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()}))}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const D=this.getAccessTokenExpiration(),z=this.getAccessTokenStoredAt(),be=this.calcTimeout(z,D);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=(0,ee.of)(new Mn("token_expires","access_token")).pipe(lt(be)).subscribe(Pe=>{this.ngZone.run(()=>{this.eventsSubject.next(Pe)})})})}setupIdTokenTimer(){const D=this.getIdTokenExpiration(),z=this.getIdTokenStoredAt(),be=this.calcTimeout(z,D);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=(0,ee.of)(new Mn("token_expires","id_token")).pipe(lt(be)).subscribe(Pe=>{this.ngZone.run(()=>{this.eventsSubject.next(Pe)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(D,z){const be=this.dateTimeService.now(),at=Math.max(0,(z-D)*this.timeoutFactor-(be-D)),gt=2147483647;return at>gt?gt:at}setStorage(D){this._storage=D,this.configChanged()}loadDiscoveryDocument(D=null){return new Promise((z,be)=>{D||((D=this.issuer||"").endsWith("/")||(D+="/"),D+=".well-known/openid-configuration"),this.validateUrlForHttps(D)?this.http.get(D).subscribe(Pe=>{if(!this.validateDiscoveryDocument(Pe))return this.eventsSubject.next(new Le("discovery_document_validation_error",null)),void be("discovery_document_validation_error");this.loginUrl=Pe.authorization_endpoint,this.logoutUrl=Pe.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=Pe.grant_types_supported,this.issuer=Pe.issuer,this.tokenEndpoint=Pe.token_endpoint,this.userinfoEndpoint=Pe.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=Pe.jwks_uri,this.sessionCheckIFrameUrl=Pe.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(Pe),this.revocationEndpoint=Pe.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(at=>{const rn=new Tn("discovery_document_loaded",{discoveryDocument:Pe,jwks:at});this.eventsSubject.next(rn),z(rn)}).catch(at=>{this.eventsSubject.next(new Le("discovery_document_load_error",at)),be(at)})},Pe=>{this.logger.error("error loading discovery document",Pe),this.eventsSubject.next(new Le("discovery_document_load_error",Pe)),be(Pe)}):be("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((D,z)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(be=>{this.jwks=be,D(be)},be=>{this.logger.error("error loading jwks",be),this.eventsSubject.next(new Le("jwks_load_error",be)),z(be)}):D(null)})}validateDiscoveryDocument(D){let z;return this.skipIssuerCheck||D.issuer===this.issuer?(z=this.validateUrlFromDiscoveryDocument(D.authorization_endpoint),z.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",z),!1):(z=this.validateUrlFromDiscoveryDocument(D.end_session_endpoint),z.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",z),!1):(z=this.validateUrlFromDiscoveryDocument(D.token_endpoint),z.length>0&&this.logger.error("error validating token_endpoint in discovery document",z),z=this.validateUrlFromDiscoveryDocument(D.revocation_endpoint),z.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",z),z=this.validateUrlFromDiscoveryDocument(D.userinfo_endpoint),z.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",z),!1):(z=this.validateUrlFromDiscoveryDocument(D.jwks_uri),z.length>0?(this.logger.error("error validating jwks_uri in discovery document",z),!1):(this.sessionChecksEnabled&&!D.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+D.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(D,z,be=new O.WM){return this.fetchTokenUsingPasswordFlow(D,z,be).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((D,z)=>{const be=(new O.WM).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:be,observe:"response",responseType:"text"}).subscribe(Pe=>{if(this.debug("userinfo received",JSON.stringify(Pe)),Pe.headers.get("content-type").startsWith("application/json")){let at=JSON.parse(Pe.body);const gt=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!gt.sub||at.sub!==gt.sub))return void z("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");at=Object.assign({},gt,at),this._storage.setItem("id_token_claims_obj",JSON.stringify(at)),this.eventsSubject.next(new Tn("user_profile_loaded")),D({info:at})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new Tn("user_profile_loaded")),D(JSON.parse(Pe.body))},Pe=>{this.logger.error("error loading user info",Pe),this.eventsSubject.next(new Le("user_profile_load_error",Pe)),z(Pe)})})}fetchTokenUsingPasswordFlow(D,z,be=new O.WM){return this.fetchTokenUsingGrant("password",{username:D,password:z},be)}fetchTokenUsingGrant(D,z,be=new O.WM){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let Pe=new O.LE({encoder:new It}).set("grant_type",D).set("scope",this.scope);if(this.useHttpBasicAuth){const at=btoa(`${this.clientId}:${this.dummyClientSecret}`);be=be.set("Authorization","Basic "+at)}if(this.useHttpBasicAuth||(Pe=Pe.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(Pe=Pe.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const at of Object.getOwnPropertyNames(this.customQueryParams))Pe=Pe.set(at,this.customQueryParams[at]);for(const at of Object.keys(z))Pe=Pe.set(at,z[at]);return be=be.set("Content-Type","application/x-www-form-urlencoded"),new Promise((at,gt)=>{this.http.post(this.tokenEndpoint,Pe,{headers:be}).subscribe(rn=>{this.debug("tokenResponse",rn),this.storeAccessTokenResponse(rn.access_token,rn.refresh_token,rn.expires_in||this.fallbackAccessTokenExpirationTimeInSec,rn.scope,this.extractRecognizedCustomParameters(rn)),this.oidc&&rn.id_token&&this.processIdToken(rn.id_token,rn.access_token).then(bn=>{this.storeIdToken(bn),at(rn)}),this.eventsSubject.next(new Tn("token_received")),at(rn)},rn=>{this.logger.error("Error performing ${grantType} flow",rn),this.eventsSubject.next(new Le("token_error",rn)),gt(rn)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((D,z)=>{let be=new O.LE({encoder:new It}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),Pe=(new O.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const at=btoa(`${this.clientId}:${this.dummyClientSecret}`);Pe=Pe.set("Authorization","Basic "+at)}if(this.useHttpBasicAuth||(be=be.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(be=be.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const at of Object.getOwnPropertyNames(this.customQueryParams))be=be.set(at,this.customQueryParams[at]);this.http.post(this.tokenEndpoint,be,{headers:Pe}).pipe((0,dn.w)(at=>this.oidc&&at.id_token?(0,ie.D)(this.processIdToken(at.id_token,at.access_token,!0)).pipe((0,fe.b)(gt=>this.storeIdToken(gt)),(0,jt.U)(()=>at)):(0,ee.of)(at))).subscribe(at=>{this.debug("refresh tokenResponse",at),this.storeAccessTokenResponse(at.access_token,at.refresh_token,at.expires_in||this.fallbackAccessTokenExpirationTimeInSec,at.scope,this.extractRecognizedCustomParameters(at)),this.eventsSubject.next(new Tn("token_received")),this.eventsSubject.next(new Tn("token_refreshed")),D(at)},at=>{this.logger.error("Error refreshing token",at),this.eventsSubject.next(new Le("token_refresh_error",at)),z(at)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=D=>{const z=this.processMessageEventMessage(D);this.checkOrigin&&D.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:z,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(be=>this.debug("tryLogin during silent refresh failed",be))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(D={},z=!0){const be=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(D.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");const Pe=this.document.getElementById(this.silentRefreshIFrameName);Pe&&this.document.body.removeChild(Pe),this.silentRefreshSubject=be.sub;const at=this.document.createElement("iframe");return at.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,z,D).then(pn=>{at.setAttribute("src",pn),this.silentRefreshShowIFrame||(at.style.display="none"),this.document.body.appendChild(at)}),function Z(...X){return 1===(X=function F(X){return 1===X.length&&Y(X[0])?X[0]:X}(X)).length?(0,K.Xf)(X[0]):new j.y(function ne(X){return N=>{let D=[];for(let z=0;D&&!N.closed&&z<X.length;z++)D.push((0,K.Xf)(X[z]).subscribe((0,V.x)(N,be=>{if(D){for(let Pe=0;Pe<D.length;Pe++)Pe!==z&&D[Pe].unsubscribe();D=null}N.next(be)})))}}(X))}([this.events.pipe((0,oe.h)(pn=>pn instanceof Le),(0,Ht.P)()),this.events.pipe((0,oe.h)(pn=>"token_received"===pn.type),(0,Ht.P)()),(0,ee.of)(new Le("silent_refresh_timeout",null)).pipe(lt(this.silentRefreshTimeout))]).pipe((0,jt.U)(pn=>{if(pn instanceof Le)throw"silent_refresh_timeout"===pn.type||(pn=new Le("silent_refresh_error",pn)),this.eventsSubject.next(pn),pn;return"token_received"===pn.type&&(pn=new Tn("silently_refreshed"),this.eventsSubject.next(pn)),pn})).toPromise()}initImplicitFlowInPopup(D){return this.initLoginFlowInPopup(D)}initLoginFlowInPopup(D){return D=D||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(z=>new Promise((be,Pe)=>{let rn,gt=null;D.windowRef?D.windowRef&&!D.windowRef.closed&&(gt=D.windowRef,gt.location.href=z):gt=window.open(z,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(D));const bn=Yn=>{this.tryLogin({customHashFragment:Yn,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{pn(),be(!0)},bt=>{pn(),Pe(bt)})};gt?rn=window.setInterval(()=>{(!gt||gt.closed)&&(pn(),Pe(new Le("popup_closed",{})))},500):Pe(new Le("popup_blocked",{}));const pn=()=>{window.clearInterval(rn),window.removeEventListener("storage",wn),window.removeEventListener("message",$n),null!==gt&&gt.close(),gt=null},$n=Yn=>{const bt=this.processMessageEventMessage(Yn);bt&&null!==bt?(window.removeEventListener("storage",wn),bn(bt)):console.log("false event firing")},wn=Yn=>{"auth_hash"===Yn.key&&(window.removeEventListener("message",$n),bn(Yn.newValue))};window.addEventListener("message",$n),window.addEventListener("storage",wn)}))}calculatePopupFeatures(D){const z=D.height||470,be=D.width||500,Pe=window.screenLeft+(window.outerWidth-be)/2;return`location=no,toolbar=no,width=${be},height=${z},top=${window.screenTop+(window.outerHeight-z)/2},left=${Pe}`}processMessageEventMessage(D){let z="#";if(this.silentRefreshMessagePrefix&&(z+=this.silentRefreshMessagePrefix),!D||!D.data||"string"!=typeof D.data)return;const be=D.data;return be.startsWith(z)?"#"+be.substr(z.length):void 0}canPerformSessionCheck(){return!(!this.sessionChecksEnabled||(this.sessionCheckIFrameUrl?this.getSessionState()?typeof this.document>"u":(console.warn("sessionChecksEnabled is activated but there is no session_state"),1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),1)))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=D=>{const z=D.origin.toLowerCase(),be=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),be.startsWith(z)){switch(D.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",D)}else this.debug("sessionCheckEventListener","wrong origin",z,"expected",be,"event",D)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Mn("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Mn("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Mn("session_terminated")),this.logOut(!0)):this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Mn("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe((0,oe.h)(D=>"silently_refreshed"===D.type||"silent_refresh_timeout"===D.type||"silent_refresh_error"===D.type),(0,Ht.P)()).subscribe(D=>{"silently_refreshed"!==D.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Mn("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Mn("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const D=this.document.getElementById(this.sessionCheckIFrameName);D&&this.document.body.removeChild(D);const z=this.document.createElement("iframe");z.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),z.setAttribute("src",this.sessionCheckIFrameUrl),z.style.display="none",this.document.body.appendChild(z),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const D=this.document.getElementById(this.sessionCheckIFrameName);D||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const z=this.getSessionState();z||this.stopSessionCheckTimer(),D.contentWindow.postMessage(this.clientId+" "+z,this.issuer)}createLoginUrl(D="",z="",be="",Pe=!1,at={}){var gt=this;return(0,l.Z)(function*(){const rn=gt;let bn;bn=be||gt.redirectUri;const Pn=yield gt.createAndSaveNonce();if(D=D?Pn+gt.config.nonceStateSeparator+encodeURIComponent(D):Pn,!gt.requestAccessToken&&!gt.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");gt.responseType=gt.config.responseType?gt.config.responseType:gt.oidc&&gt.requestAccessToken?"id_token token":gt.oidc&&!gt.requestAccessToken?"id_token":"token";const pn=rn.loginUrl.indexOf("?")>-1?"&":"?";let $n=rn.scope;gt.oidc&&!$n.match(/(^|\s)openid($|\s)/)&&($n="openid "+$n);let wn=rn.loginUrl+pn+"response_type="+encodeURIComponent(rn.responseType)+"&client_id="+encodeURIComponent(rn.clientId)+"&state="+encodeURIComponent(D)+"&redirect_uri="+encodeURIComponent(bn)+"&scope="+encodeURIComponent($n);if(gt.responseType.includes("code")&&!gt.disablePKCE){const[Yn,bt]=yield gt.createChallangeVerifierPairForPKCE();gt.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",bt):gt._storage.setItem("PKCE_verifier",bt),wn+="&code_challenge="+Yn,wn+="&code_challenge_method=S256"}z&&(wn+="&login_hint="+encodeURIComponent(z)),rn.resource&&(wn+="&resource="+encodeURIComponent(rn.resource)),rn.oidc&&(wn+="&nonce="+encodeURIComponent(Pn)),Pe&&(wn+="&prompt=none");for(const Yn of Object.keys(at))wn+="&"+encodeURIComponent(Yn)+"="+encodeURIComponent(at[Yn]);if(gt.customQueryParams)for(const Yn of Object.getOwnPropertyNames(gt.customQueryParams))wn+="&"+Yn+"="+encodeURIComponent(gt.customQueryParams[Yn]);return wn})()}initImplicitFlowInternal(D="",z=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let be={},Pe=null;"string"==typeof z?Pe=z:"object"==typeof z&&(be=z),this.createLoginUrl(D,Pe,null,!1,be).then(this.config.openUri).catch(at=>{console.error("Error in initImplicitFlow",at),this.inImplicitFlow=!1})}initImplicitFlow(D="",z=""){""!==this.loginUrl?this.initImplicitFlowInternal(D,z):this.events.pipe((0,oe.h)(be=>"discovery_document_loaded"===be.type)).subscribe(()=>this.initImplicitFlowInternal(D,z))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(D){const z=this;if(D.onTokenReceived){const be={idClaims:z.getIdentityClaims(),idToken:z.getIdToken(),accessToken:z.getAccessToken(),state:z.state};D.onTokenReceived(be)}}storeAccessTokenResponse(D,z,be,Pe,at){if(this._storage.setItem("access_token",D),Pe&&!Array.isArray(Pe)?this._storage.setItem("granted_scopes",JSON.stringify(Pe.split(" "))):Pe&&Array.isArray(Pe)&&this._storage.setItem("granted_scopes",JSON.stringify(Pe)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),be){const gt=1e3*be,bn=this.dateTimeService.new().getTime()+gt;this._storage.setItem("expires_at",""+bn)}z&&this._storage.setItem("refresh_token",z),at&&at.forEach((gt,rn)=>{this._storage.setItem(rn,gt)})}tryLogin(D=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(D).then(()=>!0):this.tryLoginImplicitFlow(D)}parseQueryString(D){return D&&0!==D.length?("?"===D.charAt(0)&&(D=D.substr(1)),this.urlHelper.parseQueryString(D)):{}}tryLoginCodeFlow(D=null){var z=this;return(0,l.Z)(function*(){const be=(D=D||{}).customHashFragment?D.customHashFragment.substring(1):window.location.search,Pe=z.getCodePartsFromUrl(be),at=Pe.code,gt=Pe.state,rn=Pe.session_state;if(!D.preventClearHashAfterLogin){const pn=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,pn)}const[bn,Pn]=z.parseState(gt);if(z.state=Pn,Pe.error){z.debug("error trying to login"),z.handleLoginError(D,Pe);const pn=new Le("code_error",{},Pe);return z.eventsSubject.next(pn),Promise.reject(pn)}if(!D.disableNonceCheck){if(!bn)return z.saveRequestedRoute(),Promise.resolve();if(!D.disableOAuth2StateCheck&&!z.validateNonce(bn)){const $n=new Le("invalid_nonce_in_state",null);return z.eventsSubject.next($n),Promise.reject($n)}}return z.storeSessionState(rn),at&&(yield z.getTokenFromCode(at,D),z.restoreRequestedRoute()),Promise.resolve()})()}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const D=this._storage.getItem("requested_route");D&&history.replaceState(null,"",window.location.origin+D)}getCodePartsFromUrl(D){return D&&0!==D.length?("?"===D.charAt(0)&&(D=D.substr(1)),this.urlHelper.parseQueryString(D)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(D,z){let be=new O.LE({encoder:new It}).set("grant_type","authorization_code").set("code",D).set("redirect_uri",z.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let Pe;Pe=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),Pe?be=be.set("code_verifier",Pe):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(be,z)}fetchAndProcessToken(D,z){z=z||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let be=(new O.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const Pe=btoa(`${this.clientId}:${this.dummyClientSecret}`);be=be.set("Authorization","Basic "+Pe)}return this.useHttpBasicAuth||(D=D.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(D=D.set("client_secret",this.dummyClientSecret)),new Promise((Pe,at)=>{if(this.customQueryParams)for(const gt of Object.getOwnPropertyNames(this.customQueryParams))D=D.set(gt,this.customQueryParams[gt]);this.http.post(this.tokenEndpoint,D,{headers:be}).subscribe(gt=>{this.debug("refresh tokenResponse",gt),this.storeAccessTokenResponse(gt.access_token,gt.refresh_token,gt.expires_in||this.fallbackAccessTokenExpirationTimeInSec,gt.scope,this.extractRecognizedCustomParameters(gt)),this.oidc&&gt.id_token?this.processIdToken(gt.id_token,gt.access_token,z.disableNonceCheck).then(rn=>{this.storeIdToken(rn),this.eventsSubject.next(new Tn("token_received")),this.eventsSubject.next(new Tn("token_refreshed")),Pe(gt)}).catch(rn=>{this.eventsSubject.next(new Le("token_validation_error",rn)),console.error("Error validating tokens"),console.error(rn),at(rn)}):(this.eventsSubject.next(new Tn("token_received")),this.eventsSubject.next(new Tn("token_refreshed")),Pe(gt))},gt=>{console.error("Error getting token",gt),this.eventsSubject.next(new Le("token_refresh_error",gt)),at(gt)})})}tryLoginImplicitFlow(D=null){let z;z=(D=D||{}).customHashFragment?this.urlHelper.getHashFragmentParams(D.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",z);const be=z.state,[Pe,at]=this.parseState(be);if(this.state=at,z.error){this.debug("error trying to login"),this.handleLoginError(D,z);const pn=new Le("token_error",{},z);return this.eventsSubject.next(pn),Promise.reject(pn)}const gt=z.access_token,rn=z.id_token,bn=z.session_state,Pn=z.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!gt||this.requestAccessToken&&!D.disableOAuth2StateCheck&&!be||this.oidc&&!rn)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!bn&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!D.disableNonceCheck&&!this.validateNonce(Pe)){const $n=new Le("invalid_nonce_in_state",null);return this.eventsSubject.next($n),Promise.reject($n)}return this.requestAccessToken&&this.storeAccessTokenResponse(gt,null,z.expires_in||this.fallbackAccessTokenExpirationTimeInSec,Pn),this.oidc?this.processIdToken(rn,gt,D.disableNonceCheck).then(pn=>D.validationHandler?D.validationHandler({accessToken:gt,idClaims:pn.idTokenClaims,idToken:pn.idToken,state:be}).then(()=>pn):pn).then(pn=>(this.storeIdToken(pn),this.storeSessionState(bn),this.clearHashAfterLogin&&!D.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new Tn("token_received")),this.callOnTokenReceivedIfExists(D),this.inImplicitFlow=!1,!0)).catch(pn=>(this.eventsSubject.next(new Le("token_validation_error",pn)),this.logger.error("Error validating tokens"),this.logger.error(pn),Promise.reject(pn))):(this.eventsSubject.next(new Tn("token_received")),this.clearHashAfterLogin&&!D.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(D),Promise.resolve(!0))}parseState(D){let z=D,be="";if(D){const Pe=D.indexOf(this.config.nonceStateSeparator);Pe>-1&&(z=D.substr(0,Pe),be=D.substr(Pe+this.config.nonceStateSeparator.length))}return[z,be]}validateNonce(D){let z;return z=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),z===D||(console.error("Validating access_token failed, wrong state/nonce.",z,D),!1)}storeIdToken(D){this._storage.setItem("id_token",D.idToken),this._storage.setItem("id_token_claims_obj",D.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+D.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(D){this._storage.setItem("session_state",D)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(D,z){D.onLoginError&&D.onLoginError(z),this.clearHashAfterLogin&&!D.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(D=6e5){return this.clockSkewInSec||0===this.clockSkewInSec?1e3*this.clockSkewInSec:D}processIdToken(D,z,be=!1){const Pe=D.split("."),gt=re(this.padBase64(Pe[0])),rn=JSON.parse(gt),Pn=re(this.padBase64(Pe[1])),pn=JSON.parse(Pn);let $n;if($n=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(pn.aud)){if(pn.aud.every(Jt=>Jt!==this.clientId)){const Jt="Wrong audience: "+pn.aud.join(",");return this.logger.warn(Jt),Promise.reject(Jt)}}else if(pn.aud!==this.clientId){const Jt="Wrong audience: "+pn.aud;return this.logger.warn(Jt),Promise.reject(Jt)}if(!pn.sub){const Jt="No sub claim in id_token";return this.logger.warn(Jt),Promise.reject(Jt)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==pn.sub){const Jt=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${pn.sub}`;return this.logger.warn(Jt),Promise.reject(Jt)}if(!pn.iat){const Jt="No iat claim in id_token";return this.logger.warn(Jt),Promise.reject(Jt)}if(!this.skipIssuerCheck&&pn.iss!==this.issuer){const Jt="Wrong issuer: "+pn.iss;return this.logger.warn(Jt),Promise.reject(Jt)}if(!be&&pn.nonce!==$n){const Jt="Wrong nonce: "+pn.nonce;return this.logger.warn(Jt),Promise.reject(Jt)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!pn.at_hash){const Jt="An at_hash is needed!";return this.logger.warn(Jt),Promise.reject(Jt)}const wn=this.dateTimeService.now(),Yn=1e3*pn.iat,bt=1e3*pn.exp,Et=this.getClockSkewInMsec();if(Yn-Et>=wn||bt+Et-this.decreaseExpirationBySec<=wn){const Jt="Token has expired";return console.error(Jt),console.error({now:wn,issuedAtMSec:Yn,expiresAtMSec:bt}),Promise.reject(Jt)}const Vt={accessToken:z,idToken:D,jwks:this.jwks,idTokenClaims:pn,idTokenHeader:rn,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(Vt).then(()=>({idToken:D,idTokenClaims:pn,idTokenClaimsJson:Pn,idTokenHeader:rn,idTokenHeaderJson:gt,idTokenExpiresAt:bt})):this.checkAtHash(Vt).then(Jt=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!Jt){const Vn="Wrong at_hash";return this.logger.warn(Vn),Promise.reject(Vn)}return this.checkSignature(Vt).then(()=>{const ii={idToken:D,idTokenClaims:pn,idTokenClaimsJson:Pn,idTokenHeader:rn,idTokenHeaderJson:gt,idTokenExpiresAt:bt};return this.disableAtHashCheck?ii:this.checkAtHash(Vt).then(ui=>{if(this.requestAccessToken&&!ui){const bi="Wrong at_hash";return this.logger.warn(bi),Promise.reject(bi)}return ii})})})}getIdentityClaims(){const D=this._storage.getItem("id_token_claims_obj");return D?JSON.parse(D):null}getGrantedScopes(){const D=this._storage.getItem("granted_scopes");return D?JSON.parse(D):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(D){for(;D.length%4!=0;)D+="=";return D}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const D=this._storage.getItem("expires_at"),z=this.dateTimeService.new();return!(D&&parseInt(D,10)-this.decreaseExpirationBySec<z.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const D=this._storage.getItem("id_token_expires_at"),z=this.dateTimeService.new();return!(D&&parseInt(D,10)-this.decreaseExpirationBySec<z.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(D){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(D)>=0&&null!==this._storage.getItem(D)?JSON.parse(this._storage.getItem(D)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(D={},z=""){let be=!1;"boolean"==typeof D&&(be=D,D={});const Pe=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(gt=>this._storage.removeItem(gt)),this.silentRefreshSubject=null,this.eventsSubject.next(new Mn("logout")),!this.logoutUrl||be)return;let at;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)at=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(Pe)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let gt=new O.LE({encoder:new It});Pe&&(gt=gt.set("id_token_hint",Pe));const rn=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";rn&&(gt=gt.set("post_logout_redirect_uri",rn),z&&(gt=gt.set("state",z)));for(const bn in D)gt=gt.set(bn,D[bn]);at=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+gt.toString()}this.config.openUri(at)}createAndSaveNonce(){const D=this;return this.createNonce().then(function(z){return D.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",z):D._storage.setItem("nonce",z),z})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const D=this.document.getElementById(this.silentRefreshIFrameName);D&&D.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const z=this.document.getElementById(this.sessionCheckIFrameName);z&&z.remove()}createNonce(){return new Promise(D=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let be=45,Pe="";const at=typeof self>"u"?null:self.crypto||self.msCrypto;if(at){let gt=new Uint8Array(be);at.getRandomValues(gt),gt.map||(gt.map=Array.prototype.map),gt=gt.map(rn=>z.charCodeAt(rn%z.length)),Pe=String.fromCharCode.apply(null,gt)}else for(;0<be--;)Pe+=z[Math.random()*z.length|0];D(ge(Pe))})}checkAtHash(D){var z=this;return(0,l.Z)(function*(){return z.tokenValidationHandler?z.tokenValidationHandler.validateAtHash(D):(z.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})()}checkSignature(D){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(D):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(D="",z={}){return"code"===this.responseType?this.initCodeFlow(D,z):this.initImplicitFlow(D,z)}initCodeFlow(D="",z={}){""!==this.loginUrl?this.initCodeFlowInternal(D,z):this.events.pipe((0,oe.h)(be=>"discovery_document_loaded"===be.type)).subscribe(()=>this.initCodeFlowInternal(D,z))}initCodeFlowInternal(D="",z={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let be={},Pe=null;"string"==typeof z?Pe=z:"object"==typeof z&&(be=z),this.createLoginUrl(D,Pe,null,!1,be).then(this.config.openUri).catch(at=>{console.error("Error in initAuthorizationCodeFlow"),console.error(at)})}createChallangeVerifierPairForPKCE(){var D=this;return(0,l.Z)(function*(){if(!D.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const z=yield D.createNonce();return[ge(yield D.crypto.calcHash(z,"sha-256")),z]})()}extractRecognizedCustomParameters(D){const z=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(be=>{D[be]&&z.set(be,JSON.stringify(D[be]))}),z}revokeTokenAndLogout(D={},z=!1){const be=this.revocationEndpoint,Pe=this.getAccessToken(),at=this.getRefreshToken();if(!Pe)return Promise.resolve();let gt=new O.LE({encoder:new It}),rn=(new O.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const bn=btoa(`${this.clientId}:${this.dummyClientSecret}`);rn=rn.set("Authorization","Basic "+bn)}if(this.useHttpBasicAuth||(gt=gt.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(gt=gt.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const bn of Object.getOwnPropertyNames(this.customQueryParams))gt=gt.set(bn,this.customQueryParams[bn]);return new Promise((bn,Pn)=>{let pn,$n;if(Pe){const wn=gt.set("token",Pe).set("token_type_hint","access_token");pn=this.http.post(be,wn,{headers:rn})}else pn=(0,ee.of)(null);if(at){const wn=gt.set("token",at).set("token_type_hint","refresh_token");$n=this.http.post(be,wn,{headers:rn})}else $n=(0,ee.of)(null);z&&(pn=pn.pipe((0,Zt.K)(wn=>0===wn.status?(0,ee.of)(null):(0,ce._)(wn))),$n=$n.pipe((0,Zt.K)(wn=>0===wn.status?(0,ee.of)(null):(0,ce._)(wn)))),(0,Ae.a)([pn,$n]).subscribe(wn=>{this.logOut(D),bn(wn),this.logger.info("Token successfully revoked")},wn=>{this.logger.error("Error revoking token",wn),this.eventsSubject.next(new Le("token_revoke_error",wn)),Pn(wn)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}static#e=this.\u0275fac=function(z){return new(z||X)(b.LFG(b.R0b),b.LFG(O.eN),b.LFG($t,8),b.LFG(Mt,8),b.LFG(He,8),b.LFG(Xt),b.LFG(St),b.LFG(on,8),b.LFG(m.K0),b.LFG(qe))};static#t=this.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac})}return X})();class st{}class an{handleError(N){return(0,ce._)(N)}}let en=(()=>{class X{constructor(D,z,be){this.oAuthService=D,this.errorHandler=z,this.moduleConfig=be}checkUrl(D){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(D):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(z=>D.toLowerCase().startsWith(z.toLowerCase()))}intercept(D,z){const be=D.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(be)?this.moduleConfig.resourceServer.sendAccessToken?(0,_e.T)((0,ee.of)(this.oAuthService.getAccessToken()).pipe((0,oe.h)(at=>!!at)),this.oAuthService.events.pipe((0,oe.h)(at=>"token_received"===at.type),function Ye(X,N){const{first:D,each:z,with:be=W,scheduler:Pe=N??pe.z,meta:at=null}=(0,Ce.q)(X)?{first:X}:"number"==typeof X?{each:X}:X;if(null==D&&null==z)throw new TypeError("No timeout provided.");return(0,je.e)((gt,rn)=>{let bn,Pn,pn=null,$n=0;const wn=Yn=>{Pn=(0,Fe.f)(rn,Pe,()=>{try{bn.unsubscribe(),(0,K.Xf)(be({meta:at,lastValue:pn,seen:$n})).subscribe(rn)}catch(bt){rn.error(bt)}},Yn)};bn=gt.subscribe((0,V.x)(rn,Yn=>{Pn?.unsubscribe(),$n++,rn.next(pn=Yn),z>0&&wn(z)},void 0,void 0,()=>{Pn?.closed||Pn?.unsubscribe(),pn=null})),!$n&&wn(null!=D?"number"==typeof D?D:+D-Pe.now():z)})}(this.oAuthService.waitForTokenInMsec||0),(0,Zt.K)(()=>(0,ee.of)(null)),(0,jt.U)(()=>this.oAuthService.getAccessToken()))).pipe((0,Ee.q)(1),(0,Ue.z)(at=>{if(at){const rn=D.headers.set("Authorization","Bearer "+at);D=D.clone({headers:rn})}return z.handle(D).pipe((0,Zt.K)(gt=>this.errorHandler.handleError(gt)))})):z.handle(D).pipe((0,Zt.K)(at=>this.errorHandler.handleError(at))):z.handle(D)}static#e=this.\u0275fac=function(z){return new(z||X)(b.LFG(ze),b.LFG(st),b.LFG(R,8))};static#t=this.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac})}return X})();function Nn(){return console}function Ze(){return typeof sessionStorage<"u"?sessionStorage:new vn}function Ve(X=null,N=ve){return(0,b.MR2)([ze,Xt,{provide:St,useFactory:Nn},{provide:$t,useFactory:Ze},{provide:Mt,useClass:N},{provide:on,useClass:rt},{provide:st,useClass:an},{provide:R,useValue:X},{provide:O.TP,useClass:en,multi:!0},{provide:qe,useClass:Dt}])}let Je=(()=>{class X{static forRoot(D=null,z=ve){return{ngModule:X,providers:[Ve(D,z)]}}static#e=this.\u0275fac=function(z){return new(z||X)};static#t=this.\u0275mod=b.oAB({type:X});static#n=this.\u0275inj=b.cJS({imports:[m.ez]})}return X})();new b.OlP("AUTH_CONFIG")},9260:(wt,Ne,_)=>{"use strict";_.d(Ne,{Z:()=>l.Z});var l=_(3942);l.Z.registerVersion("firebase","10.13.1","app-compat")},6297:(wt,Ne,_)=>{"use strict";_.r(Ne);var l=_(5861),b=_(3942),m=_(6881),O=_(2090),he=_(1877),ee=_(7582),ie=_(4859);const K={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},V_EMAIL_SIGNIN="EMAIL_SIGNIN",V_PASSWORD_RESET="PASSWORD_RESET",V_RECOVER_EMAIL="RECOVER_EMAIL",V_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",V_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",V_VERIFY_EMAIL="VERIFY_EMAIL";const ce=function Z(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ae=function ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fe=new he.Yd("@firebase/auth");function pe(y,...h){fe.logLevel<=he.in.ERROR&&fe.error(`Auth (${m.SDK_VERSION}): ${y}`,...h)}function de(y,...h){throw ut(y,...h)}function Ee(y,...h){return ut(y,...h)}function je(y,h,f){const I=Object.assign(Object.assign({},Ae()),{[h]:f});return new O.LL("auth","Firebase",I).create(h,{appName:y.name})}function ke(y){return je(y,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xe(y,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&de(y,"argument-error"),je(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ut(y,...h){if("string"!=typeof y){const f=h[0],I=[...h.slice(1)];return I[0]&&(I[0].appName=y.name),y._errorFactory.create(f,...I)}return _e.create(y,...h)}function Ue(y,h,...f){if(!y)throw ut(h,...f)}function ct(y){const h="INTERNAL ASSERTION FAILED: "+y;throw pe(h),new Error(h)}function kt(y,h){y||ct(h)}function lt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function dn(){return"http:"===jt()||"https:"===jt()}function jt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ce{constructor(h,f){this.shortDelay=h,this.longDelay=f,kt(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Ht(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dn()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Oe(y,h){kt(y.emulator,"Emulator should always be set here");const{url:f}=y.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class Fe{static initialize(h,f,I){this.fetchImpl=h,f&&(this.headersImpl=f),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const me={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ye=new Ce(3e4,6e4);function W(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function ve(y,h,f,I){return R.apply(this,arguments)}function R(){return(R=(0,l.Z)(function*(y,h,f,I,q={}){return Se(y,q,(0,l.Z)(function*(){let ye={},nt={};I&&("GET"===h?nt=I:ye={body:JSON.stringify(I)});const Pt=(0,O.xO)(Object.assign({key:y.config.apiKey},nt)).slice(1),tn=yield y._getAdditionalHeaders();return tn["Content-Type"]="application/json",y.languageCode&&(tn["X-Firebase-Locale"]=y.languageCode),Fe.fetch()(St(y,y.config.apiHost,f,Pt),Object.assign({method:h,headers:tn,referrerPolicy:"no-referrer"},ye))}))})).apply(this,arguments)}function Se(y,h,f){return qe.apply(this,arguments)}function qe(){return(qe=(0,l.Z)(function*(y,h,f){y._canInitEmulator=!1;const I=Object.assign(Object.assign({},me),h);try{const q=new vn(y),ye=yield Promise.race([f(),q.promise]);q.clearNetworkTimeout();const nt=yield ye.json();if("needConfirmation"in nt)throw Bn(y,"account-exists-with-different-credential",nt);if(ye.ok&&!("errorMessage"in nt))return nt;{const Pt=ye.ok?nt.errorMessage:nt.error.message,[tn,Sn]=Pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tn)throw Bn(y,"credential-already-in-use",nt);if("EMAIL_EXISTS"===tn)throw Bn(y,"email-already-in-use",nt);if("USER_DISABLED"===tn)throw Bn(y,"user-disabled",nt);const On=I[tn]||tn.toLowerCase().replace(/[_\s]+/g,"-");if(Sn)throw je(y,On,Sn);de(y,On)}}catch(q){if(q instanceof O.ZR)throw q;de(y,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function Dt(y,h,f,I){return $e.apply(this,arguments)}function $e(){return($e=(0,l.Z)(function*(y,h,f,I,q={}){const ye=yield ve(y,h,f,I,q);return"mfaPendingCredential"in ye&&de(y,"multi-factor-auth-required",{_serverResponse:ye}),ye})).apply(this,arguments)}function St(y,h,f,I){const q=`${h}${f}?${I}`;return y.config.emulator?Oe(y.config,q):`${y.config.apiScheme}://${q}`}function $t(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,I)=>{this.timer=setTimeout(()=>I(Ee(this.auth,"network-request-failed")),Ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(y,h,f){const I={appName:y.name};f.email&&(I.email=f.email),f.phoneNumber&&(I.phoneNumber=f.phoneNumber);const q=Ee(y,h,I);return q.customData._tokenResponse=f,q}function qn(y){return void 0!==y&&void 0!==y.getResponse}function Tn(y){return void 0!==y&&void 0!==y.enterprise}class Mn{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const f of this.recaptchaEnforcementState)if(f.provider&&f.provider===h)return $t(f.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function re(){return(re=(0,l.Z)(function*(y){return(yield ve(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ge(y,h){return He.apply(this,arguments)}function He(){return(He=(0,l.Z)(function*(y,h){return ve(y,"GET","/v2/recaptchaConfig",W(y,h))})).apply(this,arguments)}function Mt(){return(Mt=(0,l.Z)(function*(y,h){return ve(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Xt(){return(Xt=(0,l.Z)(function*(y,h){return ve(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function yt(y,h){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,l.Z)(function*(y,h){return ve(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Te(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function sn(){return(sn=(0,l.Z)(function*(y,h=!1){const f=(0,O.m9)(y),I=yield f.getIdToken(h),q=ai(I);Ue(q&&q.exp&&q.auth_time&&q.iat,f.auth,"internal-error");const ye="object"==typeof q.firebase?q.firebase:void 0,nt=ye?.sign_in_provider;return{claims:q,token:I,authTime:Te(gn(q.auth_time)),issuedAtTime:Te(gn(q.iat)),expirationTime:Te(gn(q.exp)),signInProvider:nt||null,signInSecondFactor:ye?.sign_in_second_factor||null}})).apply(this,arguments)}function gn(y){return 1e3*Number(y)}function ai(y){const[h,f,I]=y.split(".");if(void 0===h||void 0===f||void 0===I)return pe("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,O.tV)(f);return q?JSON.parse(q):(pe("Failed to decode base64 JWT payload"),null)}catch(q){return pe("Caught error parsing JWT payload as JSON",q?.toString()),null}}function jn(y){const h=ai(y);return Ue(h,"internal-error"),Ue(typeof h.exp<"u","internal-error"),Ue(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function si(y,h){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(y,h,f=!1){if(f)return h;try{return yield h}catch(I){throw I instanceof O.ZR&&function Ii({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(I)&&y.auth.currentUser===y&&(yield y.auth.signOut()),I}})).apply(this,arguments)}class on{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const q=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const I=this.getInterval(h);this.timerId=setTimeout((0,l.Z)(function*(){yield f.iteration()}),I)}iteration(){var h=this;return(0,l.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&h.schedule(!0))}h.schedule()})()}}class ht{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Te(this.lastLoginAt),this.creationTime=Te(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pt(y){return rt.apply(this,arguments)}function rt(){return(rt=(0,l.Z)(function*(y){var h;const f=y.auth,I=yield y.getIdToken(),q=yield si(y,yt(f,{idToken:I}));Ue(q?.users.length,f,"internal-error");const ye=q.users[0];y._notifyReloadListener(ye);const nt=null!==(h=ye.providerUserInfo)&&void 0!==h&&h.length?en(ye.providerUserInfo):[],Pt=function an(y,h){return[...y.filter(I=>!h.some(q=>q.providerId===I.providerId)),...h]}(y.providerData,nt),On=!!y.isAnonymous&&!(y.email&&ye.passwordHash||Pt?.length),Gn={uid:ye.localId,displayName:ye.displayName||null,photoURL:ye.photoUrl||null,email:ye.email||null,emailVerified:ye.emailVerified||!1,phoneNumber:ye.phoneNumber||null,tenantId:ye.tenantId||null,providerData:Pt,metadata:new ht(ye.createdAt,ye.lastLoginAt),isAnonymous:On};Object.assign(y,Gn)})).apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(y){const h=(0,O.m9)(y);yield pt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function en(y){return y.map(h=>{var{providerId:f}=h,I=(0,ee._T)(h,["providerId"]);return{providerId:f,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Ze(){return(Ze=(0,l.Z)(function*(y,h){const f=yield Se(y,{},(0,l.Z)(function*(){const I=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:q,apiKey:ye}=y.config,nt=St(y,q,"/v1/token",`key=${ye}`),Pt=yield y._getAdditionalHeaders();return Pt["Content-Type"]="application/x-www-form-urlencoded",Fe.fetch()(nt,{method:"POST",headers:Pt,body:I})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}function Je(){return(Je=(0,l.Z)(function*(y,h){return ve(y,"POST","/v2/accounts:revokeToken",W(y,h))})).apply(this,arguments)}class Rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ue(h.idToken,"internal-error"),Ue(typeof h.idToken<"u","internal-error"),Ue(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):jn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}updateFromIdToken(h){Ue(0!==h.length,"internal-error");const f=jn(h);this.updateTokensAndExpiration(h,null,f)}getToken(h,f=!1){var I=this;return(0,l.Z)(function*(){return f||!I.accessToken||I.isExpired?(Ue(I.refreshToken,h,"user-token-expired"),I.refreshToken?(yield I.refresh(h,I.refreshToken),I.accessToken):null):I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var I=this;return(0,l.Z)(function*(){const{accessToken:q,refreshToken:ye,expiresIn:nt}=yield function Nn(y,h){return Ze.apply(this,arguments)}(h,f);I.updateTokensAndExpiration(q,ye,Number(nt))})()}updateTokensAndExpiration(h,f,I){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(h,f){const{refreshToken:I,accessToken:q,expirationTime:ye}=f,nt=new Rt;return I&&(Ue("string"==typeof I,"internal-error",{appName:h}),nt.refreshToken=I),q&&(Ue("string"==typeof q,"internal-error",{appName:h}),nt.accessToken=q),ye&&(Ue("number"==typeof ye,"internal-error",{appName:h}),nt.expirationTime=ye),nt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Rt,this.toJSON())}_performRefresh(){return ct("not implemented")}}function dt(y,h){Ue("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class et{constructor(h){var{uid:f,auth:I,stsTokenManager:q}=h,ye=(0,ee._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new on(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=I,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=ye.displayName||null,this.email=ye.email||null,this.emailVerified=ye.emailVerified||!1,this.phoneNumber=ye.phoneNumber||null,this.photoURL=ye.photoURL||null,this.isAnonymous=ye.isAnonymous||!1,this.tenantId=ye.tenantId||null,this.providerData=ye.providerData?[...ye.providerData]:[],this.metadata=new ht(ye.createdAt||void 0,ye.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,l.Z)(function*(){const I=yield si(f,f.stsTokenManager.getToken(f.auth,h));return Ue(I,f.auth,"internal-error"),f.accessToken!==I&&(f.accessToken=I,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),I})()}getIdTokenResult(h){return function Gt(y){return sn.apply(this,arguments)}(this,h)}reload(){return function ze(y){return st.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ue(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const f=new et(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(h){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var I=this;return(0,l.Z)(function*(){let q=!1;h.idToken&&h.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(h),q=!0),f&&(yield pt(I)),yield I.auth._persistUserIfCurrent(I),q&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var h=this;return(0,l.Z)(function*(){if((0,m._isFirebaseServerApp)(h.auth.app))return Promise.reject(ke(h.auth));const f=yield h.getIdToken();return yield si(h,function It(y,h){return Mt.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var I,q,ye,nt,Pt,tn,Sn,On;const Gn=null!==(I=f.displayName)&&void 0!==I?I:void 0,sr=null!==(q=f.email)&&void 0!==q?q:void 0,Ta=null!==(ye=f.phoneNumber)&&void 0!==ye?ye:void 0,qd=null!==(nt=f.photoURL)&&void 0!==nt?nt:void 0,Ci=null!==(Pt=f.tenantId)&&void 0!==Pt?Pt:void 0,Qd=null!==(tn=f._redirectEventId)&&void 0!==tn?tn:void 0,qc=null!==(Sn=f.createdAt)&&void 0!==Sn?Sn:void 0,Cf=null!==(On=f.lastLoginAt)&&void 0!==On?On:void 0,{uid:Qc,emailVerified:wf,isAnonymous:sc,providerData:Xd,stsTokenManager:If}=f;Ue(Qc&&If,h,"internal-error");const Sl=Rt.fromJSON(this.name,If);Ue("string"==typeof Qc,h,"internal-error"),dt(Gn,h.name),dt(sr,h.name),Ue("boolean"==typeof wf,h,"internal-error"),Ue("boolean"==typeof sc,h,"internal-error"),dt(Ta,h.name),dt(qd,h.name),dt(Ci,h.name),dt(Qd,h.name),dt(qc,h.name),dt(Cf,h.name);const Ml=new et({uid:Qc,auth:h,email:sr,emailVerified:wf,displayName:Gn,isAnonymous:sc,photoURL:qd,phoneNumber:Ta,tenantId:Ci,stsTokenManager:Sl,createdAt:qc,lastLoginAt:Cf});return Xd&&Array.isArray(Xd)&&(Ml.providerData=Xd.map(ul=>Object.assign({},ul))),Qd&&(Ml._redirectEventId=Qd),Ml}static _fromIdTokenResponse(h,f,I=!1){return(0,l.Z)(function*(){const q=new Rt;q.updateFromServerResponse(f);const ye=new et({uid:f.localId,auth:h,stsTokenManager:q,isAnonymous:I});return yield pt(ye),ye})()}static _fromGetAccountInfoResponse(h,f,I){return(0,l.Z)(function*(){const q=f.users[0];Ue(void 0!==q.localId,"internal-error");const ye=void 0!==q.providerUserInfo?en(q.providerUserInfo):[],nt=!(q.email&&q.passwordHash||ye?.length),Pt=new Rt;Pt.updateFromIdToken(I);const tn=new et({uid:q.localId,auth:h,stsTokenManager:Pt,isAnonymous:nt}),Sn={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:ye,metadata:new ht(q.createdAt,q.lastLoginAt),isAnonymous:!(q.email&&q.passwordHash||ye?.length)};return Object.assign(tn,Sn),tn})()}}const X=new Map;function N(y){kt(y instanceof Function,"Expected a class definition");let h=X.get(y);return h?(kt(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,X.set(y,h),h)}const z=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(f,I){var q=this;return(0,l.Z)(function*(){q.storage[f]=I})()}_get(f){var I=this;return(0,l.Z)(function*(){const q=I.storage[f];return void 0===q?null:q})()}_remove(f){var I=this;return(0,l.Z)(function*(){delete I.storage[f]})()}_addListener(f,I){}_removeListener(f,I){}}return y.type="NONE",y})();function be(y,h,f){return`firebase:${y}:${h}:${f}`}class Pe{constructor(h,f,I){this.persistence=h,this.auth=f,this.userKey=I;const{config:q,name:ye}=this.auth;this.fullUserKey=be(this.userKey,q.apiKey,ye),this.fullPersistenceKey=be("persistence",q.apiKey,ye),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,l.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?et._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,l.Z)(function*(){if(f.persistence===h)return;const I=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,I?f.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,I="authUser"){return(0,l.Z)(function*(){if(!f.length)return new Pe(N(z),h,I);const q=(yield Promise.all(f.map(function(){var Sn=(0,l.Z)(function*(On){if(yield On._isAvailable())return On});return function(On){return Sn.apply(this,arguments)}}()))).filter(Sn=>Sn);let ye=q[0]||N(z);const nt=be(I,h.config.apiKey,h.name);let Pt=null;for(const Sn of f)try{const On=yield Sn._get(nt);if(On){const Gn=et._fromJSON(h,On);Sn!==ye&&(Pt=Gn),ye=Sn;break}}catch{}const tn=q.filter(Sn=>Sn._shouldAllowMigration);return ye._shouldAllowMigration&&tn.length?(ye=tn[0],Pt&&(yield ye._set(nt,Pt.toJSON())),yield Promise.all(f.map(function(){var Sn=(0,l.Z)(function*(On){if(On!==ye)try{yield On._remove(nt)}catch{}});return function(On){return Sn.apply(this,arguments)}}())),new Pe(ye,h,I)):new Pe(ye,h,I)})()}}function at(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Pn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(gt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if($n(h))return"Blackberry";if(wn(h))return"Webos";if(rn(h))return"Safari";if((h.includes("chrome/")||bn(h))&&!h.includes("edge/"))return"Chrome";if(pn(h))return"Android";{const I=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function gt(y=(0,O.z$)()){return/firefox\//i.test(y)}function rn(y=(0,O.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function bn(y=(0,O.z$)()){return/crios\//i.test(y)}function Pn(y=(0,O.z$)()){return/iemobile/i.test(y)}function pn(y=(0,O.z$)()){return/android/i.test(y)}function $n(y=(0,O.z$)()){return/blackberry/i.test(y)}function wn(y=(0,O.z$)()){return/webos/i.test(y)}function Yn(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Jt(y=(0,O.z$)()){return Yn(y)||pn(y)||wn(y)||$n(y)||/windows phone/i.test(y)||Pn(y)}function Vn(y,h=[]){let f;switch(y){case"Browser":f=at((0,O.z$)());break;case"Worker":f=`${at((0,O.z$)())}-${y}`;break;default:f=y}const I=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${m.SDK_VERSION}/${I}`}class ii{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,f){const I=ye=>new Promise((nt,Pt)=>{try{nt(h(ye))}catch(tn){Pt(tn)}});I.onAbort=f,this.queue.push(I);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(h){var f=this;return(0,l.Z)(function*(){if(f.auth.currentUser===h)return;const I=[];try{for(const q of f.queue)yield q(h),q.onAbort&&I.push(q.onAbort)}catch(q){I.reverse();for(const ye of I)try{ye()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:q?.message})}})()}}function bi(){return(bi=(0,l.Z)(function*(y,h={}){return ve(y,"GET","/v2/passwordPolicy",W(y,h))})).apply(this,arguments)}class xn{constructor(h){var f,I,q,ye;const nt=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(f=nt.minPasswordLength)&&void 0!==f?f:6,nt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=nt.maxPasswordLength),void 0!==nt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=nt.containsLowercaseCharacter),void 0!==nt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=nt.containsUppercaseCharacter),void 0!==nt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=nt.containsNumericCharacter),void 0!==nt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=nt.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(q=null===(I=h.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==q?q:"",this.forceUpgradeOnSignin=null!==(ye=h.forceUpgradeOnSignin)&&void 0!==ye&&ye,this.schemaVersion=h.schemaVersion}validatePassword(h){var f,I,q,ye,nt,Pt;const tn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,tn),this.validatePasswordCharacterOptions(h,tn),tn.isValid&&(tn.isValid=null===(f=tn.meetsMinPasswordLength)||void 0===f||f),tn.isValid&&(tn.isValid=null===(I=tn.meetsMaxPasswordLength)||void 0===I||I),tn.isValid&&(tn.isValid=null===(q=tn.containsLowercaseLetter)||void 0===q||q),tn.isValid&&(tn.isValid=null===(ye=tn.containsUppercaseLetter)||void 0===ye||ye),tn.isValid&&(tn.isValid=null===(nt=tn.containsNumericCharacter)||void 0===nt||nt),tn.isValid&&(tn.isValid=null===(Pt=tn.containsNonAlphanumericCharacter)||void 0===Pt||Pt),tn}validatePasswordLengthOptions(h,f){const I=this.customStrengthOptions.minPasswordLength,q=this.customStrengthOptions.maxPasswordLength;I&&(f.meetsMinPasswordLength=h.length>=I),q&&(f.meetsMaxPasswordLength=h.length<=q)}validatePasswordCharacterOptions(h,f){let I;this.updatePasswordCharacterOptionsStatuses(f,!1,!1,!1,!1);for(let q=0;q<h.length;q++)I=h.charAt(q),this.updatePasswordCharacterOptionsStatuses(f,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(h,f,I,q,ye){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=f)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ye))}}class ti{constructor(h,f,I,q){this.app=h,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=I,this.config=q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ar(this),this.idTokenSubscription=new Ar(this),this.beforeStateQueue=new ii(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=q.sdkClientVersion}_initializeWithPersistence(h,f){var I=this;return f&&(this._popupRedirectResolver=N(f)),this._initializationPromise=this.queue((0,l.Z)(function*(){var q,ye;if(!I._deleted&&(I.persistenceManager=yield Pe.create(I,h),!I._deleted)){if(null!==(q=I._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(f),I.lastNotifiedUid=(null===(ye=I.currentUser)||void 0===ye?void 0:ye.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,l.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f,!0)}})()}initializeCurrentUserFromIdToken(h){var f=this;return(0,l.Z)(function*(){try{const I=yield yt(f,{idToken:h}),q=yield et._fromGetAccountInfoResponse(f,I,h);yield f.directlySetCurrentUser(q)}catch(I){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",I),yield f.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var f=this;return(0,l.Z)(function*(){var I;if((0,m._isFirebaseServerApp)(f.app)){const Pt=f.app.settings.authIdToken;return Pt?new Promise(tn=>{setTimeout(()=>f.initializeCurrentUserFromIdToken(Pt).then(tn,tn))}):f.directlySetCurrentUser(null)}const q=yield f.assertedPersistence.getCurrentUser();let ye=q,nt=!1;if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Pt=null===(I=f.redirectUser)||void 0===I?void 0:I._redirectEventId,tn=ye?._redirectEventId,Sn=yield f.tryRedirectSignIn(h);(!Pt||Pt===tn)&&Sn?.user&&(ye=Sn.user,nt=!0)}if(!ye)return f.directlySetCurrentUser(null);if(!ye._redirectEventId){if(nt)try{yield f.beforeStateQueue.runMiddleware(ye)}catch(Pt){ye=q,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Pt))}return ye?f.reloadAndSetCurrentUserOrClear(ye):f.directlySetCurrentUser(null)}return Ue(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===ye._redirectEventId?f.directlySetCurrentUser(ye):f.reloadAndSetCurrentUserOrClear(ye)})()}tryRedirectSignIn(h){var f=this;return(0,l.Z)(function*(){let I=null;try{I=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch{yield f._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,l.Z)(function*(){try{yield pt(h)}catch(I){if("auth/network-request-failed"!==I?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Zt(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,l.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,l.Z)(function*(){if((0,m._isFirebaseServerApp)(f.app))return Promise.reject(ke(f));const I=h?(0,O.m9)(h):null;return I&&Ue(I.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(I&&I._clone(f))})()}_updateCurrentUser(h,f=!1){var I=this;return(0,l.Z)(function*(){if(!I._deleted)return h&&Ue(I.tenantId===h.tenantId,I,"tenant-id-mismatch"),f||(yield I.beforeStateQueue.runMiddleware(h)),I.queue((0,l.Z)(function*(){yield I.directlySetCurrentUser(h),I.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,l.Z)(function*(){return(0,m._isFirebaseServerApp)(h.app)?Promise.reject(ke(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var f=this;return(0,m._isFirebaseServerApp)(this.app)?Promise.reject(ke(this)):this.queue((0,l.Z)(function*(){yield f.assertedPersistence.setPersistence(N(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var f=this;return(0,l.Z)(function*(){f._getPasswordPolicyInternal()||(yield f._updatePasswordPolicy());const I=f._getPasswordPolicyInternal();return I.schemaVersion!==f.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(f._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,l.Z)(function*(){const f=yield function ui(y){return bi.apply(this,arguments)}(h),I=new xn(f);null===h.tenantId?h._projectPasswordPolicy=I:h._tenantPasswordPolicies[h.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new O.LL("auth","Firebase",h())}onAuthStateChanged(h,f,I){return this.registerStateListener(this.authStateSubscription,h,f,I)}beforeAuthStateChanged(h,f){return this.beforeStateQueue.pushCallback(h,f)}onIdTokenChanged(h,f,I){return this.registerStateListener(this.idTokenSubscription,h,f,I)}authStateReady(){return new Promise((h,f)=>{if(this.currentUser)h();else{const I=this.onAuthStateChanged(()=>{I(),h()},f)}})}revokeAccessToken(h){var f=this;return(0,l.Z)(function*(){if(f.currentUser){const I=yield f.currentUser.getIdToken(),q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:I};null!=f.tenantId&&(q.tenantId=f.tenantId),yield function Ve(y,h){return Je.apply(this,arguments)}(f,q)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var I=this;return(0,l.Z)(function*(){const q=yield I.getOrInitRedirectPersistenceManager(f);return null===h?q.removeCurrentUser():q.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,l.Z)(function*(){if(!f.redirectPersistenceManager){const I=h&&N(h)||f._popupRedirectResolver;Ue(I,f,"argument-error"),f.redirectPersistenceManager=yield Pe.create(f,[N(I._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,l.Z)(function*(){var I,q;return f._isInitialized&&(yield f.queue((0,l.Z)(function*(){}))),(null===(I=f._currentUser)||void 0===I?void 0:I._redirectEventId)===h?f._currentUser:(null===(q=f.redirectUser)||void 0===q?void 0:q._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,l.Z)(function*(){if(h===f.currentUser)return f.queue((0,l.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,I,q){if(this._deleted)return()=>{};const ye="function"==typeof f?f:f.next.bind(f);let nt=!1;const Pt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(Pt,this,"internal-error"),Pt.then(()=>{nt||ye(this.currentUser)}),"function"==typeof f){const tn=h.addObserver(f,I,q);return()=>{nt=!0,tn()}}{const tn=h.addObserver(f);return()=>{nt=!0,tn()}}}directlySetCurrentUser(h){var f=this;return(0,l.Z)(function*(){f.currentUser&&f.currentUser!==h&&f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh(),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Vn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,l.Z)(function*(){var f;const I={"X-Client-Version":h.clientVersion};h.app.options.appId&&(I["X-Firebase-gmpid"]=h.app.options.appId);const q=yield null===(f=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();q&&(I["X-Firebase-Client"]=q);const ye=yield h._getAppCheckToken();return ye&&(I["X-Firebase-AppCheck"]=ye),I})()}_getAppCheckToken(){var h=this;return(0,l.Z)(function*(){var f;const I=yield null===(f=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return I?.error&&function Me(y,...h){fe.logLevel<=he.in.WARN&&fe.warn(`Auth (${m.SDK_VERSION}): ${y}`,...h)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function Jn(y){return(0,O.m9)(y)}class Ar{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,O.ne)(f=>this.observer=f)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lr={loadJS:()=>(0,l.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yi(y){return lr.loadJS(y)}function ri(y){return`__${y}${Math.floor(1e6*Math.random())}`}const hs="NO_RECAPTCHA";class Is{constructor(h){this.type="recaptcha-enterprise",this.auth=Jn(h)}verify(h="verify",f=!1){var I=this;return(0,l.Z)(function*(){function ye(){return ye=(0,l.Z)(function*(Pt){if(!f){if(null==Pt.tenantId&&null!=Pt._agentRecaptchaConfig)return Pt._agentRecaptchaConfig.siteKey;if(null!=Pt.tenantId&&void 0!==Pt._tenantRecaptchaConfigs[Pt.tenantId])return Pt._tenantRecaptchaConfigs[Pt.tenantId].siteKey}return new Promise(function(){var tn=(0,l.Z)(function*(Sn,On){ge(Pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Gn=>{if(void 0!==Gn.recaptchaKey){const sr=new Mn(Gn);return null==Pt.tenantId?Pt._agentRecaptchaConfig=sr:Pt._tenantRecaptchaConfigs[Pt.tenantId]=sr,Sn(sr.siteKey)}On(new Error("recaptcha Enterprise site key undefined"))}).catch(Gn=>{On(Gn)})});return function(Sn,On){return tn.apply(this,arguments)}}())}),ye.apply(this,arguments)}function nt(Pt,tn,Sn){const On=window.grecaptcha;Tn(On)?On.enterprise.ready(()=>{On.enterprise.execute(Pt,{action:h}).then(Gn=>{tn(Gn)}).catch(()=>{tn(hs)})}):Sn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pt,tn)=>{(function q(Pt){return ye.apply(this,arguments)})(I.auth).then(Sn=>{if(!f&&Tn(window.grecaptcha))nt(Sn,Pt,tn);else{if(typeof window>"u")return void tn(new Error("RecaptchaVerifier is only supported in browser"));let On=function cr(){return lr.recaptchaEnterpriseScript}();0!==On.length&&(On+=Sn),Yi(On).then(()=>{nt(Sn,Pt,tn)}).catch(Gn=>{tn(Gn)})}}).catch(Sn=>{tn(Sn)})})})()}}function Tr(y,h,f){return ur.apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(y,h,f,I=!1){const q=new Is(y);let ye;try{ye=yield q.verify(f)}catch{ye=yield q.verify(f,!0)}const nt=Object.assign({},h);return Object.assign(nt,I?{captchaResp:ye}:{captchaResponse:ye}),Object.assign(nt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(nt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),nt})).apply(this,arguments)}function ho(y,h,f,I){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,l.Z)(function*(y,h,f,I){var q;if(null!==(q=y._getRecaptchaConfig())&&void 0!==q&&q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ye=yield Tr(y,h,f,"getOobCode"===f);return I(y,ye)}return I(y,h).catch(function(){var ye=(0,l.Z)(function*(nt){if("auth/missing-recaptcha-token"===nt.code){console.log(`${f} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Pt=yield Tr(y,h,f,"getOobCode"===f);return I(y,Pt)}return Promise.reject(nt)});return function(nt){return ye.apply(this,arguments)}}())}),Kr.apply(this,arguments)}function po(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function $o(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class ro{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return ct("not implemented")}_getIdTokenResponse(h){return ct("not implemented")}_linkToIdToken(h,f){return ct("not implemented")}_getReauthenticationResolver(h){return ct("not implemented")}}function qi(y,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(y,h){return ve(y,"POST","/v1/accounts:resetPassword",W(y,h))})).apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(y,h){return ve(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function rr(y,h){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(y,h){return ve(y,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(y,h){return ve(y,"POST","/v1/accounts:update",W(y,h))})).apply(this,arguments)}function la(y,h){return oo.apply(this,arguments)}function oo(){return(oo=(0,l.Z)(function*(y,h){return Dt(y,"POST","/v1/accounts:signInWithPassword",W(y,h))})).apply(this,arguments)}function Oo(y,h){return ko.apply(this,arguments)}function ko(){return(ko=(0,l.Z)(function*(y,h){return ve(y,"POST","/v1/accounts:sendOobCode",W(y,h))})).apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(y,h){return Oo(y,h)})).apply(this,arguments)}function ps(y,h){return $s.apply(this,arguments)}function $s(){return($s=(0,l.Z)(function*(y,h){return Oo(y,h)})).apply(this,arguments)}function Gs(y,h){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(y,h){return Oo(y,h)})).apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(y,h){return Oo(y,h)})).apply(this,arguments)}function ka(){return(ka=(0,l.Z)(function*(y,h){return Dt(y,"POST","/v1/accounts:signInWithEmailLink",W(y,h))})).apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(y,h){return Dt(y,"POST","/v1/accounts:signInWithEmailLink",W(y,h))})).apply(this,arguments)}class Go extends ro{constructor(h,f,I,q=null){super("password",I),this._email=h,this._password=f,this._tenantId=q}static _fromEmailAndPassword(h,f){return new Go(h,f,"password")}static _fromEmailAndCode(h,f,I=null){return new Go(h,f,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,l.Z)(function*(){switch(f.signInMethod){case"password":return ho(h,{returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",la);case"emailLink":return function Oa(y,h){return ka.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:de(h,"internal-error")}})()}_linkToIdToken(h,f){var I=this;return(0,l.Z)(function*(){switch(I.signInMethod){case"password":return ho(h,{idToken:f,returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rr);case"emailLink":return function Fa(y,h){return ca.apply(this,arguments)}(h,{idToken:f,email:I._email,oobCode:I._password});default:de(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function _o(y,h){return ts.apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(y,h){return Dt(y,"POST","/v1/accounts:signInWithIdp",W(y,h))})).apply(this,arguments)}class hr extends ro{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new hr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):de("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:q}=f,ye=(0,ee._T)(f,["providerId","signInMethod"]);if(!I||!q)return null;const nt=new hr(I,q);return nt.idToken=ye.idToken||void 0,nt.accessToken=ye.accessToken||void 0,nt.secret=ye.secret,nt.nonce=ye.nonce,nt.pendingToken=ye.pendingToken||null,nt}_getIdTokenResponse(h){return _o(h,this.buildRequest())}_linkToIdToken(h,f){const I=this.buildRequest();return I.idToken=f,_o(h,I)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,_o(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,O.xO)(f)}return h}}function Fo(){return(Fo=(0,l.Z)(function*(y,h){return ve(y,"POST","/v1/accounts:sendVerificationCode",W(y,h))})).apply(this,arguments)}function As(){return(As=(0,l.Z)(function*(y,h){return Dt(y,"POST","/v1/accounts:signInWithPhoneNumber",W(y,h))})).apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(y,h){const f=yield Dt(y,"POST","/v1/accounts:signInWithPhoneNumber",W(y,h));if(f.temporaryProof)throw Bn(y,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Zo={USER_NOT_FOUND:"user-not-found"};function da(){return(da=(0,l.Z)(function*(y,h){return Dt(y,"POST","/v1/accounts:signInWithPhoneNumber",W(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Zo)})).apply(this,arguments)}class Sr extends ro{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new Sr({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new Sr({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function Ws(y,h){return As.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function Zs(y,h){return Ts.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function ua(y,h){return da.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:I,verificationCode:q}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:I,code:q}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:I,phoneNumber:q,temporaryProof:ye}=h;return I||f||q||ye?new Sr({verificationId:f,verificationCode:I,phoneNumber:q,temporaryProof:ye}):null}}class gs{constructor(h){var f,I,q,ye,nt,Pt;const tn=(0,O.zd)((0,O.pd)(h)),Sn=null!==(f=tn.apiKey)&&void 0!==f?f:null,On=null!==(I=tn.oobCode)&&void 0!==I?I:null,Gn=function ms(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=tn.mode)&&void 0!==q?q:null);Ue(Sn&&On&&Gn,"argument-error"),this.apiKey=Sn,this.operation=Gn,this.code=On,this.continueUrl=null!==(ye=tn.continueUrl)&&void 0!==ye?ye:null,this.languageCode=null!==(nt=tn.languageCode)&&void 0!==nt?nt:null,this.tenantId=null!==(Pt=tn.tenantId)&&void 0!==Pt?Pt:null}static parseLink(h){const f=function Xr(y){const h=(0,O.zd)((0,O.pd)(y)).link,f=h?(0,O.zd)((0,O.pd)(h)).deep_link_id:null,I=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(I?(0,O.zd)((0,O.pd)(I)).link:null)||I||f||h||y}(h);try{return new gs(f)}catch{return null}}}let Ri=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(f,I){return Go._fromEmailAndPassword(f,I)}static credentialWithLink(f,I){const q=gs.parseLink(I);return Ue(q,"argument-error"),Go._fromEmailAndCode(f,q.code,q.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ki{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class vo extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Oi extends vo{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return Ue("providerId"in f&&"signInMethod"in f,"argument-error"),hr._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ue(h.idToken||h.accessToken,"argument-error"),hr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Oi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Oi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:I,oauthTokenSecret:q,pendingToken:ye,nonce:nt,providerId:Pt}=h;if(!I&&!q&&!f&&!ye||!Pt)return null;try{return new Oi(Pt)._credential({idToken:f,accessToken:I,nonce:nt,pendingToken:ye})}catch{return null}}}let Ja=(()=>{class y extends vo{constructor(){super("facebook.com")}static credential(f){return hr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ss=(()=>{class y extends vo{constructor(){super("google.com"),this.addScope("profile")}static credential(f,I){return hr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:I})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:I,oauthAccessToken:q}=f;if(!I&&!q)return null;try{return y.credential(I,q)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Do=(()=>{class y extends vo{constructor(){super("github.com")}static credential(f){return hr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ms extends ro{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return _o(h,this.buildRequest())}_linkToIdToken(h,f){const I=this.buildRequest();return I.idToken=f,_o(h,I)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,_o(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:q,pendingToken:ye}=f;return I&&q&&ye&&I===q?new Ms(I,ye):null}static _create(h,f){return new Ms(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ko extends ki{constructor(h){Ue(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Ko.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Ko.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const f=Ms.fromJSON(h);return Ue(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:f,providerId:I}=h;if(!f||!I)return null;try{return Ms._create(I,f)}catch{return null}}}let Fr=(()=>{class y extends vo{constructor(){super("twitter.com")}static credential(f,I){return hr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:I})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:I,oauthTokenSecret:q}=f;if(!I||!q)return null;try{return y.credential(I,q)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ha(y,h){return ns.apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(y,h){return Dt(y,"POST","/v1/accounts:signUp",W(y,h))})).apply(this,arguments)}class Wn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,I,q=!1){return(0,l.Z)(function*(){const ye=yield et._fromIdTokenResponse(h,I,q),nt=te(I);return new Wn({user:ye,providerId:nt,_tokenResponse:I,operationType:f})})()}static _forOperation(h,f,I){return(0,l.Z)(function*(){yield h._updateTokensIfNecessary(I,!0);const q=te(I);return new Wn({user:h,providerId:q,_tokenResponse:I,operationType:f})})()}}function te(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function A(){return(A=(0,l.Z)(function*(y){var h;if((0,m._isFirebaseServerApp)(y.app))return Promise.reject(ke(y));const f=Jn(y);if(yield f._initializationPromise,null!==(h=f.currentUser)&&void 0!==h&&h.isAnonymous)return new Wn({user:f.currentUser,providerId:null,operationType:"signIn"});const I=yield ha(f,{returnSecureToken:!0}),q=yield Wn._fromIdTokenResponse(f,"signIn",I,!0);return yield f._updateCurrentUser(q.user),q})).apply(this,arguments)}class T extends O.ZR{constructor(h,f,I,q){var ye;super(f.code,f.message),this.operationType=I,this.user=q,Object.setPrototypeOf(this,T.prototype),this.customData={appName:h.name,tenantId:null!==(ye=h.tenantId)&&void 0!==ye?ye:void 0,_serverResponse:f.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(h,f,I,q){return new T(h,f,I,q)}}function Q(y,h,f,I){return("reauthenticate"===h?f._getReauthenticationResolver(y):f._getIdTokenResponse(y)).catch(ye=>{throw"auth/multi-factor-auth-required"===ye.code?T._fromErrorAndOperation(y,ye,h,I):ye})}function Ge(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Dn(){return Dn=(0,l.Z)(function*(y,h){const f=(0,O.m9)(y);yield _i(!0,f,h);const{providerUserInfo:I}=yield function Qt(y,h){return Xt.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),q=Ge(I||[]);return f.providerData=f.providerData.filter(ye=>q.has(ye.providerId)),q.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),Dn.apply(this,arguments)}function _t(y,h){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(y,h,f=!1){const I=yield si(y,h._linkToIdToken(y.auth,yield y.getIdToken()),f);return Wn._forOperation(y,"link",I)})).apply(this,arguments)}function _i(y,h,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(y,h,f){yield pt(h);const q=!1===y?"provider-already-linked":"no-such-provider";Ue(Ge(h.providerData).has(f)===y,h.auth,q)})).apply(this,arguments)}function Ei(y,h){return $i.apply(this,arguments)}function $i(){return($i=(0,l.Z)(function*(y,h,f=!1){const{auth:I}=y;if((0,m._isFirebaseServerApp)(I.app))return Promise.reject(ke(I));const q="reauthenticate";try{const ye=yield si(y,Q(I,q,h,y),f);Ue(ye.idToken,I,"internal-error");const nt=ai(ye.idToken);Ue(nt,I,"internal-error");const{sub:Pt}=nt;return Ue(y.uid===Pt,I,"user-mismatch"),Wn._forOperation(y,q,ye)}catch(ye){throw"auth/user-not-found"===ye?.code&&de(I,"user-mismatch"),ye}})).apply(this,arguments)}function Gi(y,h){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(y,h,f=!1){if((0,m._isFirebaseServerApp)(y.app))return Promise.reject(ke(y));const I="signIn",q=yield Q(y,I,h),ye=yield Wn._fromIdTokenResponse(y,I,q);return f||(yield y._updateCurrentUser(ye.user)),ye})).apply(this,arguments)}function Wi(y,h){return yo.apply(this,arguments)}function yo(){return(yo=(0,l.Z)(function*(y,h){return Gi(Jn(y),h)})).apply(this,arguments)}function is(y,h){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,l.Z)(function*(y,h){const f=(0,O.m9)(y);return yield _i(!1,f,h.providerId),_t(f,h)})).apply(this,arguments)}function vr(y,h){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,l.Z)(function*(y,h){return Ei((0,O.m9)(y),h)})).apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(y,h){return Dt(y,"POST","/v1/accounts:signInWithCustomToken",W(y,h))})).apply(this,arguments)}function so(){return so=(0,l.Z)(function*(y,h){if((0,m._isFirebaseServerApp)(y.app))return Promise.reject(ke(y));const f=Jn(y),I=yield function Rr(y,h){return Ao.apply(this,arguments)}(f,{token:h,returnSecureToken:!0}),q=yield Wn._fromIdTokenResponse(f,"signIn",I);return yield f._updateCurrentUser(q.user),q}),so.apply(this,arguments)}class Rs{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?Ba._fromServerResponse(h,f):"totpInfo"in f?Ic._fromServerResponse(h,f):de(h,"internal-error")}}class Ba extends Rs{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new Ba(f)}}class Ic extends Rs{constructor(h){super("totp",h)}static _fromServerResponse(h,f){return new Ic(f)}}function To(y,h,f){var I;Ue((null===(I=f.url)||void 0===I?void 0:I.length)>0,y,"invalid-continue-uri"),Ue(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Ue(f.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(Ue(f.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function fa(y){return No.apply(this,arguments)}function No(){return(No=(0,l.Z)(function*(y){const h=Jn(y);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function el(){return(el=(0,l.Z)(function*(y,h,f){const I=Jn(y),q={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};f&&To(I,q,f),yield ho(I,q,"getOobCode",ps)})).apply(this,arguments)}function Ks(){return Ks=(0,l.Z)(function*(y,h,f){yield qi((0,O.m9)(y),{oobCode:h,newPassword:f}).catch(function(){var I=(0,l.Z)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&fa(y),q});return function(q){return I.apply(this,arguments)}}())}),Ks.apply(this,arguments)}function pa(){return pa=(0,l.Z)(function*(y,h){yield function Io(y,h){return _r.apply(this,arguments)}((0,O.m9)(y),{oobCode:h})}),pa.apply(this,arguments)}function Va(y,h){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,l.Z)(function*(y,h){const f=(0,O.m9)(y),I=yield qi(f,{oobCode:h}),q=I.requestType;switch(Ue(q,f,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ue(I.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ue(I.mfaInfo,f,"internal-error");default:Ue(I.email,f,"internal-error")}let ye=null;return I.mfaInfo&&(ye=Rs._fromServerResponse(Jn(f),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:ye},operation:q}})).apply(this,arguments)}function tl(){return(tl=(0,l.Z)(function*(y,h){const{data:f}=yield Va((0,O.m9)(y),h);return f.email})).apply(this,arguments)}function Lo(){return(Lo=(0,l.Z)(function*(y,h,f){if((0,m._isFirebaseServerApp)(y.app))return Promise.reject(ke(y));const I=Jn(y),nt=yield ho(I,{returnSecureToken:!0,email:h,password:f,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ha).catch(tn=>{throw"auth/password-does-not-meet-requirements"===tn.code&&fa(y),tn}),Pt=yield Wn._fromIdTokenResponse(I,"signIn",nt);return yield I._updateCurrentUser(Pt.user),Pt})).apply(this,arguments)}function or(){return(or=(0,l.Z)(function*(y,h,f){const I=Jn(y),q={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ye(nt,Pt){Ue(Pt.handleCodeInApp,I,"argument-error"),Pt&&To(I,nt,Pt)})(q,f),yield ho(I,q,"getOobCode",Gs)})).apply(this,arguments)}function gl(){return(gl=(0,l.Z)(function*(y,h,f){if((0,m._isFirebaseServerApp)(y.app))return Promise.reject(ke(y));const I=(0,O.m9)(y),q=Ri.credentialWithLink(h,f||lt());return Ue(q._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Wi(I,q)})).apply(this,arguments)}function Sc(){return(Sc=(0,l.Z)(function*(y,h){return ve(y,"POST","/v1/accounts:createAuthUri",W(y,h))})).apply(this,arguments)}function ga(){return ga=(0,l.Z)(function*(y,h){const I={identifier:h,continueUri:dn()?lt():"http://localhost"},{signinMethods:q}=yield function Wl(y,h){return Sc.apply(this,arguments)}((0,O.m9)(y),I);return q||[]}),ga.apply(this,arguments)}function _a(){return _a=(0,l.Z)(function*(y,h){const f=(0,O.m9)(y),q={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&To(f.auth,q,h);const{email:ye}=yield function js(y,h){return es.apply(this,arguments)}(f.auth,q);ye!==y.email&&(yield y.reload())}),_a.apply(this,arguments)}function le(){return le=(0,l.Z)(function*(y,h,f){const I=(0,O.m9)(y),ye={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};f&&To(I.auth,ye,f);const{email:nt}=yield function Ds(y,h){return go.apply(this,arguments)}(I.auth,ye);nt!==y.email&&(yield y.reload())}),le.apply(this,arguments)}function we(){return(we=(0,l.Z)(function*(y,h){return ve(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Wt(){return Wt=(0,l.Z)(function*(y,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const I=(0,O.m9)(y),ye={idToken:yield I.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},nt=yield si(I,function $(y,h){return we.apply(this,arguments)}(I.auth,ye));I.displayName=nt.displayName||null,I.photoURL=nt.photoUrl||null;const Pt=I.providerData.find(({providerId:tn})=>"password"===tn);Pt&&(Pt.displayName=I.displayName,Pt.photoURL=I.photoURL),yield I._updateTokensIfNecessary(nt)}),Wt.apply(this,arguments)}function ji(y,h,f){return Ni.apply(this,arguments)}function Ni(){return Ni=(0,l.Z)(function*(y,h,f){const{auth:I}=y,ye={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(ye.email=h),f&&(ye.password=f);const nt=yield si(y,function Er(y,h){return gr.apply(this,arguments)}(I,ye));yield y._updateTokensIfNecessary(nt,!0)}),Ni.apply(this,arguments)}class vi{constructor(h,f,I={}){this.isNewUser=h,this.providerId=f,this.profile=I}}class Zi extends vi{constructor(h,f,I,q){super(h,f,I),this.username=q}}class Li extends vi{constructor(h,f){super(h,"facebook.com",f)}}class Nr extends Zi{constructor(h,f){super(h,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class rs extends vi{constructor(h,f){super(h,"google.com",f)}}class jr extends Zi{constructor(h,f,I){super(h,"twitter.com",f,I)}}function os(y){const{user:h,_tokenResponse:f}=y;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Pi(y){var h,f;if(!y)return null;const{providerId:I}=y,q=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},ye=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!I&&y?.idToken){const nt=null===(f=null===(h=ai(y.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(nt)return new vi(ye,"anonymous"!==nt&&"custom"!==nt?nt:null)}if(!I)return null;switch(I){case"facebook.com":return new Li(ye,q);case"github.com":return new Nr(ye,q);case"google.com":return new rs(ye,q);case"twitter.com":return new jr(ye,q,y.screenName||null);case"custom":case"anonymous":return new vi(ye,null);default:return new vi(ye,I,q)}}(f)}class Jr{constructor(h,f,I){this.type=h,this.credential=f,this.user=I}static _fromIdtoken(h,f){return new Jr("enroll",h,f)}static _fromMfaPendingCredential(h){return new Jr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,I;if(h?.multiFactorSession){if(null!==(f=h.multiFactorSession)&&void 0!==f&&f.pendingCredential)return Jr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(I=h.multiFactorSession)&&void 0!==I&&I.idToken)return Jr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Zl{constructor(h,f,I){this.session=h,this.hints=f,this.signInResolver=I}static _fromError(h,f){const I=Jn(h),q=f.customData._serverResponse,ye=(q.mfaInfo||[]).map(Pt=>Rs._fromServerResponse(I,Pt));Ue(q.mfaPendingCredential,I,"internal-error");const nt=Jr._fromMfaPendingCredential(q.mfaPendingCredential);return new Zl(nt,ye,function(){var Pt=(0,l.Z)(function*(tn){const Sn=yield tn._process(I,nt);delete q.mfaInfo,delete q.mfaPendingCredential;const On=Object.assign(Object.assign({},q),{idToken:Sn.idToken,refreshToken:Sn.refreshToken});switch(f.operationType){case"signIn":const Gn=yield Wn._fromIdTokenResponse(I,f.operationType,On);return yield I._updateCurrentUser(Gn.user),Gn;case"reauthenticate":return Ue(f.user,I,"internal-error"),Wn._forOperation(f.user,f.operationType,On);default:de(I,"internal-error")}});return function(tn){return Pt.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,l.Z)(function*(){return f.signInResolver(h)})()}}class Bo{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(I=>Rs._fromServerResponse(h.auth,I)))})}static _fromUser(h){return new Bo(h)}getSession(){var h=this;return(0,l.Z)(function*(){return Jr._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,f){var I=this;return(0,l.Z)(function*(){const q=h,ye=yield I.getSession(),nt=yield si(I.user,q._process(I.user.auth,ye,f));return yield I.user._updateTokensIfNecessary(nt),I.user.reload()})()}unenroll(h){var f=this;return(0,l.Z)(function*(){const I="string"==typeof h?h:h.uid,q=yield f.user.getIdToken();try{const ye=yield si(f.user,function Ys(y,h){return ve(y,"POST","/v2/accounts/mfaEnrollment:withdraw",W(y,h))}(f.user.auth,{idToken:q,mfaEnrollmentId:I}));f.enrolledFactors=f.enrolledFactors.filter(({uid:nt})=>nt!==I),yield f.user._updateTokensIfNecessary(ye),yield f.user.reload()}catch(ye){throw ye}})()}}const bd=new WeakMap,vs="__sak";class Oc{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(vs,"1"),this.storage.removeItem(vs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ql=(()=>{class y extends Oc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,I)=>this.onStorageEvent(f,I),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jt(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const I of Object.keys(this.listeners)){const q=this.storage.getItem(I),ye=this.localCache[I];q!==ye&&f(I,ye,q)}}onStorageEvent(f,I=!1){if(!f.key)return void this.forAllChangedKeys((Pt,tn,Sn)=>{this.notifyListeners(Pt,Sn)});const q=f.key;I?this.detachListener():this.stopPolling();const ye=()=>{const Pt=this.storage.getItem(q);!I&&this.localCache[q]===Pt||this.notifyListeners(q,Pt)},nt=this.storage.getItem(q);!function Vt(){return(0,O.w1)()&&10===document.documentMode}()||nt===f.newValue||f.newValue===f.oldValue?ye():setTimeout(ye,10)}notifyListeners(f,I){this.localCache[f]=I;const q=this.listeners[f];if(q)for(const ye of Array.from(q))ye(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,I,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:I,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,I){var q=()=>super._set,ye=this;return(0,l.Z)(function*(){yield q().call(ye,f,I),ye.localCache[f]=JSON.stringify(I)})()}_get(f){var I=()=>super._get,q=this;return(0,l.Z)(function*(){const ye=yield I().call(q,f);return q.localCache[f]=JSON.stringify(ye),ye})()}_remove(f){var I=()=>super._remove,q=this;return(0,l.Z)(function*(){yield I().call(q,f),delete q.localCache[f]})()}}return y.type="LOCAL",y})(),ao=(()=>{class y extends Oc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,I){}_removeListener(f,I){}}return y.type="SESSION",y})();let xu=(()=>{class y{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const I=this.receivers.find(ye=>ye.isListeningto(f));if(I)return I;const q=new y(f);return this.receivers.push(q),q}isListeningto(f){return this.eventTarget===f}handleEvent(f){var I=this;return(0,l.Z)(function*(){const q=f,{eventId:ye,eventType:nt,data:Pt}=q.data,tn=I.handlersMap[nt];if(!tn?.size)return;q.ports[0].postMessage({status:"ack",eventId:ye,eventType:nt});const Sn=Array.from(tn).map(function(){var Gn=(0,l.Z)(function*(sr){return sr(q.origin,Pt)});return function(sr){return Gn.apply(this,arguments)}}()),On=yield function Eu(y){return Promise.all(y.map(function(){var h=(0,l.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(I){return{fulfilled:!1,reason:I}}});return function(f){return h.apply(this,arguments)}}()))}(Sn);q.ports[0].postMessage({status:"done",eventId:ye,eventType:nt,response:On})})()}_subscribe(f,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(I)}_unsubscribe(f,I){this.handlersMap[f]&&I&&this.handlersMap[f].delete(I),(!I||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function il(y="",h=10){let f="";for(let I=0;I<h;I++)f+=Math.floor(10*Math.random());return y+f}class vl{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,I=50){var q=this;return(0,l.Z)(function*(){const ye=typeof MessageChannel<"u"?new MessageChannel:null;if(!ye)throw new Error("connection_unavailable");let nt,Pt;return new Promise((tn,Sn)=>{const On=il("",20);ye.port1.start();const Gn=setTimeout(()=>{Sn(new Error("unsupported_event"))},I);Pt={messageChannel:ye,onMessage(sr){const Ta=sr;if(Ta.data.eventId===On)switch(Ta.data.status){case"ack":clearTimeout(Gn),nt=setTimeout(()=>{Sn(new Error("timeout"))},3e3);break;case"done":clearTimeout(nt),tn(Ta.data.response);break;default:clearTimeout(Gn),clearTimeout(nt),Sn(new Error("invalid_response"))}}},q.handlers.add(Pt),ye.port1.addEventListener("message",Pt.onMessage),q.target.postMessage({eventType:h,eventId:On,data:f},[ye.port2])}).finally(()=>{Pt&&q.removeMessageHandler(Pt)})})()}}function Ji(){return window}function rl(){return typeof Ji().WorkerGlobalScope<"u"&&"function"==typeof Ji().importScripts}function qs(){return(qs=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const er="firebaseLocalStorageDb",Kh=1,Cd="firebaseLocalStorage",Up="fbase_key";class Qs{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Nc(y,h){return y.transaction([Cd],h?"readwrite":"readonly").objectStore(Cd)}function wd(){const y=indexedDB.open(er,Kh);return new Promise((h,f)=>{y.addEventListener("error",()=>{f(y.error)}),y.addEventListener("upgradeneeded",()=>{const I=y.result;try{I.createObjectStore(Cd,{keyPath:Up})}catch(q){f(q)}}),y.addEventListener("success",(0,l.Z)(function*(){const I=y.result;I.objectStoreNames.contains(Cd)?h(I):(I.close(),yield function Yh(){const y=indexedDB.deleteDatabase(er);return new Qs(y).toPromise()}(),h(yield wd()))}))})}function ya(y,h,f){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,l.Z)(function*(y,h,f){const I=Nc(y,!0).put({[Up]:h,value:f});return new Qs(I).toPromise()})).apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(y,h){const f=Nc(y,!1).get(h),I=yield new Qs(f).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Ql(y,h){const f=Nc(y,!0).delete(h);return new Qs(f).toPromise()}const Vo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,l.Z)(function*(){return f.db||(f.db=yield wd()),f.db})()}_withRetries(f){var I=this;return(0,l.Z)(function*(){let q=0;for(;;)try{const ye=yield I._openDb();return yield f(ye)}catch(ye){if(q++>3)throw ye;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,l.Z)(function*(){return rl()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,l.Z)(function*(){f.receiver=xu._getInstance(function xd(){return rl()?self:null}()),f.receiver._subscribe("keyChanged",function(){var I=(0,l.Z)(function*(q,ye){return{keyProcessed:(yield f._poll()).includes(ye.key)}});return function(q,ye){return I.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var I=(0,l.Z)(function*(q,ye){return["keyChanged"]});return function(q,ye){return I.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,l.Z)(function*(){var I,q;if(f.activeServiceWorker=yield function Fc(){return qs.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new vl(f.activeServiceWorker);const ye=yield f.sender._send("ping",{},800);ye&&null!==(I=ye[0])&&void 0!==I&&I.fulfilled&&null!==(q=ye[0])&&void 0!==q&&q.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var I=this;return(0,l.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Vp(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:f},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const f=yield wd();return yield ya(f,vs,"1"),yield Ql(f,vs),!0}catch{}return!1})()}_withPendingWrite(f){var I=this;return(0,l.Z)(function*(){I.pendingWrites++;try{yield f()}finally{I.pendingWrites--}})()}_set(f,I){var q=this;return(0,l.Z)(function*(){return q._withPendingWrite((0,l.Z)(function*(){return yield q._withRetries(ye=>ya(ye,f,I)),q.localCache[f]=I,q.notifyServiceWorker(f)}))})()}_get(f){var I=this;return(0,l.Z)(function*(){const q=yield I._withRetries(ye=>function ba(y,h){return di.apply(this,arguments)}(ye,f));return I.localCache[f]=q,q})()}_remove(f){var I=this;return(0,l.Z)(function*(){return I._withPendingWrite((0,l.Z)(function*(){return yield I._withRetries(q=>Ql(q,f)),delete I.localCache[f],I.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,l.Z)(function*(){const I=yield f._withRetries(nt=>{const Pt=Nc(nt,!1).getAll();return new Qs(Pt).toPromise()});if(!I)return[];if(0!==f.pendingWrites)return[];const q=[],ye=new Set;if(0!==I.length)for(const{fbase_key:nt,value:Pt}of I)ye.add(nt),JSON.stringify(f.localCache[nt])!==JSON.stringify(Pt)&&(f.notifyListeners(nt,Pt),q.push(nt));for(const nt of Object.keys(f.localCache))f.localCache[nt]&&!ye.has(nt)&&(f.notifyListeners(nt,null),q.push(nt));return q})()}notifyListeners(f,I){this.localCache[f]=I;const q=this.listeners[f];if(q)for(const ye of Array.from(q))ye(I)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),J=1e12;class xe{constructor(h){this.auth=h,this.counter=J,this._widgets=new Map}render(h,f){const I=this.counter;return this._widgets.set(I,new Re(h,this.auth.name,f||{})),this.counter++,I}reset(h){var f;const I=h||J;null===(f=this._widgets.get(I))||void 0===f||f.delete(),this._widgets.delete(I)}getResponse(h){var f;return(null===(f=this._widgets.get(h||J))||void 0===f?void 0:f.getResponse())||""}execute(h){var f=this;return(0,l.Z)(function*(){var I;return null===(I=f._widgets.get(h||J))||void 0===I||I.execute(),""})()}}class Re{constructor(h,f,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof h?document.getElementById(h):h;Ue(q,"argument-error",{appName:f}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function At(y){const h=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<y;I++)h.push(f.charAt(Math.floor(Math.random()*f.length)));return h.join("")}(50);const{callback:h,"expired-callback":f}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ln=ri("rcb"),Un=new Ce(3e4,6e4);class In{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Ji().grecaptcha)||void 0===h||!h.render)}load(h,f=""){return Ue(function Ti(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(f),h,"argument-error"),this.shouldResolveImmediately(f)&&qn(Ji().grecaptcha)?Promise.resolve(Ji().grecaptcha):new Promise((I,q)=>{const ye=Ji().setTimeout(()=>{q(Ee(h,"network-request-failed"))},Un.get());Ji()[ln]=()=>{Ji().clearTimeout(ye),delete Ji()[ln];const Pt=Ji().grecaptcha;if(!Pt||!qn(Pt))return void q(Ee(h,"internal-error"));const tn=Pt.render;Pt.render=(Sn,On)=>{const Gn=tn(Sn,On);return this.counter++,Gn},this.hostLanguage=f,I(Pt)},Yi(`${function li(){return lr.recaptchaV2Script}()}?${(0,O.xO)({onload:ln,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(ye),q(Ee(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var f;return!(null===(f=Ji().grecaptcha)||void 0===f||!f.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fr{load(h){return(0,l.Z)(function*(){return new xe(h)})()}clearedOneInstance(){}}const Xo="recaptcha",xa={theme:"light",type:"image"};class fn{constructor(h,f,I=Object.assign({},xa)){this.parameters=I,this.type=Xo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jn(h),this.isInvisible="invisible"===this.parameters.size,Ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof f?document.getElementById(f):f;Ue(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fr:new In,this.validateStartingState()}verify(){var h=this;return(0,l.Z)(function*(){h.assertNotDestroyed();const f=yield h.render(),I=h.getAssertedRecaptcha();return I.getResponse(f)||new Promise(ye=>{const nt=Pt=>{Pt&&(h.tokenChangeListeners.delete(nt),ye(Pt))};h.tokenChangeListeners.add(nt),h.isInvisible&&I.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ue(!this.parameters.sitekey,this.auth,"argument-error"),Ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return f=>{if(this.tokenChangeListeners.forEach(I=>I(f)),"function"==typeof h)h(f);else if("string"==typeof h){const I=Ji()[h];"function"==typeof I&&I(f)}}}assertNotDestroyed(){Ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,l.Z)(function*(){if(yield h.init(),!h.widgetId){let f=h.container;if(!h.isInvisible){const I=document.createElement("div");f.appendChild(I),f=I}h.widgetId=h.getAssertedRecaptcha().render(f,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,l.Z)(function*(){Ue(dn()&&!rl(),h.auth,"internal-error"),yield function Ui(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const f=yield function Le(y){return re.apply(this,arguments)}(h.auth);Ue(f,h.auth,"internal-error"),h.parameters.sitekey=f})()}getAssertedRecaptcha(){return Ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bo{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=Sr._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function Ln(){return(Ln=(0,l.Z)(function*(y,h,f){if((0,m._isFirebaseServerApp)(y.app))return Promise.reject(ke(y));const I=Jn(y),q=yield hn(I,h,(0,O.m9)(f));return new bo(q,ye=>Wi(I,ye))})).apply(this,arguments)}function Id(){return(Id=(0,l.Z)(function*(y,h,f){const I=(0,O.m9)(y);yield _i(!1,I,"phone");const q=yield hn(I.auth,h,(0,O.m9)(f));return new bo(q,ye=>is(I,ye))})).apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(y,h,f){const I=(0,O.m9)(y);if((0,m._isFirebaseServerApp)(I.auth.app))return Promise.reject(ke(I.auth));const q=yield hn(I.auth,h,(0,O.m9)(f));return new bo(q,ye=>vr(I,ye))})).apply(this,arguments)}function hn(y,h,f){return wr.apply(this,arguments)}function wr(){return wr=(0,l.Z)(function*(y,h,f){var I;const q=yield f.verify();try{let ye;if(Ue("string"==typeof q,y,"argument-error"),Ue(f.type===Xo,y,"argument-error"),ye="string"==typeof h?{phoneNumber:h}:h,"session"in ye){const nt=ye.session;if("phoneNumber"in ye)return Ue("enroll"===nt.type,y,"internal-error"),(yield function Kl(y,h){return ve(y,"POST","/v2/accounts/mfaEnrollment:start",W(y,h))}(y,{idToken:nt.credential,phoneEnrollmentInfo:{phoneNumber:ye.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{Ue("signin"===nt.type,y,"internal-error");const Pt=(null===(I=ye.multiFactorHint)||void 0===I?void 0:I.uid)||ye.multiFactorUid;return Ue(Pt,y,"missing-multi-factor-info"),(yield function Ea(y,h){return ve(y,"POST","/v2/accounts/mfaSignIn:start",W(y,h))}(y,{mfaPendingCredential:nt.credential,mfaEnrollmentId:Pt,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:nt}=yield function Wo(y,h){return Fo.apply(this,arguments)}(y,{phoneNumber:ye.phoneNumber,recaptchaToken:q});return nt}}finally{f._reset()}}),wr.apply(this,arguments)}function Dd(){return(Dd=(0,l.Z)(function*(y,h){const f=(0,O.m9)(y);if((0,m._isFirebaseServerApp)(f.auth.app))return Promise.reject(ke(f.auth));yield _t(f,h)})).apply(this,arguments)}let Iu=(()=>{class y{constructor(f){this.providerId=y.PROVIDER_ID,this.auth=Jn(f)}verifyPhoneNumber(f,I){return hn(this.auth,f,(0,O.m9)(I))}static credential(f,I){return Sr._fromVerification(f,I)}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:I,temporaryProof:q}=f;return I&&q?Sr._fromTokenResponse(I,q):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Xl(y,h){return h?N(h):(Ue(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class bl extends ro{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return _o(h,this._buildIdpRequest())}_linkToIdToken(h,f){return _o(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return _o(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function Du(y){return Gi(y.auth,new bl(y),y.bypassAuthState)}function zp(y){const{auth:h,user:f}=y;return Ue(f,h,"internal-error"),Ei(f,new bl(y),y.bypassAuthState)}function xv(y){return qh.apply(this,arguments)}function qh(){return(qh=(0,l.Z)(function*(y){const{auth:h,user:f}=y;return Ue(f,h,"internal-error"),_t(f,new bl(y),y.bypassAuthState)})).apply(this,arguments)}class Hp{constructor(h,f,I,q,ye=!1){this.auth=h,this.resolver=I,this.user=q,this.bypassAuthState=ye,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,l.Z)(function*(I,q){h.pendingPromise={resolve:I,reject:q};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ye){h.reject(ye)}});return function(I,q){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,l.Z)(function*(){const{urlResponse:I,sessionId:q,postBody:ye,tenantId:nt,error:Pt,type:tn}=h;if(Pt)return void f.reject(Pt);const Sn={auth:f.auth,requestUri:I,sessionId:q,tenantId:nt||void 0,postBody:ye||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(tn)(Sn))}catch(On){f.reject(On)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Du;case"linkViaPopup":case"linkViaRedirect":return xv;case"reauthViaPopup":case"reauthViaRedirect":return zp;default:de(this.auth,"internal-error")}}resolve(h){kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const i_=new Ce(2e3,1e4);function El(){return(El=(0,l.Z)(function*(y,h,f){if((0,m._isFirebaseServerApp)(y.app))return Promise.reject(Ee(y,"operation-not-supported-in-this-environment"));const I=Jn(y);Xe(y,h,ki);const q=Xl(I,f);return new Si(I,"signInViaPopup",h,q).executeNotNull()})).apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(y,h,f){const I=(0,O.m9)(y);if((0,m._isFirebaseServerApp)(I.auth.app))return Promise.reject(Ee(I.auth,"operation-not-supported-in-this-environment"));Xe(I.auth,h,ki);const q=Xl(I.auth,f);return new Si(I.auth,"reauthViaPopup",h,q,I).executeNotNull()})).apply(this,arguments)}function Jl(){return(Jl=(0,l.Z)(function*(y,h,f){const I=(0,O.m9)(y);Xe(I.auth,h,ki);const q=Xl(I.auth,f);return new Si(I.auth,"linkViaPopup",h,q,I).executeNotNull()})).apply(this,arguments)}let Si=(()=>{class y extends Hp{constructor(f,I,q,ye,nt){super(f,I,ye,nt),this.provider=q,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var f=this;return(0,l.Z)(function*(){const I=yield f.execute();return Ue(I,f.auth,"internal-error"),I})()}onExecution(){var f=this;return(0,l.Z)(function*(){kt(1===f.filter.length,"Popup operations only handle one event");const I=il();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],I),f.authWindow.associatedEvent=I,f.resolver._originValidation(f.auth).catch(q=>{f.reject(q)}),f.resolver._isIframeWebStorageSupported(f.auth,q=>{q||f.reject(Ee(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const f=()=>{var I,q;this.pollId=null!==(q=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,i_.get())};f()}}return y.currentPopupAction=null,y})();const Cv="pendingRedirect",Ki=new Map;class Rn extends Hp{constructor(h,f,I=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,I),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,l.Z)(function*(){let I=Ki.get(f.auth._key());if(!I){try{const ye=(yield function Lc(y,h){return Au.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;I=()=>Promise.resolve(ye)}catch(q){I=()=>Promise.reject(q)}Ki.set(f.auth._key(),I)}return f.bypassAuthState||Ki.set(f.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,I=this;return(0,l.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(I,h);if("unknown"!==h.type){if(h.eventId){const q=yield I.auth._redirectUserForId(h.eventId);if(q)return I.user=q,f().call(I,h);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Au(){return(Au=(0,l.Z)(function*(y,h){const f=Gp(h),I=Vc(y);if(!(yield I._isAvailable()))return!1;const q="true"===(yield I._get(f));return yield I._remove(f),q})).apply(this,arguments)}function Ca(y,h){return $p.apply(this,arguments)}function $p(){return($p=(0,l.Z)(function*(y,h){return Vc(y)._set(Gp(h),"true")})).apply(this,arguments)}function Tu(y,h){Ki.set(y._key(),h)}function Vc(y){return N(y._redirectPersistence)}function Gp(y){return be(Cv,y.config.apiKey,y.name)}function r_(y,h,f){return function Xs(y,h,f){return Ad.apply(this,arguments)}(y,h,f)}function Ad(){return(Ad=(0,l.Z)(function*(y,h,f){if((0,m._isFirebaseServerApp)(y.app))return Promise.reject(ke(y));const I=Jn(y);Xe(y,h,ki),yield I._initializationPromise;const q=Xl(I,f);return yield Ca(q,I),q._openRedirect(I,h,"signInViaRedirect")})).apply(this,arguments)}function Wp(y,h,f){return function Qh(y,h,f){return Js.apply(this,arguments)}(y,h,f)}function Js(){return(Js=(0,l.Z)(function*(y,h,f){const I=(0,O.m9)(y);if(Xe(I.auth,h,ki),(0,m._isFirebaseServerApp)(I.auth.app))return Promise.reject(ke(I.auth));yield I.auth._initializationPromise;const q=Xl(I.auth,f);yield Ca(q,I.auth);const ye=yield Ha(I);return q._openRedirect(I.auth,h,"reauthViaRedirect",ye)})).apply(this,arguments)}function Td(y,h,f){return function Nt(y,h,f){return ec.apply(this,arguments)}(y,h,f)}function ec(){return(ec=(0,l.Z)(function*(y,h,f){const I=(0,O.m9)(y);Xe(I.auth,h,ki),yield I.auth._initializationPromise;const q=Xl(I.auth,f);yield _i(!1,I,h.providerId),yield Ca(q,I.auth);const ye=yield Ha(I);return q._openRedirect(I.auth,h,"linkViaRedirect",ye)})).apply(this,arguments)}function Sd(){return(Sd=(0,l.Z)(function*(y,h){return yield Jn(y)._initializationPromise,Md(y,h,!1)})).apply(this,arguments)}function Md(y,h){return tc.apply(this,arguments)}function tc(){return(tc=(0,l.Z)(function*(y,h,f=!1){if((0,m._isFirebaseServerApp)(y.app))return Promise.reject(ke(y));const I=Jn(y),q=Xl(I,h),nt=yield new Rn(I,q,f).execute();return nt&&!f&&(delete nt.user._redirectEventId,yield I._persistUserIfCurrent(nt.user),yield I._setRedirectUser(null,h)),nt})).apply(this,arguments)}function Ha(y){return Su.apply(this,arguments)}function Su(){return(Su=(0,l.Z)(function*(y){const h=il(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class Xh{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(h,I)&&(f=!0,this.sendToConsumer(h,I),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function o_(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jh(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var I;if(h.error&&!Jh(h)){const q=(null===(I=h.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";f.onError(Ee(this.auth,q))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const I=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&I}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pd(h))}saveEventToCache(h){this.cachedEventUids.add(Pd(h)),this.lastProcessedEventTime=Date.now()}}function Pd(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function Jh({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===h?.code}function ys(y){return lo.apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(y,h={}){return ve(y,"GET","/v1/projects",h)})).apply(this,arguments)}const ic=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ef=/^https?/;function Mo(){return(Mo=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield ys(y);for(const f of h)try{if(Uc(f))return}catch{}de(y,"unauthorized-domain")})).apply(this,arguments)}function Uc(y){const h=lt(),{protocol:f,hostname:I}=new URL(h);if(y.startsWith("chrome-extension://")){const nt=new URL(y);return""===nt.hostname&&""===I?"chrome-extension:"===f&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&nt.hostname===I}if(!ef.test(f))return!1;if(ic.test(y))return I===y;const q=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(I)}const wa=new Ce(3e4,6e4);function Rd(){const y=Ji().___jsl;if(y?.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let f=0;f<y.CP.length;f++)y.CP[f]=null}let zc=null;const Zp=new Ce(5e3,15e3),a_="__/auth/iframe",Kp="emulator/auth/iframe",l_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tf(y){const h=y.config;Ue(h.authDomain,y,"auth-domain-config-required");const f=h.emulator?Oe(h,Kp):`https://${y.config.authDomain}/${a_}`,I={apiKey:h.apiKey,appName:y.name,v:m.SDK_VERSION},q=c_.get(y.config.apiHost);q&&(I.eid=q);const ye=y._getFrameworks();return ye.length&&(I.fw=ye.join(",")),`${f}?${(0,O.xO)(I).slice(1)}`}function rf(){return rf=(0,l.Z)(function*(y){const h=yield function s_(y){return zc=zc||function Od(y){return new Promise((h,f)=>{var I,q,ye;function nt(){Rd(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Rd(),f(Ee(y,"network-request-failed"))},timeout:wa.get()})}if(null!==(q=null===(I=Ji().gapi)||void 0===I?void 0:I.iframes)&&void 0!==q&&q.Iframe)h(gapi.iframes.getContext());else{if(null===(ye=Ji().gapi)||void 0===ye||!ye.load){const Pt=ri("iframefcb");return Ji()[Pt]=()=>{gapi.load?nt():f(Ee(y,"network-request-failed"))},Yi(`${function jo(){return lr.gapiScript}()}?onload=${Pt}`).catch(tn=>f(tn))}nt()}}).catch(h=>{throw zc=null,h})}(y),zc}(y),f=Ji().gapi;return Ue(f,y,"internal-error"),h.open({where:document.body,url:tf(y),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l_,dontclear:!0},I=>new Promise(function(){var q=(0,l.Z)(function*(ye,nt){yield I.restyle({setHideOnLeave:!1});const Pt=Ee(y,"network-request-failed"),tn=Ji().setTimeout(()=>{nt(Pt)},Zp.get());function Sn(){Ji().clearTimeout(tn),ye(I)}I.ping(Sn).then(Sn,()=>{nt(Pt)})});return function(ye,nt){return q.apply(this,arguments)}}()))}),rf.apply(this,arguments)}const Mu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u_=500,d_=600,sf="_blank",af="http://localhost";class lf{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const uf="__/auth/handler",Yp="emulator/auth/handler",Pu=encodeURIComponent("fac");function df(y,h,f,I,q,ye){return hf.apply(this,arguments)}function hf(){return(hf=(0,l.Z)(function*(y,h,f,I,q,ye){Ue(y.config.authDomain,y,"auth-domain-config-required"),Ue(y.config.apiKey,y,"invalid-api-key");const nt={apiKey:y.config.apiKey,appName:y.name,authType:f,redirectUrl:I,v:m.SDK_VERSION,eventId:q};if(h instanceof ki){h.setDefaultLanguage(y.languageCode),nt.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(nt.customParameters=JSON.stringify(h.getCustomParameters()));for(const[On,Gn]of Object.entries(ye||{}))nt[On]=Gn}if(h instanceof vo){const On=h.getScopes().filter(Gn=>""!==Gn);On.length>0&&(nt.scopes=On.join(","))}y.tenantId&&(nt.tid=y.tenantId);const Pt=nt;for(const On of Object.keys(Pt))void 0===Pt[On]&&delete Pt[On];const tn=yield y._getAppCheckToken(),Sn=tn?`#${Pu}=${encodeURIComponent(tn)}`:"";return`${function ff({config:y}){return y.emulator?Oe(y,Yp):`https://${y.authDomain}/${uf}`}(y)}?${(0,O.xO)(Pt).slice(1)}${Sn}`})).apply(this,arguments)}const eo="webStorageSupport",sl=class qp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ao,this._completeRedirectFn=Md,this._overrideRedirectResult=Tu}_openPopup(h,f,I,q){var ye=this;return(0,l.Z)(function*(){var nt;kt(null===(nt=ye.eventManagers[h._key()])||void 0===nt?void 0:nt.manager,"_initialize() not called before _openPopup()");const Pt=yield df(h,f,I,lt(),q);return function rc(y,h,f,I=u_,q=d_){const ye=Math.max((window.screen.availHeight-q)/2,0).toString(),nt=Math.max((window.screen.availWidth-I)/2,0).toString();let Pt="";const tn=Object.assign(Object.assign({},Mu),{width:I.toString(),height:q.toString(),top:ye,left:nt}),Sn=(0,O.z$)().toLowerCase();f&&(Pt=bn(Sn)?sf:f),gt(Sn)&&(h=h||af,tn.scrollbars="yes");const On=Object.entries(tn).reduce((sr,[Ta,qd])=>`${sr}${Ta}=${qd},`,"");if(function Et(y=(0,O.z$)()){var h;return Yn(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Sn)&&"_self"!==Pt)return function cf(y,h){const f=document.createElement("a");f.href=y,f.target=h;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(I)}(h||"",Pt),new lf(null);const Gn=window.open(h||"",Pt,On);Ue(Gn,y,"popup-blocked");try{Gn.focus()}catch{}return new lf(Gn)}(h,Pt,il())})()}_openRedirect(h,f,I,q){var ye=this;return(0,l.Z)(function*(){return yield ye._originValidation(h),function Ua(y){Ji().location.href=y}(yield df(h,f,I,lt(),q)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:q,promise:ye}=this.eventManagers[f];return q?Promise.resolve(q):(kt(ye,"If manager is not set, promise should be"),ye)}const I=this.initAndGetManager(h);return this.eventManagers[f]={promise:I},I.catch(()=>{delete this.eventManagers[f]}),I}initAndGetManager(h){var f=this;return(0,l.Z)(function*(){const I=yield function nf(y){return rf.apply(this,arguments)}(h),q=new Xh(h);return I.register("authEvent",ye=>(Ue(ye?.authEvent,h,"invalid-auth-event"),{status:q.onEvent(ye.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:q},f.iframes[h._key()]=I,q})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(eo,{type:eo},q=>{var ye;const nt=null===(ye=q?.[0])||void 0===ye?void 0:ye[eo];void 0!==nt&&f(!!nt),de(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function So(y){return Mo.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return Jt()||rn()||Yn()}};class pf{constructor(h){this.factorId=h}_process(h,f,I){switch(f.type){case"enroll":return this._finalizeEnroll(h,f.credential,I);case"signin":return this._finalizeSignIn(h,f.credential);default:return ct("unexpected MultiFactorSessionType")}}}class Hc extends pf{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Hc(h)}_finalizeEnroll(h,f,I){return function va(y,h){return ve(y,"POST","/v2/accounts/mfaEnrollment:finalize",W(y,h))}(h,{idToken:f,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,f){return function S(y,h){return ve(y,"POST","/v2/accounts/mfaSignIn:finalize",W(y,h))}(h,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let pr=(()=>{class y{constructor(){}static assertion(f){return Hc._fromCredential(f)}}return y.FACTOR_ID="phone",y})();var xl="@firebase/auth";class mf{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,l.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(I=>{h(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);f&&(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ns(){return window}(0,O.Pz)("authIdTokenMaxAge"),function Hi(y){lr=y}({loadJS:y=>new Promise((h,f)=>{const I=document.createElement("script");I.setAttribute("src",y),I.onload=h,I.onerror=q=>{const ye=Ee("internal-error");ye.customData=q,f(ye)},I.type="text/javascript",I.charset="UTF-8",function Ou(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(I)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function $r(y){(0,m._registerComponent)(new ie.wA("auth",(h,{options:f})=>{const I=h.getProvider("app").getImmediate(),q=h.getProvider("heartbeat"),ye=h.getProvider("app-check-internal"),{apiKey:nt,authDomain:Pt}=I.options;Ue(nt&&!nt.includes(":"),"invalid-api-key",{appName:I.name});const tn={apiKey:nt,authDomain:Pt,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vn(y)},Sn=new ti(I,q,ye,tn);return function Ai(y,h){const f=h?.persistence||[],I=(Array.isArray(f)?f:[f]).map(N);h?.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(I,h?.popupRedirectResolver)}(Sn,f),Sn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,I)=>{h.getProvider("auth-internal").initialize()})),(0,m._registerComponent)(new ie.wA("auth-internal",h=>{const f=Jn(h.getProvider("auth").getImmediate());return new mf(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,m.registerVersion)(xl,"1.7.8",function Qp(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,m.registerVersion)(xl,"1.7.8","esm2017")}("Browser");const Xp=2e3;function Ls(){return Ls=(0,l.Z)(function*(y,h,f){var I;const{BuildInfo:q}=Ns();kt(h.sessionId,"AuthEvent did not contain a session ID");const ye=yield function gf(y){return Cl.apply(this,arguments)}(h.sessionId),nt={};return Yn()?nt.ibi=q.packageName:pn()?nt.apn=q.packageName:de(y,"operation-not-supported-in-this-environment"),q.displayName&&(nt.appDisplayName=q.displayName),nt.sessionId=ye,df(y,f,h.type,void 0,null!==(I=h.eventId)&&void 0!==I?I:void 0,nt)}),Ls.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(y){const{BuildInfo:h}=Ns(),f={};Yn()?f.iosBundleId=h.packageName:pn()?f.androidPackageName=h.packageName:de(y,"operation-not-supported-in-this-environment"),yield ys(y,f)})).apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(y,h,f){const{cordova:I}=Ns();let q=()=>{};try{yield new Promise((ye,nt)=>{let Pt=null;function tn(){var Gn;ye();const sr=null===(Gn=I.plugins.browsertab)||void 0===Gn?void 0:Gn.close;"function"==typeof sr&&sr(),"function"==typeof f?.close&&f.close()}function Sn(){Pt||(Pt=window.setTimeout(()=>{nt(Ee(y,"redirect-cancelled-by-user"))},Xp))}function On(){"visible"===document?.visibilityState&&Sn()}h.addPassiveListener(tn),document.addEventListener("resume",Sn,!1),pn()&&document.addEventListener("visibilitychange",On,!1),q=()=>{h.removePassiveListener(tn),document.removeEventListener("resume",Sn,!1),document.removeEventListener("visibilitychange",On,!1),Pt&&window.clearTimeout(Pt)}})}finally{q()}})).apply(this,arguments)}function Cl(){return(Cl=(0,l.Z)(function*(y){const h=function _f(y){if(kt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),f=new Uint8Array(h);for(let I=0;I<y.length;I++)f[I]=y.charCodeAt(I);return f}(y),f=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(f)).map(q=>q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Fd=20;class wl extends Xh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInitialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInitialized(),this.passiveListeners.forEach(f=>f(h)),super.onEvent(h)}initialized(){var h=this;return(0,l.Z)(function*(){yield h.initPromise})()}}function Fu(y){return al.apply(this,arguments)}function al(){return(al=(0,l.Z)(function*(y){const h=yield $c()._get(Vd(y));return h&&(yield $c()._remove(Vd(y))),h})).apply(this,arguments)}function Bd(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<Fd;f++){const I=Math.floor(Math.random()*h.length);y.push(h.charAt(I))}return y.join("")}function $c(){return N(ql)}function Vd(y){return be("authEvent",y.config.apiKey,y.name)}function Nu(y){if(!y?.includes("?"))return{};const[h,...f]=y.split("?");return(0,O.zd)(f.join("?"))}const Po=class zd{constructor(){this._redirectPersistence=ao,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Md,this._overrideRedirectResult=Tu}_initialize(h){var f=this;return(0,l.Z)(function*(){const I=h._key();let q=f.eventManagers.get(I);return q||(q=new wl(h),f.eventManagers.set(I,q),f.attachCallbackListeners(h,q)),q})()}_openPopup(h){de(h,"operation-not-supported-in-this-environment")}_openRedirect(h,f,I,q){var ye=this;return(0,l.Z)(function*(){!function Jp(y){var h,f,I,q,ye,nt,Pt,tn,Sn,On;const Gn=Ns();Ue("function"==typeof(null===(h=Gn?.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ue(typeof(null===(f=Gn?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ue("function"==typeof(null===(ye=null===(q=null===(I=Gn?.cordova)||void 0===I?void 0:I.plugins)||void 0===q?void 0:q.browsertab)||void 0===ye?void 0:ye.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ue("function"==typeof(null===(tn=null===(Pt=null===(nt=Gn?.cordova)||void 0===nt?void 0:nt.plugins)||void 0===Pt?void 0:Pt.browsertab)||void 0===tn?void 0:tn.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ue("function"==typeof(null===(On=null===(Sn=Gn?.cordova)||void 0===Sn?void 0:Sn.InAppBrowser)||void 0===On?void 0:On.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const nt=yield ye._initialize(h);yield nt.initialized(),nt.resetRedirect(),function Bc(){Ki.clear()}(),yield ye._originValidation(h);const Pt=function Nd(y,h,f=null){return{type:h,eventId:f,urlResponse:null,sessionId:Bd(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(h,I,q);yield function Il(y,h){return $c()._set(Vd(y),h)}(h,Pt);const tn=yield function Ia(y,h,f){return Ls.apply(this,arguments)}(h,Pt,f),Sn=yield function na(y){const{cordova:h}=Ns();return new Promise(f=>{h.plugins.browsertab.isAvailable(I=>{let q=null;I?h.plugins.browsertab.openUrl(y):q=h.InAppBrowser.open(y,function bt(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),f(q)})})}(tn);return function oc(y,h,f){return bs.apply(this,arguments)}(h,nt,Sn)})()}_isIframeWebStorageSupported(h,f){throw new Error("Method not implemented.")}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function ku(y){return ta.apply(this,arguments)}(h)),this.originValidationPromises[f]}attachCallbackListeners(h,f){const{universalLinks:I,handleOpenURL:q,BuildInfo:ye}=Ns(),nt=setTimeout((0,l.Z)(function*(){yield Fu(h),f.onEvent(Hd())}),500),Pt=function(){var On=(0,l.Z)(function*(Gn){clearTimeout(nt);const sr=yield Fu(h);let Ta=null;sr&&Gn?.url&&(Ta=function Ld(y,h){var f,I;const q=function h_(y){const h=Nu(y),f=h.link?decodeURIComponent(h.link):void 0,I=Nu(f).link,q=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Nu(q).link||q||I||f||y}(h);if(q.includes("/__/auth/callback")){const ye=Nu(q),nt=ye.firebaseError?function Ud(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(ye.firebaseError)):null,Pt=null===(I=null===(f=nt?.code)||void 0===f?void 0:f.split("auth/"))||void 0===I?void 0:I[1],tn=Pt?Ee(Pt):null;return tn?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:tn,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:q,postBody:null}}return null}(sr,Gn.url)),f.onEvent(Ta||Hd())});return function(sr){return On.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,Pt);const tn=q,Sn=`${ye.packageName.toLowerCase()}://`;Ns().handleOpenURL=function(){var On=(0,l.Z)(function*(Gn){if(Gn.toLowerCase().startsWith(Sn)&&Pt({url:Gn}),"function"==typeof tn)try{tn(Gn)}catch(sr){console.error(sr)}});return function(Gn){return On.apply(this,arguments)}}()}};function Hd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}const tm=1e3;function ll(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function vf(y=(0,O.z$)()){return!("file:"!==ll()&&"ionic:"!==ll()&&"capacitor:"!==ll()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function jd(){try{const y=self.localStorage,h=il();if(y)return y.setItem(h,"1"),y.removeItem(h),!function yf(y=(0,O.z$)()){return function Bi(){return(0,O.w1)()&&11===document?.documentMode}()||function Gc(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return $d()&&(0,O.hl)()}return!1}function $d(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bu(){return(function f_(){return"http:"===ll()||"https:"===ll()}()||(0,O.ru)()||vf())&&!function xi(){return(0,O.b$)()||(0,O.UG)()}()&&jd()&&!$d()}function bf(){return vf()&&typeof document<"u"}function Gd(){return(Gd=(0,l.Z)(function*(){return!!bf()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},tm);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const Bs={LOCAL:"local",NONE:"none",SESSION:"session"},Vu=Ue,Wc="persistence";function Dl(y){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,l.Z)(function*(y){yield y._initializationPromise;const h=xf(),f=be(Wc,y.config.apiKey,y.name);h&&h.setItem(f,y._getPersistence())})).apply(this,arguments)}function xf(){var y;try{return(null===(y=function p_(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const im=Ue;class Vs{constructor(){this.browserResolver=N(sl),this.cordovaResolver=N(Po),this.underlyingResolver=null,this._redirectPersistence=ao,this._completeRedirectFn=Md,this._overrideRedirectResult=Tu}_initialize(h){var f=this;return(0,l.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,f,I,q){var ye=this;return(0,l.Z)(function*(){return yield ye.selectUnderlyingResolver(),ye.assertedUnderlyingResolver._openPopup(h,f,I,q)})()}_openRedirect(h,f,I,q){var ye=this;return(0,l.Z)(function*(){return yield ye.selectUnderlyingResolver(),ye.assertedUnderlyingResolver._openRedirect(h,f,I,q)})()}_isIframeWebStorageSupported(h,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,f)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return bf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return im(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,l.Z)(function*(){if(h.underlyingResolver)return;const f=yield function Ef(){return Gd.apply(this,arguments)}();h.underlyingResolver=f?h.cordovaResolver:h.browserResolver})()}}function Uu(y){return y.unwrap()}function Kc(y){return rm(y)}function rm(y){const{_tokenResponse:h}=y instanceof O.ZR?y.customData:y;if(!h)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Iu.credentialFromResult(y);const f=h.providerId;if(!f||f===K.PASSWORD)return null;let I;switch(f){case K.GOOGLE:I=Ss;break;case K.FACEBOOK:I=Ja;break;case K.GITHUB:I=Do;break;case K.TWITTER:I=Fr;break;default:const{oauthIdToken:q,oauthAccessToken:ye,oauthTokenSecret:nt,pendingToken:Pt,nonce:tn}=h;return ye||nt||q||Pt?Pt?f.startsWith("saml.")?Ms._create(f,Pt):hr._fromParams({providerId:f,signInMethod:f,pendingToken:Pt,idToken:q,accessToken:ye}):new Oi(f).credential({idToken:q,accessToken:ye,rawNonce:tn}):null}return y instanceof O.ZR?I.credentialFromError(y):I.credentialFromResult(y)}function Br(y,h){return h.catch(f=>{throw f instanceof O.ZR&&function m_(y,h){var f;const I=null===(f=h.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new om(y,function Lr(y,h){var f;const I=(0,O.m9)(y),q=h;return Ue(h.customData.operationType,I,"argument-error"),Ue(null===(f=q.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,I,"argument-error"),Zl._fromError(I,q)}(y,h));else if(I){const q=rm(h),ye=h;q&&(ye.credential=q,ye.tenantId=I.tenantId||void 0,ye.email=I.email||void 0,ye.phoneNumber=I.phoneNumber||void 0)}}(y,f),f}).then(f=>{const q=f.user;return{operationType:f.operationType,credential:Kc(f),additionalUserInfo:os(f),user:Da.getOrCreate(q)}})}function Zd(y,h){return Al.apply(this,arguments)}function Al(){return(Al=(0,l.Z)(function*(y,h){const f=yield h;return{verificationId:f.verificationId,confirm:I=>Br(y,f.confirm(I))}})).apply(this,arguments)}class om{constructor(h,f){this.resolver=f,this.auth=function Zc(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Br(Uu(this.auth),this.resolver.resolveSignIn(h))}}class Da{constructor(h){this._delegate=h,this.multiFactor=function Rc(y){const h=(0,O.m9)(y);return bd.has(h)||bd.set(h,Bo._fromUser(h)),bd.get(h)}(h)}static getOrCreate(h){return Da.USER_MAP.has(h)||Da.USER_MAP.set(h,new Da(h)),Da.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var f=this;return(0,l.Z)(function*(){return Br(f.auth,is(f._delegate,h))})()}linkWithPhoneNumber(h,f){var I=this;return(0,l.Z)(function*(){return Zd(I.auth,function Kn(y,h,f){return Id.apply(this,arguments)}(I._delegate,h,f))})()}linkWithPopup(h){var f=this;return(0,l.Z)(function*(){return Br(f.auth,function ni(y,h,f){return Jl.apply(this,arguments)}(f._delegate,h,Vs))})()}linkWithRedirect(h){var f=this;return(0,l.Z)(function*(){return yield Dl(Jn(f.auth)),Td(f._delegate,h,Vs)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var f=this;return(0,l.Z)(function*(){return Br(f.auth,vr(f._delegate,h))})()}reauthenticateWithPhoneNumber(h,f){return Zd(this.auth,function An(y,h,f){return Kt.apply(this,arguments)}(this._delegate,h,f))}reauthenticateWithPopup(h){return Br(this.auth,function jp(y,h,f){return tr.apply(this,arguments)}(this._delegate,h,Vs))}reauthenticateWithRedirect(h){var f=this;return(0,l.Z)(function*(){return yield Dl(Jn(f.auth)),Wp(f._delegate,h,Vs)})()}sendEmailVerification(h){return function _l(y,h){return _a.apply(this,arguments)}(this._delegate,h)}unlink(h){var f=this;return(0,l.Z)(function*(){return yield function Ut(y,h){return Dn.apply(this,arguments)}(f._delegate,h),f})()}updateEmail(h){return function un(y,h){const f=(0,O.m9)(y);return(0,m._isFirebaseServerApp)(f.auth.app)?Promise.reject(ke(f.auth)):ji(f,h,null)}(this._delegate,h)}updatePassword(h){return function Zn(y,h){return ji((0,O.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function wu(y,h){return Dd.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function tt(y,h){return Wt.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,f){return function L(y,h,f){return le.apply(this,arguments)}(this._delegate,h,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Da.USER_MAP=new WeakMap;const Aa=Ue;let co=(()=>{class y{constructor(f,I){if(this.app=f,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:q}=f.options;Aa(q,"invalid-api-key",{appName:f.name}),Aa(q,"invalid-api-key",{appName:f.name});const ye=typeof window<"u"?Vs:void 0;this._delegate=I.initialize({options:{persistence:Yd(q,f.name),popupRedirectResolver:ye}}),this._delegate._updateErrorMap(ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Da.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,I){!function Qr(y,h,f){const I=Jn(y);Ue(I._canInitEmulator,I,"emulator-config-failed"),Ue(/^https?:\/\//.test(h),I,"invalid-emulator-scheme");const q=!!f?.disableWarnings,ye=po(h),{host:nt,port:Pt}=function Ra(y){const h=po(y),f=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!f)return{host:"",port:null};const I=f[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(I);if(q){const ye=q[1];return{host:ye,port:$o(I.substr(ye.length+1))}}{const[ye,nt]=I.split(":");return{host:ye,port:$o(nt)}}}(h);I.config.emulator={url:`${ye}//${nt}${null===Pt?"":`:${Pt}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:nt,port:Pt,protocol:ye.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function fs(){function y(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,f,I)}applyActionCode(f){return function $l(y,h){return pa.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Va(this._delegate,f)}confirmPasswordReset(f,I){return function jl(y,h,f){return Ks.apply(this,arguments)}(this._delegate,f,I)}createUserWithEmailAndPassword(f,I){var q=this;return(0,l.Z)(function*(){return Br(q._delegate,function Ac(y,h,f){return Lo.apply(this,arguments)}(q._delegate,f,I))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function yu(y,h){return ga.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function Tc(y,h){return"EMAIL_SIGNIN"===gs.parseLink(h)?.operation}(0,f)}getRedirectResult(){var f=this;return(0,l.Z)(function*(){Aa(Bu(),f._delegate,"operation-not-supported-in-this-environment");const I=yield function Eo(y,h){return Sd.apply(this,arguments)}(f._delegate,Vs);return I?Br(f._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function yr(y,h){Jn(y)._logFramework(h)}(this._delegate,f)}onAuthStateChanged(f,I,q){const{next:ye,error:nt,complete:Pt}=Kd(f,I,q);return this._delegate.onAuthStateChanged(ye,nt,Pt)}onIdTokenChanged(f,I,q){const{next:ye,error:nt,complete:Pt}=Kd(f,I,q);return this._delegate.onIdTokenChanged(ye,nt,Pt)}sendSignInLinkToEmail(f,I){return function ma(y,h,f){return or.apply(this,arguments)}(this._delegate,f,I)}sendPasswordResetEmail(f,I){return function ml(y,h,f){return el.apply(this,arguments)}(this._delegate,f,I||void 0)}setPersistence(f){var I=this;return(0,l.Z)(function*(){let q;switch(function cl(y,h){Vu(Object.values(Bs).includes(h),y,"invalid-persistence-type"),(0,O.b$)()?Vu(h!==Bs.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?Vu(h===Bs.NONE,y,"unsupported-persistence-type"):$d()?Vu(h===Bs.NONE||h===Bs.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):Vu(h===Bs.NONE||jd(),y,"unsupported-persistence-type")}(I._delegate,f),f){case Bs.SESSION:q=ao;break;case Bs.LOCAL:q=(yield N(Vo)._isAvailable())?Vo:ql;break;case Bs.NONE:q=z;break;default:return de("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(q)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Br(this._delegate,function E(y){return A.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Br(this._delegate,Wi(this._delegate,f))}signInWithCustomToken(f){return Br(this._delegate,function Yo(y,h){return so.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,I){return Br(this._delegate,function xr(y,h,f){return(0,m._isFirebaseServerApp)(y.app)?Promise.reject(ke(y)):Wi((0,O.m9)(y),Ri.credential(h,f)).catch(function(){var I=(0,l.Z)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&fa(y),q});return function(q){return I.apply(this,arguments)}}())}(this._delegate,f,I))}signInWithEmailLink(f,I){return Br(this._delegate,function yd(y,h,f){return gl.apply(this,arguments)}(this._delegate,f,I))}signInWithPhoneNumber(f,I){return Zd(this._delegate,function za(y,h,f){return Ln.apply(this,arguments)}(this._delegate,f,I))}signInWithPopup(f){var I=this;return(0,l.Z)(function*(){return Aa(Bu(),I._delegate,"operation-not-supported-in-this-environment"),Br(I._delegate,function yi(y,h,f){return El.apply(this,arguments)}(I._delegate,f,Vs))})()}signInWithRedirect(f){var I=this;return(0,l.Z)(function*(){return Aa(Bu(),I._delegate,"operation-not-supported-in-this-environment"),yield Dl(I._delegate),r_(I._delegate,f,Vs)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Dc(y,h){return tl.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Bs,y})();function Kd(y,h,f){let I=y;"function"!=typeof y&&({next:I,error:h,complete:f}=y);const q=I;return{next:nt=>q(nt&&Da.getOrCreate(nt)),error:h,complete:f}}function Yd(y,h){const f=function nm(y,h){const f=xf();if(!f)return[];const I=be(Wc,y,h);switch(f.getItem(I)){case Bs.NONE:return[z];case Bs.LOCAL:return[Vo,ao];case Bs.SESSION:return[ao];default:return[]}}(y,h);if(typeof self<"u"&&!f.includes(Vo)&&f.push(Vo),typeof window<"u")for(const I of[ql,ao])f.includes(I)||f.push(I);return f.includes(z)||f.push(z),f}class zu{constructor(){this.providerId="phone",this._delegate=new Iu(Uu(b.Z.auth()))}static credential(h,f){return Iu.credential(h,f)}verifyPhoneNumber(h,f){return this._delegate.verifyPhoneNumber(h,f)}unwrap(){return this._delegate}}zu.PHONE_SIGN_IN_METHOD=Iu.PHONE_SIGN_IN_METHOD,zu.PROVIDER_ID=Iu.PROVIDER_ID;const Or=Ue;class Yc{constructor(h,f,I=b.Z.app()){var q;Or(null===(q=I.options)||void 0===q?void 0:q.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new fn(I.auth(),h,f),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Tl(y){y.INTERNAL.registerComponent(new ie.wA("auth-compat",h=>{const f=h.getProvider("app-compat").getImmediate(),I=h.getProvider("auth");return new co(f,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V_EMAIL_SIGNIN,PASSWORD_RESET:V_PASSWORD_RESET,RECOVER_EMAIL:V_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V_VERIFY_EMAIL}},EmailAuthProvider:Ri,FacebookAuthProvider:Ja,GithubAuthProvider:Do,GoogleAuthProvider:Ss,OAuthProvider:Oi,SAMLAuthProvider:Ko,PhoneAuthProvider:zu,PhoneMultiFactorGenerator:pr,RecaptchaVerifier:Yc,TwitterAuthProvider:Fr,Auth:co,AuthCredential:ro,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.5.13")}(b.Z)},7185:(wt,Ne,_)=>{"use strict";_.d(Ne,{Rh:()=>Ht,_W:()=>kt});var l=_(4650),b=_(7340),m=_(6895),O=_(7579),he=_(1481);const ee=["toast-component",""];function ie(me,Ye){if(1&me){const W=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(W);const R=l.oxw();return l.KtG(R.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function j(me,Ye){if(1&me&&(l.ynx(0),l._uU(1),l.BQk()),2&me){const W=l.oxw(2);l.xp6(1),l.hij("[",W.duplicatesCount+1,"]")}}function K(me,Ye){if(1&me&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,j,2,1,"ng-container",4),l.qZA()),2&me){const W=l.oxw();l.Tol(W.options.titleClass),l.uIk("aria-label",W.title),l.xp6(1),l.hij(" ",W.title," "),l.xp6(1),l.Q6J("ngIf",W.duplicatesCount)}}function Y(me,Ye){if(1&me&&l._UZ(0,"div",7),2&me){const W=l.oxw();l.Tol(W.options.messageClass),l.Q6J("innerHTML",W.message,l.oJD)}}function F(me,Ye){if(1&me&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&me){const W=l.oxw();l.Tol(W.options.messageClass),l.uIk("aria-label",W.message),l.xp6(1),l.hij(" ",W.message," ")}}function V(me,Ye){if(1&me&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&me){const W=l.oxw();l.xp6(1),l.Udp("width",W.width+"%")}}class Me{constructor(Ye,W){this.component=Ye,this.injector=W}attach(Ye,W){return this._attachedHost=Ye,Ye.attach(this,W)}detach(){const Ye=this._attachedHost;if(Ye)return this._attachedHost=void 0,Ye.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ye){this._attachedHost=Ye}}class pe{attach(Ye,W){return this._attachedPortal=Ye,this.attachComponentPortal(Ye,W)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Ye){this._disposeFn=Ye}}class de{constructor(Ye){this._overlayRef=Ye,this.duplicatesCount=0,this._afterClosed=new O.x,this._activate=new O.x,this._manualClose=new O.x,this._resetTimeout=new O.x,this._countDuplicate=new O.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Ye,W){Ye&&this._resetTimeout.next(),W&&this._countDuplicate.next(++this.duplicatesCount)}}class Ee{constructor(Ye,W,ve,R,Se,qe){this.toastId=Ye,this.config=W,this.message=ve,this.title=R,this.toastType=Se,this.toastRef=qe,this._onTap=new O.x,this._onAction=new O.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Ye){this._onAction.next(Ye)}onAction(){return this._onAction.asObservable()}}const ke=new l.OlP("ToastConfig");class Xe extends pe{constructor(Ye,W,ve){super(),this._hostDomElement=Ye,this._componentFactoryResolver=W,this._appRef=ve}attachComponentPortal(Ye,W){const ve=this._componentFactoryResolver.resolveComponentFactory(Ye.component);let R;return R=ve.create(Ye.injector),this._appRef.attachView(R.hostView),this.setDisposeFn(()=>{this._appRef.detachView(R.hostView),R.destroy()}),W?this._hostDomElement.insertBefore(this._getComponentRootNode(R),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(R)),R}_getComponentRootNode(Ye){return Ye.hostView.rootNodes[0]}}let ut=(()=>{class me{constructor(){this._document=(0,l.f3M)(m.K0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const W=this._document.createElement("div");W.classList.add("overlay-container"),W.setAttribute("aria-live","polite"),this._document.body.appendChild(W),this._containerElement=W}}return me.\u0275fac=function(W){return new(W||me)},me.\u0275prov=l.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();class Ue{constructor(Ye){this._portalHost=Ye}attach(Ye,W=!0){return this._portalHost.attach(Ye,W)}detach(){return this._portalHost.detach()}}let ct=(()=>{class me{constructor(){this._overlayContainer=(0,l.f3M)(ut),this._componentFactoryResolver=(0,l.f3M)(l._Vd),this._appRef=(0,l.f3M)(l.z2F),this._document=(0,l.f3M)(m.K0),this._paneElements=new Map}create(W,ve){return this._createOverlayRef(this.getPaneElement(W,ve))}getPaneElement(W="",ve){return this._paneElements.get(ve)||this._paneElements.set(ve,{}),this._paneElements.get(ve)[W]||(this._paneElements.get(ve)[W]=this._createPaneElement(W,ve)),this._paneElements.get(ve)[W]}_createPaneElement(W,ve){const R=this._document.createElement("div");return R.id="toast-container",R.classList.add(W),R.classList.add("toast-container"),ve?ve.getContainerElement().appendChild(R):this._overlayContainer.getContainerElement().appendChild(R),R}_createPortalHost(W){return new Xe(W,this._componentFactoryResolver,this._appRef)}_createOverlayRef(W){return new Ue(this._createPortalHost(W))}}return me.\u0275fac=function(W){return new(W||me)},me.\u0275prov=l.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})(),kt=(()=>{class me{constructor(W,ve,R,Se,qe){this.overlay=ve,this._injector=R,this.sanitizer=Se,this.ngZone=qe,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...W.default,...W.config},W.config.iconClasses&&(this.toastrConfig.iconClasses={...W.default.iconClasses,...W.config.iconClasses})}show(W,ve,R={},Se=""){return this._preBuildNotification(Se,W,ve,this.applyConfig(R))}success(W,ve,R={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",W,ve,this.applyConfig(R))}error(W,ve,R={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",W,ve,this.applyConfig(R))}info(W,ve,R={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",W,ve,this.applyConfig(R))}warning(W,ve,R={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",W,ve,this.applyConfig(R))}clear(W){for(const ve of this.toasts)if(void 0!==W){if(ve.toastId===W)return void ve.toastRef.manualClose()}else ve.toastRef.manualClose()}remove(W){const ve=this._findToast(W);if(!ve||(ve.activeToast.toastRef.close(),this.toasts.splice(ve.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const R=this.toasts[this.currentlyActive].toastRef;R.isInactive()||(this.currentlyActive=this.currentlyActive+1,R.activate())}return!0}findDuplicate(W="",ve="",R,Se){const{includeTitleDuplicates:qe}=this.toastrConfig;for(const Dt of this.toasts)if((!qe||qe&&Dt.title===W)&&Dt.message===ve)return Dt.toastRef.onDuplicate(R,Se),Dt;return null}applyConfig(W={}){return{...this.toastrConfig,...W}}_findToast(W){for(let ve=0;ve<this.toasts.length;ve++)if(this.toasts[ve].toastId===W)return{index:ve,activeToast:this.toasts[ve]};return null}_preBuildNotification(W,ve,R,Se){return Se.onActivateTick?this.ngZone.run(()=>this._buildNotification(W,ve,R,Se)):this._buildNotification(W,ve,R,Se)}_buildNotification(W,ve,R,Se){if(!Se.toastComponent)throw new Error("toastComponent required");const qe=this.findDuplicate(R,ve,this.toastrConfig.resetTimeoutOnDuplicate&&Se.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&R||ve)&&this.toastrConfig.preventDuplicates&&null!==qe)return qe;this.previousToastMessage=ve;let Dt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Dt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const $e=this.overlay.create(Se.positionClass,this.overlayContainer);this.index=this.index+1;let St=ve;ve&&Se.enableHtml&&(St=this.sanitizer.sanitize(l.q3G.HTML,ve));const $t=new de($e),vn=new Ee(this.index,Se,St,R,W,$t),qn=l.zs3.create({providers:[{provide:Ee,useValue:vn}],parent:this._injector}),Tn=new Me(Se.toastComponent,qn),Mn=$e.attach(Tn,Se.newestOnTop);$t.componentInstance=Mn.instance;const Le={toastId:this.index,title:R||"",message:ve||"",toastRef:$t,onShown:$t.afterActivate(),onHidden:$t.afterClosed(),onTap:vn.onTap(),onAction:vn.onAction(),portal:Mn};return Dt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Le.toastRef.activate()})),this.toasts.push(Le),Le}}return me.\u0275fac=function(W){return new(W||me)(l.LFG(ke),l.LFG(ct),l.LFG(l.zs3),l.LFG(he.H7),l.LFG(l.R0b))},me.\u0275prov=l.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})(),lt=(()=>{class me{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(W,ve,R){this.toastrService=W,this.toastPackage=ve,this.ngZone=R,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=ve.message,this.title=ve.title,this.options=ve.config,this.originalTimeout=ve.config.timeOut,this.toastClasses=`${ve.toastType} ${ve.config.toastClass}`,this.sub=ve.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ve.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ve.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ve.toastRef.countDuplicate().subscribe(Se=>{this.duplicatesCount=Se})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const W=(new Date).getTime();this.width=(this.hideTime-W)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(W,ve){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(W),ve)):this.timeout=setTimeout(()=>W(),ve)}outsideInterval(W,ve){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(W),ve)):this.intervalId=setInterval(()=>W(),ve)}runInsideAngular(W){this.ngZone?this.ngZone.run(()=>W()):W()}}return me.\u0275fac=function(W){return new(W||me)(l.Y36(kt),l.Y36(Ee),l.Y36(l.R0b))},me.\u0275cmp=l.Xpm({type:me,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(W,ve){1&W&&l.NdJ("click",function(){return ve.tapToast()})("mouseenter",function(){return ve.stickAround()})("mouseleave",function(){return ve.delayedHideToast()}),2&W&&(l.d8E("@flyInOut",ve.state),l.Tol(ve.toastClasses),l.Udp("display",ve.displayStyle))},standalone:!0,features:[l.jDz],attrs:ee,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(W,ve){1&W&&(l.YNc(0,ie,3,0,"button",0),l.YNc(1,K,3,5,"div",1),l.YNc(2,Y,1,3,"div",2),l.YNc(3,F,2,4,"div",3),l.YNc(4,V,2,2,"div",4)),2&W&&(l.Q6J("ngIf",ve.options.closeButton),l.xp6(1),l.Q6J("ngIf",ve.title),l.xp6(1),l.Q6J("ngIf",ve.message&&ve.options.enableHtml),l.xp6(1),l.Q6J("ngIf",ve.message&&!ve.options.enableHtml),l.xp6(1),l.Q6J("ngIf",ve.options.progressBar))},dependencies:[m.O5],encapsulation:2,data:{animation:[(0,b.X$)("flyInOut",[(0,b.SB)("inactive",(0,b.oB)({opacity:0})),(0,b.SB)("active",(0,b.oB)({opacity:1})),(0,b.SB)("removed",(0,b.oB)({opacity:0})),(0,b.eR)("inactive => active",(0,b.jt)("{{ easeTime }}ms {{ easing }}")),(0,b.eR)("active => removed",(0,b.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),me})();const dn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:lt},jt=(me={})=>(0,l.MR2)([{provide:ke,useValue:{default:dn,config:me}}]);let Ht=(()=>{class me{static forRoot(W={}){return{ngModule:me,providers:[jt(W)]}}}return me.\u0275fac=function(W){return new(W||me)},me.\u0275mod=l.oAB({type:me}),me.\u0275inj=l.cJS({imports:[lt]}),me})()},5861:(wt,Ne,_)=>{"use strict";function l(m,O,he,ee,ie,j,K){try{var Y=m[j](K),F=Y.value}catch(V){return void he(V)}Y.done?O(F):Promise.resolve(F).then(ee,ie)}function b(m){return function(){var O=this,he=arguments;return new Promise(function(ee,ie){var j=m.apply(O,he);function K(F){l(j,ee,ie,K,Y,"next",F)}function Y(F){l(j,ee,ie,K,Y,"throw",F)}K(void 0)})}}_.d(Ne,{Z:()=>b})},7582:(wt,Ne,_)=>{"use strict";function O(Ce,Oe){var Fe={};for(var me in Ce)Object.prototype.hasOwnProperty.call(Ce,me)&&Oe.indexOf(me)<0&&(Fe[me]=Ce[me]);if(null!=Ce&&"function"==typeof Object.getOwnPropertySymbols){var Ye=0;for(me=Object.getOwnPropertySymbols(Ce);Ye<me.length;Ye++)Oe.indexOf(me[Ye])<0&&Object.prototype.propertyIsEnumerable.call(Ce,me[Ye])&&(Fe[me[Ye]]=Ce[me[Ye]])}return Fe}function V(Ce,Oe,Fe,me){return new(Fe||(Fe=Promise))(function(W,ve){function R(Dt){try{qe(me.next(Dt))}catch($e){ve($e)}}function Se(Dt){try{qe(me.throw(Dt))}catch($e){ve($e)}}function qe(Dt){Dt.done?W(Dt.value):function Ye(W){return W instanceof Fe?W:new Fe(function(ve){ve(W)})}(Dt.value).then(R,Se)}qe((me=me.apply(Ce,Oe||[])).next())})}function pe(Ce){return this instanceof pe?(this.v=Ce,this):new pe(Ce)}function de(Ce,Oe,Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,me=Fe.apply(Ce,Oe||[]),W=[];return Ye={},R("next"),R("throw"),R("return",function ve($t){return function(vn){return Promise.resolve(vn).then($t,$e)}}),Ye[Symbol.asyncIterator]=function(){return this},Ye;function R($t,vn){me[$t]&&(Ye[$t]=function(Bn){return new Promise(function(qn,Tn){W.push([$t,Bn,qn,Tn])>1||Se($t,Bn)})},vn&&(Ye[$t]=vn(Ye[$t])))}function Se($t,vn){try{!function qe($t){$t.value instanceof pe?Promise.resolve($t.value.v).then(Dt,$e):St(W[0][2],$t)}(me[$t](vn))}catch(Bn){St(W[0][3],Bn)}}function Dt($t){Se("next",$t)}function $e($t){Se("throw",$t)}function St($t,vn){$t(vn),W.shift(),W.length&&Se(W[0][0],W[0][1])}}function je(Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,Oe=Ce[Symbol.asyncIterator];return Oe?Oe.call(Ce):(Ce=function Ae(Ce){var Oe="function"==typeof Symbol&&Symbol.iterator,Fe=Oe&&Ce[Oe],me=0;if(Fe)return Fe.call(Ce);if(Ce&&"number"==typeof Ce.length)return{next:function(){return Ce&&me>=Ce.length&&(Ce=void 0),{value:Ce&&Ce[me++],done:!Ce}}};throw new TypeError(Oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ce),Fe={},me("next"),me("throw"),me("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe);function me(W){Fe[W]=Ce[W]&&function(ve){return new Promise(function(R,Se){!function Ye(W,ve,R,Se){Promise.resolve(Se).then(function(qe){W({value:qe,done:R})},ve)}(R,Se,(ve=Ce[W](ve)).done,ve.value)})}}}_.d(Ne,{FC:()=>de,KL:()=>je,_T:()=>O,mG:()=>V,qq:()=>pe}),"function"==typeof SuppressedError&&SuppressedError}},wt=>{wt(wt.s=9673)}]);